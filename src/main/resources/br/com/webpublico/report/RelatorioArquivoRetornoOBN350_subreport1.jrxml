<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="RelatorioArquivoRetornoOBN350_subreport1" pageWidth="802" pageHeight="555" orientation="Landscape" columnWidth="802" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0">
	<property name="ireport.zoom" value="5.1784068215896575"/>
	<property name="ireport.x" value="129"/>
	<property name="ireport.y" value="98"/>
	<parameter name="EMITIR_TODOS" class="java.lang.Boolean"/>
	<parameter name="MOV_ERRO" class="java.math.BigDecimal"/>
	<parameter name="MOV_PAGO" class="java.math.BigDecimal"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String"/>
	<queryString>
		<![CDATA[select * from dual]]>
	</queryString>
	<field name="branco" class="java.lang.String">
		<fieldDescription><![CDATA[branco]]></fieldDescription>
	</field>
	<field name="brancos" class="java.lang.String">
		<fieldDescription><![CDATA[brancos]]></fieldDescription>
	</field>
	<field name="cepFavorecido" class="java.lang.String">
		<fieldDescription><![CDATA[cepFavorecido]]></fieldDescription>
	</field>
	<field name="class" class="java.lang.Class">
		<fieldDescription><![CDATA[class]]></fieldDescription>
	</field>
	<field name="codigoAgencaiaBancariaUndGestoraEmitente" class="java.lang.String">
		<fieldDescription><![CDATA[codigoAgencaiaBancariaUndGestoraEmitente]]></fieldDescription>
	</field>
	<field name="codigoAgenciaFavorecisaSemDigito" class="java.lang.String">
		<fieldDescription><![CDATA[codigoAgenciaFavorecisaSemDigito]]></fieldDescription>
	</field>
	<field name="codigoBancoFavorecido" class="java.lang.String">
		<fieldDescription><![CDATA[codigoBancoFavorecido]]></fieldDescription>
	</field>
	<field name="codigoCiaf_GRU" class="java.lang.String">
		<fieldDescription><![CDATA[codigoCiaf_GRU]]></fieldDescription>
	</field>
	<field name="codigoContaCorrentaFavorecidoSemDigito" class="java.lang.String">
		<fieldDescription><![CDATA[codigoContaCorrentaFavorecidoSemDigito]]></fieldDescription>
	</field>
	<field name="codigoDeRetornoOperacao" class="java.lang.String">
		<fieldDescription><![CDATA[codigoDeRetornoOperacao]]></fieldDescription>
	</field>
	<field name="codigoFavorecido" class="java.lang.String">
		<fieldDescription><![CDATA[codigoFavorecido]]></fieldDescription>
	</field>
	<field name="codigoOperacao" class="java.lang.String">
		<fieldDescription><![CDATA[codigoOperacao]]></fieldDescription>
	</field>
	<field name="codigoUnidadeGestoraEmitenteDasObs" class="java.lang.String">
		<fieldDescription><![CDATA[codigoUnidadeGestoraEmitenteDasObs]]></fieldDescription>
	</field>
	<field name="dataReferenciaDaRelacao" class="java.lang.String">
		<fieldDescription><![CDATA[dataReferenciaDaRelacao]]></fieldDescription>
	</field>
	<field name="digitoVerificador" class="java.lang.String">
		<fieldDescription><![CDATA[digitoVerificador]]></fieldDescription>
	</field>
	<field name="enderecoFavorecido" class="java.lang.String">
		<fieldDescription><![CDATA[enderecoFavorecido]]></fieldDescription>
	</field>
	<field name="finalidadePagamentoFUNDEB" class="java.lang.String">
		<fieldDescription><![CDATA[finalidadePagamentoFUNDEB]]></fieldDescription>
	</field>
	<field name="id2" class="java.lang.String">
		<fieldDescription><![CDATA[id2]]></fieldDescription>
	</field>
	<field name="indicadorTipoPagamento" class="java.lang.String">
		<fieldDescription><![CDATA[indicadorTipoPagamento]]></fieldDescription>
	</field>
	<field name="linhas" class="java.lang.String">
		<fieldDescription><![CDATA[linhas]]></fieldDescription>
	</field>
	<field name="municipioFavorecido" class="java.lang.String">
		<fieldDescription><![CDATA[municipioFavorecido]]></fieldDescription>
	</field>
	<field name="nomeFavorecido" class="java.lang.String">
		<fieldDescription><![CDATA[nomeFavorecido]]></fieldDescription>
	</field>
	<field name="numeroBordero" class="java.lang.String">
		<fieldDescription><![CDATA[numeroBordero]]></fieldDescription>
	</field>
	<field name="numeroContaConvenioDV" class="java.lang.String">
		<fieldDescription><![CDATA[numeroContaConvenioDV]]></fieldDescription>
	</field>
	<field name="numeroLancamento" class="java.lang.String">
		<fieldDescription><![CDATA[numeroLancamento]]></fieldDescription>
	</field>
	<field name="numeroMovimento" class="java.lang.String">
		<fieldDescription><![CDATA[numeroMovimento]]></fieldDescription>
	</field>
	<field name="numeroRelacaoExternaQueContasOrdemBancaria" class="java.lang.String">
		<fieldDescription><![CDATA[numeroRelacaoExternaQueContasOrdemBancaria]]></fieldDescription>
	</field>
	<field name="numeroSequencialNoArquivo" class="java.lang.String">
		<fieldDescription><![CDATA[numeroSequencialNoArquivo]]></fieldDescription>
	</field>
	<field name="observacaoOb" class="java.lang.String">
		<fieldDescription><![CDATA[observacaoOb]]></fieldDescription>
	</field>
	<field name="obteveSucesso" class="java.lang.Boolean">
		<fieldDescription><![CDATA[obteveSucesso]]></fieldDescription>
	</field>
	<field name="prefixoDVagenciaParaDebito" class="java.lang.String">
		<fieldDescription><![CDATA[prefixoDVagenciaParaDebito]]></fieldDescription>
	</field>
	<field name="registroObn350TipoCincos" class="java.util.List">
		<fieldDescription><![CDATA[registroObn350TipoCincos]]></fieldDescription>
	</field>
	<field name="registroObn350TipoQuatros" class="java.util.List">
		<fieldDescription><![CDATA[registroObn350TipoQuatros]]></fieldDescription>
	</field>
	<field name="tipoFavorecio" class="java.lang.String">
		<fieldDescription><![CDATA[tipoFavorecio]]></fieldDescription>
	</field>
	<field name="tipoMovimentoArquivoBancario" class="br.com.webpublico.enums.TipoMovimentoArquivoBancario">
		<fieldDescription><![CDATA[tipoMovimentoArquivoBancario]]></fieldDescription>
	</field>
	<field name="ufFavorecido" class="java.lang.String">
		<fieldDescription><![CDATA[ufFavorecido]]></fieldDescription>
	</field>
	<field name="valorLiquidoOrdemBacaria" class="java.lang.String">
		<fieldDescription><![CDATA[valorLiquidoOrdemBacaria]]></fieldDescription>
	</field>
	<field name="valorLiquidoOrdemBacariaConvertido" class="java.lang.String">
		<fieldDescription><![CDATA[valorLiquidoOrdemBacariaConvertido]]></fieldDescription>
	</field>
	<field name="valorLiquidoOrdemBacariaParaRelatorio" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[valorLiquidoOrdemBacariaParaRelatorio]]></fieldDescription>
	</field>
	<field name="zeros" class="java.lang.String">
		<fieldDescription><![CDATA[zeros]]></fieldDescription>
	</field>
	<field name="registrosObn350TipoTres" class="java.util.List">
		<fieldDescription><![CDATA[registrosObn350TipoTres]]></fieldDescription>
	</field>
	<variable name="QTDE_MOV" class="java.lang.Integer" resetType="Group" resetGroup="Ordem" calculation="Count">
		<variableExpression><![CDATA[$F{numeroMovimento}]]></variableExpression>
	</variable>
	<variable name="VALOR_MOV" class="java.math.BigDecimal" resetType="Group" resetGroup="Ordem" calculation="Sum">
		<variableExpression><![CDATA[$F{valorLiquidoOrdemBacariaParaRelatorio}]]></variableExpression>
	</variable>
	<variable name="VALORTOTAL_MOV" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{valorLiquidoOrdemBacariaParaRelatorio}]]></variableExpression>
	</variable>
	<variable name="QTDETOTAL_MOV" class="java.lang.Integer" calculation="Count">
		<variableExpression><![CDATA[$F{numeroMovimento}]]></variableExpression>
	</variable>
	<group name="Ordem">
		<groupExpression><![CDATA[$F{numeroRelacaoExternaQueContasOrdemBancaria}]]></groupExpression>
		<groupHeader>
			<band height="12">
				<printWhenExpression><![CDATA[$P{EMITIR_TODOS} ? true : !$F{obteveSucesso} ? true : false]]></printWhenExpression>
				<textField isBlankWhenNull="true">
					<reportElement x="10" y="1" width="175" height="10" isRemoveLineWhenBlank="true">
						<printWhenExpression><![CDATA[$P{EMITIR_TODOS} ? true : !$F{obteveSucesso} ? true : false]]></printWhenExpression>
					</reportElement>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial" size="8" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA["Ordem Bancária: " + $F{numeroRelacaoExternaQueContasOrdemBancaria}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="17">
				<printWhenExpression><![CDATA[$P{EMITIR_TODOS} ? true : !$F{obteveSucesso} ? true : false]]></printWhenExpression>
				<line>
					<reportElement x="18" y="1" width="768" height="1"/>
				</line>
				<line>
					<reportElement x="18" y="12" width="768" height="1"/>
				</line>
				<textField>
					<reportElement x="100" y="2" width="31" height="10"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Arial" size="8" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{QTDE_MOV}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="18" y="2" width="82" height="10"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial" size="8"/>
					</textElement>
					<text><![CDATA[Qtde de Movimentos:]]></text>
				</staticText>
				<staticText>
					<reportElement x="149" y="2" width="103" height="10"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Arial" size="8"/>
					</textElement>
					<text><![CDATA[Total:]]></text>
				</staticText>
				<textField pattern="¤ #,##0.00">
					<reportElement x="252" y="2" width="80" height="10"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Arial" size="8" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{VALOR_MOV}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<detail>
		<band height="15" splitType="Stretch">
			<printWhenExpression><![CDATA[$P{EMITIR_TODOS} ? true : !$F{obteveSucesso} ? true : false]]></printWhenExpression>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="187" y="0" width="60" height="10" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[$P{EMITIR_TODOS} ? true : !$F{obteveSucesso} ? true : false]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{dataReferenciaDaRelacao}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="358" y="0" width="428" height="10" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[$P{EMITIR_TODOS} ? true : !$F{obteveSucesso} ? true : false]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{obteveSucesso} ? "PAGO" : "ERRO: " + $F{observacaoOb}]]></textFieldExpression>
			</textField>
			<textField pattern="R$ #,##0.00" isBlankWhenNull="true">
				<reportElement x="252" y="0" width="80" height="10" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[$P{EMITIR_TODOS} ? true : !$F{obteveSucesso} ? true : false]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{valorLiquidoOrdemBacariaConvertido}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="98" y="0" width="60" height="10" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[$P{EMITIR_TODOS} ? true : !$F{obteveSucesso} ? true : false]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{numeroMovimento}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="18" y="0" width="80" height="10" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[$P{EMITIR_TODOS} ? true : !$F{obteveSucesso} ? true : false]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tipoMovimentoArquivoBancario}.getDescricao()]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement positionType="Float" x="29" y="12" width="757" height="1" isRemoveLineWhenBlank="true"/>
				<subreportParameter name="EMITIR_TODOS">
					<subreportParameterExpression><![CDATA[$P{EMITIR_TODOS}]]></subreportParameterExpression>
				</subreportParameter>
				<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{registroObn350TipoQuatros})]]></dataSourceExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "RelatorioArquivoRetornoOBN350_guiaTipoQuatro.jasper"]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement positionType="Float" x="29" y="14" width="757" height="1" isRemoveLineWhenBlank="true"/>
				<subreportParameter name="EMITIR_TODOS">
					<subreportParameterExpression><![CDATA[$P{EMITIR_TODOS}]]></subreportParameterExpression>
				</subreportParameter>
				<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{registroObn350TipoCincos})]]></dataSourceExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "RelatorioArquivoRetornoOBN350_guiaTipoCinco.jasper"]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement positionType="Float" x="29" y="10" width="757" height="1" isRemoveLineWhenBlank="true"/>
				<subreportParameter name="EMITIR_TODOS">
					<subreportParameterExpression><![CDATA[$P{EMITIR_TODOS}]]></subreportParameterExpression>
				</subreportParameter>
				<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{registrosObn350TipoTres})]]></dataSourceExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "RelatorioArquivoRetornoOBN350_guiaTipoTres.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</detail>
	<summary>
		<band height="33">
			<textField pattern="¤ #,##0.00">
				<reportElement x="252" y="22" width="80" height="10"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{VALORTOTAL_MOV}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="149" y="22" width="103" height="10"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<text><![CDATA[Somatória dos Movimentos: ]]></text>
			</staticText>
			<textField>
				<reportElement x="100" y="22" width="31" height="10"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{QTDETOTAL_MOV}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="18" y="22" width="82" height="10"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<text><![CDATA[Total de Movimentos: ]]></text>
			</staticText>
			<line>
				<reportElement x="0" y="32" width="802" height="1"/>
			</line>
			<textField isBlankWhenNull="false">
				<reportElement x="100" y="12" width="31" height="10"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{MOV_ERRO}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="100" y="2" width="31" height="10"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{MOV_PAGO}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="18" y="2" width="82" height="10"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<text><![CDATA[Total Mov. Pagos: ]]></text>
			</staticText>
			<staticText>
				<reportElement x="18" y="12" width="82" height="10"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<text><![CDATA[Total Mov. com Erros:]]></text>
			</staticText>
		</band>
	</summary>
</jasperReport>
