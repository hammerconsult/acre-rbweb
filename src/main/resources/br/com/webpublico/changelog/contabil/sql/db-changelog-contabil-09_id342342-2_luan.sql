DECLARE
texto CLOB := '{"consulta":"select \r\ncp.descricao, \r\nto_char(cp.iniciovigencia, ''dd/MM/yyyy'') as iniciovigencia, \r\nto_char(cp.finalvigencia, ''dd/MM/yyyy'') as finalvigencia\r\nfrom CalamidadePublica cp \r\nwhere cp.abreviacao = ''COVID''\r\n$WHERE","count":"select count(1) \r\nfrom CalamidadePublica cp \r\nwhere cp.abreviacao = ''COVID''\r\n$WHERE","totalRegistros":1,"fields":[{"posicao":1,"descricao":"Descrição","columnName":"DESCRICAO","columnValue":"DESCRICAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":2,"descricao":"Inicio de vigência","columnName":"INICIOVIGENCIA","columnValue":"INICIOVIGENCIA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"Fim de vigência","columnName":"FINALVIGENCIA","columnValue":"FINALVIGENCIA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false}],"pesquisaveis":[],';
    textoTabs CLOB := '"tabs":[{"titulo":"Contratações","consulta":"select\r\n    c.numeroContrato as numeroContrato,\r\n    c.numeroProcesso as numeroProcesso,\r\n    ex.ano as exercicio,\r\n    formatacpfcnpj(coalesce(pf.cpf, pj.cnpj)) as cpfCnpj,\r\n    coalesce(pf.nome, pj.razaosocial) as nomeRazao,\r\n    c.objeto as objeto,\r\n    trunc(c.dataAssinatura) as dataAssinatura,\r\n    coalesce(dl.modalidade, rpe.modalidadeCarona, l.modalidadeLicitacao, cv.modalidade) as modalidade,\r\n    vw.descricao as secretaria,\r\n    c.valorTotal as valor,\r\n    c.terminoVigenciaAtual as prazoVigencia,\r\n    c.localEntrega as localEntrega,\r\n    case when dl.id is not null\r\n        then ''Dispensa/Inexigibilidade nº '' || dl.numeroDaDispensa || ''/'' ||dlEx.ano || '' - '' || dl.resumoDoObjeto\r\n        when rpe.id is not null\r\n        then ''Adesão à Ata de Registro de Preço Externo nº '' || rpe.numeroRegistro || ''/'' ||rpeEx.ano || '' - '' || rpe.objeto\r\n        when l.id is not null\r\n        then ''Licitação nº '' || l.numeroLicitacao || ''/'' ||lEx.ano || '' - '' || l.resumoDoObjeto\r\n     else '' '' end as processo,\r\n    coalesce(obj.descricao, obj_ise.descricao, obj_icv.descricao) as item,\r\n    ic.codigoCmed as registroAnvisa,\r\n    cpc.situacao as statusContratacao,\r\n    ic.quantidadeTotalContrato as quantidade,\r\n    ic.valorUnitario as valorUnitario,\r\n    ic.valorTotal as valorTotal\r\nfrom CalamidadePublica cp\r\n    inner join CalamidadePublicaContrato cpc on cpc.calamidadepublica_id = cp.id\r\n    inner join Contrato c on cpc.contrato_id = c.id\r\n    inner join exercicio ex on c.exercicioContrato_id = ex.id\r\n    inner join UnidadeContrato uc on uc.contrato_id = c.id\r\n    inner join vwhierarquiaadministrativa vw on vw.subordinada_id = uc.unidadeAdministrativa_id\r\n    inner join ItemContrato ic on ic.contrato_id = c.id\r\n    left join pessoafisica pf on c.contratado_id = pf.id\r\n    left join pessoajuridica pj on c.contratado_id = pj.id\r\n    left join CONDISPENSALICITACAO cdl on cdl.contrato_id = c.id\r\n    left join DispensaDeLicitacao dl on cdl.dispensaDeLicitacao_id = dl.id\r\n    left join exercicio dlEx on dl.exercicioDaDispensa_id = dlEx.id\r\n    left join CONREGPRECOEXTERNO crpe on crpe.contrato_id = c.id\r\n    left join REGISTROSOLMATEXT rpe on crpe.REGSOLMATEXT_ID = rpe.id\r\n    left join exercicio rpeEx on rpe.exercicioRegistro_id = rpeEx.id\r\n    left join CONLICITACAO cl on cl.contrato_id = c.id\r\n    left join licitacao l on cl.licitacao_id = l.id\r\n    left join exercicio lEx on l.exercicio_id = lEx.id\r\n    left join ContratosVigente cv on c.id = cv.contrato_id\r\n    left join itemcontratoitempropfornec icpf on ic.id = icpf.itemcontrato_id\r\n    left join itemcontratoitemirp iirp on iirp.itemcontrato_id = ic.id\r\n    left join itemcontratoadesaoataint iata on iata.itemcontrato_id = ic.id\r\n    left join itempropfornec ipf on coalesce(icpf.itempropostafornecedor_id, iirp.itempropostafornecedor_id, iata.itempropostafornecedor_id) = ipf.id\r\n    left join itemcontratoitempropdisp icpd on ic.id = icpd.itemcontrato_id\r\n    left join itempropostafornedisp ipfd on icpd.itempropfornecdispensa_id = ipfd.id\r\n    left join itemprocessodecompra ipc on coalesce(ipf.itemprocessodecompra_id, ipfd.itemprocessodecompra_id) = ipc.id\r\n    left join itemsolicitacao its on ipc.itemsolicitacaomaterial_id = its.id\r\n    left join itemsolicitacaolista itsl on itsl.itemsolicitacao_id = its.id\r\n    left join listadepreco lp on itsl.listadepreco_id = lp.id\r\n    left join itemsolicitacaoservico itss on itss.itemsolicitacao_id = its.id\r\n    left join servicocompravel sc on itss.servicocompravel_id = sc.id\r\n    left join itemsolicitacaomaterial itsm on itsm.itemsolicitacao_id = its.id\r\n    left join objetocompra obj on obj.id = itsm.objetocompra_id\r\n    left join itemcontratoitemsolext icse on ic.id = icse.itemcontrato_id\r\n    left join itemsolicitacaoexterno ise on icse.itemsolicitacaoexterno_id = ise.id\r\n    left join objetocompra obj_ise on ise.objetocompra_id = obj_ise.id\r\n    left join itemcontratovigente icv on ic.id = icv.itemcontrato_id\r\n    left join itemcotacao itcot on itcot.id = icv.itemcotacao_id\r\n    left join objetocompra obj_icv on obj_icv.id = itcot.objetocompra_id\r\nwhere cp.abreviacao = ''COVID''\r\n  and trunc(c.terminoVigencia) between trunc(uc.iniciovigencia) and coalesce(trunc(uc.fimvigencia), trunc(c.terminoVigencia))\r\n  and trunc(c.terminoVigencia) between trunc(vw.iniciovigencia) and coalesce(trunc(vw.fimvigencia), trunc(c.terminoVigencia))\r\n$WHERE","count":"select count(1) from (\r\nselect\r\n    c.numeroContrato as numeroContrato,\r\n    c.numeroProcesso as numeroProcesso,\r\n    ex.ano as exercicio,\r\n    formatacpfcnpj(coalesce(pf.cpf, pj.cnpj)) as cpfCnpj,\r\n    coalesce(pf.nome, pj.razaosocial) as nomeRazao,\r\n    c.objeto as objeto,\r\n    trunc(c.dataAssinatura) as dataAssinatura,\r\n    coalesce(dl.modalidade, rpe.modalidadeCarona, l.modalidadeLicitacao, cv.modalidade) as modalidade,\r\n    vw.descricao as secretaria,\r\n    c.valorTotal as valor,\r\n    c.terminoVigenciaAtual as prazoVigencia,\r\n    c.localEntrega as localEntrega,\r\n    case when dl.id is not null\r\n        then ''Dispensa/Inexigibilidade nº '' || dl.numeroDaDispensa || ''/'' ||dlEx.ano || '' - '' || dl.resumoDoObjeto\r\n        when rpe.id is not null\r\n        then ''Adesão à Ata de Registro de Preço Externo nº '' || rpe.numeroRegistro || ''/'' ||rpeEx.ano || '' - '' || rpe.objeto\r\n        when l.id is not null\r\n        then ''Licitação nº '' || l.numeroLicitacao || ''/'' ||lEx.ano || '' - '' || l.resumoDoObjeto\r\n     else '''' end as processo,\r\n    coalesce(obj.descricao, obj_ise.descricao, obj_icv.descricao) as item,\r\n    ic.codigoCmed as registroAnvisa,\r\n    cpc.situacao as statusContratacao,\r\n    ic.quantidadeTotalContrato as quantidade,\r\n    ic.valorUnitario as valorUnitario,\r\n    ic.valorTotal as valorTotal\r\nfrom CalamidadePublica cp\r\n    inner join CalamidadePublicaContrato cpc on cpc.calamidadepublica_id = cp.id\r\n    inner join Contrato c on cpc.contrato_id = c.id\r\n    inner join exercicio ex on c.exercicioContrato_id = ex.id\r\n    inner join UnidadeContrato uc on uc.contrato_id = c.id\r\n    inner join vwhierarquiaadministrativa vw on vw.subordinada_id = uc.unidadeAdministrativa_id\r\n    inner join ItemContrato ic on ic.contrato_id = c.id\r\n    left join pessoafisica pf on c.contratado_id = pf.id\r\n    left join pessoajuridica pj on c.contratado_id = pj.id\r\n    left join CONDISPENSALICITACAO cdl on cdl.contrato_id = c.id\r\n    left join DispensaDeLicitacao dl on cdl.dispensaDeLicitacao_id = dl.id\r\n    left join exercicio dlEx on dl.exercicioDaDispensa_id = dlEx.id\r\n    left join CONREGPRECOEXTERNO crpe on crpe.contrato_id = c.id\r\n    left join REGISTROSOLMATEXT rpe on crpe.REGSOLMATEXT_ID = rpe.id\r\n    left join exercicio rpeEx on rpe.exercicioRegistro_id = rpeEx.id\r\n    left join CONLICITACAO cl on cl.contrato_id = c.id\r\n    left join licitacao l on cl.licitacao_id = l.id\r\n    left join exercicio lEx on l.exercicio_id = lEx.id\r\n    left join ContratosVigente cv on c.id = cv.contrato_id\r\n    left join itemcontratoitempropfornec icpf on ic.id = icpf.itemcontrato_id\r\n    left join itemcontratoitemirp iirp on iirp.itemcontrato_id = ic.id\r\n    left join itemcontratoadesaoataint iata on iata.itemcontrato_id = ic.id\r\n    left join itempropfornec ipf on coalesce(icpf.itempropostafornecedor_id, iirp.itempropostafornecedor_id, iata.itempropostafornecedor_id) = ipf.id\r\n    left join itemcontratoitempropdisp icpd on ic.id = icpd.itemcontrato_id\r\n    left join itempropostafornedisp ipfd on icpd.itempropfornecdispensa_id = ipfd.id\r\n    left join itemprocessodecompra ipc on coalesce(ipf.itemprocessodecompra_id, ipfd.itemprocessodecompra_id) = ipc.id\r\n    left join itemsolicitacao its on ipc.itemsolicitacaomaterial_id = its.id\r\n    left join itemsolicitacaolista itsl on itsl.itemsolicitacao_id = its.id\r\n    left join listadepreco lp on itsl.listadepreco_id = lp.id\r\n    left join itemsolicitacaoservico itss on itss.itemsolicitacao_id = its.id\r\n    left join servicocompravel sc on itss.servicocompravel_id = sc.id\r\n    left join itemsolicitacaomaterial itsm on itsm.itemsolicitacao_id = its.id\r\n    left join objetocompra obj on obj.id = itsm.objetocompra_id\r\n    left join itemcontratoitemsolext icse on ic.id = icse.itemcontrato_id\r\n    left join itemsolicitacaoexterno ise on icse.itemsolicitacaoexterno_id = ise.id\r\n    left join objetocompra obj_ise on ise.objetocompra_id = obj_ise.id\r\n    left join itemcontratovigente icv on ic.id = icv.itemcontrato_id\r\n    left join itemcotacao itcot on itcot.id = icv.itemcotacao_id\r\n    left join objetocompra obj_icv on obj_icv.id = itcot.objetocompra_id\r\nwhere cp.abreviacao = ''COVID''\r\n  and trunc(c.terminoVigencia) between trunc(uc.iniciovigencia) and coalesce(trunc(uc.fimvigencia), trunc(c.terminoVigencia))\r\n  and trunc(c.terminoVigencia) between trunc(vw.iniciovigencia) and coalesce(trunc(vw.fimvigencia), trunc(c.terminoVigencia))\r\n$WHERE\r\n)","totalRegistros":null,"pesquisaveis":[{"descricao":"Status de Contratações","columnName":"cpc.situacao","columnValue":null,"tipo":"ENUM","operacaoPadrao":null,"tipoEnum":"br.com.webpublico.enums.SituacaoContratoCalamidade","valorPadrao":[null,"ATRASO","INEXECUCAO_TOTAL","INEXECUCAO_PARCIAIS","CONFORME"]}],"fields":[{"posicao":1,"descricao":"Número do Contrato","columnName":"NUMEROCONTRATO","columnValue":"NUMEROCONTRATO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":2,"descricao":"Número do Processo","columnName":"NUMEROPROCESSO","columnValue":"NUMEROPROCESSO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"INTEGER","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"Exercício","columnName":"EXERCICIO","columnValue":"EXERCICIO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"INTEGER","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":4,"descricao":"CPF/CNPJ","columnName":"CPFCNPJ","columnValue":"CPFCNPJ","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":5,"descricao":"Nome","columnName":"NOMERAZAO","columnValue":"NOMERAZAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":{"chaveDestino":"pessoa-ver","columnOrigem":"NOMERAZAO","columnDestino":"coalesce(pf.nome, pj.razaosocial)"},"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":6,"descricao":"Objeto","columnName":"OBJETO","columnValue":"OBJETO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":7,"descricao":"Data de Assinatura","columnName":"DATAASSINATURA","columnValue":"DATAASSINATURA","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":8,"descricao":"Modalidade","columnName":"MODALIDADE","columnValue":"MODALIDADE","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.ModalidadeLicitacao","valorPadrao":[null,"CONVITE","TOMADA_PRECO","CONCORRENCIA_PUBLICA","CONCURSO","PREGAO","DISPENSA_LICITACAO","INEXIGIBILIDADE","RDC"],"escondido":false},{"posicao":9,"descricao":"Secretaria","columnName":"SECRETARIA","columnValue":"SECRETARIA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":10,"descricao":"Valor","columnName":"VALOR","columnValue":"VALOR","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":11,"descricao":"Prazo de Vigência","columnName":"PRAZOVIGENCIA","columnValue":"PRAZOVIGENCIA","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":12,"descricao":"Local Entrega/Execução","columnName":"LOCALENTREGA","columnValue":"LOCALENTREGA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":13,"descricao":"Processo","columnName":"PROCESSO","columnValue":"PROCESSO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":14,"descricao":"Item","columnName":"ITEM","columnValue":"ITEM","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":15,"descricao":"Registro na Anvisa","columnName":"REGISTROANVISA","columnValue":"REGISTROANVISA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":16,"descricao":"Status de Contratações","columnName":"statusContratacao","columnValue":"statusContratacao","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.SituacaoContratoCalamidade","valorPadrao":[null,"ATRASO","INEXECUCAO_TOTAL","INEXECUCAO_PARCIAIS","CONFORME"],"escondido":false},{"posicao":17,"descricao":"Quantidade","columnName":"QUANTIDADE","columnValue":"QUANTIDADE","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":18,"descricao":"Valor Unitário","columnName":"VALORUNITARIO","columnValue":"VALORUNITARIO","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":19,"descricao":"Valor Total","columnName":"VALORTOTAL","columnValue":"VALORTOTAL","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false}]},{"titulo":"Recursos Financeiros","consulta":"select\r\n    case when cpr.tipo = ''INTERNA'' THEN vw.descricao else pjUe.razaosocial end as orgaoEntidadeTransferidor,\r\n    fonte.codigo || '' - '' || fonte.descricao as fonte,\r\n    cpr.valor as valor,\r\n    cpr.dataRecebimento as dataRecebimento,\r\n    cpr.banco as banco,\r\n    cpr.agencia as agencia,\r\n    cpr.contaCorrente as contaCorrente,\r\n    cpr.valorDisponibilizado as valorDisponibilizado\r\nfrom CalamidadePublica cp\r\n    inner join CalamidadePublicaRecurso cpr on cpr.calamidadepublica_id = cp.id\r\n    inner join fonteDeRecursos fonte on fonte.id = cpr.fonteDeRecursos_id\r\n    left join vwhierarquiaorcamentaria vw on vw.subordinada_id = cpr.unidadeOrganizacional_id\r\n                                         and sysdate between trunc(vw.iniciovigencia) and coalesce(trunc(vw.fimvigencia), sysdate)\r\n    left join UnidadeExterna ue on ue.id = cpr.unidadeExterna_id\r\n    left join pessoajuridica pjUe on pjUe.id = ue.pessoaJuridica_id\r\nwhere cp.abreviacao = ''COVID''\r\n$WHERE","count":"select count(1) \r\nfrom CalamidadePublica cp\r\n    inner join CalamidadePublicaRecurso cpr on cpr.calamidadepublica_id = cp.id\r\n    inner join fonteDeRecursos fonte on fonte.id = cpr.fonteDeRecursos_id\r\n    left join vwhierarquiaorcamentaria vw on vw.subordinada_id = cpr.unidadeOrganizacional_id\r\n                                         and sysdate between trunc(vw.iniciovigencia) and coalesce(trunc(vw.fimvigencia), sysdate)\r\n    left join UnidadeExterna ue on ue.id = cpr.unidadeExterna_id\r\n    left join pessoajuridica pjUe on pjUe.id = ue.pessoaJuridica_id\r\nwhere cp.abreviacao = ''COVID''\r\n$WHERE","totalRegistros":null,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Orgão/Entidade Transferidor","columnName":"ORGAOENTIDADETRANSFERIDOR","columnValue":"ORGAOENTIDADETRANSFERIDOR","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":2,"descricao":"Fonte de Recurso","columnName":"FONTE","columnValue":"FONTE","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":{"chaveDestino":"fonte-de-recurso-ver","columnOrigem":"FONTE","columnDestino":"fonte.codico || '' - '' || fonte.descricao"},"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"Valor (R$)","columnName":"VALOR","columnValue":"VALOR","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":4,"descricao":"Data","columnName":"DATARECEBIMENTO","columnValue":"DATARECEBIMENTO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":5,"descricao":"Banco","columnName":"BANCO","columnValue":"BANCO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":6,"descricao":"Agência","columnName":"AGENCIA","columnValue":"AGENCIA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":7,"descricao":"Conta Corrente","columnName":"CONTACORRENTE","columnValue":"CONTACORRENTE","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":8,"descricao":"Valor Disponibilizado","columnName":"VALORDISPONIBILIZADO","columnValue":"VALORDISPONIBILIZADO","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false}]},{"titulo":"Atos Legais","consulta":"select\r\n    ato.propositoAtoLegal as objeto,\r\n    ato.tipoAtoLegal as tipo,\r\n    ato.numero as epigrafe,\r\n    eg.nome as esferaGoverno,\r\n    vp.nome as veiculoDePublicacao,\r\n    ato.dataPublicacao as dataPublicacao,\r\n    ex.ano as exercicio,\r\n    case when ato.descricaoConformeDo is not null then ato.descricaoConformeDo\r\n         else ''Não foi informada a descriçao conforme diário oficial para este ato legal.'' end as conformeDiarioOficial\r\nfrom CalamidadePublica cp\r\n         inner join CalamidadePublicaAtoLegal cpat on cpat.calamidadepublica_id = cp.id\r\n         inner join atolegal ato on cpat.atolegal_id = ato.id\r\n         inner join exercicio ex on ato.exercicio_id = ex.id\r\n         left join esferaGoverno eg on ato.esferaGoverno_id = eg.id\r\n         left join VeiculoDePublicacao vp on ato.veiculoDePublicacao_id = vp.id\r\nwhere cp.abreviacao = ''COVID''","count":"select count(1) \r\nfrom CalamidadePublica cp\r\n         inner join CalamidadePublicaAtoLegal cpat on cpat.calamidadepublica_id = cp.id\r\n         inner join atolegal ato on cpat.atolegal_id = ato.id\r\n         inner join exercicio ex on ato.exercicio_id = ex.id\r\n         left join esferaGoverno eg on ato.esferaGoverno_id = eg.id\r\n         left join VeiculoDePublicacao vp on ato.veiculoDePublicacao_id = vp.id\r\nwhere cp.abreviacao = ''COVID''","totalRegistros":null,"pesquisaveis":[{"descricao":"Tema","columnName":"ato.propositoAtoLegal","columnValue":null,"tipo":"ENUM","operacaoPadrao":null,"tipoEnum":"br.com.webpublico.enums.PropositoAtoLegal","valorPadrao":[null,"ORCAMENTO","ALTERACAO_ORCAMENTARIA","RESERVA_DOTACAO","DIRETRIZES_ORCAMENTARIAS","PPA","OUTROS","ATO_DE_PESSOAL","ATO_DE_CARGO","PROGRMACAO_ORACMENTARIA","COMISSAO","TRIBUTARIO","OFICIO_BCE","CONCESSAO_BENEFICIO","BENEFICIO_PREVIDENCIARIO","CONVENIO","ATO_LEGAL_CONCESSAO_DIARIA","ATO_LEGAL_PRECATORIO","ATO_LEGAL_REPASSE","ATO_LEGAL_PESSOAL","ATO_LEGAL_PLANO_MUNICIPAL","EDUCACAO","CULTURA","HABITACAO","SANEAMENTO","SAUDE","TRANSPORTE_PUBLICO","SEGURANCA","DESENVOLVIMENTO_SUSTENTAVEL","GESTAO_URBANA","CONTRATACOES_EMERGENCIAIS","DOACOES","MEDIDAS_FISCAIS","ISOLAMENTO_SOCIAL","POLITICA_SOCIAL","SERVICO_ESSENCIAIS"]}],"fields":[{"posicao":1,"descricao":"Objeto","columnName":"objeto","columnValue":"objeto","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.PropositoAtoLegal","valorPadrao":[null,"ORCAMENTO","ALTERACAO_ORCAMENTARIA","RESERVA_DOTACAO","DIRETRIZES_ORCAMENTARIAS","PPA","OUTROS","ATO_DE_PESSOAL","ATO_DE_CARGO","PROGRMACAO_ORACMENTARIA","COMISSAO","TRIBUTARIO","OFICIO_BCE","CONCESSAO_BENEFICIO","BENEFICIO_PREVIDENCIARIO","CONVENIO","ATO_LEGAL_CONCESSAO_DIARIA","ATO_LEGAL_PRECATORIO","ATO_LEGAL_REPASSE","ATO_LEGAL_PESSOAL","ATO_LEGAL_PLANO_MUNICIPAL","EDUCACAO","CULTURA","HABITACAO","SANEAMENTO","SAUDE","TRANSPORTE_PUBLICO","SEGURANCA","DESENVOLVIMENTO_SUSTENTAVEL","GESTAO_URBANA","CONTRATACOES_EMERGENCIAIS","DOACOES","MEDIDAS_FISCAIS","ISOLAMENTO_SOCIAL","POLITICA_SOCIAL","SERVICO_ESSENCIAIS"],"escondido":false},{"posicao":2,"descricao":"Tipo","columnName":"tipo","columnValue":"tipo","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.TipoAtoLegal","valorPadrao":[null,"DECRETO","PORTARIA","RESOLUCAO","CIRCULAR","DESPACHO","EMENDA","PROJETO_DE_LEI","OFICIO","PARECER","PROCESSO","ATESTADO","MEMORANDO","MEDIDA_PROVISORIA","LEI_COMPLEMENTAR","LEI_ORDINARIA","LEI_ORGANICA","REGIMENTO_INTERNO","TERMO_POSSE","ORIENTACAO_TECNICA","RECOMENDACAO","INSTRUCAO_NORMATIVA","RELATORIO","AUTOGRAFO","LEGISLATIVO","CONTROLE_EXTERNO"],"escondido":false},{"posicao":3,"descricao":"Epígrafe","columnName":"epigrafe","columnValue":"epigrafe","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":4,"descricao":"Esfera de Governo","columnName":"esferaGoverno","columnValue":"esferaGoverno","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":5,"descricao":"Veículo de Publicação","columnName":"veiculoDePublicacao","columnValue":"veiculoDePublicacao","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":6,"descricao":"Data de Publicação","columnName":"dataPublicacao","columnValue":"dataPublicacao","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":7,"descricao":"Exercício","columnName":"exercicio","columnValue":"exercicio","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"INTEGER","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":8,"descricao":"Conforme Diário Oficial","columnName":"conformeDiarioOficial","columnValue":"conformeDiarioOficial","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false}]},{"titulo":"Doações Recebidas","consulta":"select\r\n    cpbs.descricao as descricao,\r\n    um.descricao as unidadeMedida,\r\n    cpbs.quantidade as quantidade,\r\n    vw.descricao as orgao,\r\n    cpbs.pessoa as entidadeTransferidor\r\nfrom CalamidadePublica cp\r\n    inner join CALAMIDADEPUBLICABEMSERV cpbs on cpbs.calamidadepublica_id = cp.id\r\n    inner join unidadeMedida um on cpbs.unidadeMedida_id = um.id\r\n    inner join vwhierarquiaorcamentaria vw on cpbs.unidadeOrganizacional_id = vw.subordinada_id\r\nwhere sysdate between vw.iniciovigencia and coalesce(vw.fimvigencia, sysdate)\r\n  and cp.abreviacao = ''COVID''","count":"select count(1) \r\nfrom CalamidadePublica cp\r\n    inner join CALAMIDADEPUBLICABEMSERV cpbs on cpbs.calamidadepublica_id = cp.id\r\n    inner join unidadeMedida um on cpbs.unidadeMedida_id = um.id\r\n    inner join vwhierarquiaorcamentaria vw on cpbs.unidadeOrganizacional_id = vw.subordinada_id\r\nwhere sysdate between vw.iniciovigencia and coalesce(vw.fimvigencia, sysdate)\r\n  and cp.abreviacao = ''COVID''","totalRegistros":null,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Descrição","columnName":"descricao","columnValue":"descricao","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":2,"descricao":"Unidade de Medida","columnName":"unidadeMedida","columnValue":"unidadeMedida","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"Quantidade","columnName":"quantidade","columnValue":"quantidade","tipoAlinhamento":"ESQUERDA","totalizar":true,"link":null,"tipo":"INTEGER","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":4,"descricao":"Órgão","columnName":"orgao","columnValue":"orgao","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":5,"descricao":"Órgão/Entidade Transferidor","columnName":"entidadeTransferidor","columnValue":"entidadeTransferidor","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false}]},{"titulo":"Doações Efetuadas","consulta":"select\r\n    cpbd.descricao as descricao,\r\n    um.descricao as unidadeMedida,\r\n    cpbd.quantidade as quantidade,\r\n    vw.descricao as orgao,\r\n    cpbd.donatario as donatario\r\nfrom CalamidadePublica cp\r\n    inner join CALAMIDADEPUBLICABEMDOADO cpbd on cpbd.calamidadepublica_id = cp.id\r\n    inner join unidadeMedida um on cpbd.unidadeMedida_id = um.id\r\n    inner join vwhierarquiaorcamentaria vw on cpbd.unidadeOrganizacional_id = vw.subordinada_id\r\nwhere sysdate between vw.iniciovigencia and coalesce(vw.fimvigencia, sysdate)\r\n  and cp.abreviacao = ''COVID''","count":"select count(1) \r\nfrom CalamidadePublica cp\r\n    inner join CALAMIDADEPUBLICABEMDOADO cpbd on cpbd.calamidadepublica_id = cp.id\r\n    inner join unidadeMedida um on cpbd.unidadeMedida_id = um.id\r\n    inner join vwhierarquiaorcamentaria vw on cpbd.unidadeOrganizacional_id = vw.subordinada_id\r\nwhere sysdate between vw.iniciovigencia and coalesce(vw.fimvigencia, sysdate)\r\n  and cp.abreviacao = ''COVID''","totalRegistros":null,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Descrição","columnName":"descricao","columnValue":"descricao","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":2,"descricao":"Unidade de Medida","columnName":"unidadeMedida","columnValue":"unidadeMedida","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"Quantidade","columnName":"quantidade","columnValue":"quantidade","tipoAlinhamento":"ESQUERDA","totalizar":true,"link":null,"tipo":"INTEGER","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":4,"descricao":"Órgão/Entidade responsável pela Entrega","columnName":"orgao","columnValue":"orgao","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":5,"descricao":"Donatário","columnName":"donatario","columnValue":"donatario","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false}]}]}';
BEGIN
    dbms_lob.append(texto,textoTabs);
update PAGINAPREFEITURAPORTAL set CONTEUDO = texto where NOME = 'COVID-19';
END;
