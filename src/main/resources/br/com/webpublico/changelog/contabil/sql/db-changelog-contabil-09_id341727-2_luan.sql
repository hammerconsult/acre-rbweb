DECLARE
texto CLOB := '{"consulta":"SELECT numero,\r\n       trunc(dataEmpenho) as dataEmpenho,\r\n       tipoempenho,\r\n       fonte.codigo || '' - '' || fonte.descricao as fonte,\r\n       coalesce(pj.razaosocial, pf.nome) as pessoa,\r\n       sum(atualizado) as atualizado,\r\n       sum(empenhado) as empenhado,\r\n       sum(liquidado) as liquidado,\r\n       sum(pago) as pago\r\nfrom (\r\n         select emp.numero as numero,\r\n                emp.dataempenho as dataEmpenho,\r\n                emp.tipoempenho as tipoEmpenho,\r\n                prov.subacaoppa_id as idSubAcaoPPA,\r\n                proFonte.destinacaoDeRecursos_id as idContaDeDestinacao,\r\n                emp.fornecedor_id as idFornecedor,\r\n                emp.unidadeOrganizacional_id as idUnidade,\r\n                emp.dataEmpenho as dataReferencia,\r\n                prov.contadedespesa_id as contaDeDespesa,\r\n                0 as atualizado,\r\n                sum(emp.valor) as empenhado,\r\n                0 as liquidado,\r\n                0 as pago\r\n         from empenho emp\r\n                  inner join fonteDespesaORC fdOrc on emp.fonteDespesaORC_id = fdOrc.id\r\n                  inner join provisaoPPAFonte proFonte on fdOrc.provisaoPPAFonte_id = proFonte.id\r\n                  inner join despesaorc desp ON emp.despesaorc_id = desp.id\r\n                  inner join provisaoppadespesa prov ON desp.provisaoppadespesa_id = prov.id\r\n                  inner join conta c ON prov.contadedespesa_id = c.id\r\n         where emp.categoriaorcamentaria = ''NORMAL''\r\n         group by emp.numero, emp.dataempenho, emp.tipoempenho, prov.subacaoppa_id, proFonte.destinacaoDeRecursos_id, emp.fornecedor_id, emp.unidadeOrganizacional_id, prov.contadedespesa_id\r\n\r\n             union all\r\n             select emp.numero as numero,\r\n                    emp.dataempenho as dataEmpenho,\r\n                    emp.tipoempenho as tipoEmpenho,\r\n                    prov.subacaoppa_id as idSubAcaoPPA,\r\n                    proFonte.destinacaoDeRecursos_id as idContaDeDestinacao,\r\n                    emp.fornecedor_id as idFornecedor,\r\n                    est.unidadeOrganizacional_id as idUnidade,\r\n                    est.dataEstorno as dataReferencia,\r\n                    prov.contadedespesa_id as contaDeDespesa,\r\n                    0 as atualizado,\r\n                    sum(est.valor *-1) as empenhado,\r\n                    0 as liquidado,\r\n                    0 as pago\r\n         from empenhoestorno est\r\n                  inner join empenho emp on est.empenho_id = emp.id\r\n                  inner join fonteDespesaORC fdOrc on emp.fonteDespesaORC_id = fdOrc.id\r\n                  inner join provisaoPPAFonte proFonte on fdOrc.provisaoPPAFonte_id = proFonte.id\r\n                  inner join despesaorc desp ON emp.despesaorc_id = desp.id\r\n                  inner join provisaoppadespesa prov ON desp.provisaoppadespesa_id = prov.id\r\n                  inner join conta c ON prov.contadedespesa_id = c.id\r\n         where emp.categoriaorcamentaria = ''NORMAL''\r\n         group by emp.numero, emp.dataempenho, emp.tipoempenho, prov.subacaoppa_id, proFonte.destinacaoDeRecursos_id, emp.fornecedor_id, est.unidadeOrganizacional_id, est.dataEstorno, prov.contadedespesa_id\r\n\r\n         union all\r\n         select emp.numero as numero,\r\n                emp.dataempenho as dataEmpenho,\r\n                emp.tipoempenho as tipoEmpenho,\r\n                prov.subacaoppa_id as idSubAcaoPPA,\r\n                proFonte.destinacaoDeRecursos_id as idContaDeDestinacao,\r\n                emp.fornecedor_id as idFornecedor,\r\n                liq.unidadeOrganizacional_id as idUnidade,\r\n                liq.dataLiquidacao as dataReferencia,\r\n                prov.contadedespesa_id as contaDeDespesa,\r\n                0 as atualizado,\r\n                0 as empenhado,\r\n                sum(liq.valor) as liquidado,\r\n                0 as pago\r\n         from liquidacao liq\r\n                  inner join empenho emp on liq.empenho_id = emp.id\r\n                  inner join fonteDespesaORC fdOrc on emp.fonteDespesaORC_id = fdOrc.id\r\n                  inner join provisaoPPAFonte proFonte on fdOrc.provisaoPPAFonte_id = proFonte.id\r\n                  inner join despesaorc desp ON emp.despesaorc_id = desp.id\r\n                  inner join provisaoppadespesa prov ON desp.provisaoppadespesa_id = prov.id\r\n                  inner join conta c ON prov.contadedespesa_id = c.id\r\n         where liq.categoriaorcamentaria = ''NORMAL''\r\n         group by emp.numero, emp.dataempenho, emp.tipoempenho, prov.subacaoppa_id, proFonte.destinacaoDeRecursos_id, emp.fornecedor_id, liq.unidadeOrganizacional_id, liq.dataLiquidacao, prov.contadedespesa_id\r\n\r\n         union all\r\n         select emp.numero as numero,\r\n                emp.dataempenho as dataEmpenho,\r\n                emp.tipoempenho as tipoEmpenho,\r\n                prov.subacaoppa_id as idSubAcaoPPA,\r\n                proFonte.destinacaoDeRecursos_id as idContaDeDestinacao,\r\n                emp.fornecedor_id as idFornecedor,\r\n                est.unidadeOrganizacional_id as idUnidade,\r\n                est.dataEstorno as dataReferencia,\r\n                prov.contadedespesa_id as contaDeDespesa,\r\n                0 as atualizado,\r\n                0 as empenhado,\r\n                sum(est.valor *-1) as liquidado,\r\n                0 as pago\r\n         from liquidacaoestorno est\r\n                  inner join liquidacao liq on est.liquidacao_id = liq.id\r\n                  inner join empenho emp on liq.empenho_id = emp.id\r\n                  inner join fonteDespesaORC fdOrc on emp.fonteDespesaORC_id = fdOrc.id\r\n                  inner join provisaoPPAFonte proFonte on fdOrc.provisaoPPAFonte_id = proFonte.id\r\n                  inner join despesaorc desp ON emp.despesaorc_id = desp.id\r\n                  inner join provisaoppadespesa prov ON desp.provisaoppadespesa_id = prov.id\r\n                  inner join conta c ON prov.contadedespesa_id = c.id\r\n         where liq.categoriaorcamentaria = ''NORMAL''\r\n         group by emp.numero, emp.dataempenho, emp.tipoempenho, prov.subacaoppa_id, proFonte.destinacaoDeRecursos_id, emp.fornecedor_id, est.unidadeOrganizacional_id, est.dataEstorno, prov.contadedespesa_id\r\n\r\n         union all\r\n         select emp.numero as numero,\r\n                emp.dataempenho as dataEmpenho,\r\n                emp.tipoempenho as tipoEmpenho,\r\n                prov.subacaoppa_id as idSubAcaoPPA,\r\n                proFonte.destinacaoDeRecursos_id as idContaDeDestinacao,\r\n                emp.fornecedor_id as idFornecedor,\r\n                pag.unidadeOrganizacional_id as idUnidade,\r\n                pag.dataPagamento as dataReferencia,\r\n                prov.contadedespesa_id as contaDeDespesa,\r\n                0 as atualizado,\r\n                0 as empenhado,\r\n                0 as liquidado,\r\n                sum(pag.valor) as pago\r\n         from pagamento pag\r\n                  inner join liquidacao liq on pag.liquidacao_id = liq.id\r\n                  inner join empenho emp on liq.empenho_id = emp.id\r\n                  inner join fonteDespesaORC fdOrc on emp.fonteDespesaORC_id = fdOrc.id\r\n                  inner join provisaoPPAFonte proFonte on fdOrc.provisaoPPAFonte_id = proFonte.id\r\n                  inner join despesaorc desp ON emp.despesaorc_id = desp.id\r\n                  inner join provisaoppadespesa prov ON desp.provisaoppadespesa_id = prov.id\r\n                  inner join conta c ON prov.contadedespesa_id = c.id\r\n         where pag.categoriaorcamentaria = ''NORMAL''\r\n         group by emp.numero, emp.dataempenho, emp.tipoempenho, prov.subacaoppa_id, proFonte.destinacaoDeRecursos_id, emp.fornecedor_id, pag.unidadeOrganizacional_id, pag.dataPagamento, prov.contadedespesa_id\r\n\r\n         union all\r\n         select emp.numero as numero,\r\n                emp.dataempenho as dataEmpenho,\r\n                emp.tipoempenho as tipoEmpenho,\r\n                prov.subacaoppa_id as idSubAcaoPPA,\r\n                proFonte.destinacaoDeRecursos_id as idContaDeDestinacao,\r\n                emp.fornecedor_id as idFornecedor,\r\n                est.unidadeOrganizacional_id as idUnidade,\r\n                est.dataEstorno as dataReferencia,\r\n                prov.contadedespesa_id as contaDeDespesa,\r\n                0 as atualizado,\r\n                0 as empenhado,\r\n                0 as liquidado,\r\n                sum(est.valor *-1) as pago\r\n         from pagamentoestorno est\r\n                  inner join pagamento pag on est.pagamento_id = pag.id\r\n                  inner join liquidacao liq on pag.liquidacao_id = liq.id\r\n                  inner join empenho emp on liq.empenho_id = emp.id\r\n                  inner join fonteDespesaORC fdOrc on emp.fonteDespesaORC_id = fdOrc.id\r\n                  inner join provisaoPPAFonte proFonte on fdOrc.provisaoPPAFonte_id = proFonte.id\r\n                  inner join despesaorc desp ON emp.despesaorc_id = desp.id\r\n                  inner join provisaoppadespesa prov ON desp.provisaoppadespesa_id = prov.id\r\n                  inner join conta c ON prov.contadedespesa_id = c.id\r\n         where pag.categoriaorcamentaria = ''NORMAL''\r\n         group by emp.numero, emp.dataempenho, emp.tipoempenho, prov.subacaoppa_id, proFonte.destinacaoDeRecursos_id, emp.fornecedor_id, est.unidadeOrganizacional_id, est.dataEstorno, prov.contadedespesa_id\r\n\r\n     ) dados\r\n         inner join subacaoppa sub ON sub.id = dados.idSubAcaoPPA\r\n         inner join acaoppa ac ON ac.id = sub.acaoppa_id\r\n         inner join tipoAcaoPPA tac ON tac.id = ac.tipoAcaoPPA_id\r\n         inner join funcao func on ac.funcao_id = func.id\r\n         inner join subfuncao subfunc on ac.subfuncao_id = subfunc.id\r\n         inner join programappa prog ON prog.id = ac.programa_id\r\n         inner join vwhierarquiaorcamentaria vw ON dados.idUnidade = vw.subordinada_id\r\n         inner join ContaDeDestinacao cdd ON dados.idContaDeDestinacao = cdd.id\r\n         inner join FonteDeRecursos fonte ON cdd.fonteDeRecursos_id = fonte.id\r\n         inner join conta cdesp ON dados.contaDeDespesa = cdesp.id\r\n         left join pessoajuridica pj ON dados.idFornecedor = pj.id\r\n         left join pessoafisica pf ON dados.idFornecedor = pf.id\r\nwhere dados.idUnidade in (select UNIDADE_ID from UNIDADEPREFEITURAPORTAL where PREFEITURA_ID = $PREFEITURAPORTAL_ID)\r\n  and to_date(''01/01/$ANO'', ''dd/MM/yyyy'') BETWEEN vw.iniciovigencia and coalesce(vw.fimvigencia, to_date(''01/01/$ANO'', ''dd/MM/yyyy''))\r\n  and trunc(dados.dataReferencia) BETWEEN to_date(''01/01/$ANO'', ''dd/MM/yyyy'') AND to_date(''31/12/$ANO'', ''dd/MM/yyyy'')\r\n    $WHERE\r\ngroup by numero, dataempenho, tipoempenho, fonte.codigo || '' - '' || fonte.descricao, coalesce(pj.razaosocial, pf.nome)\r\nHAVING (sum(atualizado) <> 0 or sum(empenhado) <> 0 or sum(liquidado) <> 0 or sum(pago) <> 0)\r\norder by numero, dataempenho, tipoempenho, fonte, pessoa","count":"select count(1) from (\r\nSELECT numero,\r\n       trunc(dataEmpenho) as dataEmpenho,\r\n       tipoempenho,\r\n       fonte.codigo || '' - '' || fonte.descricao as fonte,\r\n       coalesce(pj.razaosocial, pf.nome) as pessoa,\r\n       sum(atualizado) as atualizado,\r\n       sum(empenhado) as empenhado,\r\n       sum(liquidado) as liquidado,\r\n       sum(pago) as pago\r\nfrom (\r\n         select emp.numero as numero,\r\n                emp.dataempenho as dataEmpenho,\r\n                emp.tipoempenho as tipoEmpenho,\r\n                prov.subacaoppa_id as idSubAcaoPPA,\r\n                proFonte.destinacaoDeRecursos_id as idContaDeDestinacao,\r\n                emp.fornecedor_id as idFornecedor,\r\n                emp.unidadeOrganizacional_id as idUnidade,\r\n                emp.dataEmpenho as dataReferencia,\r\n                prov.contadedespesa_id as contaDeDespesa,\r\n                0 as atualizado,\r\n                sum(emp.valor) as empenhado,\r\n                0 as liquidado,\r\n                0 as pago\r\n         from empenho emp\r\n                  inner join fonteDespesaORC fdOrc on emp.fonteDespesaORC_id = fdOrc.id\r\n                  inner join provisaoPPAFonte proFonte on fdOrc.provisaoPPAFonte_id = proFonte.id\r\n                  inner join despesaorc desp ON emp.despesaorc_id = desp.id\r\n                  inner join provisaoppadespesa prov ON desp.provisaoppadespesa_id = prov.id\r\n                  inner join conta c ON prov.contadedespesa_id = c.id\r\n         where emp.categoriaorcamentaria = ''NORMAL''\r\n         group by emp.numero, emp.dataempenho, emp.tipoempenho, prov.subacaoppa_id, proFonte.destinacaoDeRecursos_id, emp.fornecedor_id, emp.unidadeOrganizacional_id, prov.contadedespesa_id\r\n\r\n             union all\r\n             select emp.numero as numero,\r\n                    emp.dataempenho as dataEmpenho,\r\n                    emp.tipoempenho as tipoEmpenho,\r\n                    prov.subacaoppa_id as idSubAcaoPPA,\r\n                    proFonte.destinacaoDeRecursos_id as idContaDeDestinacao,\r\n                    emp.fornecedor_id as idFornecedor,\r\n                    est.unidadeOrganizacional_id as idUnidade,\r\n                    est.dataEstorno as dataReferencia,\r\n                    prov.contadedespesa_id as contaDeDespesa,\r\n                    0 as atualizado,\r\n                    sum(est.valor *-1) as empenhado,\r\n                    0 as liquidado,\r\n                    0 as pago\r\n         from empenhoestorno est\r\n                  inner join empenho emp on est.empenho_id = emp.id\r\n                  inner join fonteDespesaORC fdOrc on emp.fonteDespesaORC_id = fdOrc.id\r\n                  inner join provisaoPPAFonte proFonte on fdOrc.provisaoPPAFonte_id = proFonte.id\r\n                  inner join despesaorc desp ON emp.despesaorc_id = desp.id\r\n                  inner join provisaoppadespesa prov ON desp.provisaoppadespesa_id = prov.id\r\n                  inner join conta c ON prov.contadedespesa_id = c.id\r\n         where emp.categoriaorcamentaria = ''NORMAL''\r\n         group by emp.numero, emp.dataempenho, emp.tipoempenho, prov.subacaoppa_id, proFonte.destinacaoDeRecursos_id, emp.fornecedor_id, est.unidadeOrganizacional_id, est.dataEstorno, prov.contadedespesa_id\r\n\r\n         union all\r\n         select emp.numero as numero,\r\n                emp.dataempenho as dataEmpenho,\r\n                emp.tipoempenho as tipoEmpenho,\r\n                prov.subacaoppa_id as idSubAcaoPPA,\r\n                proFonte.destinacaoDeRecursos_id as idContaDeDestinacao,\r\n                emp.fornecedor_id as idFornecedor,\r\n                liq.unidadeOrganizacional_id as idUnidade,\r\n                liq.dataLiquidacao as dataReferencia,\r\n                prov.contadedespesa_id as contaDeDespesa,\r\n                0 as atualizado,\r\n                0 as empenhado,\r\n                sum(liq.valor) as liquidado,\r\n                0 as pago\r\n         from liquidacao liq\r\n                  inner join empenho emp on liq.empenho_id = emp.id\r\n                  inner join fonteDespesaORC fdOrc on emp.fonteDespesaORC_id = fdOrc.id\r\n                  inner join provisaoPPAFonte proFonte on fdOrc.provisaoPPAFonte_id = proFonte.id\r\n                  inner join despesaorc desp ON emp.despesaorc_id = desp.id\r\n                  inner join provisaoppadespesa prov ON desp.provisaoppadespesa_id = prov.id\r\n                  inner join conta c ON prov.contadedespesa_id = c.id\r\n         where liq.categoriaorcamentaria = ''NORMAL''\r\n         group by emp.numero, emp.dataempenho, emp.tipoempenho, prov.subacaoppa_id, proFonte.destinacaoDeRecursos_id, emp.fornecedor_id, liq.unidadeOrganizacional_id, liq.dataLiquidacao, prov.contadedespesa_id\r\n\r\n         union all\r\n         select emp.numero as numero,\r\n                emp.dataempenho as dataEmpenho,\r\n                emp.tipoempenho as tipoEmpenho,\r\n                prov.subacaoppa_id as idSubAcaoPPA,\r\n                proFonte.destinacaoDeRecursos_id as idContaDeDestinacao,\r\n                emp.fornecedor_id as idFornecedor,\r\n                est.unidadeOrganizacional_id as idUnidade,\r\n                est.dataEstorno as dataReferencia,\r\n                prov.contadedespesa_id as contaDeDespesa,\r\n                0 as atualizado,\r\n                0 as empenhado,\r\n                sum(est.valor *-1) as liquidado,\r\n                0 as pago\r\n         from liquidacaoestorno est\r\n                  inner join liquidacao liq on est.liquidacao_id = liq.id\r\n                  inner join empenho emp on liq.empenho_id = emp.id\r\n                  inner join fonteDespesaORC fdOrc on emp.fonteDespesaORC_id = fdOrc.id\r\n                  inner join provisaoPPAFonte proFonte on fdOrc.provisaoPPAFonte_id = proFonte.id\r\n                  inner join despesaorc desp ON emp.despesaorc_id = desp.id\r\n                  inner join provisaoppadespesa prov ON desp.provisaoppadespesa_id = prov.id\r\n                  inner join conta c ON prov.contadedespesa_id = c.id\r\n         where liq.categoriaorcamentaria = ''NORMAL''\r\n         group by emp.numero, emp.dataempenho, emp.tipoempenho, prov.subacaoppa_id, proFonte.destinacaoDeRecursos_id, emp.fornecedor_id, est.unidadeOrganizacional_id, est.dataEstorno, prov.contadedespesa_id\r\n\r\n         union all\r\n         select emp.numero as numero,\r\n                emp.dataempenho as dataEmpenho,\r\n                emp.tipoempenho as tipoEmpenho,\r\n                prov.subacaoppa_id as idSubAcaoPPA,\r\n                proFonte.destinacaoDeRecursos_id as idContaDeDestinacao,\r\n                emp.fornecedor_id as idFornecedor,\r\n                pag.unidadeOrganizacional_id as idUnidade,\r\n                pag.dataPagamento as dataReferencia,\r\n                prov.contadedespesa_id as contaDeDespesa,\r\n                0 as atualizado,\r\n                0 as empenhado,\r\n                0 as liquidado,\r\n                sum(pag.valor) as pago\r\n         from pagamento pag\r\n                  inner join liquidacao liq on pag.liquidacao_id = liq.id\r\n                  inner join empenho emp on liq.empenho_id = emp.id\r\n                  inner join fonteDespesaORC fdOrc on emp.fonteDespesaORC_id = fdOrc.id\r\n                  inner join provisaoPPAFonte proFonte on fdOrc.provisaoPPAFonte_id = proFonte.id\r\n                  inner join despesaorc desp ON emp.despesaorc_id = desp.id\r\n                  inner join provisaoppadespesa prov ON desp.provisaoppadespesa_id = prov.id\r\n                  inner join conta c ON prov.contadedespesa_id = c.id\r\n         where pag.categoriaorcamentaria = ''NORMAL''\r\n         group by emp.numero, emp.dataempenho, emp.tipoempenho, prov.subacaoppa_id, proFonte.destinacaoDeRecursos_id, emp.fornecedor_id, pag.unidadeOrganizacional_id, pag.dataPagamento, prov.contadedespesa_id\r\n\r\n         union all\r\n         select emp.numero as numero,\r\n                emp.dataempenho as dataEmpenho,\r\n                emp.tipoempenho as tipoEmpenho,\r\n                prov.subacaoppa_id as idSubAcaoPPA,\r\n                proFonte.destinacaoDeRecursos_id as idContaDeDestinacao,\r\n                emp.fornecedor_id as idFornecedor,\r\n                est.unidadeOrganizacional_id as idUnidade,\r\n                est.dataEstorno as dataReferencia,\r\n                prov.contadedespesa_id as contaDeDespesa,\r\n                0 as atualizado,\r\n                0 as empenhado,\r\n                0 as liquidado,\r\n                sum(est.valor *-1) as pago\r\n         from pagamentoestorno est\r\n                  inner join pagamento pag on est.pagamento_id = pag.id\r\n                  inner join liquidacao liq on pag.liquidacao_id = liq.id\r\n                  inner join empenho emp on liq.empenho_id = emp.id\r\n                  inner join fonteDespesaORC fdOrc on emp.fonteDespesaORC_id = fdOrc.id\r\n                  inner join provisaoPPAFonte proFonte on fdOrc.provisaoPPAFonte_id = proFonte.id\r\n                  inner join despesaorc desp ON emp.despesaorc_id = desp.id\r\n                  inner join provisaoppadespesa prov ON desp.provisaoppadespesa_id = prov.id\r\n                  inner join conta c ON prov.contadedespesa_id = c.id\r\n         where pag.categoriaorcamentaria = ''NORMAL''\r\n         group by emp.numero, emp.dataempenho, emp.tipoempenho, prov.subacaoppa_id, proFonte.destinacaoDeRecursos_id, emp.fornecedor_id, est.unidadeOrganizacional_id, est.dataEstorno, prov.contadedespesa_id\r\n\r\n     ) dados\r\n         inner join subacaoppa sub ON sub.id = dados.idSubAcaoPPA\r\n         inner join acaoppa ac ON ac.id = sub.acaoppa_id\r\n         inner join tipoAcaoPPA tac ON tac.id = ac.tipoAcaoPPA_id\r\n         inner join funcao func on ac.funcao_id = func.id\r\n         inner join subfuncao subfunc on ac.subfuncao_id = subfunc.id\r\n         inner join programappa prog ON prog.id = ac.programa_id\r\n         inner join vwhierarquiaorcamentaria vw ON dados.idUnidade = vw.subordinada_id\r\n         inner join ContaDeDestinacao cdd ON dados.idContaDeDestinacao = cdd.id\r\n         inner join FonteDeRecursos fonte ON cdd.fonteDeRecursos_id = fonte.id\r\n         inner join conta cdesp ON dados.contaDeDespesa = cdesp.id\r\n         left join pessoajuridica pj ON dados.idFornecedor = pj.id\r\n         left join pessoafisica pf ON dados.idFornecedor = pf.id\r\nwhere dados.idUnidade in (select UNIDADE_ID from UNIDADEPREFEITURAPORTAL where PREFEITURA_ID = $PREFEITURAPORTAL_ID)\r\n  and to_date(''01/01/$ANO'', ''dd/MM/yyyy'') BETWEEN vw.iniciovigencia and coalesce(vw.fimvigencia, to_date(''01/01/$ANO'', ''dd/MM/yyyy''))\r\n  and trunc(dados.dataReferencia) BETWEEN to_date(''01/01/$ANO'', ''dd/MM/yyyy'') AND to_date(''31/12/$ANO'', ''dd/MM/yyyy'')\r\n    $WHERE\r\ngroup by numero, dataempenho, tipoempenho, fonte.codigo || '' - '' || fonte.descricao, coalesce(pj.razaosocial, pf.nome)\r\nHAVING (sum(atualizado) <> 0 or sum(empenhado) <> 0 or sum(liquidado) <> 0 or sum(pago) <> 0)\r\norder by numero, dataempenho, tipoempenho, fonte, pessoa\r\n)","totalRegistros":2472,"fields":[{"posicao":1,"descricao":"Número","columnName":"NUMERO","columnValue":"NUMERO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":2,"descricao":"Data","columnName":"DATAEMPENHO","columnValue":"DATAEMPENHO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"Tipo","columnName":"TIPOEMPENHO","columnValue":"TIPOEMPENHO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":4,"descricao":"Fonte","columnName":"FONTE","columnValue":"FONTE","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":5,"descricao":"Pessoa","columnName":"PESSOA","columnValue":"PESSOA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":6,"descricao":"Atualizado (R$)","columnName":"ATUALIZADO","columnValue":"ATUALIZADO","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":7,"descricao":"Empenhado (R$)","columnName":"EMPENHADO","columnValue":"EMPENHADO","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":8,"descricao":"Liquidado (R$)","columnName":"LIQUIDADO","columnValue":"LIQUIDADO","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":9,"descricao":"Pago (R$)","columnName":"PAGO","columnValue":"PAGO","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false}],"pesquisaveis":[{"descricao":"Unidade.Código","columnName":"vw.codigo","columnValue":null,"tipo":"STRING","operacaoPadrao":null,"tipoEnum":null,"valorPadrao":""},{"descricao":"Unidade.Descrição","columnName":"vw.descricao","columnValue":null,"tipo":"STRING","operacaoPadrao":null,"tipoEnum":null,"valorPadrao":""},{"descricao":"Fonte de Recurso.Código","columnName":"fonte.codigo","columnValue":null,"tipo":"STRING","operacaoPadrao":null,"tipoEnum":null,"valorPadrao":""},{"descricao":"Fonte de Recurso.Descrição","columnName":"fonte.descricao","columnValue":null,"tipo":"STRING","operacaoPadrao":null,"tipoEnum":null,"valorPadrao":""},{"descricao":"Natureza de Despesa.Código","columnName":"cdesp.codigo","columnValue":null,"tipo":"STRING","operacaoPadrao":null,"tipoEnum":null,"valorPadrao":""},{"descricao":"Natureza de Despesa.Descrição","columnName":"cdesp.descricao","columnValue":null,"tipo":"STRING","operacaoPadrao":null,"tipoEnum":null,"valorPadrao":""},{"descricao":"Programa.Código","columnName":"prog.codigo","columnValue":null,"tipo":"STRING","operacaoPadrao":null,"tipoEnum":null,"valorPadrao":""},{"descricao":"Programa.Denominação","columnName":"prog.denominacao","columnValue":null,"tipo":"STRING","operacaoPadrao":null,"tipoEnum":null,"valorPadrao":""},{"descricao":"Ação.Código","columnName":"ac.codigo","columnValue":null,"tipo":"STRING","operacaoPadrao":null,"tipoEnum":null,"valorPadrao":""},{"descricao":"Ação.Descrição","columnName":"ac.descricao","columnValue":null,"tipo":"STRING","operacaoPadrao":null,"tipoEnum":null,"valorPadrao":""},{"descricao":"Função.Código","columnName":"func.codigo","columnValue":null,"tipo":"STRING","operacaoPadrao":null,"tipoEnum":null,"valorPadrao":""},{"descricao":"Função.Descrição","columnName":"func.descricao","columnValue":null,"tipo":"STRING","operacaoPadrao":null,"tipoEnum":null,"valorPadrao":""},{"descricao":"Subfunção.Código","columnName":"subfunc.codigo","columnValue":null,"tipo":"STRING","operacaoPadrao":null,"tipoEnum":null,"valorPadrao":""},{"descricao":"Subfunção.Descrição","columnName":"subfunc.descricao","columnValue":null,"tipo":"STRING","operacaoPadrao":null,"tipoEnum":null,"valorPadrao":""},{"descricao":"Credor","columnName":"coalesce(pj.razaosocial, pf.nome)","columnValue":null,"tipo":"STRING","operacaoPadrao":null,"tipoEnum":null,"valorPadrao":""},{"descricao":"Data de Referência","columnName":"dados.dataReferencia","columnValue":null,"tipo":"DATE","operacaoPadrao":null,"tipoEnum":null,"valorPadrao":""}]}';
BEGIN
update PAGINAPREFEITURAPORTAL set CONTEUDO = texto where NOME = 'Despesa por Empenho';
END;
