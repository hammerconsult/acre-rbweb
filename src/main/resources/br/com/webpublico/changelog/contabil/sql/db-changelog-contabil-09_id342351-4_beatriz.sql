declare
texto clob := '{"consulta":"select distinct\r\n    bem.id as id,\r\n    bem.identificacao as registroPatrimonial,\r\n    bem.descricao as descricaoBem,\r\n    bem.dataaquisicao as dataAquisicao,\r\n    case when estado.SITUACAOCONSERVACAOBEM = ''USO_NORMAL'' then ''Uso Normal'' else \r\n    estado.situacaoconservacaobem end as situacaoConservacaoBem,\r\n    estado.estadobem as estadoBem,\r\n    grupo.tipobem as tipoBem,\r\n    estado.tipoaquisicaobem as tipoAquisicaoBem,\r\n    estado.valororiginal as valorAquisicao,\r\n    vwadm.codigo || '' - '' || vwadm.descricao as unidadeAdm,\r\n    pfresponsavel.nome as responsavel\r\nfrom bem\r\n         inner join eventobem evento on bem.id = evento.bem_id\r\n         inner join estadobem estado on evento.estadoresultante_id = estado.id\r\n         inner join grupobem grupo on estado.grupobem_id = grupo.id\r\n         inner join vwhierarquiaadministrativa vwadm on vwadm.subordinada_id = estado.detentoraadministrativa_id\r\n         left join responsavelpatrimonio rp on rp.unidadeorganizacional_id = estado.detentoraadministrativa_id\r\n    and $ANO between extract(year from rp.iniciovigencia) and coalesce(extract(year from rp.fimvigencia), $ANO)\r\n    left join pessoafisica pfresponsavel on rp.responsavel_id = pfresponsavel.id\r\nwhere evento.dataoperacao = (select max(evmax.dataoperacao) from eventobem evmax where evmax.bem_id = bem.id)\r\n  and $ANO between extract(year from vwadm.iniciovigencia) and coalesce(extract(year from vwadm.fimvigencia), $ANO)\r\n  and estado.valororiginal > 0\r\n  and evento.situacaoeventobem not in (''BAIXADO'', ''ESTORNADO'')\r\n  and trunc(bem.dataaquisicao) BETWEEN to_date(''01/01/$ANO'', ''dd/MM/yyyy'') AND to_date(''31/12/$ANO'', ''dd/MM/yyyy'')  \r\n  $WHERE \r\n  order by bem.DATAAQUISICAO desc","count":"select count(1)\r\nfrom bem\r\n         inner join eventobem evento on bem.id = evento.bem_id\r\n         inner join estadobem estado on evento.estadoresultante_id = estado.id\r\n         inner join grupobem grupo on estado.grupobem_id = grupo.id\r\n         inner join vwhierarquiaadministrativa vwadm on vwadm.subordinada_id = estado.detentoraadministrativa_id\r\n         left join responsavelpatrimonio rp on rp.unidadeorganizacional_id = estado.detentoraadministrativa_id\r\n    and $ANO between extract(year from rp.iniciovigencia) and coalesce(extract(year from rp.fimvigencia), $ANO)\r\n    left join pessoafisica pfresponsavel on rp.responsavel_id = pfresponsavel.id\r\nwhere evento.dataoperacao = (select max(evmax.dataoperacao) from eventobem evmax where evmax.bem_id = bem.id)\r\n  and $ANO between extract(year from vwadm.iniciovigencia) and coalesce(extract(year from vwadm.fimvigencia), $ANO)\r\n  and estado.valororiginal > 0\r\n  and evento.situacaoeventobem not in (''BAIXADO'', ''ESTORNADO'')\r\n  and trunc(bem.dataaquisicao) BETWEEN to_date(''01/01/$ANO'', ''dd/MM/yyyy'') AND to_date(''31/12/$ANO'', ''dd/MM/yyyy'')  \r\n  $WHERE\r\n  order by bem.DATAAQUISICAO desc","totalRegistros":85834,"fields":[{"posicao":1,"descricao":"Registro Patrimonial","columnName":"REGISTROPATRIMONIAL","columnValue":"REGISTROPATRIMONIAL","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":2,"descricao":"Descrição","columnName":"DESCRICAOBEM","columnValue":"DESCRICAOBEM","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":{"chaveDestino":"bem-ver","columnOrigem":"ID","columnDestino":"bem.id"},"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"Data de Aquisição","columnName":"DATAAQUISICAO","columnValue":"DATAAQUISICAO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":4,"descricao":"Situação de Conservação","columnName":"SITUACAOCONSERVACAOBEM","columnValue":"SITUACAOCONSERVACAOBEM","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":"","valorPadrao":null,"escondido":false},{"posicao":5,"descricao":"Estado do Bem","columnName":"ESTADOBEM","columnValue":"ESTADOBEM","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":6,"descricao":"Tipo do Bem","columnName":"TIPOBEM","columnValue":"TIPOBEM","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.TipoBem","valorPadrao":[null,"ESTOQUE","MOVEIS","IMOVEIS","INTANGIVEIS","NAO_APLICAVEL"],"escondido":false},{"posicao":7,"descricao":"Tipo de Aquisição do Bem","columnName":"TIPOAQUISICAOBEM","columnValue":"TIPOAQUISICAOBEM","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.TipoAquisicaoBem","valorPadrao":[null,"ADJUDICACAO","APREENSAO","AVALIACAO","CESSAO","COMODATO","COMPRA","CONSTRUCAO","CONTRATO","CONVENIO","DACAO","DESAPROPRIACAO","DOACAO","PERMUTA","REDISTRIBUICAO","USUCAPIAO","TRANSFERENCIA"],"escondido":false},{"posicao":8,"descricao":"Valor de Aquisição","columnName":"VALORAQUISICAO","columnValue":"VALORAQUISICAO","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":9,"descricao":"Unidade Administrativa","columnName":"UNIDADEADM","columnValue":"UNIDADEADM","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":10,"descricao":"Responsável pelo Bem","columnName":"RESPONSAVEL","columnValue":"RESPONSAVEL","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":11,"descricao":"ID","columnName":"ID","columnValue":"ID","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":true}],"pesquisaveis":[{"descricao":"Data de Aquisição","columnName":"bem.dataaquisicao","columnValue":null,"tipo":"DATE","operacaoPadrao":null,"tipoEnum":null,"valorPadrao":"","tipoMultiSelect":null},{"descricao":"Unidade Administrativa","columnName":"vwadm.SUBORDINADA_ID","columnValue":null,"tipo":"MULTI_SELECT","operacaoPadrao":null,"tipoEnum":null,"valorPadrao":"","tipoMultiSelect":"UNIDADE_ADMINISTRATIVA"},{"descricao":"Tipo de Bem","columnName":"tipoBem","columnValue":null,"tipo":"ENUM","operacaoPadrao":null,"tipoEnum":"br.com.webpublico.enums.TipoBem","valorPadrao":[null,"ESTOQUE","MOVEIS","IMOVEIS","INTANGIVEIS","NAO_APLICAVEL"],"tipoMultiSelect":null},{"descricao":"Tipo de Aquisição","columnName":"tipoAquisicaoBem","columnValue":null,"tipo":"ENUM","operacaoPadrao":null,"tipoEnum":"br.com.webpublico.enums.TipoAquisicaoBem","valorPadrao":[null,"ADJUDICACAO","APREENSAO","AVALIACAO","CESSAO","COMODATO","COMPRA","CONSTRUCAO","CONTRATO","CONVENIO","DACAO","DESAPROPRIACAO","DOACAO","PERMUTA","REDISTRIBUICAO","USUCAPIAO","TRANSFERENCIA"],"tipoMultiSelect":null}],"tabs":[]}';
begin
update paginaprefeituraportal set conteudo = texto where nome = 'Bem Patrimonial';
end;
