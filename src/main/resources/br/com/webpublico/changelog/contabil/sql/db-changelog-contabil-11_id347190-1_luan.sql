DECLARE
texto CLOB := '{"consulta":"select c.situacaoContrato                        as situacao,\r\n       c.numeroContrato                          as numeroContrato,\r\n       c.datalancamento,\r\n       c.dataaprovacao,\r\n       c.numerotermo || ''/'' || c.anoprocesso     as numeroAnoTermo,\r\n       c.numeroProcesso || ''/'' || ex.ano         as numeroAnoProcesso,\r\n       c.tipoAquisicao                           as tipoAquisicao,\r\n       case\r\n           when lic.id is not null then lic.numeroLicitacao || ''/'' || exLic.ano || '' - '' || lic.resumoDoObjeto\r\n           when disp.id is not null then disp.numeroDaDispensa || ''/'' || exDisp.ano || '' - '' || disp.resumoDoObjeto\r\n           when regExt.id is not null then regExt.numeroRegistro || ''/'' || exRegExt.ano || '' - '' || regExt.objeto\r\n           end as processoLicitatorio,\r\n       coalesce(lic.id, disp.id, regExt.id) as idProcessoLicitatorio,\r\n       case\r\n           when disp.modalidade is not null then disp.modalidade\r\n           when regExt.modalidadeCarona is not null then regExt.modalidadeCarona\r\n           when lic.modalidadeLicitacao is not null then lic.modalidadeLicitacao\r\n           when cv.modalidade is not null then cv.modalidade\r\n           end                                   as modalidade,\r\n       vwAdm.codigo || '' - '' || vwAdm.descricao  as orgao,\r\n       vwAdm.id                                  as idUnidade,\r\n       c.regimeExecucao                          as regimeExecucao,\r\n       c.objeto                                  as objeto,\r\n       c.valorTotal                              as valor,\r\n       c.variacaoAtualContrato || ''%''            as variacao,\r\n       c.valorAtualContrato                      as valorAtual,\r\n       c.saldoatualcontrato                      as saldoAtual,\r\n       formatacpfcnpj(coalesce(pf.cpf, pj.cnpj)) || '' - '' || coalesce(pf.nome, pj.razaosocial) as fornecedor,\r\n       formatacpfcnpj(pfRespUni.cpf) || '' - '' || pfRespUni.nome as responsavelUnidade,\r\n       formatacpfcnpj(pfRespForn.cpf) || '' - '' || pfRespForn.nome as responsavelFornecedor,\r\n       c.inicioVigencia,\r\n       c.terminoVigencia,\r\n       c.terminoVigenciaAtual,\r\n       c.inicioExecucao,\r\n       c.terminoExecucao,\r\n       c.terminoExecucaoAtual,\r\n       c.localEntrega,\r\n       c.observacoes as funcamentoLegal\r\nfrom contrato c\r\n         inner join exercicio ex on ex.id = c.exercicioContrato_id\r\n         left join pessoa p on p.id = c.contratado_id\r\n         left join unidadecontrato uc on uc.contrato_id = c.id\r\n                                             and trunc(terminoVigencia) between trunc(uc.iniciovigencia) and coalesce(trunc(uc.fimvigencia), trunc(terminoVigencia))\r\n         left join UnidadeOrganizacional uo on uo.id = uc.unidadeAdministrativa_id\r\n         left join entidade ent on ent.id = uo.entidade_id\r\n         left join vwhierarquiaadministrativa vwAdm on vwAdm.subordinada_id = uo.id\r\n                                                           and trunc(terminoVigencia) between trunc(vwAdm.iniciovigencia) and coalesce(trunc(vwAdm.fimvigencia), trunc(terminoVigencia))\r\n         left join pessoafisica pf on p.id = pf.id\r\n         left join pessoajuridica pj on p.id = pj.id\r\n         left join conlicitacao conlic on c.id = conlic.contrato_id\r\n         left join licitacao lic on conlic.licitacao_id = lic.id\r\n         left join exercicio exLic on exLic.id = lic.exercicio_id\r\n         left join condispensalicitacao conDisp on condisp.contrato_id = c.id\r\n         left join dispensadelicitacao disp on disp.id = condisp.dispensadelicitacao_id\r\n         left join exercicio exDisp on exDisp.id = disp.exercicioDaDispensa_id\r\n         left join CONREGPRECOEXTERNO conReg on conreg.contrato_id = c.id\r\n         left join REGISTROSOLMATEXT regExt on regExt.id = conreg.regsolmatext_id\r\n         left join exercicio exRegExt on exRegExt.id = regExt.exercicioRegistro_id\r\n         left join ContratosVigente cv on cv.contrato_id = c.id\r\n         left join pessoafisica pfRespUni on pfRespUni.id = c.responsavelprefeiturapf_id\r\n         left join pessoafisica pfRespForn on pfRespForn.id = c.responsavelempresa_id\r\n$WHERE\r\norder by to_number(c.numerocontrato), to_number(c.numeroProcesso)","count":"select count(c.id)\r\nfrom contrato c\r\n         inner join exercicio ex on ex.id = c.exercicioContrato_id\r\n$WHERE","totalRegistros":1463,"fields":[{"posicao":1,"descricao":"Situação","columnName":"SITUACAO","columnValue":"SITUACAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":2,"descricao":"Número do Contrato","columnName":"NUMEROCONTRATO","columnValue":"NUMEROCONTRATO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":3,"descricao":"Data de Lançamento","columnName":"DATALANCAMENTO","columnValue":"DATALANCAMENTO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":4,"descricao":"Data de Aprovação","columnName":"DATAAPROVACAO","columnValue":"DATAAPROVACAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":5,"descricao":"Número/Ano do Termo","columnName":"NUMEROANOTERMO","columnValue":"NUMEROANOTERMO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":6,"descricao":"Número do Processo","columnName":"NUMEROANOPROCESSO","columnValue":"NUMEROANOPROCESSO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":8,"descricao":"Tipo de Aquisição","columnName":"TIPOAQUISICAO","columnValue":"TIPOAQUISICAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":9,"descricao":"Processo Licitatório","columnName":"PROCESSOLICITATORIO","columnValue":"PROCESSOLICITATORIO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":{"chaveDestino":"processo-licitatorio-ver","columnOrigem":"IDPROCESSOLICITATORIO","columnDestino":"dados.idProcessoLicitatorio"},"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":10,"descricao":"IDPROCESSOLICITATORIO","columnName":"IDPROCESSOLICITATORIO","columnValue":"IDPROCESSOLICITATORIO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"INTEGER","tipoEnum":null,"valorPadrao":null,"escondido":true,"agrupador":false},{"posicao":11,"descricao":"Modalidade","columnName":"MODALIDADE","columnValue":"MODALIDADE","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":12,"descricao":"Unidade Administrativa","columnName":"ORGAO","columnValue":"ORGAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":{"chaveDestino":"unidade-ver","columnOrigem":"IDUNIDADE","columnDestino":"ho.id"},"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":13,"descricao":"IDUNIDADE","columnName":"IDUNIDADE","columnValue":"IDUNIDADE","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":true,"agrupador":false},{"posicao":14,"descricao":"Regime de Execução","columnName":"REGIMEEXECUCAO","columnValue":"REGIMEEXECUCAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":15,"descricao":"Objeto","columnName":"OBJETO","columnValue":"OBJETO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":16,"descricao":"Valor","columnName":"VALOR","columnValue":"VALOR","tipoAlinhamento":"ESQUERDA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":17,"descricao":"Variação Atual","columnName":"VARIACAO","columnValue":"VARIACAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":18,"descricao":"Valor Atual","columnName":"VALORATUAL","columnValue":"VALORATUAL","tipoAlinhamento":"ESQUERDA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":19,"descricao":"Saldo Atual","columnName":"SALDOATUAL","columnValue":"SALDOATUAL","tipoAlinhamento":"ESQUERDA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":20,"descricao":"Fornecedor","columnName":"FORNECEDOR","columnValue":"FORNECEDOR","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":21,"descricao":"Responsável Unidade Administrativa","columnName":"RESPONSAVELUNIDADE","columnValue":"RESPONSAVELUNIDADE","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":22,"descricao":"Responsável pelo Fornecedor","columnName":"RESPONSAVELFORNECEDOR","columnValue":"RESPONSAVELFORNECEDOR","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":23,"descricao":"Início de Vigência","columnName":"INICIOVIGENCIA","columnValue":"INICIOVIGENCIA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":24,"descricao":"Término de Vigência","columnName":"TERMINOVIGENCIA","columnValue":"TERMINOVIGENCIA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":25,"descricao":"Término de Vigência Atual","columnName":"TERMINOVIGENCIAATUAL","columnValue":"TERMINOVIGENCIAATUAL","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":26,"descricao":"Início de Execução","columnName":"INICIOEXECUCAO","columnValue":"INICIOEXECUCAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":27,"descricao":"Término de Execução","columnName":"TERMINOEXECUCAO","columnValue":"TERMINOEXECUCAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":28,"descricao":"Término de Execução Atual","columnName":"TERMINOEXECUCAOATUAL","columnValue":"TERMINOEXECUCAOATUAL","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":29,"descricao":"Local de Entrega/Execução","columnName":"LOCALENTREGA","columnValue":"LOCALENTREGA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":30,"descricao":"Observações","columnName":"FUNCAMENTOLEGAL","columnValue":"FUNCAMENTOLEGAL","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false}],"pesquisaveis":[],';
    textoTabs CLOB := '"tabs":[{"titulo":"Itens","subTitulo":"","consulta":"select obj.codigo || '' - '' || obj.descricao as objetoCompra,\r\n       ic.tipocontrole as tipoControle,\r\n       ic.quantidadetotalcontrato as quantidadeTotal,\r\n       ic.valorunitario,\r\n       ic.valortotal\r\nfrom contrato c\r\n         inner join itemcontrato ic on ic.contrato_id = c.id\r\n         left join itemcontratoitempropfornec icpf on ic.id = icpf.itemcontrato_id\r\n         left join itemcontratoitemirp iirp on iirp.itemcontrato_id = ic.id\r\n         left join itemcontratoadesaoataint iata on iata.itemcontrato_id = ic.id\r\n         left join itempropfornec ipf on coalesce(icpf.itempropostafornecedor_id, iirp.itempropostafornecedor_id, iata.itempropostafornecedor_id) = ipf.id\r\n         left join itemcontratoitempropdisp icpd on ic.id = icpd.itemcontrato_id\r\n         left join itempropostafornedisp ipfd on icpd.itempropfornecdispensa_id = ipfd.id\r\n         left join itemprocessodecompra ipc on coalesce(ipf.itemprocessodecompra_id, ipfd.itemprocessodecompra_id) = ipc.id\r\n         left join itemsolicitacao its on ipc.itemsolicitacaomaterial_id = its.id\r\n         left join itemcontratoitemsolext icse on ic.id = icse.itemcontrato_id\r\n         left join itemsolicitacaoexterno ise on icse.itemsolicitacaoexterno_id = ise.id\r\n         left join itemcontratovigente icv on ic.id = icv.itemcontrato_id\r\n         left join itemcotacao itcot on itcot.id = icv.itemcotacao_id\r\n         inner join objetocompra obj on obj.id = coalesce(ic.objetocompracontrato_id, its.objetocompra_id, ise.objetocompra_id, itcot.objetocompra_id)\r\n$WHERE\r\norder by to_number(obj.codigo)","count":"select count(ic.id)\r\nfrom contrato c\r\n         inner join itemcontrato ic on ic.contrato_id = c.id\r\n         left join itemcontratoitempropfornec icpf on ic.id = icpf.itemcontrato_id\r\n         left join itemcontratoitemirp iirp on iirp.itemcontrato_id = ic.id\r\n         left join itemcontratoadesaoataint iata on iata.itemcontrato_id = ic.id\r\n         left join itempropfornec ipf on coalesce(icpf.itempropostafornecedor_id, iirp.itempropostafornecedor_id, iata.itempropostafornecedor_id) = ipf.id\r\n         left join itemcontratoitempropdisp icpd on ic.id = icpd.itemcontrato_id\r\n         left join itempropostafornedisp ipfd on icpd.itempropfornecdispensa_id = ipfd.id\r\n         left join itemprocessodecompra ipc on coalesce(ipf.itemprocessodecompra_id, ipfd.itemprocessodecompra_id) = ipc.id\r\n         left join itemsolicitacao its on ipc.itemsolicitacaomaterial_id = its.id\r\n         left join itemcontratoitemsolext icse on ic.id = icse.itemcontrato_id\r\n         left join itemsolicitacaoexterno ise on icse.itemsolicitacaoexterno_id = ise.id\r\n         left join itemcontratovigente icv on ic.id = icv.itemcontrato_id\r\n         left join itemcotacao itcot on itcot.id = icv.itemcotacao_id\r\n         inner join objetocompra obj on obj.id = coalesce(ic.objetocompracontrato_id, its.objetocompra_id, ise.objetocompra_id, itcot.objetocompra_id)\r\n$WHERE","totalRegistros":null,"ordem":1,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Objeto de Compta","columnName":"OBJETOCOMPRA","columnValue":"OBJETOCOMPRA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":2,"descricao":"Tipo de Controle","columnName":"TIPOCONTROLE","columnValue":"TIPOCONTROLE","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":3,"descricao":"Quantidade","columnName":"QUANTIDADETOTAL","columnValue":"QUANTIDADETOTAL","tipoAlinhamento":"DIREITA","totalizar":false,"link":null,"tipo":"DECIMAL","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":4,"descricao":"Valor Unitário","columnName":"VALORUNITARIO","columnValue":"VALORUNITARIO","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":5,"descricao":"Valor Total","columnName":"VALORTOTAL","columnValue":"VALORTOTAL","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false}]},{"titulo":"Execuções","subTitulo":"","consulta":"select dados.numero,\r\n       dados.datalancamento,\r\n       dados.tipo,\r\n       coalesce(sum(dados.valorExecutado), 0) as valorExecutado,\r\n       coalesce(sum(dados.valorEstornoExecucao), 0) as valorEstornoExecucao,\r\n       coalesce(sum(dados.valorEmpenhado), 0) as valorEmpenhado,\r\n       coalesce(sum(dados.valorEstornoEmpenho), 0) as valorEstornoEmpenho,\r\n       coalesce(sum(dados.valorExecutado), 0) - coalesce(sum(dados.valorEstornoExecucao), 0) - coalesce(sum(dados.valorEmpenhado), 0) + coalesce(sum(dados.valorEstornoEmpenho), 0) as saldoAEmpenhar,\r\n       coalesce(sum(dados.valorExecutado), 0) - coalesce(sum(dados.valorEstornoExecucao), 0) as totalExecutado\r\nfrom (select ec.contrato_id as idContrato,\r\n             ec.numero,\r\n             ec.datalancamento,\r\n             ec.origem as tipo,\r\n             ec.valor  as valorExecutado,\r\n             0         as valorEstornoExecucao,\r\n             0         as valorEmpenhado,\r\n             0         as valorEstornoEmpenho\r\n      from execucaocontrato ec\r\n\r\n      union all\r\n      select ec.contrato_id as idContrato,\r\n             ec.numero,\r\n             ec.datalancamento,\r\n             ec.origem      as tipo,\r\n             0              as valorExecutado,\r\n             est.valortotal as valorEstornoExecucao,\r\n             0              as valorEmpenhado,\r\n             0              as valorEstornoEmpenho\r\n      from execucaocontrato ec\r\n               inner join execucaocontratoestorno est on est.execucaocontrato_id = ec.id\r\n\r\n      union all\r\n      select ec.contrato_id         as idContrato,\r\n             ec.numero,\r\n             ec.datalancamento,\r\n             ec.origem              as tipo,\r\n             0                      as valorExecutado,\r\n             0                      as valorEstornoExecucao,\r\n             coalesce(emp.valor, 0) as valorEmpenhado,\r\n             0                      as valorEstornoEmpenho\r\n      from execucaocontrato ec\r\n               inner join execucaocontratoempenho exemp on exemp.execucaocontrato_id = ec.id\r\n               inner join solicitacaoempenho sol on exemp.solicitacaoempenho_id = sol.id\r\n               left join empenho emp on exemp.empenho_id = emp.id\r\n\r\n      union all\r\n      select ec.contrato_id                      as idContrato,\r\n             ec.numero,\r\n             ec.datalancamento,\r\n             ec.origem                 as tipo,\r\n             0                         as valorExecutado,\r\n             0                         as valorEstornoExecucao,\r\n             0                         as valorEmpenhado,\r\n             coalesce(estEmp.valor, 0) as valorEstornoEmpenho\r\n      from execucaocontrato ec\r\n               inner join execucaocontratoempenho exemp on exemp.execucaocontrato_id = ec.id\r\n               inner join solicitacaoempenho sol on exemp.solicitacaoempenho_id = sol.id\r\n               left join empenhoestorno estEmp on estEmp.empenho_id = exemp.empenho_id) dados\r\ninner join contrato c on c.id = dados.idContrato\r\n$WHERE\r\ngroup by dados.numero, dados.datalancamento, dados.tipo\r\norder by numero","count":"select count(1)\r\nfrom (select ec.contrato_id as idContrato,\r\n             ec.numero,\r\n             ec.datalancamento,\r\n             ec.origem as tipo,\r\n             ec.valor  as valorExecutado,\r\n             0         as valorEstornoExecucao,\r\n             0         as valorEmpenhado,\r\n             0         as valorEstornoEmpenho\r\n      from execucaocontrato ec\r\n\r\n      union all\r\n      select ec.contrato_id as idContrato,\r\n             ec.numero,\r\n             ec.datalancamento,\r\n             ec.origem      as tipo,\r\n             0              as valorExecutado,\r\n             est.valortotal as valorEstornoExecucao,\r\n             0              as valorEmpenhado,\r\n             0              as valorEstornoEmpenho\r\n      from execucaocontrato ec\r\n               inner join execucaocontratoestorno est on est.execucaocontrato_id = ec.id\r\n\r\n      union all\r\n      select ec.contrato_id         as idContrato,\r\n             ec.numero,\r\n             ec.datalancamento,\r\n             ec.origem              as tipo,\r\n             0                      as valorExecutado,\r\n             0                      as valorEstornoExecucao,\r\n             coalesce(emp.valor, 0) as valorEmpenhado,\r\n             0                      as valorEstornoEmpenho\r\n      from execucaocontrato ec\r\n               inner join execucaocontratoempenho exemp on exemp.execucaocontrato_id = ec.id\r\n               inner join solicitacaoempenho sol on exemp.solicitacaoempenho_id = sol.id\r\n               left join empenho emp on exemp.empenho_id = emp.id\r\n\r\n      union all\r\n      select ec.contrato_id                      as idContrato,\r\n             ec.numero,\r\n             ec.datalancamento,\r\n             ec.origem                 as tipo,\r\n             0                         as valorExecutado,\r\n             0                         as valorEstornoExecucao,\r\n             0                         as valorEmpenhado,\r\n             coalesce(estEmp.valor, 0) as valorEstornoEmpenho\r\n      from execucaocontrato ec\r\n               inner join execucaocontratoempenho exemp on exemp.execucaocontrato_id = ec.id\r\n               inner join solicitacaoempenho sol on exemp.solicitacaoempenho_id = sol.id\r\n               left join empenhoestorno estEmp on estEmp.empenho_id = exemp.empenho_id) dados\r\ninner join contrato c on c.id = dados.idContrato\r\n$WHERE","totalRegistros":null,"ordem":2,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Número","columnName":"NUMERO","columnValue":"NUMERO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":2,"descricao":"Data de Lançamento","columnName":"DATALANCAMENTO","columnValue":"DATALANCAMENTO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":3,"descricao":"Tipo","columnName":"TIPO","columnValue":"TIPO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":4,"descricao":"Valor da Execução","columnName":"VALOREXECUTADO","columnValue":"VALOREXECUTADO","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":5,"descricao":"Valor Estorno Execução","columnName":"VALORESTORNOEXECUCAO","columnValue":"VALORESTORNOEXECUCAO","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":6,"descricao":"Valor Empenhado","columnName":"VALOREMPENHADO","columnValue":"VALOREMPENHADO","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":7,"descricao":"Valor Estorno Empenho","columnName":"VALORESTORNOEMPENHO","columnValue":"VALORESTORNOEMPENHO","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":8,"descricao":"Saldo a Empenhar","columnName":"SALDOAEMPENHAR","columnValue":"SALDOAEMPENHAR","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":9,"descricao":"Total Executado","columnName":"TOTALEXECUTADO","columnValue":"TOTALEXECUTADO","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false}]},{"titulo":"Unidades","subTitulo":"","consulta":"select\r\n    vwAdm.codigo || '' - '' || vwAdm.descricao as unidade,\r\n    uc.iniciovigencia,\r\n    uc.fimvigencia\r\nfrom contrato c\r\n         inner join unidadecontrato uc on uc.contrato_id = c.id\r\n         inner join unidadeorganizacional uo on uo.id = uc.unidadeAdministrativa_id\r\n         inner join vwhierarquiaadministrativa vwAdm on vwAdm.subordinada_id = uo.id\r\nwhere trunc(coalesce(uc.fimvigencia, uc.iniciovigencia)) between trunc(vwAdm.iniciovigencia) and coalesce(trunc(vwAdm.fimvigencia), trunc(coalesce(uc.fimvigencia, uc.iniciovigencia)))\r\n$WHERE","count":"select count(uc.id)\r\nfrom contrato c\r\n         inner join unidadecontrato uc on uc.contrato_id = c.id\r\n         inner join unidadeorganizacional uo on uo.id = uc.unidadeAdministrativa_id\r\n         inner join vwhierarquiaadministrativa vwAdm on vwAdm.subordinada_id = uo.id\r\nwhere trunc(coalesce(uc.fimvigencia, uc.iniciovigencia)) between trunc(vwAdm.iniciovigencia) and coalesce(trunc(vwAdm.fimvigencia), trunc(coalesce(uc.fimvigencia, uc.iniciovigencia)))\r\n$WHERE","totalRegistros":null,"ordem":3,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Unidade Administrativa","columnName":"UNIDADE","columnValue":"UNIDADE","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":2,"descricao":"Início de Vigência","columnName":"INICIOVIGENCIA","columnValue":"INICIOVIGENCIA","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":3,"descricao":"Fim de Vigência","columnName":"FIMVIGENCIA","columnValue":"FIMVIGENCIA","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false}]},{"titulo":"Aditivos","subTitulo":"","consulta":"select\r\n    ac.numerotermo || ''/'' || ex.ano as numero,\r\n    ac.situacao,\r\n    ac.datalancamento,\r\n    ac.dataaprovacao,\r\n    ac.datadeferimento,\r\n    coalesce(sum(item.valortotal), 0) as valor,\r\n    ac.id as idAlteracao\r\nfrom contrato c\r\n         inner join alteracaocontratual ac on ac.contrato_id = c.id\r\n         left join exercicio ex on ex.id = ac.exercicio_id\r\n         left join movimentoalteracaocont mov on mov.alteracaocontratual_id = ac.id\r\n         left join movimentoalteracaocontitem item on item.movimentoalteracaocont_id = mov.id\r\nwhere ac.tipoalteracaocontratual = ''ADITIVO''\r\n$WHERE\r\ngroup by ac.numerotermo || ''/'' || ex.ano, ac.situacao, ac.datalancamento, ac.dataaprovacao, ac.datadeferimento, ac.id","count":"select count(ac.id)\r\nfrom contrato c\r\n         inner join alteracaocontratual ac on ac.contrato_id = c.id\r\n         left join exercicio ex on ex.id = ac.exercicio_id\r\n         left join movimentoalteracaocont mov on mov.alteracaocontratual_id = ac.id\r\n         left join movimentoalteracaocontitem item on item.movimentoalteracaocont_id = mov.id\r\nwhere ac.tipoalteracaocontratual = ''ADITIVO''\r\n$WHERE","totalRegistros":null,"ordem":4,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Número","columnName":"NUMERO","columnValue":"NUMERO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":{"chaveDestino":"alteracao-contratual-ver","columnOrigem":"IDALTERACAO","columnDestino":"ac.id"},"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":2,"descricao":"Situação","columnName":"SITUACAO","columnValue":"SITUACAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.entidades.SituacaoContrato","valorPadrao":[],"escondido":false,"agrupador":false},{"posicao":3,"descricao":"Data de Lançamento","columnName":"DATALANCAMENTO","columnValue":"DATALANCAMENTO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":4,"descricao":"Data de Aprovação","columnName":"DATAAPROVACAO","columnValue":"DATAAPROVACAO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":5,"descricao":"Data de Deferimento","columnName":"DATADEFERIMENTO","columnValue":"DATADEFERIMENTO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":6,"descricao":"Valor","columnName":"VALOR","columnValue":"VALOR","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":7,"descricao":"IDALTERACAO","columnName":"IDALTERACAO","columnValue":"IDALTERACAO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"INTEGER","tipoEnum":null,"valorPadrao":null,"escondido":true,"agrupador":false}]},{"titulo":"Apostilamento","subTitulo":"","consulta":"select\r\n    ac.numerotermo || ''/'' || ex.ano as numero,\r\n    ac.situacao,\r\n    ac.datalancamento,\r\n    ac.dataaprovacao,\r\n    ac.datadeferimento,\r\n    coalesce(sum(item.valortotal), 0) as valor,\r\n    ac.id as idAlteracao\r\nfrom contrato c\r\n         inner join alteracaocontratual ac on ac.contrato_id = c.id\r\n         left join exercicio ex on ex.id = ac.exercicio_id\r\n         left join movimentoalteracaocont mov on mov.alteracaocontratual_id = ac.id\r\n         left join movimentoalteracaocontitem item on item.movimentoalteracaocont_id = mov.id\r\nwhere ac.tipoalteracaocontratual = ''APOSTILAMENTO''\r\n$WHERE\r\ngroup by ac.numerotermo || ''/'' || ex.ano, ac.situacao, ac.datalancamento, ac.dataaprovacao, ac.datadeferimento, ac.id","count":"select count(ac.id)\r\nfrom contrato c\r\n         inner join alteracaocontratual ac on ac.contrato_id = c.id\r\n         left join exercicio ex on ex.id = ac.exercicio_id\r\n         left join movimentoalteracaocont mov on mov.alteracaocontratual_id = ac.id\r\n         left join movimentoalteracaocontitem item on item.movimentoalteracaocont_id = mov.id\r\nwhere ac.tipoalteracaocontratual = ''APOSTILAMENTO''\r\n$WHERE","totalRegistros":null,"ordem":5,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Número","columnName":"NUMERO","columnValue":"NUMERO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":{"chaveDestino":"alteracao-contratual-ver","columnOrigem":"IDALTERACAO","columnDestino":"ac.id"},"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":2,"descricao":"Situação","columnName":"SITUACAO","columnValue":"SITUACAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.entidades.SituacaoContrato","valorPadrao":[],"escondido":false,"agrupador":false},{"posicao":3,"descricao":"Data de Lançamento","columnName":"DATALANCAMENTO","columnValue":"DATALANCAMENTO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":4,"descricao":"Data de Aprovação","columnName":"DATAAPROVACAO","columnValue":"DATAAPROVACAO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":5,"descricao":"Data de Deferimento","columnName":"DATADEFERIMENTO","columnValue":"DATADEFERIMENTO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":6,"descricao":"Valor","columnName":"VALOR","columnValue":"VALOR","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":7,"descricao":"IDALTERACAO","columnName":"IDALTERACAO","columnValue":"IDALTERACAO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"INTEGER","tipoEnum":null,"valorPadrao":null,"escondido":true,"agrupador":false}]},{"titulo":"Publicações","subTitulo":"","consulta":"select\r\n    pc.datapublicacao,\r\n    vp.nome as veiculodepublicacao,\r\n    pc.numero,\r\n    pc.pagina\r\nfrom contrato c\r\n         inner join publicacaocontrato pc on pc.contrato_id = c.id\r\n         inner join veiculodepublicacao vp on vp.id = pc.veiculodepublicacao_id\r\n$WHERE","count":"select count(pc.id)\r\nfrom contrato c\r\n         inner join publicacaocontrato pc on pc.contrato_id = c.id\r\n         inner join veiculodepublicacao vp on vp.id = pc.veiculodepublicacao_id\r\n$WHERE","totalRegistros":null,"ordem":6,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Data da Publicação","columnName":"DATAPUBLICACAO","columnValue":"DATAPUBLICACAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":2,"descricao":"Veículo de Publicação","columnName":"VEICULODEPUBLICACAO","columnValue":"VEICULODEPUBLICACAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":3,"descricao":"Número","columnName":"NUMERO","columnValue":"NUMERO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"INTEGER","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":4,"descricao":"Página","columnName":"PAGINA","columnValue":"PAGINA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"INTEGER","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false}]},';
    textoTabsExecucaoOrc CLOB := '{"titulo":"Empenhos","subTitulo":"","consulta":"select dados.tipoOperacao, \r\n       dados.exercicio,\r\n       dados.numero,\r\n       to_char(dados.dataReferencia, ''dd/MM/yyyy'') as DATAREFERENCIA,\r\n       dados.fonte,\r\n       dados.fornecedor,\r\n       dados.valor\r\nfrom (select distinct ec.contrato_id as idContrato,\r\n             emp.id as idEmpenho,\r\n              ''Normal'' as tipoOperacao,\r\n             ex.ano as exercicio,\r\n             emp.numero,\r\n             emp.dataempenho as dataReferencia,\r\n             do.codigo || '' - '' || cdesp.codigo || '' - '' || contacdd.codigo || '' - '' || contacdd.descricao || fdr.codigo || '' - '' || fdr.descricao as fonte,\r\n             coalesce(pf.NOME, pj.RAZAOSOCIAL) as fornecedor,\r\n             emp.valor\r\n      from execucaocontrato ec\r\n               inner join execucaocontratoempenho exemp on exemp.execucaocontrato_id = ec.id\r\n               inner join solicitacaoempenho sol on exemp.solicitacaoempenho_id = sol.id\r\n               inner join empenho emp on exemp.empenho_id = emp.id\r\n               inner join exercicio ex on ex.id = emp.exercicio_id\r\n               inner join fontedespesaorc fdo on fdo.id = emp.fontedespesaorc_id\r\n               inner join despesaorc do on do.id = fdo.despesaorc_id\r\n               inner join provisaoppadespesa ppd on ppd.id = do.provisaoppadespesa_id\r\n               inner join conta cdesp on cdesp.id = ppd.contadedespesa_id\r\n               inner join provisaoppafonte ppf on ppf.id = fdo.provisaoppafonte_id\r\n               inner join contadedestinacao cdd on cdd.id = ppf.destinacaoderecursos_id\r\n               inner join conta contacdd on cdd.id = contacdd.id\r\n               inner join fontederecursos fdr on fdr.id = cdd.fontederecursos_id\r\n               inner join pessoa p on p.id = emp.fornecedor_id\r\n               left join pessoafisica pf on pf.id = p.id\r\n               left join pessoajuridica pj on pj.id = p.id\r\n\r\n      union all\r\n      select distinct ec.contrato_id as idContrato,\r\n             estemp.id as idEmpenho,\r\n             ''Estorno'' as tipoOperacao,\r\n             ex.ano as exercicio,\r\n             estemp.numero,\r\n             estemp.dataestorno as dataReferencia,\r\n             do.codigo || '' - '' || cdesp.codigo || '' - '' || contacdd.codigo || '' - '' || contacdd.descricao || fdr.codigo || '' - '' || fdr.descricao as fonte,\r\n             coalesce(pf.NOME, pj.RAZAOSOCIAL) as fornecedor,\r\n             estemp.valor\r\n      from execucaocontrato ec\r\n               inner join execucaocontratoempenho exemp on exemp.execucaocontrato_id = ec.id\r\n               inner join solicitacaoempenho sol on exemp.solicitacaoempenho_id = sol.id\r\n               inner join empenhoestorno estemp on estemp.empenho_id = exemp.empenho_id\r\n               inner join empenho emp on emp.id = estemp.empenho_id\r\n               inner join exercicio ex on ex.id = emp.exercicio_id\r\n               inner join fontedespesaorc fdo on fdo.id = emp.fontedespesaorc_id\r\n               inner join despesaorc do on do.id = fdo.despesaorc_id\r\n               inner join provisaoppadespesa ppd on ppd.id = do.provisaoppadespesa_id\r\n               inner join conta cdesp on cdesp.id = ppd.contadedespesa_id\r\n               inner join provisaoppafonte ppf on ppf.id = fdo.provisaoppafonte_id\r\n               inner join contadedestinacao cdd on cdd.id = ppf.destinacaoderecursos_id\r\n               inner join conta contacdd on cdd.id = contacdd.id\r\n               inner join fontederecursos fdr on fdr.id = cdd.fontederecursos_id\r\n               inner join pessoa p on p.id = emp.fornecedor_id\r\n               left join pessoafisica pf on pf.id = p.id\r\n               left join pessoajuridica pj on pj.id = p.id\r\n      ) dados inner join contrato c on c.id = dados.idContrato\r\n    $WHERE\r\norder by dados.dataReferencia desc, numero","count":"select count(dados.idEmpenho)\r\nfrom (select distinct ec.contrato_id as idContrato,\r\n             emp.id as idEmpenho,\r\n              ''Normal'' as tipoOperacao,\r\n             ex.ano as exercicio,\r\n             emp.numero,\r\n             emp.dataempenho as dataReferencia,\r\n             do.codigo || '' - '' || cdesp.codigo || '' - '' || contacdd.codigo || '' - '' || contacdd.descricao || fdr.codigo || '' - '' || fdr.descricao as fonte,\r\n             coalesce(pf.NOME, pj.RAZAOSOCIAL) as fornecedor,\r\n             emp.valor\r\n      from execucaocontrato ec\r\n               inner join execucaocontratoempenho exemp on exemp.execucaocontrato_id = ec.id\r\n               inner join solicitacaoempenho sol on exemp.solicitacaoempenho_id = sol.id\r\n               inner join empenho emp on exemp.empenho_id = emp.id\r\n               inner join exercicio ex on ex.id = emp.exercicio_id\r\n               inner join fontedespesaorc fdo on fdo.id = emp.fontedespesaorc_id\r\n               inner join despesaorc do on do.id = fdo.despesaorc_id\r\n               inner join provisaoppadespesa ppd on ppd.id = do.provisaoppadespesa_id\r\n               inner join conta cdesp on cdesp.id = ppd.contadedespesa_id\r\n               inner join provisaoppafonte ppf on ppf.id = fdo.provisaoppafonte_id\r\n               inner join contadedestinacao cdd on cdd.id = ppf.destinacaoderecursos_id\r\n               inner join conta contacdd on cdd.id = contacdd.id\r\n               inner join fontederecursos fdr on fdr.id = cdd.fontederecursos_id\r\n               inner join pessoa p on p.id = emp.fornecedor_id\r\n               left join pessoafisica pf on pf.id = p.id\r\n               left join pessoajuridica pj on pj.id = p.id\r\n\r\n      union all\r\n      select distinct ec.contrato_id as idContrato,\r\n             emp.id as idEmpenho,\r\n             ''Estorno'' as tipoOperacao,\r\n             ex.ano as exercicio,\r\n             estemp.numero,\r\n             estemp.dataestorno as dataReferencia,\r\n             do.codigo || '' - '' || cdesp.codigo || '' - '' || contacdd.codigo || '' - '' || contacdd.descricao || fdr.codigo || '' - '' || fdr.descricao as fonte,\r\n             coalesce(pf.NOME, pj.RAZAOSOCIAL) as fornecedor,\r\n             estemp.valor\r\n      from execucaocontrato ec\r\n               inner join execucaocontratoempenho exemp on exemp.execucaocontrato_id = ec.id\r\n               inner join solicitacaoempenho sol on exemp.solicitacaoempenho_id = sol.id\r\n               inner join empenhoestorno estemp on estemp.empenho_id = exemp.empenho_id\r\n               inner join empenho emp on emp.id = estemp.empenho_id\r\n               inner join exercicio ex on ex.id = emp.exercicio_id\r\n               inner join fontedespesaorc fdo on fdo.id = emp.fontedespesaorc_id\r\n               inner join despesaorc do on do.id = fdo.despesaorc_id\r\n               inner join provisaoppadespesa ppd on ppd.id = do.provisaoppadespesa_id\r\n               inner join conta cdesp on cdesp.id = ppd.contadedespesa_id\r\n               inner join provisaoppafonte ppf on ppf.id = fdo.provisaoppafonte_id\r\n               inner join contadedestinacao cdd on cdd.id = ppf.destinacaoderecursos_id\r\n               inner join conta contacdd on cdd.id = contacdd.id\r\n               inner join fontederecursos fdr on fdr.id = cdd.fontederecursos_id\r\n               inner join pessoa p on p.id = emp.fornecedor_id\r\n               left join pessoafisica pf on pf.id = p.id\r\n               left join pessoajuridica pj on pj.id = p.id\r\n      ) dados inner join contrato c on c.id = dados.idContrato\r\n    $WHERE","totalRegistros":null,"ordem":7,"pesquisaveis":[],"fields":[{"posicao":0,"descricao":"Tipo","columnName":"TIPOOPERACAO","columnValue":"TIPOOPERACAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":1,"descricao":"Exercício","columnName":"EXERCICIO","columnValue":"EXERCICIO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"INTEGER","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":2,"descricao":"Número","columnName":"NUMERO","columnValue":"NUMERO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":3,"descricao":"Data","columnName":"DATAREFERENCIA","columnValue":"DATAREFERENCIA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":4,"descricao":"Fonte","columnName":"FONTE","columnValue":"FONTE","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":5,"descricao":"Fornecedor","columnName":"FORNECEDOR","columnValue":"FORNECEDOR","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":6,"descricao":"Valor","columnName":"VALOR","columnValue":"VALOR","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false}]},{"titulo":"Liquidações","subTitulo":"","consulta":"select dados.tipoOperacao,\r\n       dados.exercicio,\r\n       dados.numero,\r\n       to_char(dados.dataReferencia, ''dd/MM/yyyy'') as datareferencia,\r\n       dados.empenho,\r\n       dados.valor\r\nfrom (select distinct ec.contrato_id as idContrato,\r\n                      liq.id as idReferencia,\r\n                      ''Normal'' as tipoOperacao,\r\n                      ex.ano as exercicio,\r\n                      liq.numero,\r\n                      liq.dataliquidacao as dataReferencia,\r\n                      ''N° '' || emp.NUMERO || '' - '' || FORMATACPFCNPJ(coalesce(pfEmp.CPF, pjEmp.CNPJ)) || '' - '' || coalesce(pfEmp.NOME, pjEmp.RAZAOSOCIAL) || '' - '' || to_char(emp.DATAEMPENHO, ''dd/MM/yyyy'') || '' - R$ '' || emp.VALOR || '' - '' || cDesp.CODIGO || '' - '' || cDesp.DESCRICAO as empenho,\r\n                      liq.valor\r\n      from execucaocontrato ec\r\n               inner join execucaocontratoempenho exemp on exemp.execucaocontrato_id = ec.id\r\n               inner join solicitacaoempenho sol on exemp.solicitacaoempenho_id = sol.id\r\n               inner join empenho emp on exemp.empenho_id = emp.id\r\n               inner join pessoa pEmp on pEmp.ID = emp.FORNECEDOR_ID\r\n               left join PESSOAFISICA pfEmp on pEmp.ID = pfEmp.ID\r\n               left join PESSOAJURIDICA pjEmp on pEmp.ID = pjEmp.ID\r\n               inner join despesaORC do on do.ID = emp.DESPESAORC_ID\r\n               inner join ProvisaoPPADespesa ppd on ppd.ID = do.PROVISAOPPADESPESA_ID\r\n               inner join conta cDesp on cDesp.ID = ppd.CONTADEDESPESA_ID\r\n               inner join liquidacao liq on liq.empenho_id = emp.id\r\n               inner join exercicio ex on ex.id = liq.exercicio_id\r\n\r\n      union all\r\n      select distinct ec.contrato_id as idContrato,\r\n                      estLiq.id as idReferencia,\r\n                      ''Estorno'' as tipoOperacao,\r\n                      ex.ano as exercicio,\r\n                      estLiq.numero,\r\n                      estLiq.dataestorno as dataReferencia,\r\n                      ''N° '' || emp.NUMERO || '' - '' || FORMATACPFCNPJ(coalesce(pfEmp.CPF, pjEmp.CNPJ)) || '' - '' || coalesce(pfEmp.NOME, pjEmp.RAZAOSOCIAL) || '' - '' || to_char(emp.DATAEMPENHO, ''dd/MM/yyyy'') || '' - R$ '' || emp.VALOR || '' - '' || cDesp.CODIGO || '' - '' || cDesp.DESCRICAO as empenho,\r\n                      estLiq.valor\r\n      from execucaocontrato ec\r\n               inner join execucaocontratoempenho exemp on exemp.execucaocontrato_id = ec.id\r\n               inner join solicitacaoempenho sol on exemp.solicitacaoempenho_id = sol.id\r\n               inner join empenhoestorno estemp on estemp.empenho_id = exemp.empenho_id\r\n               inner join empenho emp on exemp.empenho_id = emp.id\r\n               inner join pessoa pEmp on pEmp.ID = emp.FORNECEDOR_ID\r\n               left join PESSOAFISICA pfEmp on pEmp.ID = pfEmp.ID\r\n               left join PESSOAJURIDICA pjEmp on pEmp.ID = pjEmp.ID\r\n               inner join despesaORC do on do.ID = emp.DESPESAORC_ID\r\n               inner join ProvisaoPPADespesa ppd on ppd.ID = do.PROVISAOPPADESPESA_ID\r\n               inner join conta cDesp on cDesp.ID = ppd.CONTADEDESPESA_ID\r\n               inner join liquidacao liq on liq.empenho_id = emp.id\r\n               inner join liquidacaoestorno estLiq on estLiq.id = liq.id\r\n               inner join exercicio ex on ex.id = estLiq.exercicio_id\r\n     ) dados inner join contrato c on c.id = dados.idContrato\r\n    $WHERE\r\norder by dados.dataReferencia desc, numero","count":"select count(dados.idReferencia)\r\nfrom (select distinct ec.contrato_id as idContrato,\r\n                      liq.id as idReferencia,\r\n                      ''Normal'' as tipoOperacao,\r\n                      ex.ano as exercicio,\r\n                      liq.numero,\r\n                      liq.dataliquidacao as dataReferencia,\r\n                      ''N° '' || emp.NUMERO || '' - '' || FORMATACPFCNPJ(coalesce(pfEmp.CPF, pjEmp.CNPJ)) || '' - '' || coalesce(pfEmp.NOME, pjEmp.RAZAOSOCIAL) || '' - '' || to_char(emp.DATAEMPENHO, ''dd/MM/yyyy'') || '' - R$ '' || emp.VALOR || '' - '' || cDesp.CODIGO || '' - '' || cDesp.DESCRICAO as empenho,\r\n                      liq.valor\r\n      from execucaocontrato ec\r\n               inner join execucaocontratoempenho exemp on exemp.execucaocontrato_id = ec.id\r\n               inner join solicitacaoempenho sol on exemp.solicitacaoempenho_id = sol.id\r\n               inner join empenho emp on exemp.empenho_id = emp.id\r\n               inner join pessoa pEmp on pEmp.ID = emp.FORNECEDOR_ID\r\n               left join PESSOAFISICA pfEmp on pEmp.ID = pfEmp.ID\r\n               left join PESSOAJURIDICA pjEmp on pEmp.ID = pjEmp.ID\r\n               inner join despesaORC do on do.ID = emp.DESPESAORC_ID\r\n               inner join ProvisaoPPADespesa ppd on ppd.ID = do.PROVISAOPPADESPESA_ID\r\n               inner join conta cDesp on cDesp.ID = ppd.CONTADEDESPESA_ID\r\n               inner join liquidacao liq on liq.empenho_id = emp.id\r\n               inner join exercicio ex on ex.id = liq.exercicio_id\r\n\r\n      union all\r\n      select distinct ec.contrato_id as idContrato,\r\n                      estLiq.id as idReferencia,\r\n                      ''Estorno'' as tipoOperacao,\r\n                      ex.ano as exercicio,\r\n                      estLiq.numero,\r\n                      estLiq.dataestorno as dataReferencia,\r\n                      ''N° '' || emp.NUMERO || '' - '' || FORMATACPFCNPJ(coalesce(pfEmp.CPF, pjEmp.CNPJ)) || '' - '' || coalesce(pfEmp.NOME, pjEmp.RAZAOSOCIAL) || '' - '' || to_char(emp.DATAEMPENHO, ''dd/MM/yyyy'') || '' - R$ '' || emp.VALOR || '' - '' || cDesp.CODIGO || '' - '' || cDesp.DESCRICAO as empenho,\r\n                      estLiq.valor\r\n      from execucaocontrato ec\r\n               inner join execucaocontratoempenho exemp on exemp.execucaocontrato_id = ec.id\r\n               inner join solicitacaoempenho sol on exemp.solicitacaoempenho_id = sol.id\r\n               inner join empenhoestorno estemp on estemp.empenho_id = exemp.empenho_id\r\n               inner join empenho emp on exemp.empenho_id = emp.id\r\n               inner join pessoa pEmp on pEmp.ID = emp.FORNECEDOR_ID\r\n               left join PESSOAFISICA pfEmp on pEmp.ID = pfEmp.ID\r\n               left join PESSOAJURIDICA pjEmp on pEmp.ID = pjEmp.ID\r\n               inner join despesaORC do on do.ID = emp.DESPESAORC_ID\r\n               inner join ProvisaoPPADespesa ppd on ppd.ID = do.PROVISAOPPADESPESA_ID\r\n               inner join conta cDesp on cDesp.ID = ppd.CONTADEDESPESA_ID\r\n               inner join liquidacao liq on liq.empenho_id = emp.id\r\n               inner join liquidacaoestorno estLiq on estLiq.id = liq.id\r\n               inner join exercicio ex on ex.id = estLiq.exercicio_id\r\n     ) dados inner join contrato c on c.id = dados.idContrato\r\n    $WHERE","totalRegistros":null,"ordem":8,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Tipo","columnName":"TIPOOPERACAO","columnValue":"TIPOOPERACAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":2,"descricao":"Exercício","columnName":"EXERCICIO","columnValue":"EXERCICIO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"INTEGER","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":3,"descricao":"Número","columnName":"NUMERO","columnValue":"NUMERO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":4,"descricao":"Data","columnName":"DATAREFERENCIA","columnValue":"DATAREFERENCIA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":5,"descricao":"Empenho","columnName":"EMPENHO","columnValue":"EMPENHO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":6,"descricao":"Valor","columnName":"VALOR","columnValue":"VALOR","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false}]},{"titulo":"Pagamentos","subTitulo":"","consulta":"select dados.tipoOperacao,\r\n       dados.exercicio,\r\n       dados.numero,\r\n       to_char(dados.dataReferencia, ''dd/MM/yyyy'') as datareferencia,\r\n       dados.situacao,\r\n       dados.liquidacao,\r\n       dados.valor\r\nfrom (select distinct ec.contrato_id as idContrato,\r\n                      pag.id as idReferencia,\r\n                      ''Normal'' as tipoOperacao,\r\n                      ex.ano as exercicio,\r\n                      pag.numeropagamento as numero,\r\n                      coalesce(pag.datapagamento, pag.dataregistro) as dataReferencia,\r\n                      pag.status as situacao,\r\n                      ''N° '' || liq.NUMERO || '' - '' || coalesce(pfEmp.NOME, pjEmp.RAZAOSOCIAL) || '' - '' || to_char(liq.DATALIQUIDACAO, ''dd/MM/yyyy'') || '' - R$ '' || liq.VALOR as liquidacao,\r\n                      pag.valorfinal as valor\r\n      from execucaocontrato ec\r\n               inner join execucaocontratoempenho exemp on exemp.execucaocontrato_id = ec.id\r\n               inner join solicitacaoempenho sol on exemp.solicitacaoempenho_id = sol.id\r\n               inner join empenho emp on exemp.empenho_id = emp.id\r\n               inner join pessoa pEmp on pEmp.ID = emp.FORNECEDOR_ID\r\n               left join pessoafisica pfEmp on pEmp.ID = pfEmp.ID\r\n               left join pessoajuridica pjEmp on pEmp.ID = pjEmp.ID\r\n               inner join despesaORC do on do.ID = emp.DESPESAORC_ID\r\n               inner join ProvisaoPPADespesa ppd on ppd.ID = do.PROVISAOPPADESPESA_ID\r\n               inner join conta cDesp on cDesp.ID = ppd.CONTADEDESPESA_ID\r\n               inner join liquidacao liq on liq.empenho_id = emp.id\r\n               inner join pagamento pag on pag.liquidacao_id = liq.id\r\n               inner join exercicio ex on ex.id = pag.exercicio_id\r\n               left join contacorrentebancaria ccb on ccb.id = pag.contapgto_id\r\n               left join agencia ag on ag.id = ccb.agencia_id\r\n               left join banco bc on bc.id = ag.banco_id\r\n      union all\r\n      select distinct ec.contrato_id as idContrato,\r\n                      estPag.id as idReferencia,\r\n                      ''Estorno'' as tipoOperacao,\r\n                      ex.ano as exercicio,\r\n                      estPag.numero,\r\n                      estPag.dataestorno as dataReferencia,\r\n                      pag.status as situacao,\r\n                      ''N° '' || liq.NUMERO || '' - '' || coalesce(pfEmp.NOME, pjEmp.RAZAOSOCIAL) || '' - '' || to_char(liq.DATALIQUIDACAO, ''dd/MM/yyyy'') || '' - R$ '' || liq.VALOR as liquidacao,\r\n                      estPag.valorfinal as valor\r\n      from execucaocontrato ec\r\n               inner join execucaocontratoempenho exemp on exemp.execucaocontrato_id = ec.id\r\n               inner join solicitacaoempenho sol on exemp.solicitacaoempenho_id = sol.id\r\n               inner join empenhoestorno estemp on estemp.empenho_id = exemp.empenho_id\r\n               inner join empenho emp on exemp.empenho_id = emp.id\r\n               inner join pessoa pEmp on pEmp.ID = emp.FORNECEDOR_ID\r\n               left join pessoafisica pfEmp on pEmp.ID = pfEmp.ID\r\n               left join pessoajuridica pjEmp on pEmp.ID = pjEmp.ID\r\n               inner join despesaORC do on do.ID = emp.DESPESAORC_ID\r\n               inner join ProvisaoPPADespesa ppd on ppd.ID = do.PROVISAOPPADESPESA_ID\r\n               inner join conta cDesp on cDesp.ID = ppd.CONTADEDESPESA_ID\r\n               inner join liquidacao liq on liq.empenho_id = emp.id\r\n               inner join pagamento pag on pag.liquidacao_id = liq.id\r\n               inner join pagamentoestorno estPag on estPag.pagamento_id = pag.id\r\n               inner join exercicio ex on ex.id = estPag.exercicio_id\r\n               left join contacorrentebancaria ccb on ccb.id = pag.contapgto_id\r\n               left join agencia ag on ag.id = ccb.agencia_id\r\n               left join banco bc on bc.id = ag.banco_id\r\n     ) dados inner join contrato c on c.id = dados.idContrato\r\n$WHERE\r\norder by dados.dataReferencia desc, numero","count":"select count(dados.idreferencia)\r\nfrom (select distinct ec.contrato_id as idContrato,\r\n                      pag.id as idReferencia,\r\n                      ''Normal'' as tipoOperacao,\r\n                      ex.ano as exercicio,\r\n                      pag.numeropagamento as numero,\r\n                      coalesce(pag.datapagamento, pag.dataregistro) as dataReferencia,\r\n                      pag.status as situacao,\r\n                      ''N° '' || liq.NUMERO || '' - '' || coalesce(pfEmp.NOME, pjEmp.RAZAOSOCIAL) || '' - '' || to_char(liq.DATALIQUIDACAO, ''dd/MM/yyyy'') || '' - R$ '' || liq.VALOR as liquidacao,\r\n                      pag.valorfinal as valor\r\n      from execucaocontrato ec\r\n               inner join execucaocontratoempenho exemp on exemp.execucaocontrato_id = ec.id\r\n               inner join solicitacaoempenho sol on exemp.solicitacaoempenho_id = sol.id\r\n               inner join empenho emp on exemp.empenho_id = emp.id\r\n               inner join pessoa pEmp on pEmp.ID = emp.FORNECEDOR_ID\r\n               left join pessoafisica pfEmp on pEmp.ID = pfEmp.ID\r\n               left join pessoajuridica pjEmp on pEmp.ID = pjEmp.ID\r\n               inner join despesaORC do on do.ID = emp.DESPESAORC_ID\r\n               inner join ProvisaoPPADespesa ppd on ppd.ID = do.PROVISAOPPADESPESA_ID\r\n               inner join conta cDesp on cDesp.ID = ppd.CONTADEDESPESA_ID\r\n               inner join liquidacao liq on liq.empenho_id = emp.id\r\n               inner join pagamento pag on pag.liquidacao_id = liq.id\r\n               inner join exercicio ex on ex.id = pag.exercicio_id\r\n               left join contacorrentebancaria ccb on ccb.id = pag.contapgto_id\r\n               left join agencia ag on ag.id = ccb.agencia_id\r\n               left join banco bc on bc.id = ag.banco_id\r\n      union all\r\n      select distinct ec.contrato_id as idContrato,\r\n                      estPag.id as idReferencia,\r\n                      ''Estorno'' as tipoOperacao,\r\n                      ex.ano as exercicio,\r\n                      estPag.numero,\r\n                      estPag.dataestorno as dataReferencia,\r\n                      pag.status as situacao,\r\n                      ''N° '' || liq.NUMERO || '' - '' || coalesce(pfEmp.NOME, pjEmp.RAZAOSOCIAL) || '' - '' || to_char(liq.DATALIQUIDACAO, ''dd/MM/yyyy'') || '' - R$ '' || liq.VALOR as liquidacao,\r\n                      estPag.valorfinal as valor\r\n      from execucaocontrato ec\r\n               inner join execucaocontratoempenho exemp on exemp.execucaocontrato_id = ec.id\r\n               inner join solicitacaoempenho sol on exemp.solicitacaoempenho_id = sol.id\r\n               inner join empenhoestorno estemp on estemp.empenho_id = exemp.empenho_id\r\n               inner join empenho emp on exemp.empenho_id = emp.id\r\n               inner join pessoa pEmp on pEmp.ID = emp.FORNECEDOR_ID\r\n               left join pessoafisica pfEmp on pEmp.ID = pfEmp.ID\r\n               left join pessoajuridica pjEmp on pEmp.ID = pjEmp.ID\r\n               inner join despesaORC do on do.ID = emp.DESPESAORC_ID\r\n               inner join ProvisaoPPADespesa ppd on ppd.ID = do.PROVISAOPPADESPESA_ID\r\n               inner join conta cDesp on cDesp.ID = ppd.CONTADEDESPESA_ID\r\n               inner join liquidacao liq on liq.empenho_id = emp.id\r\n               inner join pagamento pag on pag.liquidacao_id = liq.id\r\n               inner join pagamentoestorno estPag on estPag.pagamento_id = pag.id\r\n               inner join exercicio ex on ex.id = estPag.exercicio_id\r\n               left join contacorrentebancaria ccb on ccb.id = pag.contapgto_id\r\n               left join agencia ag on ag.id = ccb.agencia_id\r\n               left join banco bc on bc.id = ag.banco_id\r\n     ) dados inner join contrato c on c.id = dados.idContrato\r\n$WHERE","totalRegistros":null,"ordem":9,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Tipo","columnName":"TIPOOPERACAO","columnValue":"TIPOOPERACAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":2,"descricao":"Exercício","columnName":"EXERCICIO","columnValue":"EXERCICIO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"INTEGER","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":3,"descricao":"Número","columnName":"NUMERO","columnValue":"NUMERO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":4,"descricao":"Data","columnName":"DATAREFERENCIA","columnValue":"DATAREFERENCIA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":5,"descricao":"Situação","columnName":"SITUACAO","columnValue":"SITUACAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"StatusPagamento","valorPadrao":[],"escondido":false,"agrupador":false},{"posicao":6,"descricao":"Liquidação","columnName":"LIQUIDACAO","columnValue":"LIQUIDACAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":7,"descricao":"Valor","columnName":"VALOR","columnValue":"VALOR","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false}]}],"paineis":[]}';
BEGIN
    dbms_lob.append(texto,textoTabs);
    dbms_lob.append(texto,textoTabsExecucaoOrc);
update PAGINAPREFEITURAPORTAL set CONTEUDO = texto where NOME = 'Detalhes do Contrato' and CHAVE = 'contrato-ver';
END;
