DECLARE
texto CLOB := '{"consulta":"select\r\n    p.id as id,\r\n    coalesce(pf.nome, pj.razaosocial) as nomeRazao,\r\n    formatacpfcnpj(''***'' || substr(pf.cpf, 4, length(cpf) - 5) || ''**'') as cpfcnpjcensurado,\r\n    tel.telefone as telefone,\r\n    ec.logradouro || '' '' || ec.numero || '' '' || ec.complemento || '', '' || ec.bairro || '', '' || ec.localidade || '' - '' || ec.uf || '', '' || ec.cep as endereco,\r\n    formatacpfcnpj(coalesce(pf.cpf,pj.cnpj)) as cpfCnpj\r\nfrom pessoa p\r\n         left join pessoajuridica pj ON p.id = pj.id\r\n         left join pessoafisica pf ON p.id = pf.id\r\n         left join Telefone tel ON tel.id = p.telefonePrincipal_id\r\n         left join EnderecoCorreio ec ON ec.id = p.enderecoPrincipal_id\r\nwhere rownum = 1 $WHERE\r\norder by id desc","count":"select count(1) from (\r\nselect\r\n    p.id as id,\r\n    coalesce(pf.nome, pj.razaosocial) as nomeRazao,\r\n    formatacpfcnpj(''***'' || substr(pf.cpf, 4, length(cpf) - 5) || ''**'') as cpfcnpjcensurado,\r\n    tel.telefone as telefone,\r\n    ec.logradouro || '' '' || ec.numero || '' '' || ec.complemento || '', '' || ec.bairro || '', '' || ec.localidade || '' - '' || ec.uf || '', '' || ec.cep as endereco,\r\n    formatacpfcnpj(coalesce(pf.cpf,pj.cnpj)) as cpfCnpj\r\nfrom pessoa p\r\n         left join pessoajuridica pj ON p.id = pj.id\r\n         left join pessoafisica pf ON p.id = pf.id\r\n         left join Telefone tel ON tel.id = p.telefonePrincipal_id\r\n         left join EnderecoCorreio ec ON ec.id = p.enderecoPrincipal_id\r\nwhere rownum = 1 $WHERE\r\norder by id desc\r\n)","totalRegistros":1,"fields":[{"posicao":1,"descricao":"ID","columnName":"ID","columnValue":"ID","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":true,"agrupador":false},{"posicao":2,"descricao":"Nome/Razão Social","columnName":"NOMERAZAO","columnValue":"NOMERAZAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":3,"descricao":"CPF/CPNJ","columnName":"CPFCNPJCENSURADO","columnValue":"CPFCNPJCENSURADO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":4,"descricao":"Telefone","columnName":"TELEFONE","columnValue":"TELEFONE","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":5,"descricao":"Endereço","columnName":"ENDERECO","columnValue":"ENDERECO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":6,"descricao":"CPFCPNJ","columnName":"CPFCPNJ","columnValue":"CPFCPNJ","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":true,"agrupador":false}],"pesquisaveis":[],';
textoTabs CLOB := '"tabs":[{"titulo":"Empenhos","subTitulo":null,"consulta":"select\r\n    emp.numero as numero,\r\n    trunc(emp.dataempenho) as dataEmpenho,\r\n    emp.tipoempenho as tipoEmpenho,\r\n    fonte.codigo || '' - '' || fonte.descricao as fonte,\r\n    emp.valor as valor\r\nfrom empenho emp\r\n         inner join fonteDespesaORC fdOrc on emp.fonteDespesaORC_id = fdOrc.id\r\n         inner join provisaoPPAFonte proFonte on fdOrc.provisaoPPAFonte_id = proFonte.id\r\n         inner join ContaDeDestinacao cdd ON proFonte.destinacaoDeRecursos_id = cdd.id\r\n         inner join FonteDeRecursos fonte ON cdd.fonteDeRecursos_id = fonte.id\r\n         left join pessoafisica pf ON emp.fornecedor_id = pf.id\r\n         left join pessoajuridica pj ON emp.fornecedor_id = pj.id\r\nwhere trunc(emp.dataempenho) BETWEEN to_date(''01/01/$ANO'', ''dd/MM/yyyy'') AND to_date(''31/12/$ANO'', ''dd/MM/yyyy'')\r\n  and emp.unidadeOrganizacional_id in (select UNIDADE_ID from UNIDADEPREFEITURAPORTAL where PREFEITURA_ID = $PREFEITURAPORTAL_ID)\r\n  $WHERE\r\norder by to_number(emp.numero)","count":"select count(1) from (\r\nselect\r\n    emp.numero as numero,\r\n    trunc(emp.dataempenho) as dataEmpenho,\r\n    emp.tipoempenho as tipoEmpenho,\r\n    fonte.codigo || '' - '' || fonte.descricao as fonte,\r\n    emp.valor as valor\r\nfrom empenho emp\r\n         inner join fonteDespesaORC fdOrc on emp.fonteDespesaORC_id = fdOrc.id\r\n         inner join provisaoPPAFonte proFonte on fdOrc.provisaoPPAFonte_id = proFonte.id\r\n         inner join ContaDeDestinacao cdd ON proFonte.destinacaoDeRecursos_id = cdd.id\r\n         inner join FonteDeRecursos fonte ON cdd.fonteDeRecursos_id = fonte.id\r\n         left join pessoafisica pf ON emp.fornecedor_id = pf.id\r\n         left join pessoajuridica pj ON emp.fornecedor_id = pj.id\r\nwhere trunc(emp.dataempenho) BETWEEN to_date(''01/01/$ANO'', ''dd/MM/yyyy'') AND to_date(''31/12/$ANO'', ''dd/MM/yyyy'')\r\n  and emp.unidadeOrganizacional_id in (select UNIDADE_ID from UNIDADEPREFEITURAPORTAL where PREFEITURA_ID = $PREFEITURAPORTAL_ID)\r\n  $WHERE\r\norder by to_number(emp.numero)\r\n)","totalRegistros":null,"ordem":1,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Número","columnName":"NUMERO","columnValue":"NUMERO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":{"chaveDestino":"empenho-ver","columnOrigem":"NUMERO","columnDestino":"emp.numero"},"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":2,"descricao":"Data","columnName":"DATAEMPENHO","columnValue":"DATAEMPENHO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":3,"descricao":"Tipo de Empenho","columnName":"TIPOEMPENHO","columnValue":"TIPOEMPENHO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":4,"descricao":"Fonte","columnName":"FONTE","columnValue":"FONTE","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":5,"descricao":"Valor","columnName":"VALOR","columnValue":"VALOR","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false}]},{"titulo":"Estornos de Empenhos","subTitulo":null,"consulta":"select\r\n    est.numero as numero,\r\n    trunc(est.dataEstorno) as dataEstorno,\r\n    est.complementoHistorico as historico,\r\n    est.valor as valorEstorno,\r\n    ''Nº: '' || emp.numero || '', Data: '' || to_char(emp.dataempenho, ''dd/MM/yyyy'') || '', Valor: R$'' || emp.valor as empenho\r\nfrom empenhoestorno est\r\n         inner join empenho emp on est.empenho_id = emp.id\r\n         left join pessoafisica pf ON emp.fornecedor_id = pf.id\r\n         left join pessoajuridica pj ON emp.fornecedor_id = pj.id\r\nwhere trunc(est.dataEstorno) BETWEEN to_date(''01/01/$ANO'', ''dd/MM/yyyy'') AND to_date(''31/12/$ANO'', ''dd/MM/yyyy'')\r\n  and emp.unidadeOrganizacional_id in (select UNIDADE_ID from UNIDADEPREFEITURAPORTAL where PREFEITURA_ID = $PREFEITURAPORTAL_ID)\r\n    $WHERE\r\norder by to_number(est.numero)","count":"select count(1) from (\r\nselect\r\n    est.numero as numero,\r\n    trunc(est.dataEstorno) as dataEstorno,\r\n    est.complementoHistorico as historico,\r\n    est.valor as valorEstorno,\r\n    ''Nº: '' || emp.numero || '', Data: '' || to_char(emp.dataempenho, ''dd/MM/yyyy'') || '', Valor: R$'' || emp.valor as empenho\r\nfrom empenhoestorno est\r\n         inner join empenho emp on est.empenho_id = emp.id\r\n         left join pessoafisica pf ON emp.fornecedor_id = pf.id\r\n         left join pessoajuridica pj ON emp.fornecedor_id = pj.id\r\nwhere trunc(est.dataEstorno) BETWEEN to_date(''01/01/$ANO'', ''dd/MM/yyyy'') AND to_date(''31/12/$ANO'', ''dd/MM/yyyy'')\r\n  and emp.unidadeOrganizacional_id in (select UNIDADE_ID from UNIDADEPREFEITURAPORTAL where PREFEITURA_ID = $PREFEITURAPORTAL_ID)\r\n    $WHERE\r\norder by to_number(est.numero)\r\n)","totalRegistros":null,"ordem":2,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Número","columnName":"NUMERO","columnValue":"NUMERO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":{"chaveDestino":"empenho-estorno-ver","columnOrigem":"NUMERO","columnDestino":"est.numero"},"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":2,"descricao":"Data","columnName":"DATAESTORNO","columnValue":"DATAESTORNO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":3,"descricao":"Histórico","columnName":"HISTORICO","columnValue":"HISTORICO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":4,"descricao":"Valor\t","columnName":"VALORESTORNO","columnValue":"VALORESTORNO","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":5,"descricao":"Empenho","columnName":"EMPENHO","columnValue":"EMPENHO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false}]},{"titulo":"Liquidações","subTitulo":null,"consulta":"select\r\n    liq.numero as numero,\r\n    trunc(liq.dataLiquidacao) as dataLiquidacao,\r\n    liq.complemento as historico,\r\n    liq.valor as valor\r\nfrom liquidacao liq\r\n         inner join empenho emp on liq.empenho_id = emp.id\r\n         left join pessoafisica pf ON emp.fornecedor_id = pf.id\r\n         left join pessoajuridica pj ON emp.fornecedor_id = pj.id\r\nwhere trunc(liq.dataLiquidacao) BETWEEN to_date(''01/01/$ANO'', ''dd/MM/yyyy'') AND to_date(''31/12/$ANO'', ''dd/MM/yyyy'')\r\n  and emp.unidadeOrganizacional_id in (select UNIDADE_ID from UNIDADEPREFEITURAPORTAL where PREFEITURA_ID = $PREFEITURAPORTAL_ID)\r\n    $WHERE\r\norder by to_number(liq.numero)","count":"select count(1) from (\r\nselect\r\n    liq.numero as numero,\r\n    trunc(liq.dataLiquidacao) as dataLiquidacao,\r\n    liq.complemento as historico,\r\n    liq.valor as valor\r\nfrom liquidacao liq\r\n         inner join empenho emp on liq.empenho_id = emp.id\r\n         left join pessoafisica pf ON emp.fornecedor_id = pf.id\r\n         left join pessoajuridica pj ON emp.fornecedor_id = pj.id\r\nwhere trunc(liq.dataLiquidacao) BETWEEN to_date(''01/01/$ANO'', ''dd/MM/yyyy'') AND to_date(''31/12/$ANO'', ''dd/MM/yyyy'')\r\n  and emp.unidadeOrganizacional_id in (select UNIDADE_ID from UNIDADEPREFEITURAPORTAL where PREFEITURA_ID = $PREFEITURAPORTAL_ID)\r\n    $WHERE\r\norder by to_number(liq.numero)\r\n)","totalRegistros":null,"ordem":3,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Número","columnName":"NUMERO","columnValue":"NUMERO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":{"chaveDestino":"liquidacao-ver","columnOrigem":"NUMERO","columnDestino":"liq.numero"},"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":2,"descricao":"Data","columnName":"DATALIQUIDACAO","columnValue":"DATALIQUIDACAO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":3,"descricao":"Histórico","columnName":"HISTORICO","columnValue":"HISTORICO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":4,"descricao":"Valor","columnName":"VALOR","columnValue":"VALOR","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false}]},{"titulo":"Estornos de Liquidações","subTitulo":null,"consulta":"select\r\n    est.numero as numero,\r\n    trunc(est.dataEstorno) as dataEstorno,\r\n    est.complementoHistorico as historico,\r\n    est.valor as valor,\r\n    ''Nº: '' || liq.numero || '', Data: '' || to_char(liq.dataLiquidacao, ''dd/MM/yyyy'') || '', Valor: R$'' || liq.valor as liquidacao\r\nfrom liquidacaoEstorno est\r\n         inner join liquidacao liq on est.liquidacao_id = liq.id\r\n         inner join empenho emp on liq.empenho_id = emp.id\r\n         left join pessoafisica pf ON emp.fornecedor_id = pf.id\r\n         left join pessoajuridica pj ON emp.fornecedor_id = pj.id\r\nwhere trunc(est.dataEstorno) BETWEEN to_date(''01/01/$ANO'', ''dd/MM/yyyy'') AND to_date(''31/12/$ANO'', ''dd/MM/yyyy'')\r\n  and emp.unidadeOrganizacional_id in (select UNIDADE_ID from UNIDADEPREFEITURAPORTAL where PREFEITURA_ID = $PREFEITURAPORTAL_ID)\r\n    $WHERE\r\norder by to_number(est.numero)","count":"select count(1) from (\r\nselect\r\n    est.numero as numero,\r\n    trunc(est.dataEstorno) as dataEstorno,\r\n    est.complementoHistorico as historico,\r\n    est.valor as valor,\r\n    ''Nº: '' || liq.numero || '', Data: '' || to_char(liq.dataLiquidacao, ''dd/MM/yyyy'') || '', Valor: R$'' || liq.valor as liquidacao\r\nfrom liquidacaoEstorno est\r\n         inner join liquidacao liq on est.liquidacao_id = liq.id\r\n         inner join empenho emp on liq.empenho_id = emp.id\r\n         left join pessoafisica pf ON emp.fornecedor_id = pf.id\r\n         left join pessoajuridica pj ON emp.fornecedor_id = pj.id\r\nwhere trunc(est.dataEstorno) BETWEEN to_date(''01/01/$ANO'', ''dd/MM/yyyy'') AND to_date(''31/12/$ANO'', ''dd/MM/yyyy'')\r\n  and emp.unidadeOrganizacional_id in (select UNIDADE_ID from UNIDADEPREFEITURAPORTAL where PREFEITURA_ID = $PREFEITURAPORTAL_ID)\r\n    $WHERE\r\norder by to_number(est.numero)\r\n)","totalRegistros":null,"ordem":4,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Número","columnName":"NUMERO","columnValue":"NUMERO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":{"chaveDestino":"liquidacao-estorno-ver","columnOrigem":"NUMERO","columnDestino":"est.numero"},"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":2,"descricao":"Data","columnName":"DATAESTORNO","columnValue":"DATAESTORNO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":3,"descricao":"Histórico","columnName":"HISTORICO","columnValue":"HISTORICO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":4,"descricao":"Valor","columnName":"VALOR","columnValue":"VALOR","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":5,"descricao":"Liquidação","columnName":"LIQUIDACAO","columnValue":"LIQUIDACAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false}]},{"titulo":"Pagamentos","subTitulo":null,"consulta":"select\r\n    pag.numeroPagamento as numero,\r\n    trunc(pag.dataPagamento) as dataPagamento,\r\n    trunc(pag.dataConciliacao) as dataConciliacao,\r\n    pag.complementoHistorico as historico,\r\n    pag.valor as valor,\r\n    pag.tipoDocPagto as tipoDocumento,\r\n    pag.tipoOperacaoPagto as operacao\r\nfrom pagamento pag\r\n         inner join liquidacao liq on pag.liquidacao_id = liq.id\r\n         inner join empenho emp on liq.empenho_id = emp.id\r\n         left join pessoafisica pf ON emp.fornecedor_id = pf.id\r\n         left join pessoajuridica pj ON emp.fornecedor_id = pj.id\r\nwhere trunc(pag.dataPagamento) BETWEEN to_date(''01/01/$ANO'', ''dd/MM/yyyy'') AND to_date(''31/12/$ANO'', ''dd/MM/yyyy'')\r\n  and emp.unidadeOrganizacional_id in (select UNIDADE_ID from UNIDADEPREFEITURAPORTAL where PREFEITURA_ID = $PREFEITURAPORTAL_ID)\r\n    $WHERE\r\norder by to_number(pag.numeroPagamento)","count":"select count(1) from (\r\nselect\r\n    pag.numeroPagamento as numero,\r\n    trunc(pag.dataPagamento) as dataPagamento,\r\n    trunc(pag.dataConciliacao) as dataConciliacao,\r\n    pag.complementoHistorico as historico,\r\n    pag.valor as valor,\r\n    pag.tipoDocPagto as tipoDocumento,\r\n    pag.tipoOperacaoPagto as operacao\r\nfrom pagamento pag\r\n         inner join liquidacao liq on pag.liquidacao_id = liq.id\r\n         inner join empenho emp on liq.empenho_id = emp.id\r\n         left join pessoafisica pf ON emp.fornecedor_id = pf.id\r\n         left join pessoajuridica pj ON emp.fornecedor_id = pj.id\r\nwhere trunc(pag.dataPagamento) BETWEEN to_date(''01/01/$ANO'', ''dd/MM/yyyy'') AND to_date(''31/12/$ANO'', ''dd/MM/yyyy'')\r\n  and emp.unidadeOrganizacional_id in (select UNIDADE_ID from UNIDADEPREFEITURAPORTAL where PREFEITURA_ID = $PREFEITURAPORTAL_ID)\r\n    $WHERE\r\norder by to_number(pag.numeroPagamento)\r\n)","totalRegistros":null,"ordem":5,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Número","columnName":"NUMERO","columnValue":"NUMERO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":{"chaveDestino":"pagamento-ver","columnOrigem":"NUMERO","columnDestino":"pag.numeroPagamento"},"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":2,"descricao":"Data","columnName":"DATAPAGAMENTO","columnValue":"DATAPAGAMENTO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":3,"descricao":"Data da Baixa","columnName":"DATACONCILIACAO","columnValue":"DATACONCILIACAO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":4,"descricao":"Histórico","columnName":"HISTORICO","columnValue":"HISTORICO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":5,"descricao":"Valor","columnName":"VALOR","columnValue":"VALOR","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":6,"descricao":"Tipo de Documento","columnName":"TIPODOCUMENTO","columnValue":"TIPODOCUMENTO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.TipoDocPagto","valorPadrao":[null,"CHEQUE","CAIXA","ORDEMPAGAMENTO","INATIVO","DOC","TED","DEBITOEMCONTA","FATURA","CONVENIO","GPS","DARF","DARF_SIMPLES","DEPJU","GRU"],"escondido":false,"agrupador":false},{"posicao":7,"descricao":"Operação","columnName":"OPERACAO","columnValue":"OPERACAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.TipoOperacaoPagto","valorPadrao":[null,"NAO_APLICAVEL","BAIXA_PARA_REGULARIZACAO","CREDOR_OUTRO_BANCO","CREDOR_MESMO_BANCO","CREDOR_OUTRO_BANCO_NAO_CONTA_UNICA","CREDOR_MESMO_BANCO_NAO_CONTA_UNICA","LIQUIDACAO_NO_CAIXA","LIQUIDACAO_NO_CAIXA_NAO_CONTA_UNICA","PAGAMENTO_COM_AUTENTICACAO","PAGAMENTO_NAO_AUTENTICADO_NAO_CONTA_UNICA","PAGAMENTO_DE_GUIA_COM_CODIGO_DE_BARRA","PAGAMENTO_DE_GUIA_COM_CODIGO_DE_BARRA_NAO_CONTA_UNICA","PAGAMENTO_DE_GUIA_SEM_CODIGO_DE_BARRA","PAGAMENTO_DE_GUIA_SEM_CODIGO_DE_BARRA_NAO_CONTA_UNICA","TRANSFERENCIA_DE_RECURSO","TRANSFERENCIA_DE_RECURSOS_OB_LISTA","TRANSFERENCIA_DE_RECURSOS_OB_LISTA_NAO_CONTA_UNICA"],"escondido":false,"agrupador":false}]},{"titulo":"Estornos de Pagamentos","subTitulo":null,"consulta":"select\r\n    est.numero as numero,\r\n    trunc(est.dataEstorno) as dataEstorno,\r\n    est.complementoHistorico as historico,\r\n    est.valor as valor,\r\n    ''Nº: '' || pag.numeroPagamento || '', Data: '' || to_char(pag.dataPagamento, ''dd/MM/yyyy'') || '', Valor: R$'' || pag.valor as pagamento\r\nfrom pagamentoEstorno est\r\n         inner join pagamento pag on est.pagamento_id = pag.id\r\n         inner join liquidacao liq on pag.liquidacao_id = liq.id\r\n         inner join empenho emp on liq.empenho_id = emp.id\r\n         left join pessoafisica pf ON emp.fornecedor_id = pf.id\r\n         left join pessoajuridica pj ON emp.fornecedor_id = pj.id\r\nwhere trunc(pag.dataPagamento) BETWEEN to_date(''01/01/$ANO'', ''dd/MM/yyyy'') AND to_date(''31/12/$ANO'', ''dd/MM/yyyy'')\r\n  and emp.unidadeOrganizacional_id in (select UNIDADE_ID from UNIDADEPREFEITURAPORTAL where PREFEITURA_ID = $PREFEITURAPORTAL_ID)\r\n    $WHERE\r\norder by to_number(est.numero)","count":"select count(1) from (\r\nselect\r\n    est.numero as numero,\r\n    trunc(est.dataEstorno) as dataEstorno,\r\n    est.complementoHistorico as historico,\r\n    est.valor as valor,\r\n    ''Nº: '' || pag.numeroPagamento || '', Data: '' || to_char(pag.dataPagamento, ''dd/MM/yyyy'') || '', Valor: R$'' || pag.valor as pagamento\r\nfrom pagamentoEstorno est\r\n         inner join pagamento pag on est.pagamento_id = pag.id\r\n         inner join liquidacao liq on pag.liquidacao_id = liq.id\r\n         inner join empenho emp on liq.empenho_id = emp.id\r\n         left join pessoafisica pf ON emp.fornecedor_id = pf.id\r\n         left join pessoajuridica pj ON emp.fornecedor_id = pj.id\r\nwhere trunc(pag.dataPagamento) BETWEEN to_date(''01/01/$ANO'', ''dd/MM/yyyy'') AND to_date(''31/12/$ANO'', ''dd/MM/yyyy'')\r\n  and emp.unidadeOrganizacional_id in (select UNIDADE_ID from UNIDADEPREFEITURAPORTAL where PREFEITURA_ID = $PREFEITURAPORTAL_ID)\r\n    $WHERE\r\norder by to_number(est.numero)\r\n)","totalRegistros":null,"ordem":6,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Número","columnName":"NUMERO","columnValue":"NUMERO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":{"chaveDestino":"pagamento-estorno-ver","columnOrigem":"NUMERO","columnDestino":"est.numero"},"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":2,"descricao":"Data","columnName":"DATAESTORNO","columnValue":"DATAESTORNO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":3,"descricao":"Histórico","columnName":"HISTORICO","columnValue":"HISTORICO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":4,"descricao":"Valor","columnName":"VALOR","columnValue":"VALOR","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":5,"descricao":"Pagamento","columnName":"PAGAMENTO","columnValue":"PAGAMENTO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false}]},{"titulo":"Diárias","subTitulo":null,"consulta":"select\r\n    pcd.codigo as numero,\r\n    trunc(pcd.dataLancamento) as dataLancamento,\r\n    pcd.tipoProposta as tipoProposta,\r\n    vd.itinerario as itinerario,\r\n    pcd.objetivo as motivo,\r\n    case when vd.meioDeTransporte is null then ''OUTROS'' else vd.meioDeTransporte end as meioDeTransporte,\r\n    pcd.valor as valor,\r\n    to_char(vd.dataInicialSaida, ''dd/MM/yyyy HH24:mi:ss'') as saida,\r\n    to_char(vd.dataInicialRetorno, ''dd/MM/yyyy HH24:mi:ss'') as retorno\r\nfrom PropostaConcessaoDiaria pcd\r\n    inner join ViagemDiaria vd on vd.propostaConcessaoDiaria_id = pcd.id\r\n    left join pessoafisica pf ON pcd.pessoafisica_id = pf.id\r\n    left join pessoajuridica pj ON pcd.pessoafisica_id = pj.id\r\nwhere trunc(pcd.dataLancamento) BETWEEN to_date(''01/01/$ANO'', ''dd/MM/yyyy'') AND to_date(''31/12/$ANO'', ''dd/MM/yyyy'')\r\n  and pcd.unidadeOrganizacional_id in (select UNIDADE_ID from UNIDADEPREFEITURAPORTAL where PREFEITURA_ID = $PREFEITURAPORTAL_ID)\r\n    $WHERE\r\norder by to_number(pcd.codigo)","count":"select count(1) \r\nfrom PropostaConcessaoDiaria pcd\r\n    inner join ViagemDiaria vd on vd.propostaConcessaoDiaria_id = pcd.id\r\n    left join pessoafisica pf ON pcd.pessoafisica_id = pf.id\r\n    left join pessoajuridica pj ON pcd.pessoafisica_id = pj.id\r\nwhere trunc(pcd.dataLancamento) BETWEEN to_date(''01/01/$ANO'', ''dd/MM/yyyy'') AND to_date(''31/12/$ANO'', ''dd/MM/yyyy'')\r\n  and pcd.unidadeOrganizacional_id in (select UNIDADE_ID from UNIDADEPREFEITURAPORTAL where PREFEITURA_ID = $PREFEITURAPORTAL_ID)\r\n    $WHERE","totalRegistros":null,"ordem":7,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Número","columnName":"NUMERO","columnValue":"NUMERO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":{"chaveDestino":"diaria-ver","columnOrigem":"NUMERO","columnDestino":"pcd.codigo"},"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":2,"descricao":"Data","columnName":"DATALANCAMENTO","columnValue":"DATALANCAMENTO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":3,"descricao":"Tipo","columnName":"TIPOPROPOSTA","columnValue":"TIPOPROPOSTA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.TipoProposta","valorPadrao":[null,"SUPRIMENTO_FUNDO","CONCESSAO_DIARIA","CONCESSAO_DIARIACAMPO","COLABORADOR_EVENTUAL"],"escondido":false,"agrupador":false},{"posicao":4,"descricao":"Itinerário","columnName":"ITINERARIO","columnValue":"ITINERARIO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":5,"descricao":"Motivo","columnName":"MOTIVO","columnValue":"MOTIVO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":6,"descricao":"Meio de Transporte","columnName":"MEIODETRANSPORTE","columnValue":"MEIODETRANSPORTE","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.MeioDeTransporte","valorPadrao":[null,"AEREO","TERRESTRE","OUTROS"],"escondido":false,"agrupador":false},{"posicao":7,"descricao":"Valor","columnName":"VALOR","columnValue":"VALOR","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":8,"descricao":"Saída","columnName":"SAIDA","columnValue":"SAIDA","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":9,"descricao":"Retorno","columnName":"RETORNO","columnValue":"RETORNO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false}]},{"titulo":"Folhas de Pagamentos","subTitulo":null,"consulta":"select matricula,\r\n       modalidade,\r\n       mes,\r\n       ano,\r\n       tipoDeFolha,\r\n       dataAdmissao,\r\n       coalesce(sum(valorBruto),0) as valorBruto,\r\n       coalesce(sum(valorDesconto),0) as valorDesconto,\r\n       coalesce(sum(coalesce(valorBruto,0)) - sum(coalesce(valorDesconto,0)),0) as totalLiquido\r\nfrom (\r\n         select\r\n             mat.matricula || ''/'' || v.numero as matricula,\r\n             cedencia.TIPOCONTRATOCEDENCIAFP as modalidade,\r\n             folha.mes as mes,\r\n             folha.ano as ano,\r\n             folha.TIPOFOLHADEPAGAMENTO  as tipoDeFolha,\r\n             trunc(cfp.dataAdmissao)  as dataAdmissao,\r\n             (select sum(item.valor) from folhadepagamento folha inner join FichaFinanceiraFP ficha on ficha.folhadepagamento_id = folha.id\r\n                                                                 inner join itemfichafinanceirafp item on item.fichafinanceirafp_id = ficha.id\r\n              where ficha.vinculofp_id = v.id and item.id = itemFicha.id and item.tipoeventofp = ''VANTAGEM'') as valorBruto,\r\n             (select sum(item.valor) from folhadepagamento folha inner join FichaFinanceiraFP ficha on ficha.folhadepagamento_id = folha.id\r\n                                                                 inner join itemfichafinanceirafp item on item.fichafinanceirafp_id = ficha.id\r\n              where ficha.vinculofp_id = v.id and  item.id = itemFicha.id  and item.tipoeventofp = ''DESCONTO'') as valorDesconto\r\n         from vinculofp v\r\n                  inner join matriculafp mat on mat.id = v.matriculafp_id\r\n                  inner join pessoafisica pf on pf.id = mat.pessoa_id\r\n                  left join pessoajuridica pj ON mat.pessoa_id = pj.id\r\n                  inner join FichaFinanceiraFP ff on ff.vinculofp_id = v.id\r\n                  inner join folhadepagamento folha on folha.id  = ff.folhadepagamento_id\r\n                  inner join itemFichaFinanceiraFP itemFicha on itemFicha.FICHAFINANCEIRAFP_ID = ff.id\r\n                  inner join unidadeorganizacional uo on uo.id = ff.UNIDADEORGANIZACIONAL_ID\r\n                  inner join recursofp recfp on recfp.id = ff.RECURSOFP_ID\r\n                  inner join VWHIERARQUIAADMINISTRATIVA ho on ho.subordinada_id = uo.id\r\n                  left join CEDENCIACONTRATOFP cedencia on cedencia.CONTRATOFP_ID = v.id\r\n                  left join Aposentadoria aposent on aposent.id = v.id\r\n                  left join Pensionista pens on pens.id = v.id\r\n                  left join Pensao pen on pen.id = pens.pensao_id\r\n                  left join Estagiario estag on estag.id = v.id\r\n                  left join contratofp cfp on cfp.id = coalesce(aposent.contratofp_id, pen.contratofp_id, estag.id, v.id)\r\n         where trunc(folha.EFETIVADAEM) BETWEEN to_date(''01/01/$ANO'', ''dd/MM/yyyy'') AND to_date(''31/12/$ANO'', ''dd/MM/yyyy'')\r\n           and uo.id in (select UNIDADE_ID from UNIDADEPREFEITURAPORTAL where PREFEITURA_ID = $PREFEITURAPORTAL_ID)\r\n           and trunc(folha.EFETIVADAEM) BETWEEN ho.INICIOVIGENCIA and coalesce(ho.fimVIGENCIA, trunc(folha.EFETIVADAEM))\r\n             $WHERE\r\n     ) dados\r\ngroup by matricula, modalidade, mes, ano, tipoDeFolha, dataAdmissao","count":"select count(1)\r\nfrom (\r\n         select\r\n             mat.matricula || ''/'' || v.numero as matricula,\r\n             cedencia.TIPOCONTRATOCEDENCIAFP as modalidade,\r\n             folha.mes as mes,\r\n             folha.ano as ano,\r\n             folha.TIPOFOLHADEPAGAMENTO  as tipoDeFolha,\r\n             trunc(cfp.dataAdmissao)  as dataAdmissao,\r\n             (select sum(item.valor) from folhadepagamento folha inner join FichaFinanceiraFP ficha on ficha.folhadepagamento_id = folha.id\r\n                                                                 inner join itemfichafinanceirafp item on item.fichafinanceirafp_id = ficha.id\r\n              where ficha.vinculofp_id = v.id and item.id = itemFicha.id and item.tipoeventofp = ''VANTAGEM'') as valorBruto,\r\n             (select sum(item.valor) from folhadepagamento folha inner join FichaFinanceiraFP ficha on ficha.folhadepagamento_id = folha.id\r\n                                                                 inner join itemfichafinanceirafp item on item.fichafinanceirafp_id = ficha.id\r\n              where ficha.vinculofp_id = v.id and  item.id = itemFicha.id  and item.tipoeventofp = ''DESCONTO'') as valorDesconto\r\n         from vinculofp v\r\n                  inner join matriculafp mat on mat.id = v.matriculafp_id\r\n                  inner join pessoafisica pf on pf.id = mat.pessoa_id\r\n                  left join pessoajuridica pj ON mat.pessoa_id = pj.id\r\n                  inner join FichaFinanceiraFP ff on ff.vinculofp_id = v.id\r\n                  inner join folhadepagamento folha on folha.id  = ff.folhadepagamento_id\r\n                  inner join itemFichaFinanceiraFP itemFicha on itemFicha.FICHAFINANCEIRAFP_ID = ff.id\r\n                  inner join unidadeorganizacional uo on uo.id = ff.UNIDADEORGANIZACIONAL_ID\r\n                  inner join recursofp recfp on recfp.id = ff.RECURSOFP_ID\r\n                  inner join VWHIERARQUIAADMINISTRATIVA ho on ho.subordinada_id = uo.id\r\n                  left join CEDENCIACONTRATOFP cedencia on cedencia.CONTRATOFP_ID = v.id\r\n                  left join Aposentadoria aposent on aposent.id = v.id\r\n                  left join Pensionista pens on pens.id = v.id\r\n                  left join Pensao pen on pen.id = pens.pensao_id\r\n                  left join Estagiario estag on estag.id = v.id\r\n                  left join contratofp cfp on cfp.id = coalesce(aposent.contratofp_id, pen.contratofp_id, estag.id, v.id)\r\n         where trunc(folha.EFETIVADAEM) BETWEEN to_date(''01/01/$ANO'', ''dd/MM/yyyy'') AND to_date(''31/12/$ANO'', ''dd/MM/yyyy'')\r\n           and uo.id in (select UNIDADE_ID from UNIDADEPREFEITURAPORTAL where PREFEITURA_ID = $PREFEITURAPORTAL_ID)\r\n           and trunc(folha.EFETIVADAEM) BETWEEN ho.INICIOVIGENCIA and coalesce(ho.fimVIGENCIA, trunc(folha.EFETIVADAEM))\r\n             $WHERE\r\n     ) dados","totalRegistros":null,"ordem":8,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Matrícula/Contrato","columnName":"MATRICULA","columnValue":"MATRICULA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":2,"descricao":"Modalidade","columnName":"MODALIDADE","columnValue":"MODALIDADE","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":3,"descricao":"Mês","columnName":"MES","columnValue":"MES","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"INTEGER","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":4,"descricao":"Exercício","columnName":"ANO","columnValue":"ANO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"INTEGER","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":5,"descricao":"Tipo de Folha","columnName":"TIPODEFOLHA","columnValue":"TIPODEFOLHA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.TipoFolhaDePagamento","valorPadrao":[null,"NORMAL","COMPLEMENTAR","FERIAS","SALARIO_13","RESCISAO","ADIANTAMENTO_NORMAL","ADIANTAMENTO_FERIAS","ADIANTAMENTO_13_SALARIO","RESCISAO_COMPLEMENTAR","MANUAL"],"escondido":false,"agrupador":false},{"posicao":6,"descricao":"Admissão","columnName":"DATAADMISSAO","columnValue":"DATAADMISSAO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":7,"descricao":"Salário bruto","columnName":"VALORBRUTO","columnValue":"VALORBRUTO","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":8,"descricao":"Descontos","columnName":"VALORDESCONTO","columnValue":"VALORDESCONTO","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":9,"descricao":"Salário Liquído","columnName":"TOTALLIQUIDO","columnValue":"TOTALLIQUIDO","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false}]}],"paineis":[]}';
BEGIN
dbms_lob.append(texto,textoTabs);
update paginaprefeituraportal set conteudo = texto where nome = 'Ver Pessoa' and chave = 'pessoa-ver';
END;
