DECLARE
texto CLOB := '{"consulta":"select numero, numeroModalidade, exercicio, objeto, dataAbertura, modalidade, valor, secretaria, tipo, forma from (\r\nselect\r\n    coalesce(lic.numeroLicitacao, disp.numeroDaDispensa, regExt.numeroRegistro) as numero,\r\n    coalesce(lic.numero, disp.numeroDaDispensa, regext.numeromodalidade) as numeroModalidade,\r\n    ex.ano as exercicio,\r\n    coalesce(lic.resumoDoObjeto, disp.resumoDoObjeto, regExt.objeto) as objeto,\r\n    to_char(coalesce(lic.emitidaem, disp.datadadispensa, regext.dataregistrocarona),''dd/MM/yyyy HH24:mi:ss'') as dataAbertura,\r\n    coalesce(lic.modalidadeLicitacao, disp.modalidade, regExt.modalidadeCarona) as modalidade,\r\n    coalesce(sum(lic.valormaximo), sum(disp.valorMaximo), sum(ise.valortotal)) as valor,\r\n    vwAdm.codigo || '' - '' || vwAdm.descricao as secretaria,\r\n    coalesce(lic.tipoApuracao, disp.tipoDeApuracao, regExt.tipoApuracao) as tipo,\r\n    coalesce(lic.tipoAvaliacao, disp.tipoDeAvaliacao, regExt.tipoAvaliacao) as forma,\r\n    coalesce(lic.id, disp.id, regExt.id) as idProcessoLicitatorio\r\nfrom contrato c\r\n         left join conlicitacao conlic on c.id = conlic.CONTRATO_ID\r\n         left join licitacao lic on conlic.licitacao_id = lic.id\r\n         left join UnidadeLicitacao ul on ul.licitacao_id = lic.id\r\n    and trunc(lic.emitidaem) between trunc(ul.iniciovigencia) and coalesce(trunc(ul.fimvigencia), trunc(lic.emitidaem))\r\n         left join condispensalicitacao conDisp on condisp.contrato_id = c.id\r\n         left join dispensadelicitacao disp on disp.id = condisp.dispensadelicitacao_id\r\n         left join processoDeCompra pdc on pdc.id = disp.processoDeCompra_id\r\n         left join CONREGPRECOEXTERNO conReg on conreg.contrato_id = c.id\r\n         left join REGISTROSOLMATEXT regExt on regExt.id = conreg.regsolmatext_id\r\n         left join solicitacaomaterialext sol on sol.id = regExt.SOLICITACAOMATERIALEXTERNO_ID\r\n         left join itemsolicitacaoexterno ise on ise.SOLICITACAOMATERIALEXTERNO_ID = sol.id\r\n         left join exercicio ex on ex.id = coalesce(lic.exercicio_id, disp.exercicioDaDispensa_id, regExt.exercicioRegistro_id)\r\n         inner join vwhierarquiaadministrativa vwAdm on vwAdm.subordinada_id = coalesce(ul.unidadeAdministrativa_id, pdc.unidadeOrganizacional_id, regExt.unidadeOrganizacional_id)\r\n                and trunc(coalesce(lic.emitidaem, disp.datadadispensa, regext.dataregistrocarona)) between trunc(vwAdm.iniciovigencia) and coalesce(trunc(vwAdm.fimvigencia), trunc(coalesce(lic.emitidaem, disp.datadadispensa, regext.dataregistrocarona)))\r\ngroup by\r\n    coalesce(lic.numeroLicitacao, disp.numeroDaDispensa, regExt.numeroRegistro),\r\n    coalesce(lic.numero, disp.numeroDaDispensa, regext.numeromodalidade),\r\n    ex.ano,\r\n    coalesce(lic.resumoDoObjeto, disp.resumoDoObjeto, regExt.objeto),\r\n    coalesce(lic.emitidaem, disp.datadadispensa, regext.dataregistrocarona),\r\n    coalesce(lic.modalidadeLicitacao, disp.modalidade, regExt.modalidadeCarona),\r\n    vwAdm.codigo, vwAdm.descricao,\r\n    coalesce(lic.tipoApuracao, disp.tipoDeApuracao, regExt.tipoApuracao),\r\n    coalesce (lic.tipoAvaliacao, disp.tipoDeAvaliacao, regExt.tipoAvaliacao),\r\n    coalesce(lic.id, disp.id, regExt.id)\r\n    ) dados $WHERE","count":"select COUNT(1) from (\r\nselect\r\n    coalesce(lic.numeroLicitacao, disp.numeroDaDispensa, regExt.numeroRegistro) as numero,\r\n    coalesce(lic.numero, disp.numeroDaDispensa, regext.numeromodalidade) as numeroModalidade,\r\n    ex.ano as exercicio,\r\n    coalesce(lic.resumoDoObjeto, disp.resumoDoObjeto, regExt.objeto) as objeto,\r\n    to_char(coalesce(lic.emitidaem, disp.datadadispensa, regext.dataregistrocarona),''dd/MM/yyyy HH24:mi:ss'') as dataAbertura,\r\n    coalesce(lic.modalidadeLicitacao, disp.modalidade, regExt.modalidadeCarona) as modalidade,\r\n    coalesce(sum(lic.valormaximo), sum(disp.valorMaximo), sum(ise.valortotal)) as valor,\r\n    vwAdm.codigo || '' - '' || vwAdm.descricao as secretaria,\r\n    coalesce(lic.tipoApuracao, disp.tipoDeApuracao, regExt.tipoApuracao) as tipo,\r\n    coalesce(lic.tipoAvaliacao, disp.tipoDeAvaliacao, regExt.tipoAvaliacao) as forma,\r\n    coalesce(lic.id, disp.id, regExt.id) as idProcessoLicitatorio\r\nfrom contrato c\r\n         left join conlicitacao conlic on c.id = conlic.CONTRATO_ID\r\n         left join licitacao lic on conlic.licitacao_id = lic.id\r\n         left join UnidadeLicitacao ul on ul.licitacao_id = lic.id\r\n    and trunc(lic.emitidaem) between trunc(ul.iniciovigencia) and coalesce(trunc(ul.fimvigencia), trunc(lic.emitidaem))\r\n         left join condispensalicitacao conDisp on condisp.contrato_id = c.id\r\n         left join dispensadelicitacao disp on disp.id = condisp.dispensadelicitacao_id\r\n         left join processoDeCompra pdc on pdc.id = disp.processoDeCompra_id\r\n         left join CONREGPRECOEXTERNO conReg on conreg.contrato_id = c.id\r\n         left join REGISTROSOLMATEXT regExt on regExt.id = conreg.regsolmatext_id\r\n         left join solicitacaomaterialext sol on sol.id = regExt.SOLICITACAOMATERIALEXTERNO_ID\r\n         left join itemsolicitacaoexterno ise on ise.SOLICITACAOMATERIALEXTERNO_ID = sol.id\r\n         left join exercicio ex on ex.id = coalesce(lic.exercicio_id, disp.exercicioDaDispensa_id, regExt.exercicioRegistro_id)\r\n         inner join vwhierarquiaadministrativa vwAdm on vwAdm.subordinada_id = coalesce(ul.unidadeAdministrativa_id, pdc.unidadeOrganizacional_id, regExt.unidadeOrganizacional_id)\r\n                and trunc(coalesce(lic.emitidaem, disp.datadadispensa, regext.dataregistrocarona)) between trunc(vwAdm.iniciovigencia) and coalesce(trunc(vwAdm.fimvigencia), trunc(coalesce(lic.emitidaem, disp.datadadispensa, regext.dataregistrocarona)))\r\ngroup by\r\n    coalesce(lic.numeroLicitacao, disp.numeroDaDispensa, regExt.numeroRegistro),\r\n    coalesce(lic.numero, disp.numeroDaDispensa, regext.numeromodalidade),\r\n    ex.ano,\r\n    coalesce(lic.resumoDoObjeto, disp.resumoDoObjeto, regExt.objeto),\r\n    coalesce(lic.emitidaem, disp.datadadispensa, regext.dataregistrocarona),\r\n    coalesce(lic.modalidadeLicitacao, disp.modalidade, regExt.modalidadeCarona),\r\n    vwAdm.codigo, vwAdm.descricao,\r\n    coalesce(lic.tipoApuracao, disp.tipoDeApuracao, regExt.tipoApuracao),\r\n    coalesce (lic.tipoAvaliacao, disp.tipoDeAvaliacao, regExt.tipoAvaliacao),\r\n    coalesce(lic.id, disp.id, regExt.id)\r\n    ) dados $WHERE","totalRegistros":0,"fields":[{"posicao":1,"descricao":"Número","columnName":"NUMERO","columnValue":"NUMERO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"INTEGER","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":2,"descricao":"Número da Modalidade","columnName":"NUMEROMODALIDADE","columnValue":"NUMEROMODALIDADE","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"Exercício","columnName":"EXERCICIO","columnValue":"EXERCICIO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"INTEGER","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":4,"descricao":"Objeto","columnName":"OBJETO","columnValue":"OBJETO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":5,"descricao":"Data de Abertura","columnName":"DATAABERTURA","columnValue":"DATAABERTURA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":6,"descricao":"Modalidade","columnName":"MODALIDADE","columnValue":"MODALIDADE","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.ModalidadeLicitacao","valorPadrao":[null,"CONVITE","TOMADA_PRECO","CONCORRENCIA_PUBLICA","CONCURSO","PREGAO","DISPENSA_LICITACAO","INEXIGIBILIDADE","RDC"],"escondido":false},{"posicao":7,"descricao":"Valor","columnName":"VALOR","columnValue":"VALOR","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":8,"descricao":"Secretaria","columnName":"SECRETARIA","columnValue":"SECRETARIA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":9,"descricao":"Tipo","columnName":"TIPO","columnValue":"TIPO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.TipoApuracaoLicitacao","valorPadrao":[null,"ITEM","LOTE"],"escondido":false},{"posicao":10,"descricao":"Forma","columnName":"FORMA","columnValue":"FORMA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.TipoAvaliacaoLicitacao","valorPadrao":[null,"MENOR_PRECO","MELHOR_TECNICA","TECNICA_PRECO","MAIOR_LANCE_OFERTA","MAIOR_DESCONTO","MAIOR_OFERTA_DE_PRECO","MAIOR_RETORNO_ECONOMICO"],"escondido":false}],"pesquisaveis":[],';
    textoTabsFasePreparatoria
CLOB := '"tabs":[{"titulo":"Fase Preparatória","consulta":"select distinct tipo_processo, data_mov, numero, situacao, responsavel, unidade, ordenacao\r\nfrom (select ''IRP''                                                      as tipo_processo,\r\n             irp.id                                                     as id_movimento,\r\n             cast(irp.datalancamento as date)                           as data_mov,\r\n             irp.numero || ''/'' || extract(year from irp.datalancamento) as numero,\r\n             irp.situacaoirp                                            as situacao,\r\n             resp.nome                                                  as responsavel,\r\n             ho.codigo || '' - '' || ho.descricao                         as unidade,\r\n             1                                                          as ordenacao,\r\n             lic.id                                                     as idProcessoLicitatorio\r\n      from intencaoregistropreco irp\r\n               inner join unidadeirp unid on unid.intencaoregistropreco_id = irp.id\r\n               inner join hierarquiaorganizacional ho on ho.subordinada_id = unid.unidadegerenciadora_id\r\n                                                     and trunc(coalesce(irp.dataLancamento, irp.inicioVigencia)) between trunc(ho.iniciovigencia) and coalesce(trunc(ho.fimvigencia), trunc(coalesce(irp.dataLancamento, irp.inicioVigencia)))\r\n                                                     and trunc(coalesce(irp.dataLancamento, irp.inicioVigencia)) between trunc(unid.iniciovigencia) and coalesce(trunc(unid.fimvigencia), trunc(coalesce(irp.dataLancamento, irp.inicioVigencia)))\r\n                                                     and ho.tipohierarquiaorganizacional = ''ADMINISTRATIVA''\r\n               left join formulariocotacao fc on fc.intencaoregistropreco_id = irp.id\r\n               left join cotacao cot on cot.formulariocotacao_id = fc.id\r\n               left join solicitacaomaterial sol on sol.cotacao_id = cot.id\r\n               left join processodecompra pc on pc.solicitacaomaterial_id = sol.id\r\n               left join licitacao lic on lic.processodecompra_id = pc.id\r\n               left join conlicitacao cl on cl.licitacao_id = lic.id\r\n               left join dispensadelicitacao disp on disp.processodecompra_id = pc.id\r\n               left join condispensalicitacao cd on cd.dispensadelicitacao_id = disp.id\r\n               left join contrato cont on cont.id = coalesce(cl.contrato_id, cd.contrato_id)\r\n               left join exercicio ex on ex.id = fc.exercicio_id\r\n               left join usuariosistema usu on usu.id = irp.responsavel_id\r\n               left join pessoafisica resp on resp.id = usu.pessoafisica_id\r\n               left join avaliacaosolcompra ava on sol.ID = ava.SOLICITACAO_ID\r\n               left join dotsolmat dot on sol.ID = dot.SOLICITACAOMATERIAL_ID\r\n               left join parecerlicitacao pl on lic.ID = pl.LICITACAO_ID\r\n               left join ataregistropreco ata on lic.ID = ata.LICITACAO_ID\r\n               left join pregao pg on lic.ID = pg.LICITACAO_ID\r\n               left join certame cert on lic.id = cert.licitacao_id\r\n               left join MAPACOMTECPREC matec on lic.ID = matec.LICITACAO_ID\r\n               left join REPACTUACAOPRECO repac on ata.ID = repac.ATAREGISTROPRECO_ID\r\n               left join PROXIMOVENCEDORLICITACAO pvl on lic.ID = pvl.LICITACAO_ID\r\n               left join SOLICITACAOMATERIALEXT solad on ata.ID = solad.ATAREGISTROPRECO_ID\r\n               left join RECURSOLICITACAO rec on lic.ID = rec.LICITACAO_ID\r\n      union all\r\n      select ''FORMULARIO_COTACAO''               as tipo_processo,\r\n             fc.id                              as id_movimento,\r\n             cast(fc.dataformulario as date)    as data_mov,\r\n             fc.numero || ''/'' || ex.ano         as numero,\r\n             ''CONCLUIDO''                        as situacao,\r\n             resp.nome                          as responsavel,\r\n             ho.codigo || '' - '' || ho.descricao as unidade,\r\n             2                                  as ordenacao,\r\n             lic.id                             as idProcessoLicitatorio\r\n      from formulariocotacao fc\r\n               inner join hierarquiaorganizacional ho on ho.subordinada_id = fc.unidadeorganizacional_id\r\n                                                      and trunc(fc.dataformulario) between trunc(ho.iniciovigencia) and coalesce(trunc(ho.fimvigencia), trunc(fc.dataformulario))\r\n                                                      and ho.tipohierarquiaorganizacional = ''ADMINISTRATIVA''\r\n               left join cotacao cot on cot.formulariocotacao_id = fc.id\r\n               left join solicitacaomaterial sol on sol.cotacao_id = cot.id\r\n               left join processodecompra pc on pc.solicitacaomaterial_id = sol.id\r\n               left join licitacao lic on lic.processodecompra_id = pc.id\r\n               left join conlicitacao cl on cl.licitacao_id = lic.id\r\n               left join dispensadelicitacao disp on disp.processodecompra_id = pc.id\r\n               left join condispensalicitacao cd on cd.dispensadelicitacao_id = disp.id\r\n               left join contrato cont on cont.id = coalesce(cl.contrato_id, cd.contrato_id)\r\n               inner join exercicio ex on ex.id = fc.exercicio_id\r\n               left join usuariosistema usu on usu.id = fc.usuariocriacao_id\r\n               left join pessoafisica resp on resp.id = usu.pessoafisica_id\r\n               left join intencaoregistropreco irp on irp.id = fc.intencaoregistropreco_id\r\n               left join avaliacaosolcompra ava on sol.ID = ava.SOLICITACAO_ID\r\n               left join dotsolmat dot on sol.ID = dot.SOLICITACAOMATERIAL_ID\r\n               left join parecerlicitacao pl on lic.ID = pl.LICITACAO_ID\r\n               left join ataregistropreco ata on lic.ID = ata.LICITACAO_ID\r\n               left join pregao pg on lic.ID = pg.LICITACAO_ID\r\n               left join certame cert on lic.id = cert.licitacao_id\r\n               left join MAPACOMTECPREC matec on lic.ID = matec.LICITACAO_ID\r\n               left join REPACTUACAOPRECO repac on ata.ID = repac.ATAREGISTROPRECO_ID\r\n               left join PROXIMOVENCEDORLICITACAO pvl on lic.ID = pvl.LICITACAO_ID\r\n               left join SOLICITACAOMATERIALEXT solad on ata.ID = solad.ATAREGISTROPRECO_ID\r\n               left join RECURSOLICITACAO rec on lic.ID = rec.LICITACAO_ID\r\n      union all\r\n      select ''COTACAO''                          as tipo_processo,\r\n             cot.id                             as id_movimento,\r\n             cast(cot.datacotacao as date)      as data_mov,\r\n             cot.numero || ''/'' || ex.ano        as numero,\r\n             cot.situacao                       as situacao,\r\n             resp.nome                          as responsavel,\r\n             ho.codigo || '' - '' || ho.descricao as unidade,\r\n             3                                  as ordenacao,\r\n             lic.id                             as idProcessoLicitatorio\r\n      from cotacao cot\r\n               left join solicitacaomaterial sol on sol.cotacao_id = cot.id\r\n               inner join hierarquiaorganizacional ho on ho.subordinada_id = cot.unidadeorganizacional_id\r\n                                                      and trunc(cot.datacotacao) between trunc(ho.iniciovigencia) and coalesce(trunc(ho.fimvigencia), trunc(cot.datacotacao))\r\n                                                      and ho.tipohierarquiaorganizacional = ''ADMINISTRATIVA''\r\n               left join processodecompra pc on pc.solicitacaomaterial_id = sol.id\r\n               left join licitacao lic on lic.processodecompra_id = pc.id\r\n               left join conlicitacao cl on cl.licitacao_id = lic.id\r\n               left join dispensadelicitacao disp on disp.processodecompra_id = pc.id\r\n               left join condispensalicitacao cd on cd.dispensadelicitacao_id = disp.id\r\n               left join contrato cont on cont.id = coalesce(cl.contrato_id, cd.contrato_id)\r\n               inner join exercicio ex on ex.id = cot.exercicio_id\r\n               inner join formulariocotacao fc on fc.id = cot.formulariocotacao_id\r\n               left join usuariosistema usu on usu.id = fc.usuariocriacao_id\r\n               left join pessoafisica resp on resp.id = usu.pessoafisica_id\r\n               left join intencaoregistropreco irp on irp.id = fc.intencaoregistropreco_id\r\n               left join avaliacaosolcompra ava on sol.ID = ava.SOLICITACAO_ID\r\n               left join dotsolmat dot on sol.ID = dot.SOLICITACAOMATERIAL_ID\r\n               left join parecerlicitacao pl on lic.ID = pl.LICITACAO_ID\r\n               left join ataregistropreco ata on lic.ID = ata.LICITACAO_ID\r\n               left join pregao pg on lic.ID = pg.LICITACAO_ID\r\n               left join certame cert on lic.id = cert.licitacao_id\r\n               left join MAPACOMTECPREC matec on lic.ID = matec.LICITACAO_ID\r\n               left join REPACTUACAOPRECO repac on ata.ID = repac.ATAREGISTROPRECO_ID\r\n               left join PROXIMOVENCEDORLICITACAO pvl on lic.ID = pvl.LICITACAO_ID\r\n               left join SOLICITACAOMATERIALEXT solad on ata.ID = solad.ATAREGISTROPRECO_ID\r\n               left join RECURSOLICITACAO rec on lic.ID = rec.LICITACAO_ID\r\n      union all\r\n      select ''SOLICITACAO_COMPRA''               as tipo_processo,\r\n             sol.id                             as id_movimento,\r\n             cast(sol.datasolicitacao as date)  as data_mov,\r\n             sol.numero || ''/'' || ex.ano        as numero,\r\n             ava.tipostatussolicitacao          as situacao,\r\n             resp.nome                          as responsavel,\r\n             ho.codigo || '' - '' || ho.descricao as unidade,\r\n             4                                  as ordenacao,\r\n             lic.id                             as idProcessoLicitatorio\r\n      from solicitacaomaterial sol\r\n               inner join avaliacaosolcompra ava on ava.solicitacao_id = sol.id\r\n               inner join hierarquiaorganizacional ho on ho.subordinada_id = sol.unidadeorganizacional_id\r\n                                                      and trunc(sol.datasolicitacao) between trunc(ho.iniciovigencia) and coalesce(trunc(ho.fimvigencia), trunc(sol.datasolicitacao))\r\n                                                      and ho.tipohierarquiaorganizacional = ''ADMINISTRATIVA''\r\n               left join processodecompra pc on pc.solicitacaomaterial_id = sol.id\r\n               left join licitacao lic on lic.processodecompra_id = pc.id\r\n               left join conlicitacao cl on cl.licitacao_id = lic.id\r\n               left join dispensadelicitacao disp on disp.processodecompra_id = pc.id\r\n               left join condispensalicitacao cd on cd.dispensadelicitacao_id = disp.id\r\n               left join contrato cont on cont.id = coalesce(cl.contrato_id, cd.contrato_id)\r\n               left join usuariosistema usu on usu.id = sol.usuariocriacao_id\r\n               left join pessoafisica resp on resp.id = usu.pessoafisica_id\r\n               inner join exercicio ex on ex.id = sol.exercicio_id\r\n               inner join cotacao cot on cot.id = sol.cotacao_id\r\n               inner join formulariocotacao fc on fc.id = cot.formulariocotacao_id\r\n               left join intencaoregistropreco irp on irp.id = fc.intencaoregistropreco_id\r\n               left join avaliacaosolcompra ava on sol.ID = ava.SOLICITACAO_ID\r\n                                                and ava.id = (select max(avali.id) from avaliacaosolcompra avali where avali.solicitacao_id = sol.id)\r\n               left join dotsolmat dot on sol.ID = dot.SOLICITACAOMATERIAL_ID\r\n               left join parecerlicitacao pl on lic.ID = pl.LICITACAO_ID\r\n               left join ataregistropreco ata on lic.ID = ata.LICITACAO_ID\r\n               left join pregao pg on lic.ID = pg.LICITACAO_ID\r\n               left join certame cert on lic.id = cert.licitacao_id\r\n               left join MAPACOMTECPREC matec on lic.ID = matec.LICITACAO_ID\r\n               left join REPACTUACAOPRECO repac on ata.ID = repac.ATAREGISTROPRECO_ID\r\n               left join PROXIMOVENCEDORLICITACAO pvl on lic.ID = pvl.LICITACAO_ID\r\n               left join SOLICITACAOMATERIALEXT solad on ata.ID = solad.ATAREGISTROPRECO_ID\r\n               left join RECURSOLICITACAO rec on lic.ID = rec.LICITACAO_ID\r\n      union all\r\n      select ''AVALIACAO_SOLICITACAO_COMPRA''     as tipo_processo,\r\n             ava.id                             as id_movimento,\r\n             cast(ava.dataavaliacao as date)    as data_mov,\r\n             sol.numero || ''/'' || ex.ano        as numero,\r\n             ava.tipostatussolicitacao          as situacao,\r\n             resp.nome                          as responsavel,\r\n             ho.codigo || '' - '' || ho.descricao as unidade,\r\n             5                                  as ordenacao,\r\n             lic.id                             as idProcessoLicitatorio\r\n      from avaliacaosolcompra ava\r\n               inner join solicitacaomaterial sol on sol.id = ava.solicitacao_id\r\n                                                  and ava.tipostatussolicitacao <> ''AGUARDANDO_AVALIACAO''\r\n               inner join hierarquiaorganizacional ho on ho.subordinada_id = sol.unidadeorganizacional_id\r\n                                                      and trunc(ava.dataavaliacao) between trunc(ho.iniciovigencia) and coalesce(trunc(ho.fimvigencia), trunc(ava.dataavaliacao))\r\n                                                      and ho.tipohierarquiaorganizacional = ''ADMINISTRATIVA''\r\n               left join processodecompra pc on pc.solicitacaomaterial_id = sol.id\r\n               left join licitacao lic on lic.processodecompra_id = pc.id\r\n               left join conlicitacao cl on cl.licitacao_id = lic.id\r\n               left join dispensadelicitacao disp on disp.processodecompra_id = pc.id\r\n               left join condispensalicitacao cd on cd.dispensadelicitacao_id = disp.id\r\n               left join contrato cont on cont.id = coalesce(cl.contrato_id, cd.contrato_id)\r\n               left join usuariosistema usu on usu.id = ava.usuariosistema_id\r\n               left join pessoafisica resp on resp.id = usu.pessoafisica_id\r\n               inner join exercicio ex on ex.id = sol.exercicio_id\r\n               inner join cotacao cot on cot.id = sol.cotacao_id\r\n               inner join formulariocotacao fc on fc.id = cot.formulariocotacao_id\r\n               left join intencaoregistropreco irp on irp.id = fc.intencaoregistropreco_id\r\n               left join dotsolmat dot on sol.ID = dot.SOLICITACAOMATERIAL_ID\r\n               left join parecerlicitacao pl on lic.ID = pl.LICITACAO_ID\r\n               left join ataregistropreco ata on lic.ID = ata.LICITACAO_ID\r\n               left join pregao pg on lic.ID = pg.LICITACAO_ID\r\n               left join certame cert on lic.id = cert.licitacao_id\r\n               left join MAPACOMTECPREC matec on lic.ID = matec.LICITACAO_ID\r\n               left join REPACTUACAOPRECO repac on ata.ID = repac.ATAREGISTROPRECO_ID\r\n               left join PROXIMOVENCEDORLICITACAO pvl on lic.ID = pvl.LICITACAO_ID\r\n               left join SOLICITACAOMATERIALEXT solad on ata.ID = solad.ATAREGISTROPRECO_ID\r\n               left join RECURSOLICITACAO rec on lic.ID = rec.LICITACAO_ID\r\n      union all\r\n      select ''RESERVA_SOLICITACAO_COMPRA''       as tipo_processo,\r\n             dot.id                             as id_movimento,\r\n             cast(dot.realizadaem as date)      as data_mov,\r\n             dot.codigo || ''/'' || ex.ano        as numero,\r\n             ''CONCLUIDA''                        as situacao,\r\n             resp.nome                          as responsavel,\r\n             ho.codigo || '' - '' || ho.descricao as unidade,\r\n             6                                  as ordenacao,\r\n             lic.id                             as idProcessoLicitatorio\r\n      from dotsolmat dot\r\n               inner join solicitacaomaterial sol on sol.id = dot.solicitacaomaterial_id\r\n               inner join hierarquiaorganizacional ho on ho.subordinada_id = sol.unidadeorganizacional_id\r\n                                                      and trunc(dot.realizadaem) between trunc(ho.iniciovigencia) and coalesce(trunc(ho.fimvigencia), trunc(dot.realizadaem))\r\n                                                      and ho.tipohierarquiaorganizacional = ''ADMINISTRATIVA''\r\n               left join processodecompra pc on pc.solicitacaomaterial_id = sol.id\r\n               left join licitacao lic on lic.processodecompra_id = pc.id\r\n               left join conlicitacao cl on cl.licitacao_id = lic.id\r\n               left join dispensadelicitacao disp on disp.processodecompra_id = pc.id\r\n               left join condispensalicitacao cd on cd.dispensadelicitacao_id = disp.id\r\n               left join contrato cont on cont.id = coalesce(cl.contrato_id, cd.contrato_id)\r\n               left join usuariosistema usu on usu.id = sol.usuariocriacao_id\r\n               left join pessoafisica resp on resp.id = usu.pessoafisica_id\r\n               inner join exercicio ex on ex.id = sol.exercicio_id\r\n               inner join cotacao cot on cot.id = sol.cotacao_id\r\n               inner join formulariocotacao fc on fc.id = cot.formulariocotacao_id\r\n               left join intencaoregistropreco irp on irp.id = fc.intencaoregistropreco_id\r\n               left join avaliacaosolcompra ava on sol.ID = ava.SOLICITACAO_ID\r\n               left join parecerlicitacao pl on lic.ID = pl.LICITACAO_ID\r\n               left join ataregistropreco ata on lic.ID = ata.LICITACAO_ID\r\n               left join pregao pg on lic.ID = pg.LICITACAO_ID\r\n               left join certame cert on lic.id = cert.licitacao_id\r\n               left join MAPACOMTECPREC matec on lic.ID = matec.LICITACAO_ID\r\n               left join REPACTUACAOPRECO repac on ata.ID = repac.ATAREGISTROPRECO_ID\r\n               left join PROXIMOVENCEDORLICITACAO pvl on lic.ID = pvl.LICITACAO_ID\r\n               left join SOLICITACAOMATERIALEXT solad on ata.ID = solad.ATAREGISTROPRECO_ID\r\n               left join RECURSOLICITACAO rec on lic.ID = rec.LICITACAO_ID\r\n      union all\r\n      select ''PROCESSO_COMPRA''                  as tipo_processo,\r\n             pc.id                              as id_movimento,\r\n             cast(pc.dataprocesso as date)      as data_mov,\r\n             pc.numero || ''/'' || ex.ano         as numero,\r\n             ''CONCLUIDO''                        as situacao,\r\n             resp.nome                          as responsavel,\r\n             ho.codigo || '' - '' || ho.descricao as unidade,\r\n             7                                  as ordenacao,\r\n             lic.id                             as idProcessoLicitatorio\r\n      from processodecompra pc\r\n               inner join usuariosistema usu on usu.id = pc.USUARIOSISTEMA_ID\r\n               inner join pessoafisica resp on resp.id = usu.pessoafisica_id\r\n               inner join hierarquiaorganizacional ho on ho.subordinada_id = pc.unidadeorganizacional_id\r\n                                                      and trunc(pc.dataprocesso) between trunc(ho.iniciovigencia) and coalesce(trunc(ho.fimvigencia), trunc(pc.dataprocesso))\r\n                                                      and ho.tipohierarquiaorganizacional = ''ADMINISTRATIVA''\r\n               inner join exercicio ex on ex.id = pc.exercicio_id\r\n               inner join solicitacaomaterial sol on sol.id = pc.solicitacaomaterial_id\r\n               inner join cotacao cot on cot.id = sol.cotacao_id\r\n               inner join formulariocotacao fc on fc.id = cot.formulariocotacao_id\r\n               left join intencaoregistropreco irp on irp.id = fc.intencaoregistropreco_id\r\n               left join dispensadelicitacao disp on pc.id = disp.processodecompra_id\r\n               left join condispensalicitacao cd on cd.dispensadelicitacao_id = disp.id\r\n               left join licitacao lic on lic.processodecompra_id = pc.id\r\n               left join conlicitacao cl on cl.licitacao_id = lic.id\r\n               left join contrato cont on cont.id = coalesce(cl.contrato_id, cd.contrato_id)\r\n               left join avaliacaosolcompra ava on sol.ID = ava.SOLICITACAO_ID\r\n               left join dotsolmat dot on sol.ID = dot.SOLICITACAOMATERIAL_ID\r\n               left join parecerlicitacao pl on lic.ID = pl.LICITACAO_ID\r\n               left join ataregistropreco ata on lic.ID = ata.LICITACAO_ID\r\n               left join pregao pg on lic.ID = pg.LICITACAO_ID\r\n               left join certame cert on lic.id = cert.licitacao_id\r\n               left join MAPACOMTECPREC matec on lic.ID = matec.LICITACAO_ID\r\n               left join REPACTUACAOPRECO repac on ata.ID = repac.ATAREGISTROPRECO_ID\r\n               left join PROXIMOVENCEDORLICITACAO pvl on lic.ID = pvl.LICITACAO_ID\r\n               left join SOLICITACAOMATERIALEXT solad on ata.ID = solad.ATAREGISTROPRECO_ID\r\n               left join RECURSOLICITACAO rec on lic.ID = rec.LICITACAO_ID\r\n      ) dados where 1=1 $WHERE\r\norder by dados.ordenacao","count":"select distinct count(dados.idProcessoLicitatorio)\r\nfrom (select ''IRP''                                                      as tipo_processo,\r\n             irp.id                                                     as id_movimento,\r\n             cast(irp.datalancamento as date)                           as data_mov,\r\n             irp.numero || ''/'' || extract(year from irp.datalancamento) as ';
    textoTabsFasePreparatoria1
CLOB := 'numero,\r\n             irp.situacaoirp                                            as situacao,\r\n             resp.nome                                                  as responsavel,\r\n             ho.codigo || '' - '' || ho.descricao                         as unidade,\r\n             1                                                          as ordenacao,\r\n             lic.id                                                     as idProcessoLicitatorio\r\n      from intencaoregistropreco irp\r\n               inner join unidadeirp unid on unid.intencaoregistropreco_id = irp.id\r\n               inner join hierarquiaorganizacional ho on ho.subordinada_id = unid.unidadegerenciadora_id\r\n                                                     and trunc(coalesce(irp.dataLancamento, irp.inicioVigencia)) between trunc(ho.iniciovigencia) and coalesce(trunc(ho.fimvigencia), trunc(coalesce(irp.dataLancamento, irp.inicioVigencia)))\r\n                                                     and trunc(coalesce(irp.dataLancamento, irp.inicioVigencia)) between trunc(unid.iniciovigencia) and coalesce(trunc(unid.fimvigencia), trunc(coalesce(irp.dataLancamento, irp.inicioVigencia)))\r\n                                                     and ho.tipohierarquiaorganizacional = ''ADMINISTRATIVA''\r\n               left join formulariocotacao fc on fc.intencaoregistropreco_id = irp.id\r\n               left join cotacao cot on cot.formulariocotacao_id = fc.id\r\n               left join solicitacaomaterial sol on sol.cotacao_id = cot.id\r\n               left join processodecompra pc on pc.solicitacaomaterial_id = sol.id\r\n               left join licitacao lic on lic.processodecompra_id = pc.id\r\n               left join conlicitacao cl on cl.licitacao_id = lic.id\r\n               left join dispensadelicitacao disp on disp.processodecompra_id = pc.id\r\n               left join condispensalicitacao cd on cd.dispensadelicitacao_id = disp.id\r\n               left join contrato cont on cont.id = coalesce(cl.contrato_id, cd.contrato_id)\r\n               left join exercicio ex on ex.id = fc.exercicio_id\r\n               left join usuariosistema usu on usu.id = irp.responsavel_id\r\n               left join pessoafisica resp on resp.id = usu.pessoafisica_id\r\n               left join avaliacaosolcompra ava on sol.ID = ava.SOLICITACAO_ID\r\n               left join dotsolmat dot on sol.ID = dot.SOLICITACAOMATERIAL_ID\r\n               left join parecerlicitacao pl on lic.ID = pl.LICITACAO_ID\r\n               left join ataregistropreco ata on lic.ID = ata.LICITACAO_ID\r\n               left join pregao pg on lic.ID = pg.LICITACAO_ID\r\n               left join certame cert on lic.id = cert.licitacao_id\r\n               left join MAPACOMTECPREC matec on lic.ID = matec.LICITACAO_ID\r\n               left join REPACTUACAOPRECO repac on ata.ID = repac.ATAREGISTROPRECO_ID\r\n               left join PROXIMOVENCEDORLICITACAO pvl on lic.ID = pvl.LICITACAO_ID\r\n               left join SOLICITACAOMATERIALEXT solad on ata.ID = solad.ATAREGISTROPRECO_ID\r\n               left join RECURSOLICITACAO rec on lic.ID = rec.LICITACAO_ID\r\n      union all\r\n      select ''FORMULARIO_COTACAO''               as tipo_processo,\r\n             fc.id                              as id_movimento,\r\n             cast(fc.dataformulario as date)    as data_mov,\r\n             fc.numero || ''/'' || ex.ano         as numero,\r\n             ''CONCLUIDO''                        as situacao,\r\n             resp.nome                          as responsavel,\r\n             ho.codigo || '' - '' || ho.descricao as unidade,\r\n             2                                  as ordenacao,\r\n             lic.id                             as idProcessoLicitatorio\r\n      from formulariocotacao fc\r\n               inner join hierarquiaorganizacional ho on ho.subordinada_id = fc.unidadeorganizacional_id\r\n                                                      and trunc(fc.dataformulario) between trunc(ho.iniciovigencia) and coalesce(trunc(ho.fimvigencia), trunc(fc.dataformulario))\r\n                                                      and ho.tipohierarquiaorganizacional = ''ADMINISTRATIVA''\r\n               left join cotacao cot on cot.formulariocotacao_id = fc.id\r\n               left join solicitacaomaterial sol on sol.cotacao_id = cot.id\r\n               left join processodecompra pc on pc.solicitacaomaterial_id = sol.id\r\n               left join licitacao lic on lic.processodecompra_id = pc.id\r\n               left join conlicitacao cl on cl.licitacao_id = lic.id\r\n               left join dispensadelicitacao disp on disp.processodecompra_id = pc.id\r\n               left join condispensalicitacao cd on cd.dispensadelicitacao_id = disp.id\r\n               left join contrato cont on cont.id = coalesce(cl.contrato_id, cd.contrato_id)\r\n               inner join exercicio ex on ex.id = fc.exercicio_id\r\n               left join usuariosistema usu on usu.id = fc.usuariocriacao_id\r\n               left join pessoafisica resp on resp.id = usu.pessoafisica_id\r\n               left join intencaoregistropreco irp on irp.id = fc.intencaoregistropreco_id\r\n               left join avaliacaosolcompra ava on sol.ID = ava.SOLICITACAO_ID\r\n               left join dotsolmat dot on sol.ID = dot.SOLICITACAOMATERIAL_ID\r\n               left join parecerlicitacao pl on lic.ID = pl.LICITACAO_ID\r\n               left join ataregistropreco ata on lic.ID = ata.LICITACAO_ID\r\n               left join pregao pg on lic.ID = pg.LICITACAO_ID\r\n               left join certame cert on lic.id = cert.licitacao_id\r\n               left join MAPACOMTECPREC matec on lic.ID = matec.LICITACAO_ID\r\n               left join REPACTUACAOPRECO repac on ata.ID = repac.ATAREGISTROPRECO_ID\r\n               left join PROXIMOVENCEDORLICITACAO pvl on lic.ID = pvl.LICITACAO_ID\r\n               left join SOLICITACAOMATERIALEXT solad on ata.ID = solad.ATAREGISTROPRECO_ID\r\n               left join RECURSOLICITACAO rec on lic.ID = rec.LICITACAO_ID\r\n      union all\r\n      select ''COTACAO''                          as tipo_processo,\r\n             cot.id                             as id_movimento,\r\n             cast(cot.datacotacao as date)      as data_mov,\r\n             cot.numero || ''/'' || ex.ano        as numero,\r\n             cot.situacao                       as situacao,\r\n             resp.nome                          as responsavel,\r\n             ho.codigo || '' - '' || ho.descricao as unidade,\r\n             3                                  as ordenacao,\r\n             lic.id                             as idProcessoLicitatorio\r\n      from cotacao cot\r\n               left join solicitacaomaterial sol on sol.cotacao_id = cot.id\r\n               inner join hierarquiaorganizacional ho on ho.subordinada_id = cot.unidadeorganizacional_id\r\n                                                      and trunc(cot.datacotacao) between trunc(ho.iniciovigencia) and coalesce(trunc(ho.fimvigencia), trunc(cot.datacotacao))\r\n                                                      and ho.tipohierarquiaorganizacional = ''ADMINISTRATIVA''\r\n               left join processodecompra pc on pc.solicitacaomaterial_id = sol.id\r\n               left join licitacao lic on lic.processodecompra_id = pc.id\r\n               left join conlicitacao cl on cl.licitacao_id = lic.id\r\n               left join dispensadelicitacao disp on disp.processodecompra_id = pc.id\r\n               left join condispensalicitacao cd on cd.dispensadelicitacao_id = disp.id\r\n               left join contrato cont on cont.id = coalesce(cl.contrato_id, cd.contrato_id)\r\n               inner join exercicio ex on ex.id = cot.exercicio_id\r\n               inner join formulariocotacao fc on fc.id = cot.formulariocotacao_id\r\n               left join usuariosistema usu on usu.id = fc.usuariocriacao_id\r\n               left join pessoafisica resp on resp.id = usu.pessoafisica_id\r\n               left join intencaoregistropreco irp on irp.id = fc.intencaoregistropreco_id\r\n               left join avaliacaosolcompra ava on sol.ID = ava.SOLICITACAO_ID\r\n               left join dotsolmat dot on sol.ID = dot.SOLICITACAOMATERIAL_ID\r\n               left join parecerlicitacao pl on lic.ID = pl.LICITACAO_ID\r\n               left join ataregistropreco ata on lic.ID = ata.LICITACAO_ID\r\n               left join pregao pg on lic.ID = pg.LICITACAO_ID\r\n               left join certame cert on lic.id = cert.licitacao_id\r\n               left join MAPACOMTECPREC matec on lic.ID = matec.LICITACAO_ID\r\n               left join REPACTUACAOPRECO repac on ata.ID = repac.ATAREGISTROPRECO_ID\r\n               left join PROXIMOVENCEDORLICITACAO pvl on lic.ID = pvl.LICITACAO_ID\r\n               left join SOLICITACAOMATERIALEXT solad on ata.ID = solad.ATAREGISTROPRECO_ID\r\n               left join RECURSOLICITACAO rec on lic.ID = rec.LICITACAO_ID\r\n      union all\r\n      select ''SOLICITACAO_COMPRA''               as tipo_processo,\r\n             sol.id                             as id_movimento,\r\n             cast(sol.datasolicitacao as date)  as data_mov,\r\n             sol.numero || ''/'' || ex.ano        as numero,\r\n             ava.tipostatussolicitacao          as situacao,\r\n             resp.nome                          as responsavel,\r\n             ho.codigo || '' - '' || ho.descricao as unidade,\r\n             4                                  as ordenacao,\r\n             lic.id                             as idProcessoLicitatorio\r\n      from solicitacaomaterial sol\r\n               inner join avaliacaosolcompra ava on ava.solicitacao_id = sol.id\r\n               inner join hierarquiaorganizacional ho on ho.subordinada_id = sol.unidadeorganizacional_id\r\n                                                      and trunc(sol.datasolicitacao) between trunc(ho.iniciovigencia) and coalesce(trunc(ho.fimvigencia), trunc(sol.datasolicitacao))\r\n                                                      and ho.tipohierarquiaorganizacional = ''ADMINISTRATIVA''\r\n               left join processodecompra pc on pc.solicitacaomaterial_id = sol.id\r\n               left join licitacao lic on lic.processodecompra_id = pc.id\r\n               left join conlicitacao cl on cl.licitacao_id = lic.id\r\n               left join dispensadelicitacao disp on disp.processodecompra_id = pc.id\r\n               left join condispensalicitacao cd on cd.dispensadelicitacao_id = disp.id\r\n               left join contrato cont on cont.id = coalesce(cl.contrato_id, cd.contrato_id)\r\n               left join usuariosistema usu on usu.id = sol.usuariocriacao_id\r\n               left join pessoafisica resp on resp.id = usu.pessoafisica_id\r\n               inner join exercicio ex on ex.id = sol.exercicio_id\r\n               inner join cotacao cot on cot.id = sol.cotacao_id\r\n               inner join formulariocotacao fc on fc.id = cot.formulariocotacao_id\r\n               left join intencaoregistropreco irp on irp.id = fc.intencaoregistropreco_id\r\n               left join avaliacaosolcompra ava on sol.ID = ava.SOLICITACAO_ID\r\n                                                and ava.id = (select max(avali.id) from avaliacaosolcompra avali where avali.solicitacao_id = sol.id)\r\n               left join dotsolmat dot on sol.ID = dot.SOLICITACAOMATERIAL_ID\r\n               left join parecerlicitacao pl on lic.ID = pl.LICITACAO_ID\r\n               left join ataregistropreco ata on lic.ID = ata.LICITACAO_ID\r\n               left join pregao pg on lic.ID = pg.LICITACAO_ID\r\n               left join certame cert on lic.id = cert.licitacao_id\r\n               left join MAPACOMTECPREC matec on lic.ID = matec.LICITACAO_ID\r\n               left join REPACTUACAOPRECO repac on ata.ID = repac.ATAREGISTROPRECO_ID\r\n               left join PROXIMOVENCEDORLICITACAO pvl on lic.ID = pvl.LICITACAO_ID\r\n               left join SOLICITACAOMATERIALEXT solad on ata.ID = solad.ATAREGISTROPRECO_ID\r\n               left join RECURSOLICITACAO rec on lic.ID = rec.LICITACAO_ID\r\n      union all\r\n      select ''AVALIACAO_SOLICITACAO_COMPRA''     as tipo_processo,\r\n             ava.id                             as id_movimento,\r\n             cast(ava.dataavaliacao as date)    as data_mov,\r\n             sol.numero || ''/'' || ex.ano        as numero,\r\n             ava.tipostatussolicitacao          as situacao,\r\n             resp.nome                          as responsavel,\r\n             ho.codigo || '' - '' || ho.descricao as unidade,\r\n             5                                  as ordenacao,\r\n             lic.id                             as idProcessoLicitatorio\r\n      from avaliacaosolcompra ava\r\n               inner join solicitacaomaterial sol on sol.id = ava.solicitacao_id\r\n                                                  and ava.tipostatussolicitacao <> ''AGUARDANDO_AVALIACAO''\r\n               inner join hierarquiaorganizacional ho on ho.subordinada_id = sol.unidadeorganizacional_id\r\n                                                      and trunc(ava.dataavaliacao) between trunc(ho.iniciovigencia) and coalesce(trunc(ho.fimvigencia), trunc(ava.dataavaliacao))\r\n                                                      and ho.tipohierarquiaorganizacional = ''ADMINISTRATIVA''\r\n               left join processodecompra pc on pc.solicitacaomaterial_id = sol.id\r\n               left join licitacao lic on lic.processodecompra_id = pc.id\r\n               left join conlicitacao cl on cl.licitacao_id = lic.id\r\n               left join dispensadelicitacao disp on disp.processodecompra_id = pc.id\r\n               left join condispensalicitacao cd on cd.dispensadelicitacao_id = disp.id\r\n               left join contrato cont on cont.id = coalesce(cl.contrato_id, cd.contrato_id)\r\n               left join usuariosistema usu on usu.id = ava.usuariosistema_id\r\n               left join pessoafisica resp on resp.id = usu.pessoafisica_id\r\n               inner join exercicio ex on ex.id = sol.exercicio_id\r\n               inner join cotacao cot on cot.id = sol.cotacao_id\r\n               inner join formulariocotacao fc on fc.id = cot.formulariocotacao_id\r\n               left join intencaoregistropreco irp on irp.id = fc.intencaoregistropreco_id\r\n               left join dotsolmat dot on sol.ID = dot.SOLICITACAOMATERIAL_ID\r\n               left join parecerlicitacao pl on lic.ID = pl.LICITACAO_ID\r\n               left join ataregistropreco ata on lic.ID = ata.LICITACAO_ID\r\n               left join pregao pg on lic.ID = pg.LICITACAO_ID\r\n               left join certame cert on lic.id = cert.licitacao_id\r\n               left join MAPACOMTECPREC matec on lic.ID = matec.LICITACAO_ID\r\n               left join REPACTUACAOPRECO repac on ata.ID = repac.ATAREGISTROPRECO_ID\r\n               left join PROXIMOVENCEDORLICITACAO pvl on lic.ID = pvl.LICITACAO_ID\r\n               left join SOLICITACAOMATERIALEXT solad on ata.ID = solad.ATAREGISTROPRECO_ID\r\n               left join RECURSOLICITACAO rec on lic.ID = rec.LICITACAO_ID\r\n      union all\r\n      select ''RESERVA_SOLICITACAO_COMPRA''       as tipo_processo,\r\n             dot.id                             as id_movimento,\r\n             cast(dot.realizadaem as date)      as data_mov,\r\n             dot.codigo || ''/'' || ex.ano        as numero,\r\n             ''CONCLUIDA''                        as situacao,\r\n             resp.nome                          as responsavel,\r\n             ho.codigo || '' - '' || ho.descricao as unidade,\r\n             6                                  as ordenacao,\r\n             lic.id                             as idProcessoLicitatorio\r\n      from dotsolmat dot\r\n               inner join solicitacaomaterial sol on sol.id = dot.solicitacaomaterial_id\r\n               inner join hierarquiaorganizacional ho on ho.subordinada_id = sol.unidadeorganizacional_id\r\n                                                      and trunc(dot.realizadaem) between trunc(ho.iniciovigencia) and coalesce(trunc(ho.fimvigencia), trunc(dot.realizadaem))\r\n                                                      and ho.tipohierarquiaorganizacional = ''ADMINISTRATIVA''\r\n               left join processodecompra pc on pc.solicitacaomaterial_id = sol.id\r\n               left join licitacao lic on lic.processodecompra_id = pc.id\r\n               left join conlicitacao cl on cl.licitacao_id = lic.id\r\n               left join dispensadelicitacao disp on disp.processodecompra_id = pc.id\r\n               left join condispensalicitacao cd on cd.dispensadelicitacao_id = disp.id\r\n               left join contrato cont on cont.id = coalesce(cl.contrato_id, cd.contrato_id)\r\n               left join usuariosistema usu on usu.id = sol.usuariocriacao_id\r\n               left join pessoafisica resp on resp.id = usu.pessoafisica_id\r\n               inner join exercicio ex on ex.id = sol.exercicio_id\r\n               inner join cotacao cot on cot.id = sol.cotacao_id\r\n               inner join formulariocotacao fc on fc.id = cot.formulariocotacao_id\r\n               left join intencaoregistropreco irp on irp.id = fc.intencaoregistropreco_id\r\n               left join avaliacaosolcompra ava on sol.ID = ava.SOLICITACAO_ID\r\n               left join parecerlicitacao pl on lic.ID = pl.LICITACAO_ID\r\n               left join ataregistropreco ata on lic.ID = ata.LICITACAO_ID\r\n               left join pregao pg on lic.ID = pg.LICITACAO_ID\r\n               left join certame cert on lic.id = cert.licitacao_id\r\n               left join MAPACOMTECPREC matec on lic.ID = matec.LICITACAO_ID\r\n               left join REPACTUACAOPRECO repac on ata.ID = repac.ATAREGISTROPRECO_ID\r\n               left join PROXIMOVENCEDORLICITACAO pvl on lic.ID = pvl.LICITACAO_ID\r\n               left join SOLICITACAOMATERIALEXT solad on ata.ID = solad.ATAREGISTROPRECO_ID\r\n               left join RECURSOLICITACAO rec on lic.ID = rec.LICITACAO_ID\r\n      union all\r\n      select ''PROCESSO_COMPRA''                  as tipo_processo,\r\n             pc.id                              as id_movimento,\r\n             cast(pc.dataprocesso as date)      as data_mov,\r\n             pc.numero || ''/'' || ex.ano         as numero,\r\n             ''CONCLUIDO''                        as situacao,\r\n             resp.nome                          as responsavel,\r\n             ho.codigo || '' - '' || ho.descricao as unidade,\r\n             7                                  as ordenacao,\r\n             lic.id                             as idProcessoLicitatorio\r\n      from processodecompra pc\r\n               inner join usuariosistema usu on usu.id = pc.USUARIOSISTEMA_ID\r\n               inner join pessoafisica resp on resp.id = usu.pessoafisica_id\r\n               inner join hierarquiaorganizacional ho on ho.subordinada_id = pc.unidadeorganizacional_id\r\n                                                      and trunc(pc.dataprocesso) between trunc(ho.iniciovigencia) and coalesce(trunc(ho.fimvigencia), trunc(pc.dataprocesso))\r\n                                                      and ho.tipohierarquiaorganizacional = ''ADMINISTRATIVA''\r\n               inner join exercicio ex on ex.id = pc.exercicio_id\r\n               inner join solicitacaomaterial sol on sol.id = pc.solicitacaomaterial_id\r\n               inner join cotacao cot on cot.id = sol.cotacao_id\r\n               inner join formulariocotacao fc on fc.id = cot.formulariocotacao_id\r\n               left join intencaoregistropreco irp on irp.id = fc.intencaoregistropreco_id\r\n               left join dispensadelicitacao disp on pc.id = disp.processodecompra_id\r\n               left join condispensalicitacao cd on cd.dispensadelicitacao_id = disp.id\r\n               left join licitacao lic on lic.processodecompra_id = pc.id\r\n               left join conlicitacao cl on cl.licitacao_id = lic.id\r\n               left join contrato cont on cont.id = coalesce(cl.contrato_id, cd.contrato_id)\r\n               left join avaliacaosolcompra ava on sol.ID = ava.SOLICITACAO_ID\r\n               left join dotsolmat dot on sol.ID = dot.SOLICITACAOMATERIAL_ID\r\n               left join parecerlicitacao pl on lic.ID = pl.LICITACAO_ID\r\n               left join ataregistropreco ata on lic.ID = ata.LICITACAO_ID\r\n               left join pregao pg on lic.ID = pg.LICITACAO_ID\r\n               left join certame cert on lic.id = cert.licitacao_id\r\n               left join MAPACOMTECPREC matec on lic.ID = matec.LICITACAO_ID\r\n               left join REPACTUACAOPRECO repac on ata.ID = repac.ATAREGISTROPRECO_ID\r\n               left join PROXIMOVENCEDORLICITACAO pvl on lic.ID = pvl.LICITACAO_ID\r\n               left join SOLICITACAOMATERIALEXT solad on ata.ID = solad.ATAREGISTROPRECO_ID\r\n               left join RECURSOLICITACAO rec on lic.ID = rec.LICITACAO_ID\r\n      ) dados  where 1=1 $WHERE","totalRegistros":null,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Tipo","columnName":"tipo_processo","columnValue":"tipo_processo","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.TipoMovimentoProcessoLicitatorio","valorPadrao":[null,"IRP","FORMULARIO_COTACAO","COTACAO","SOLICITACAO_COMPRA","AVALIACAO_SOLICITACAO_COMPRA","RESERVA_SOLICITACAO_COMPRA","PROCESSO_COMPRA","LICITACAO","DISPENSA_LICITACAO_INEXIGIBILIDADE","CREDENCIAMENTO","PARECER_LICITACAO","PREGAO_POR_ITEM","PREGAO_POR_LOTE","ATA_REGISTRO_PRECO","CONTRATO","CONTRATO_VIGENTE","ADESAO_INTERNA","SOLICITACAO_ADESAO_EXTERNA","ADESAO_EXTERNA","RECURSO","MAPA_COMPARATVO","MAPA_COMPARATVO_TECNICA_PRECO","REPACTUACAO_PRECO","PROXIMO_VENCEDOR_LICITACAO","ADITIVO_CONTRATO","APOSTILAMENTO_CONTRATO","PROPOSTA_FORNECEDOR","FISCAL"],"escondido":false},{"posicao":2,"descricao":"Data","columnName":"data_mov","columnValue":"data_mov","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"Número","columnName":"numero","columnValue":"numero","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":4,"descricao":"Situação","columnName":"situacao","columnValue":"situacao","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.TipoStatusSolicitacao","valorPadrao":[null,"APROVADA","REJEITADA","AGUARDANDO_AVALIACAO"],"escondido":false},{"posicao":5,"descricao":"Responsável","columnName":"responsavel","columnValue":"responsavel","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":6,"descricao":"Unidade","columnName":"unidade","columnValue":"unidade","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false}]},';
    textoTabsEditalEAnexo
CLOB := '{"titulo":"Edital e Anexo","consulta":"select dataregistro, nome, idArquivo\r\nfrom (select distinct cast(dl.dataregistro as date) as dataregistro,\r\n                      arq.nome,\r\n                      arq.id as idArquivo,\r\n                      dl.exibirportaltransparencia,\r\n                      lic.id as idProcessoLicitatorio\r\n      from licitacao lic\r\n               inner join detentordocumentolicitacao ddl on ddl.id = lic.detentordocumentolicitacao_id\r\n               inner join documentolicitacao dl on dl.detentordocumentolicitacao_id = ddl.id\r\n               inner join arquivo arq on arq.id = dl.arquivo_id\r\n      ) dados where exibirportaltransparencia = 1 $WHERE","count":"select count(idProcessoLicitatorio)\r\nfrom (select distinct cast(dl.dataregistro as date) as dataregistro,\r\n                      arq.nome,\r\n                      arq.id as idArquivo,\r\n                      dl.exibirportaltransparencia,\r\n                      lic.id as idProcessoLicitatorio\r\n      from licitacao lic\r\n               inner join detentordocumentolicitacao ddl on ddl.id = lic.detentordocumentolicitacao_id\r\n               inner join documentolicitacao dl on dl.detentordocumentolicitacao_id = ddl.id\r\n               inner join arquivo arq on arq.id = dl.arquivo_id\r\n      ) dados where exibirportaltransparencia = 1 $WHERE","totalRegistros":null,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Data","columnName":"dataregistro","columnValue":"dataregistro","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":2,"descricao":"Nome","columnName":"nome","columnValue":"nome","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"Arquivo","columnName":"idArquivo","columnValue":"idArquivo","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"ARQUIVO","tipoEnum":null,"valorPadrao":null,"escondido":false}]},';
    textoTabsPropostas
CLOB := '{"titulo":"Propostas","consulta":"select dataProposta, fornecedor, instrumentoRepresentacao, prazoValidade, prazoExecucao\r\nfrom (select trunc(propf.dataProposta)                                    as dataProposta,\r\n             coalesce(pf.nome, pj.razaosocial)                            as fornecedor,\r\n             propf.instrumentoRepresentacao,\r\n             propf.validadeDaProposta || '' - '' || propf.tipoPrazoValidade as prazoValidade,\r\n             propf.prazoDeExecucao || '' - '' || propf.tipoPrazoExecucao    as prazoExecucao,\r\n             propf.licitacao_id                                           as idProcessoLicitatorio\r\n      from PropostaFornecedor propf\r\n               left join pessoafisica pf on pf.id = propf.fornecedor_id\r\n               left join pessoajuridica pj on pj.id = propf.fornecedor_id) dados $WHERE","count":"select count(idProcessoLicitatorio)\r\nfrom (select trunc(propf.dataProposta)                                    as dataProposta,\r\n             coalesce(pf.nome, pj.razaosocial)                            as fornecedor,\r\n             propf.instrumentoRepresentacao,\r\n             propf.validadeDaProposta || '' - '' || propf.tipoPrazoValidade as prazoValidade,\r\n             propf.prazoDeExecucao || '' - '' || propf.tipoPrazoExecucao    as prazoExecucao,\r\n             propf.licitacao_id                                           as idProcessoLicitatorio\r\n      from PropostaFornecedor propf\r\n               left join pessoafisica pf on pf.id = propf.fornecedor_id\r\n               left join pessoajuridica pj on pj.id = propf.fornecedor_id) dados $WHERE","totalRegistros":null,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Data","columnName":"dataProposta","columnValue":"dataProposta","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":2,"descricao":"Fornecedor","columnName":"fornecedor","columnValue":"fornecedor","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"Instrumento Representação","columnName":"instrumentoRepresentacao","columnValue":"instrumentoRepresentacao","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":4,"descricao":"Prazo de Validade","columnName":"prazoValidade","columnValue":"prazoValidade","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":5,"descricao":"Prazo de Execução","columnName":"prazoExecucao","columnValue":"prazoExecucao","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false}]},';
    textoTabsLances
CLOB := '{"titulo":"Lances","consulta":"select dados.rodada, dados.lote, dados.Item, dados.marca, dados.participante, dados.responsavel, dados.valorPrevisto, dados.lanceAnterior, dados.lanceAtual, dados.situacao\r\nfrom (select rod.numero                         as rodada,\r\n             lote.numero                        as lote,\r\n             ob.codigo || '' - '' || ob.descricao as Item,\r\n             itemfor.marca                      as marca,\r\n             coalesce(pfForn.NOME, pjForn.RAZAOSOCIAL) as participante,\r\n             rep.nome                           as responsavel,\r\n             itemfor.preco                      as valorPrevisto,\r\n             case\r\n                 when rod.numero = 1 then itemfor.preco\r\n                 else\r\n                     (select l.valor\r\n                      from lancepregao l\r\n                      where l.rodadapregao_id = (select max(rMax.id)\r\n                                                 from rodadapregao rMax\r\n                                                 where rMax.itempregao_id = item.id\r\n                                                   and l.propostafornecedor_id = lanc.propostafornecedor_id\r\n                                                   and rmax.numero < ((select max(rMax.numero)\r\n                                                                       from rodadapregao rMax\r\n                                                                       where rMax.id = lanc.rodadapregao_id)))\r\n                        and rownum = 1) end     as lanceAnterior,\r\n             lanc.valor                         as lanceAtual,\r\n             lanc.statuslancepregao             as situacao,\r\n             pregao.licitacao_id as idProcessoLicitatorio,\r\n             lic.tipoApuracao as tipoApuracao\r\n      from pregao\r\n               inner join itempregao item on item.pregao_id = pregao.id\r\n               inner join rodadapregao rod on rod.itempregao_id = item.id\r\n               inner join lancepregao lanc on lanc.rodadapregao_id = rod.id\r\n               inner join itpreitpro it on it.itempregao_id = item.id\r\n               inner join ItemProcessoDeCompra ipc on ipc.id = it.itemprocessodecompra_id\r\n               inner join loteprocessodecompra lote on ipc.loteprocessodecompra_id = lote.id\r\n               inner join itemsolicitacao itemSol on itemSol.id = ipc.itemsolicitacaomaterial_id\r\n               inner join objetocompra ob on ob.id = itemSol.objetocompra_id\r\n               inner join PropostaFornecedor pro on pro.id = lanc.propostafornecedor_id\r\n               inner join pessoa p on p.id = pro.fornecedor_id\r\n               left join pessoafisica pfForn on pfForn.id = p.id\r\n               left join pessoajuridica pjForn on pjForn.id = p.id\r\n               left join RepresentanteLicitacao rep on rep.id = pro.representante_id\r\n               inner join ITEMPROPFORNEC itemfor on itemfor.propostafornecedor_id = pro.id\r\n               inner join licitacao lic on lic.id = pregao.licitacao_id\r\n      union all\r\n      select 1 as rodada,\r\n             lote.numero as lote,\r\n             ipc.numero || '' - '' || ob.descricao as Item,\r\n             itemfor.marca as marca,\r\n             coalesce(pfForn.NOME, pjForn.RAZAOSOCIAL) as participante,\r\n             rep.nome as responsavel,\r\n             itemsol.preco as valorPrevisto,\r\n             0 as lanceAnterior,\r\n             itemfor.preco as lanceAtual,\r\n             item.situacaoitemcertame as situacao,\r\n             ct.licitacao_id as idProcessoLicitatorio,\r\n             lic.tipoApuracao as tipoApuracao\r\n      from certame ct\r\n               inner join itemcertame item on item.certame_id = ct.id\r\n               inner join ITEMCERTAMEITEMPRO itemPro on itempro.itemcertame_id = item.id\r\n               inner join ItemProcessoDeCompra ipc on ipc.id = itempro.itemprocessodecompra_id\r\n               inner join loteprocessodecompra lote on ipc.loteprocessodecompra_id = lote.id\r\n               inner join itemsolicitacao itemSol on itemSol.id = ipc.itemsolicitacaomaterial_id\r\n               inner join objetocompra ob on ob.id = itemSol.objetocompra_id\r\n               inner join ITEMPROPFORNEC itemfor on itemfor.id = itempro.itempropostavencedor_id\r\n               inner join PropostaFornecedor pro on pro.id = itemfor.propostafornecedor_id\r\n               inner join pessoa p on p.id = pro.fornecedor_id\r\n               left join pessoafisica pfForn on pfForn.id = p.id\r\n               left join pessoajuridica pjForn on pjForn.id = p.id\r\n               left join RepresentanteLicitacao rep on rep.id = pro.representante_id\r\n               inner join licitacao lic on lic.id = ct.licitacao_id\r\n     ) dados\r\nwhere dados.tipoApuracao = ''ITEM'' $WHERE\r\norder by dados.rodada","count":"select count(idProcessoLicitatorio)\r\nfrom (select rod.numero                         as rodada,\r\n             lote.numero                        as lote,\r\n             ob.codigo || '' - '' || ob.descricao as Item,\r\n             itemfor.marca                      as marca,\r\n             p.id                               as participante,\r\n             rep.nome                           as responsavel,\r\n             itemfor.preco                      as valorPrevisto,\r\n             case\r\n                 when rod.numero = 1 then itemfor.preco\r\n                 else\r\n                     (select l.valor\r\n                      from lancepregao l\r\n                      where l.rodadapregao_id = (select max(rMax.id)\r\n                                                 from rodadapregao rMax\r\n                                                 where rMax.itempregao_id = item.id\r\n                                                   and l.propostafornecedor_id = lanc.propostafornecedor_id\r\n                                                   and rmax.numero < ((select max(rMax.numero)\r\n                                                                       from rodadapregao rMax\r\n                                                                       where rMax.id = lanc.rodadapregao_id)))\r\n                        and rownum = 1) end     as lanceAnterior,\r\n             lanc.valor                         as lanceAtual,\r\n             lanc.statuslancepregao             as situacao,\r\n             pregao.licitacao_id as idProcessoLicitatorio,\r\n             lic.tipoApuracao as tipoApuracao\r\n      from pregao\r\n               inner join itempregao item on item.pregao_id = pregao.id\r\n               inner join rodadapregao rod on rod.itempregao_id = item.id\r\n               inner join lancepregao lanc on lanc.rodadapregao_id = rod.id\r\n               inner join itpreitpro it on it.itempregao_id = item.id\r\n               inner join ItemProcessoDeCompra ipc on ipc.id = it.itemprocessodecompra_id\r\n               inner join loteprocessodecompra lote on ipc.loteprocessodecompra_id = lote.id\r\n               inner join itemsolicitacao itemSol on itemSol.id = ipc.itemsolicitacaomaterial_id\r\n               inner join objetocompra ob on ob.id = itemSol.objetocompra_id\r\n               inner join PropostaFornecedor pro on pro.id = lanc.propostafornecedor_id\r\n               inner join pessoa p on p.id = pro.fornecedor_id\r\n               left join pessoafisica pfForn on pfForn.id = p.id\r\n               left join pessoajuridica pjForn on pjForn.id = p.id\r\n               left join RepresentanteLicitacao rep on rep.id = pro.representante_id\r\n               inner join ITEMPROPFORNEC itemfor on itemfor.propostafornecedor_id = pro.id\r\n               inner join licitacao lic on lic.id = pregao.licitacao_id\r\n      union all\r\n      select 1 as rodada,\r\n             lote.numero as lote,\r\n             ipc.numero || '' - '' || ob.descricao as Item,\r\n             itemfor.marca as marca,\r\n             p.id as participante,\r\n             rep.nome as responsavel,\r\n             itemsol.preco as valorPrevisto,\r\n             0 as lanceAnterior,\r\n             itemfor.preco as lanceAtual,\r\n             item.situacaoitemcertame as situacao,\r\n             ct.licitacao_id as idProcessoLicitatorio,\r\n             lic.tipoApuracao as tipoApuracao\r\n      from certame ct\r\n               inner join itemcertame item on item.certame_id = ct.id\r\n               inner join ITEMCERTAMEITEMPRO itemPro on itempro.itemcertame_id = item.id\r\n               inner join ItemProcessoDeCompra ipc on ipc.id = itempro.itemprocessodecompra_id\r\n               inner join loteprocessodecompra lote on ipc.loteprocessodecompra_id = lote.id\r\n               inner join itemsolicitacao itemSol on itemSol.id = ipc.itemsolicitacaomaterial_id\r\n               inner join objetocompra ob on ob.id = itemSol.objetocompra_id\r\n               inner join ITEMPROPFORNEC itemfor on itemfor.id = itempro.itempropostavencedor_id\r\n               inner join PropostaFornecedor pro on pro.id = itemfor.propostafornecedor_id\r\n               inner join pessoa p on p.id = pro.fornecedor_id\r\n               left join pessoafisica pfForn on pfForn.id = p.id\r\n               left join pessoajuridica pjForn on pjForn.id = p.id\r\n               left join RepresentanteLicitacao rep on rep.id = pro.representante_id\r\n               inner join licitacao lic on lic.id = ct.licitacao_id\r\n     ) dados\r\nwhere dados.tipoApuracao = ''ITEM'' $WHERE","totalRegistros":null,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Rodada","columnName":"rodada","columnValue":"rodada","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"INTEGER","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":2,"descricao":"Lote","columnName":"lote","columnValue":"lote","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"INTEGER","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"Item","columnName":"Item","columnValue":"Item","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":4,"descricao":"Marca","columnName":"marca","columnValue":"marca","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":5,"descricao":"Participante","columnName":"participante","columnValue":"participante","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":6,"descricao":"Responsável","columnName":"responsavel","columnValue":"responsavel","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":7,"descricao":"Valor Previsto","columnName":"valorPrevisto","columnValue":"valorPrevisto","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":8,"descricao":"Lance Anterior","columnName":"lanceAnterior","columnValue":"lanceAnterior","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":9,"descricao":"Lance Atual","columnName":"lanceAtual","columnValue":"lanceAtual","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":10,"descricao":"Situação","columnName":"situacao","columnValue":"situacao","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.StatusLancePregao","valorPadrao":[null,"ATIVO","DESCLASSIFICADO","CANCELADO","DECLINADO","INEXEQUIVEL","VENCEDOR","NAO_REALIZADO"],"escondido":false}]},';
    textoTabsLancesPorLote
CLOB := '{"titulo":"Lances por Lotes","consulta":"select dados.numeroLote, dados.descricaoLote, dados.participante, dados.situacao, dados.valor\r\nfrom (select lote.numero            as numeroLote,\r\n             lote.descricao         as descricaoLote,\r\n             coalesce(pfForn.NOME, pjForn.RAZAOSOCIAL) as participante,\r\n             lanc.statuslancepregao as situacao,\r\n             lanc.valor,\r\n             pregao.licitacao_id as idProcessoLicitatorio\r\n      from pregao\r\n               inner join itempregao item on item.pregao_id = pregao.id\r\n               inner join rodadapregao rod on rod.itempregao_id = item.id\r\n               inner join lancepregao lanc on lanc.rodadapregao_id = rod.id\r\n               inner join itprelotpro it on it.itempregao_id = item.id\r\n               inner join loteprocessodecompra lote on lote.id = it.loteprocessodecompra_id\r\n               inner join PropostaFornecedor pro on pro.id = lanc.propostafornecedor_id\r\n               inner join pessoa p on p.id = pro.fornecedor_id\r\n               left join pessoafisica pfForn on pfForn.id = p.id\r\n               left join pessoajuridica pjForn on pjForn.id = p.id\r\n\r\n      union all\r\n      select lote.numero              as numeroLote,\r\n             lote.descricao           as descricaoLote,\r\n             coalesce(pfForn.NOME, pjForn.RAZAOSOCIAL) as participante,\r\n             item.situacaoitemcertame as situacao,\r\n             lote.valor,\r\n             ct.licitacao_id as idProcessoLicitatorio\r\n      from certame ct\r\n               inner join itemcertame item on item.certame_id = ct.id\r\n               inner join ITEMCERTAMELOTEPRO itemlote on itemlote.itemcertame_id = item.id\r\n               inner join loteprocessodecompra lote on itemlote.loteprocessodecompra_id = lote.id\r\n               inner join LOTEPROPFORNEC loteFor on loteFor.id = itemlote.lotepropfornecedorvencedor_id\r\n               inner join PropostaFornecedor pro on pro.id = loteFor.propostafornecedor_id\r\n               inner join pessoa p on p.id = pro.fornecedor_id\r\n               left join pessoafisica pfForn on pfForn.id = p.id\r\n               left join pessoajuridica pjForn on pjForn.id = p.id\r\n     ) dados $WHERE","count":"select count(idProcessoLicitatorio)\r\nfrom (select lote.numero            as numeroLote,\r\n             lote.descricao         as descricaoLote,\r\n             coalesce(pfForn.NOME, pjForn.RAZAOSOCIAL) as participante,\r\n             lanc.statuslancepregao as situacao,\r\n             lanc.valor,\r\n             pregao.licitacao_id as idProcessoLicitatorio\r\n      from pregao\r\n               inner join itempregao item on item.pregao_id = pregao.id\r\n               inner join rodadapregao rod on rod.itempregao_id = item.id\r\n               inner join lancepregao lanc on lanc.rodadapregao_id = rod.id\r\n               inner join itprelotpro it on it.itempregao_id = item.id\r\n               inner join loteprocessodecompra lote on lote.id = it.loteprocessodecompra_id\r\n               inner join PropostaFornecedor pro on pro.id = lanc.propostafornecedor_id\r\n               inner join pessoa p on p.id = pro.fornecedor_id\r\n               left join pessoafisica pfForn on pfForn.id = p.id\r\n               left join pessoajuridica pjForn on pjForn.id = p.id\r\n\r\n      union all\r\n      select lote.numero              as numeroLote,\r\n             lote.descricao           as descricaoLote,\r\n             coalesce(pfForn.NOME, pjForn.RAZAOSOCIAL) as participante,\r\n             item.situacaoitemcertame as situacao,\r\n             lote.valor,\r\n             ct.licitacao_id as idProcessoLicitatorio\r\n      from certame ct\r\n               inner join itemcertame item on item.certame_id = ct.id\r\n               inner join ITEMCERTAMELOTEPRO itemlote on itemlote.itemcertame_id = item.id\r\n               inner join loteprocessodecompra lote on itemlote.loteprocessodecompra_id = lote.id\r\n               inner join LOTEPROPFORNEC loteFor on loteFor.id = itemlote.lotepropfornecedorvencedor_id\r\n               inner join PropostaFornecedor pro on pro.id = loteFor.propostafornecedor_id\r\n               inner join pessoa p on p.id = pro.fornecedor_id\r\n               left join pessoafisica pfForn on pfForn.id = p.id\r\n               left join pessoajuridica pjForn on pjForn.id = p.id\r\n     ) dados $WHERE","totalRegistros":null,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Número do Lote","columnName":"numeroLote","columnValue":"numeroLote","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"INTEGER","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":2,"descricao":"Descrição do Lote","columnName":"descricaoLote","columnValue":"descricaoLote","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"Participante","columnName":"participante","columnValue":"participante","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":4,"descricao":"Situação","columnName":"situacao","columnValue":"situacao","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.StatusLancePregao","valorPadrao":[null,"ATIVO","DESCLASSIFICADO","CANCELADO","DECLINADO","INEXEQUIVEL","VENCEDOR","NAO_REALIZADO"],"escondido":false},{"posicao":5,"descricao":"Valor","columnName":"valor","columnValue":"valor","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false}]},';
    textoTabsJulgamento
CLOB := '{"titulo":"Julgamento/Habilitação","consulta":"select nomerazao, tipodocumento, classificacao, classificacaotecnica\r\nfrom (select distinct coalesce(pfempresa.nome, pjempresa.razaosocial, representante.nome) as nomerazao,\r\n                      tdh.descricao                                                       as tipodocumento,\r\n                      lf.tipoclassificacaofornecedor                                      as classificacao,\r\n                      lf.classificacaotecnica                                             as classificacaotecnica,\r\n                      lic.id                                                              as idProcessoLicitatorio\r\n      from licitacao lic\r\n               inner join licitacaofornecedor lf on lf.licitacao_id = lic.id\r\n               left join pessoa empresa on empresa.id = lf.empresa_id\r\n               left join pessoafisica pfempresa on pfempresa.id = empresa.id\r\n               left join pessoajuridica pjempresa on pjempresa.id = empresa.id\r\n               left join representantelicitacao representante on representante.id = lf.representante_id\r\n               inner join licitacaodoctofornecedor ldf on ldf.licitacaofornecedor_id = lf.id\r\n               inner join doctohabilitacao dh on dh.id = ldf.doctohabilitacao_id\r\n               inner join tipodoctohabilitacao tdh on tdh.id = dh.tipodoctohabilitacao_id\r\n     ) dados $WHERE","count":"select count(idProcessoLicitatorio)\r\nfrom (select distinct coalesce(pfempresa.nome, pjempresa.razaosocial, representante.nome) as nomerazao,\r\n                      tdh.descricao                                                       as tipodocumento,\r\n                      lf.tipoclassificacaofornecedor                                      as classificacao,\r\n                      lf.classificacaotecnica                                             as classificacaotecnica,\r\n                      lic.id                                                              as idProcessoLicitatorio\r\n      from licitacao lic\r\n               inner join licitacaofornecedor lf on lf.licitacao_id = lic.id\r\n               left join pessoa empresa on empresa.id = lf.empresa_id\r\n               left join pessoafisica pfempresa on pfempresa.id = empresa.id\r\n               left join pessoajuridica pjempresa on pjempresa.id = empresa.id\r\n               left join representantelicitacao representante on representante.id = lf.representante_id\r\n               inner join licitacaodoctofornecedor ldf on ldf.licitacaofornecedor_id = lf.id\r\n               inner join doctohabilitacao dh on dh.id = ldf.doctohabilitacao_id\r\n               inner join tipodoctohabilitacao tdh on tdh.id = dh.tipodoctohabilitacao_id\r\n     ) dados $WHERE","totalRegistros":null,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Nome","columnName":"nomerazao","columnValue":"nomerazao","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":2,"descricao":"Tipo","columnName":"tipodocumento","columnValue":"tipodocumento","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"Classificação","columnName":"classificacao","columnValue":"classificacao","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.TipoClassificacaoFornecedor","valorPadrao":[null,"HABILITADO","HABILITADOCOMRESSALVA","INABILITADO","DESCLASSIFICADO","AUSENTE"],"escondido":false},{"posicao":4,"descricao":"Classificação Técnica","columnName":"classificacaotecnica","columnValue":"classificacaotecnica","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.TipoClassificacaoFornecedor","valorPadrao":[null,"HABILITADO","HABILITADOCOMRESSALVA","INABILITADO","DESCLASSIFICADO","AUSENTE"],"escondido":false}]},';
    textoTabsPublicacoes
CLOB := '{"titulo":"Publicações","consulta":"select datapublicacao, tipopublicacao, veiculodepublicacao, numeroedicaoveiculopublicacao, observacoes\r\nfrom (select distinct pl.datapublicacao,\r\n                      pl.tipopublicacaolicitacao as tipopublicacao,\r\n                      vdp.nome                   as veiculodepublicacao,\r\n                      pl.numeroedicaopublicacao  as numeroedicaoveiculopublicacao,\r\n                      pl.observacoes             as observacoes,\r\n                      lic.id                     as idProcessoLicitatorio\r\n      from licitacao lic\r\n               inner join publicacaolicitacao pl on pl.licitacao_id = lic.id\r\n               left join veiculodepublicacao vdp on vdp.id = pl.veiculodepublicacao_id\r\n     ) dados $WHERE","count":"select count(idProcessoLicitatorio)\r\nfrom (select distinct pl.datapublicacao,\r\n                      pl.tipopublicacaolicitacao as tipopublicacao,\r\n                      vdp.nome                   as veiculodepublicacao,\r\n                      pl.numeroedicaopublicacao  as numeroedicaoveiculopublicacao,\r\n                      pl.observacoes             as observacoes,\r\n                      lic.id                     as idProcessoLicitatorio\r\n      from licitacao lic\r\n               inner join publicacaolicitacao pl on pl.licitacao_id = lic.id\r\n               left join veiculodepublicacao vdp on vdp.id = pl.veiculodepublicacao_id\r\n     ) dados $WHERE","totalRegistros":null,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Data","columnName":"datapublicacao","columnValue":"datapublicacao","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":2,"descricao":"Tipo da Publicação","columnName":"tipopublicacao","columnValue":"tipopublicacao","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.TipoPublicacaoLicitacao","valorPadrao":[null,"EDITAL","AVISO","RESULTADODERECURSOS","ADJUDICACAO","HOMOLOGACAO","OUTROS","TERMO_RECONHECIMENTO_DIVIDA"],"escondido":false},{"posicao":3,"descricao":"Veículo de Publicação","columnName":"veiculodepublicacao","columnValue":"veiculodepublicacao","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":4,"descricao":"Número","columnName":"numeroedicaoveiculopublicacao","columnValue":"numeroedicaoveiculopublicacao","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":5,"descricao":"Observações","columnName":"observacoes","columnValue":"observacoes","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false}]},';
    textoTabsFaseRecusal
CLOB := '{"titulo":"Fase Recusal/Homologação","consulta":"select numero, datasituacao, operacao\r\nfrom (select distinct sfl.NUMERO,\r\n                      sfl.DATASITUACAO,\r\n                      sfl.TIPOSITUACAO as operacao,\r\n                      lic.id           as idProcessoLicitatorio\r\n      from licitacao lic\r\n               inner join LicitacaoFornecedor lf on lf.LICITACAO_ID = lic.ID\r\n               inner join StatusFornecedorLicitacao sfl on sfl.LICITACAOFORNECEDOR_ID = lf.ID\r\n      ) dados $WHERE","count":"select count(idProcessoLicitatorio)\r\nfrom (select distinct sfl.NUMERO,\r\n                      sfl.DATASITUACAO,\r\n                      sfl.TIPOSITUACAO as operacao,\r\n                      lic.id           as idProcessoLicitatorio\r\n      from licitacao lic\r\n               inner join LicitacaoFornecedor lf on lf.LICITACAO_ID = lic.ID\r\n               inner join StatusFornecedorLicitacao sfl on sfl.LICITACAOFORNECEDOR_ID = lf.ID\r\n      ) dados $WHERE","totalRegistros":null,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Número","columnName":"numero","columnValue":"numero","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":2,"descricao":"Data","columnName":"datasituacao","columnValue":"datasituacao","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"Operação","columnName":"operacao","columnValue":"operacao","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.TipoSituacaoFornecedorLicitacao","valorPadrao":[null,"ADJUDICADA","HOMOLOGADA"],"escondido":false}]},';
    textoTabsContrato
CLOB := '{"titulo":"Contrato","consulta":"select *\r\nfrom (select distinct c.numeroContrato || ''/'' || extract(year from c.DATALANCAMENTO) as numeroContrato,\r\n                      c.numeroTermo || ''/'' || ex.ANO                                 as numeroTermo,\r\n                      c.situacaoContrato                                             as situacao,\r\n                      c.VALORTOTAL                                                   as valorDoContrato,\r\n                      c.variacaoAtualContrato || ''%''                                 as variacaoAtual,\r\n                      c.valorAtualContrato                                           as valorAtual,\r\n                      c.saldoAtualContrato                                           as saldoAtual,\r\n                      c.objeto,\r\n                      lic.id                                                         as idProcessoLicitatorio\r\n      from licitacao lic\r\n               inner join CONLICITACAO cl on cl.LICITACAO_ID = lic.ID\r\n               inner join CONTRATO c on c.id = cl.CONTRATO_ID\r\n               inner join EXERCICIO ex on ex.id = c.exercicioContrato_id\r\n      ) dados $WHERE","count":"select count(idProcessoLicitatorio)\r\nfrom (select distinct c.numeroContrato || ''/'' || extract(year from c.DATALANCAMENTO) as numeroContrato,\r\n                      c.numeroTermo || ''/'' || ex.ANO                                 as numeroTermo,\r\n                      c.situacaoContrato                                             as situacao,\r\n                      c.VALORTOTAL                                                   as valorDoContrato,\r\n                      c.variacaoAtualContrato || ''%''                                 as variacaoAtual,\r\n                      c.valorAtualContrato                                           as valorAtual,\r\n                      c.saldoAtualContrato                                           as saldoAtual,\r\n                      c.objeto,\r\n                      lic.id                                                         as idProcessoLicitatorio\r\n      from licitacao lic\r\n               inner join CONLICITACAO cl on cl.LICITACAO_ID = lic.ID\r\n               inner join CONTRATO c on c.id = cl.CONTRATO_ID\r\n               inner join EXERCICIO ex on ex.id = c.exercicioContrato_id\r\n      ) dados $WHERE","totalRegistros":null,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Número do Contrato","columnName":"numeroContrato","columnValue":"numeroContrato","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":2,"descricao":"Número do Termo","columnName":"numeroTermo","columnValue":"numeroTermo","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"Situação","columnName":"situacao","columnValue":"situacao","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.SituacaoContrato","valorPadrao":[null,"EM_ELABORACAO","APROVADO","RESCINDIDO","DEFERIDO"],"escondido":false},{"posicao":4,"descricao":"Valor","columnName":"valorDoContrato","columnValue":"valorDoContrato","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":5,"descricao":"Variação Atual","columnName":"variacaoAtual","columnValue":"variacaoAtual","tipoAlinhamento":"DIREITA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":6,"descricao":"Valor Atual","columnName":"valorAtual","columnValue":"valorAtual","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":7,"descricao":"Saldo Atual","columnName":"saldoAtual","columnValue":"saldoAtual","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":8,"descricao":"Objeto","columnName":"objeto","columnValue":"objeto","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false}]},';
    textoTabsOrdemServico
CLOB := '{"titulo":"Ordem de Serviço","consulta":"select *\r\nfrom (select distinct osc.NUMERO,\r\n                      osc.DATAEXPEDICAO,\r\n                      osc.TIPO,\r\n                      osc.DATARECEBIMENTO,\r\n                      lic.id as idProcessoLicitatorio\r\n      from licitacao lic\r\n               inner join CONLICITACAO cl on cl.LICITACAO_ID = lic.ID\r\n               inner join CONTRATO c on c.id = cl.CONTRATO_ID\r\n               inner join OrdemDeServicoContrato osc on osc.CONTRATO_ID = c.ID\r\n      ) dados $WHERE","count":"select count(idProcessoLicitatorio)\r\nfrom (select distinct osc.NUMERO,\r\n                      osc.DATAEXPEDICAO,\r\n                      osc.TIPO,\r\n                      osc.DATARECEBIMENTO,\r\n                      lic.id as idProcessoLicitatorio\r\n      from licitacao lic\r\n               inner join CONLICITACAO cl on cl.LICITACAO_ID = lic.ID\r\n               inner join CONTRATO c on c.id = cl.CONTRATO_ID\r\n               inner join OrdemDeServicoContrato osc on osc.CONTRATO_ID = c.ID\r\n      ) dados $WHERE","totalRegistros":null,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Número","columnName":"NUMERO","columnValue":"NUMERO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":2,"descricao":"Data Expedição","columnName":"DATAEXPEDICAO","columnValue":"DATAEXPEDICAO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"Tipo","columnName":"TIPO","columnValue":"TIPO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.TipoOrdemDeServicoContrato","valorPadrao":[null,"SERVICO","PARALIZACAO","REINICIO"],"escondido":false},{"posicao":4,"descricao":"Data Recebimento","columnName":"DATARECEBIMENTO","columnValue":"DATARECEBIMENTO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false}]},';
    textoTabsExtratoCredor
CLOB := '{"titulo":"Extrato de Credor","consulta":"select funcional,\r\n       fonte,\r\n       conta,\r\n       datareg,\r\n       numero,\r\n       operacao,\r\n       coalesce(sum(valor), 0) as valor\r\nfrom (select distinct desp.codigo                              as funcional,\r\n                      fonte.codigo || '' - '' || fonte.descricao as fonte,\r\n                      c.codigo || '' - '' || c.descricao         as conta,\r\n                      trunc(emp.dataempenho)                   as datareg,\r\n                      emp.numero                               as numero,\r\n                      ''Nota de Empenho''                        as operacao,\r\n                      emp.valor                                as valor,\r\n                      1                                        as ordem,\r\n                      lic.id                                   as idProcessoLicitatorio\r\n      from empenho emp\r\n               inner join despesaorc desp on emp.despesaorc_id = desp.id\r\n               inner join provisaoppadespesa prov on desp.provisaoppadespesa_id = prov.id\r\n               inner join conta c on prov.contadedespesa_id = c.id\r\n               inner join fontedespesaorc fontedesp on emp.fontedespesaorc_id = fontedesp.id\r\n               inner join provisaoppafonte provfonte on fontedesp.provisaoppafonte_id = provfonte.id\r\n               inner join contadedestinacao cd on provfonte.destinacaoderecursos_id = cd.id\r\n               inner join conta ccd on cd.id = ccd.id\r\n               inner join fontederecursos fonte on cd.fontederecursos_id = fonte.id\r\n               inner join conlicitacao cl on cl.contrato_id = emp.contrato_id\r\n               inner join licitacao lic on lic.id = cl.licitacao_id\r\n      where emp.categoriaorcamentaria = ''NORMAL''\r\n\r\n      union all\r\n      select distinct desp.codigo                              as funcional,\r\n                      fonte.codigo || '' - '' || fonte.descricao as fonte,\r\n                      c.codigo || '' - '' || c.descricao         as conta,\r\n                      trunc(emp.dataempenho)                   as datareg,\r\n                      emp.numero                               as numero,\r\n                      ''Restos a Pagar Processados''             as operacao,\r\n                      emp.valor                                as valor,\r\n                      2                                        as ordem,\r\n                      lic.id                                   as idProcessoLicitatorio\r\n      from empenho emp\r\n               inner join empenho empOriginal on emp.empenho_id = empOriginal.id\r\n               inner join despesaorc desp on emp.despesaorc_id = desp.id\r\n               inner join provisaoppadespesa prov on desp.provisaoppadespesa_id = prov.id\r\n               inner join conta c on prov.contadedespesa_id = c.id\r\n               inner join fontedespesaorc fontedesp on emp.fontedespesaorc_id = fontedesp.id\r\n               inner join provisaoppafonte provfonte on fontedesp.provisaoppafonte_id = provfonte.id\r\n               inner join contadedestinacao cd on provfonte.destinacaoderecursos_id = cd.id\r\n               inner join conta ccd on cd.id = ccd.id\r\n               inner join fontederecursos fonte on cd.fontederecursos_id = fonte.id\r\n               inner join conlicitacao cl on cl.contrato_id = emp.contrato_id\r\n               inner join licitacao lic on lic.id = cl.licitacao_id\r\n      WHERE emp.categoriaorcamentaria = ''RESTO''\r\n        and emp.tiporestosprocessados = ''PROCESSADOS''\r\n\r\n      union all\r\n      select distinct desp.codigo                                as funcional,\r\n                      fonte.codigo || '' - '' || fonte.descricao   as fonte,\r\n                      c.codigo || '' - '' || c.descricao           as conta,\r\n                      trunc(emp.dataempenho)                     as datareg,\r\n                      emp.numero                                 as numero,\r\n                      ''Restos a Pagar Não-Processados Inscritos'' as operacao,\r\n                      emp.valor                                  as valor,\r\n                      3                                          as ordem,\r\n                      lic.id                                     as idProcessoLicitatorio\r\n      from empenho emp\r\n               inner join empenho empOriginal on emp.empenho_id = empOriginal.id\r\n               inner join despesaorc desp on emp.despesaorc_id = desp.id\r\n               inner join provisaoppadespesa prov on desp.provisaoppadespesa_id = prov.id\r\n               inner join conta c on prov.contadedespesa_id = c.id\r\n               inner join fontedespesaorc fontedesp on emp.fontedespesaorc_id = fontedesp.id\r\n               inner join provisaoppafonte provfonte on fontedesp.provisaoppafonte_id = provfonte.id\r\n               inner join contadedestinacao cd on provfonte.destinacaoderecursos_id = cd.id\r\n               inner join conta ccd on cd.id = ccd.id\r\n               inner join fontederecursos fonte on cd.fontederecursos_id = fonte.id\r\n               inner join conlicitacao cl on cl.contrato_id = emp.contrato_id\r\n               inner join licitacao lic on lic.id = cl.licitacao_id\r\n      WHERE emp.categoriaorcamentaria = ''RESTO''\r\n        and emp.tiporestosprocessados = ''NAO_PROCESSADOS''\r\n      ) dados\r\nwhere 1 = 1 $WHERE\r\ngroup by datareg, numero, operacao, funcional, fonte, conta, ordem\r\norder by ordem, numero","count":"select count(idProcessoLicitatorio)\r\nfrom (select distinct desp.codigo                              as funcional,\r\n                      fonte.codigo || '' - '' || fonte.descricao as fonte,\r\n                      c.codigo || '' - '' || c.descricao         as conta,\r\n                      trunc(emp.dataempenho)                   as datareg,\r\n                      emp.numero                               as numero,\r\n                      ''Nota de Empenho''                        as operacao,\r\n                      emp.valor                                as valor,\r\n                      1                                        as ordem,\r\n                      lic.id                                   as idProcessoLicitatorio\r\n      from empenho emp\r\n               inner join despesaorc desp on emp.despesaorc_id = desp.id\r\n               inner join provisaoppadespesa prov on desp.provisaoppadespesa_id = prov.id\r\n               inner join conta c on prov.contadedespesa_id = c.id\r\n               inner join fontedespesaorc fontedesp on emp.fontedespesaorc_id = fontedesp.id\r\n               inner join provisaoppafonte provfonte on fontedesp.provisaoppafonte_id = provfonte.id\r\n               inner join contadedestinacao cd on provfonte.destinacaoderecursos_id = cd.id\r\n               inner join conta ccd on cd.id = ccd.id\r\n               inner join fontederecursos fonte on cd.fontederecursos_id = fonte.id\r\n               inner join conlicitacao cl on cl.contrato_id = emp.contrato_id\r\n               inner join licitacao lic on lic.id = cl.licitacao_id\r\n      where emp.categoriaorcamentaria = ''NORMAL''\r\n\r\n      union all\r\n      select distinct desp.codigo                              as funcional,\r\n                      fonte.codigo || '' - '' || fonte.descricao as fonte,\r\n                      c.codigo || '' - '' || c.descricao         as conta,\r\n                      trunc(emp.dataempenho)                   as datareg,\r\n                      emp.numero                               as numero,\r\n                      ''Restos a Pagar Processados''             as operacao,\r\n                      emp.valor                                as valor,\r\n                      2                                        as ordem,\r\n                      lic.id                                   as idProcessoLicitatorio\r\n      from empenho emp\r\n               inner join empenho empOriginal on emp.empenho_id = empOriginal.id\r\n               inner join despesaorc desp on emp.despesaorc_id = desp.id\r\n               inner join provisaoppadespesa prov on desp.provisaoppadespesa_id = prov.id\r\n               inner join conta c on prov.contadedespesa_id = c.id\r\n               inner join fontedespesaorc fontedesp on emp.fontedespesaorc_id = fontedesp.id\r\n               inner join provisaoppafonte provfonte on fontedesp.provisaoppafonte_id = provfonte.id\r\n               inner join contadedestinacao cd on provfonte.destinacaoderecursos_id = cd.id\r\n               inner join conta ccd on cd.id = ccd.id\r\n               inner join fontederecursos fonte on cd.fontederecursos_id = fonte.id\r\n               inner join conlicitacao cl on cl.contrato_id = emp.contrato_id\r\n               inner join licitacao lic on lic.id = cl.licitacao_id\r\n      WHERE emp.categoriaorcamentaria = ''RESTO''\r\n        and emp.tiporestosprocessados = ''PROCESSADOS''\r\n\r\n      union all\r\n      select distinct desp.codigo                                as funcional,\r\n                      fonte.codigo || '' - '' || fonte.descricao   as fonte,\r\n                      c.codigo || '' - '' || c.descricao           as conta,\r\n                      trunc(emp.dataempenho)                     as datareg,\r\n                      emp.numero                                 as numero,\r\n                      ''Restos a Pagar Não-Processados Inscritos'' as operacao,\r\n                      emp.valor                                  as valor,\r\n                      3                                          as ordem,\r\n                      lic.id                                     as idProcessoLicitatorio\r\n      from empenho emp\r\n               inner join empenho empOriginal on emp.empenho_id = empOriginal.id\r\n               inner join despesaorc desp on emp.despesaorc_id = desp.id\r\n               inner join provisaoppadespesa prov on desp.provisaoppadespesa_id = prov.id\r\n               inner join conta c on prov.contadedespesa_id = c.id\r\n               inner join fontedespesaorc fontedesp on emp.fontedespesaorc_id = fontedesp.id\r\n               inner join provisaoppafonte provfonte on fontedesp.provisaoppafonte_id = provfonte.id\r\n               inner join contadedestinacao cd on provfonte.destinacaoderecursos_id = cd.id\r\n               inner join conta ccd on cd.id = ccd.id\r\n               inner join fontederecursos fonte on cd.fontederecursos_id = fonte.id\r\n               inner join conlicitacao cl on cl.contrato_id = emp.contrato_id\r\n               inner join licitacao lic on lic.id = cl.licitacao_id\r\n      WHERE emp.categoriaorcamentaria = ''RESTO''\r\n        and emp.tiporestosprocessados = ''NAO_PROCESSADOS''\r\n      ) dados\r\nwhere 1 = 1 $WHERE","totalRegistros":null,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Funcional","columnName":"funcional","columnValue":"funcional","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":2,"descricao":"Fonte","columnName":"fonte","columnValue":"fonte","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"Conta","columnName":"conta","columnValue":"conta","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":4,"descricao":"Data","columnName":"datareg","columnValue":"datareg","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":5,"descricao":"Número","columnName":"numero","columnValue":"numero","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":6,"descricao":"Operação","columnName":"operacao","columnValue":"operacao","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":7,"descricao":"Valor","columnName":"valor","columnValue":"valor","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false}]},';
    textoTabsGestorContrato
CLOB := '{"titulo":"Gestor e Fiscal do Contrato","consulta":"select *\r\nfrom (\r\nselect distinct mfp.matricula || ''/'' || vfp.numero || '' - '' || pf.nome as matricula,\r\n                gc.iniciovigencia,\r\n                gc.finalvigencia,\r\n                lic.id as idProcessoLicitatorio\r\nfrom licitacao lic\r\n         inner join conlicitacao cl on cl.licitacao_id = lic.id\r\n         inner join gestorcontrato gc on gc.contrato_id = cl.contrato_id\r\n         inner join contratofp cfp on cfp.id = gc.servidor_id\r\n         inner join vinculofp vfp on vfp.id = cfp.id\r\n         left join matriculafp mfp on mfp.id = vfp.matriculafp_id\r\n         left join pessoafisica pf on pf.id = mfp.pessoa_id\r\n     ) dados $WHERE","count":"select COUNT(idProcessoLicitatorio)\r\nfrom (\r\nselect distinct mfp.matricula || ''/'' || vfp.numero || '' - '' || pf.nome as matricula,\r\n                gc.iniciovigencia,\r\n                gc.finalvigencia,\r\n                lic.id as idProcessoLicitatorio\r\nfrom licitacao lic\r\n         inner join conlicitacao cl on cl.licitacao_id = lic.id\r\n         inner join gestorcontrato gc on gc.contrato_id = cl.contrato_id\r\n         inner join contratofp cfp on cfp.id = gc.servidor_id\r\n         inner join vinculofp vfp on vfp.id = cfp.id\r\n         left join matriculafp mfp on mfp.id = vfp.matriculafp_id\r\n         left join pessoafisica pf on pf.id = mfp.pessoa_id\r\n     ) dados $WHERE","totalRegistros":null,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Gestor","columnName":"matricula","columnValue":"matricula","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":2,"descricao":"Início de Vigência","columnName":"iniciovigencia","columnValue":"iniciovigencia","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"Final de Vigência","columnName":"finalvigencia","columnValue":"finalvigencia","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false}]},';
    textoTabsAditivo
CLOB := '{"titulo":"Termo Aditivo/Repactuação","consulta":"select *\r\nfrom (\r\nselect distinct ac.tipoAlteracaoContratual      as tipoAlteracao,\r\n                ac.numeroTermo || ''/'' || ex.ANO as numeroTermo,\r\n                ac.SITUACAO,\r\n                ac.DATALANCAMENTO,\r\n                ac.DATAAPROVACAO,\r\n                ac.DATADEFERIMENTO,\r\n                ac.JUSTIFICATIVA,\r\n                lic.id as idProcessoLicitatorio\r\nfrom licitacao lic\r\n         inner join conlicitacao cl on cl.licitacao_id = lic.id\r\n         inner join alteracaocontratual ac on ac.contrato_id = cl.contrato_id\r\n         inner join exercicio ex on ex.id = ac.exercicio_id\r\n     ) dados $WHERE","count":"select count(idProcessoLicitatorio)\r\nfrom (\r\nselect distinct ac.tipoAlteracaoContratual      as tipoAlteracao,\r\n                ac.numeroTermo || ''/'' || ex.ANO as numeroTermo,\r\n                ac.SITUACAO,\r\n                ac.DATALANCAMENTO,\r\n                ac.DATAAPROVACAO,\r\n                ac.DATADEFERIMENTO,\r\n                ac.JUSTIFICATIVA,\r\n                lic.id as idProcessoLicitatorio\r\nfrom licitacao lic\r\n         inner join conlicitacao cl on cl.licitacao_id = lic.id\r\n         inner join alteracaocontratual ac on ac.contrato_id = cl.contrato_id\r\n         inner join exercicio ex on ex.id = ac.exercicio_id\r\n     ) dados $WHERE","totalRegistros":null,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Tipo","columnName":"tipoAlteracao","columnValue":"tipoAlteracao","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.TipoAlteracaoContratual","valorPadrao":[null,"ADITIVO","APOSTILAMENTO"],"escondido":false},{"posicao":2,"descricao":"Número","columnName":"numeroTermo","columnValue":"numeroTermo","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"Situação","columnName":"SITUACAO","columnValue":"SITUACAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.SituacaoContrato","valorPadrao":[null,"EM_ELABORACAO","APROVADO","RESCINDIDO","DEFERIDO"],"escondido":false},{"posicao":4,"descricao":"Data Lançamento","columnName":"DATALANCAMENTO","columnValue":"DATALANCAMENTO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":5,"descricao":"Data Aprovação","columnName":"DATAAPROVACAO","columnValue":"DATAAPROVACAO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":6,"descricao":"Data Deferimento","columnName":"DATADEFERIMENTO","columnValue":"DATADEFERIMENTO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":7,"descricao":"Justificativa","columnName":"JUSTIFICATIVA","columnValue":"JUSTIFICATIVA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false}]}],"paineis":[]}';
BEGIN
    dbms_lob.append
(texto,textoTabsFasePreparatoria);
    dbms_lob.append
(texto,textoTabsFasePreparatoria1);
    dbms_lob.append
(texto,textoTabsEditalEAnexo);
    dbms_lob.append
(texto,textoTabsPropostas);
    dbms_lob.append
(texto,textoTabsLances);
    dbms_lob.append
(texto,textoTabsLancesPorLote);
    dbms_lob.append
(texto,textoTabsJulgamento);
    dbms_lob.append
(texto,textoTabsPublicacoes);
    dbms_lob.append
(texto,textoTabsFaseRecusal);
    dbms_lob.append
(texto,textoTabsContrato);
    dbms_lob.append
(texto,textoTabsOrdemServico);
    dbms_lob.append
(texto,textoTabsExtratoCredor);
    dbms_lob.append
(texto,textoTabsGestorContrato);
    dbms_lob.append
(texto,textoTabsAditivo);
update PAGINAPREFEITURAPORTAL
set CONTEUDO = texto
where NOME = 'Processo Licitatório'
  and CHAVE = 'processo-licitatorio-ver';
END;
