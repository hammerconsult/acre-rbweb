DECLARE
texto CLOB := '{"consulta":"select distinct vw.CODIGO || '' '' || vw.DESCRICAO                                                               as unidade,\r\n       regexp_replace(lev.CODIGOPATRIMONIO, ''[^[:digit:]]'')                                           as CODIGOPATRIMONIO,\r\n       lev.NUMEROREGISTRO,\r\n       lev.bci,\r\n       lev.descricaoimovel,\r\n       lev.localizacao,\r\n       lev.TIPOAQUISICAOBEM,\r\n       lev.VALORBEM,\r\n       lev.dataaquisicao,\r\n       (select listagg(doc.NUMERO, '', '') within group (order by doc.NUMERO)\r\n        from DOCTOCOMPROBLEVBEMIMOVEL doc\r\n        where doc.levantamentobemimovel_id = lev.id)                                                     notasfiscais,\r\n       (select listagg(empenho.NUMEROEMPENHO || ''/'' || extract(year from empenho.DATAEMPENHO), '', '')\r\n                       within group (order by empenho.NUMEROEMPENHO)\r\n        from DOCTOCOMPROBLEVBEMIMOVEL doc\r\n                 inner join EmpenhoLevantamentoImovel empenho on empenho.documentocomprobatorio_id = doc.id\r\n        where doc.levantamentobemimovel_id = lev.id)                                                     empenhos,\r\n       (select cond.descricao\r\n        from CONDICAODEOCUPACAO cond\r\n        where cond.id = lev.CONDICAODEOCUPACAO_ID)                                                    as CONDICAODEOCUPACAO,\r\n       (select listagg(org.TIPORECURSOAQUISICAOBEM || '' - '' || org.descricao, '', '')\r\n                       within group (order by org.TIPORECURSOAQUISICAOBEM)\r\n        from detentororigemrecurso det\r\n                 inner join origemrecursobem org on org.detentororigemrecurso_id = det.id\r\n        where det.id = lev.DETENTORORIGEMRECURSO_ID)                                                     fonteRecurso,\r\n       (select gp.codigo from grupobem gp where gp.id = lev.GRUPOBEM_ID)                              as grupoPatrimonial\r\nfrom levantamentobemimovel lev\r\n         inner join vwhierarquiaadministrativa vw on vw.subordinada_id = lev.UNIDADEADMINISTRATIVA_ID\r\n         INNER JOIN VWHIERARQUIAORCAMENTARIA vworc ON vworc.SUBORDINADA_ID = lev.UNIDADEORCAMENTARIA_ID\r\nwhere sysdate between vw.iniciovigencia and coalesce(vw.fimvigencia, sysdate)\r\n  AND sysdate BETWEEN VWORC.INICIOVIGENCIA AND COALESCE(VWORC.FIMVIGENCIA, sysdate)\r\n  $WHERE\r\norder by vw.CODIGO || '' '' || vw.DESCRICAO, to_number(regexp_replace(lev.CODIGOPATRIMONIO, ''[^[:digit:]]''))","count":"select count(1) from (\r\nselect distinct vw.CODIGO || '' '' || vw.DESCRICAO                                                               as unidade,\r\n       regexp_replace(lev.CODIGOPATRIMONIO, ''[^[:digit:]]'')                                           as CODIGOPATRIMONIO,\r\n       lev.NUMEROREGISTRO,\r\n       lev.bci,\r\n       lev.descricaoimovel,\r\n       lev.localizacao,\r\n       lev.TIPOAQUISICAOBEM,\r\n       lev.VALORBEM,\r\n       lev.dataaquisicao,\r\n       (select listagg(doc.NUMERO, '', '') within group (order by doc.NUMERO)\r\n        from DOCTOCOMPROBLEVBEMIMOVEL doc\r\n        where doc.levantamentobemimovel_id = lev.id)                                                     notasfiscais,\r\n       (select listagg(empenho.NUMEROEMPENHO || ''/'' || extract(year from empenho.DATAEMPENHO), '', '')\r\n                       within group (order by empenho.NUMEROEMPENHO)\r\n        from DOCTOCOMPROBLEVBEMIMOVEL doc\r\n                 inner join EmpenhoLevantamentoImovel empenho on empenho.documentocomprobatorio_id = doc.id\r\n        where doc.levantamentobemimovel_id = lev.id)                                                     empenhos,\r\n       (select cond.descricao\r\n        from CONDICAODEOCUPACAO cond\r\n        where cond.id = lev.CONDICAODEOCUPACAO_ID)                                                    as CONDICAODEOCUPACAO,\r\n       (select listagg(org.TIPORECURSOAQUISICAOBEM || '' - '' || org.descricao, '', '')\r\n                       within group (order by org.TIPORECURSOAQUISICAOBEM)\r\n        from detentororigemrecurso det\r\n                 inner join origemrecursobem org on org.detentororigemrecurso_id = det.id\r\n        where det.id = lev.DETENTORORIGEMRECURSO_ID)                                                     fonteRecurso,\r\n       (select gp.codigo from grupobem gp where gp.id = lev.GRUPOBEM_ID)                              as grupoPatrimonial\r\nfrom levantamentobemimovel lev\r\n         inner join vwhierarquiaadministrativa vw on vw.subordinada_id = lev.UNIDADEADMINISTRATIVA_ID\r\n         INNER JOIN VWHIERARQUIAORCAMENTARIA vworc ON vworc.SUBORDINADA_ID = lev.UNIDADEORCAMENTARIA_ID\r\nwhere sysdate between vw.iniciovigencia and coalesce(vw.fimvigencia, sysdate)\r\n  AND sysdate BETWEEN VWORC.INICIOVIGENCIA AND COALESCE(VWORC.FIMVIGENCIA, sysdate)\r\n  $WHERE\r\norder by vw.CODIGO || '' '' || vw.DESCRICAO, to_number(regexp_replace(lev.CODIGOPATRIMONIO, ''[^[:digit:]]''))\r\n)","totalRegistros":5695,"fields":[{"posicao":1,"descricao":"Unidade","columnName":"UNIDADE","columnValue":"UNIDADE","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":true},{"posicao":2,"descricao":"Código Patrimônio","columnName":"CODIGOPATRIMONIO","columnValue":"CODIGOPATRIMONIO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":3,"descricao":"Número Registro","columnName":"NUMEROREGISTRO","columnValue":"NUMEROREGISTRO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":4,"descricao":"BCI","columnName":"BCI","columnValue":"BCI","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":5,"descricao":"Descrição","columnName":"DESCRICAOIMOVEL","columnValue":"DESCRICAOIMOVEL","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":6,"descricao":"Localização","columnName":"LOCALIZACAO","columnValue":"LOCALIZACAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":7,"descricao":"Tipo de Aquisição","columnName":"TIPOAQUISICAOBEM","columnValue":"TIPOAQUISICAOBEM","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"br.com.webpublico.enums.TipoAquisicaoBem","valorPadrao":[null,"ADJUDICACAO","APREENSAO","AVALIACAO","CESSAO","COMODATO","COMPRA","CONSTRUCAO","CONTRATO","CONVENIO","DACAO","DESAPROPRIACAO","DOACAO","PERMUTA","REDISTRIBUICAO","USUCAPIAO","TRANSFERENCIA"],"escondido":false,"agrupador":false},{"posicao":8,"descricao":"Valor","columnName":"VALORBEM","columnValue":"VALORBEM","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":9,"descricao":"Data da Aquisição","columnName":"DATAAQUISICAO","columnValue":"DATAAQUISICAO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":10,"descricao":"Notas Fiscais","columnName":"NOTASFISCAIS","columnValue":"NOTASFISCAIS","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":11,"descricao":"Empenhos","columnName":"EMPENHOS","columnValue":"EMPENHOS","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":12,"descricao":"Condição de Ocupação","columnName":"CONDICAODEOCUPACAO","columnValue":"CONDICAODEOCUPACAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":13,"descricao":"Fonte de Recursos","columnName":"FONTERECURSO","columnValue":"FONTERECURSO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":14,"descricao":"Grupo","columnName":"GRUPOPATRIMONIAL","columnValue":"GRUPOPATRIMONIAL","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false}],"pesquisaveis":[],"tabs":[],"paineis":[]}';
BEGIN
update PAGINAPREFEITURAPORTAL
set CONTEUDO = texto
where NOME = 'Bens Imóveis'
  and CHAVE = 'bens-imoveis';
END;
