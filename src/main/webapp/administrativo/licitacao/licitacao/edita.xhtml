<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PT"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:fc="http://java.sun.com/jsf/composite/components"
      xmlns:fa="http://java.sun.com/jsf/composite/components/administrativo"
      xmlns:p="http://primefaces.org/ui"
>
<ui:composition template="/corpo.xhtml">
    <ui:define name="body">
        <script type="text/javascript">

            function desabilitarCampoArquivo(campoOrigem, idCampoDestino) {
                var split = campoOrigem.id.toString().split(':');
                var idOrigem = split[split.length - 1];

                if (campoOrigem.value.toString().trim().length == 0 || campoOrigem.value == '' || campoOrigem.value == 'undefined') {
                    var idPanel = campoOrigem.id.replace(idOrigem, idCampoDestino);
                    var panel = document.getElementById(idPanel);
                    panel.disabled = true;
                    atribuirNullTipoDocumento();
                }
            }

        </script>
        <h:form id="Formulario">

            <fc:cabecalhoPretty controlador="#{licitacaoControlador}"
                                origem="#{licitacaoControlador.caminhoPadrao}listar/"/>

            <p:outputPanel rendered="#{licitacaoControlador.bloquearEdicao()}">
                <div class="ui-message-warn alinhamentoCentralizado"
                     style="padding: 4px; font-size: 13px; margin: 0px!important;">
                    <h:outputText styleClass="negrito"
                                  value="FORAM ENCONTRADAS PROPOSTAS DE FORNECEDORES PARA ESTA LICITAÇÃO, PORTANTO SOMENTE AS ABAS COMISSÃO, PUBLICAÇÃO E ANEXOS PODERÃO SER ALTERADAS."/>
                </div>
                <div class="mtop05"/>
            </p:outputPanel>

            <p:tabView id="tab-view-geral">
                <p:ajax event="tabChange"
                        process="@this"
                        listener="#{licitacaoControlador.onTabChange}"
                        onstart="aguarde.show()"
                        oncomplete="aguarde.hide()"/>

                <p:tab id="tab-dados-gerais" title="Dados Gerais">
                    <p:outputPanel id="panel-dados-gerais">


                        <h:panelGrid columns="2" cellpadding="2" cellspacing="0">
                            <fc:outputLabelObrigatorio value="Processo de Compra:"/>
                            <h:panelGrid columns="4" cellpadding="0" cellspacing="0">
                                <p:autoComplete queryDelay="1000" id="processo-compra"
                                                title="Digite o processo de compra que deseja pesquisar."
                                                value="#{licitacaoControlador.selecionado.processoDeCompra}"
                                                completeMethod="#{processoDeCompraControlador.buscarProcessoDeCompraPorAnoOrNumeroOrDescricaoAndUsuarioGestorLicitacaoParaLicitacao}"
                                                disabled="#{licitacaoControlador.bloquearEdicao()}"
                                                maxResults="50"
                                                dropdown="true"
                                                panelStyle="max-width: 800px; max-height: 250px"
                                                var="p" size="70"
                                                itemLabel="#{p}"
                                                itemValue="#{p.id}"
                                                converter="#{processoDeCompraControlador.converterGenerico}"
                                                styleClass="mrig05">
                                    <p:ajax event="itemSelect"
                                            listener="#{licitacaoControlador.validacoesDoProcessoDeCompraSelecionado}"
                                            process="@this"
                                            update=":Formulario:tab-view-geral:panel-dados-gerais :Formulario:tab-view-geral:panel-item"
                                            onstart="aguarde.show();"
                                            oncomplete="aguarde.hide();"/>
                                </p:autoComplete>

                                <p:commandButton id="bt-informacao-processo-de-compra"
                                                 icon="ui-icon-info"
                                                 process="@none"
                                                 update="@none"
                                                 styleClass="mrig05"
                                                 disabled="#{licitacaoControlador.bloquearEdicao()}"/>
                                <p:overlayPanel for="bt-informacao-processo-de-compra"
                                                appendToBody="true"
                                                style="border : solid black 2px;"
                                                showEvent="mouseover"
                                                hideEvent="mouseout">
                                    <h:outputText
                                        value="A consulta está usando como filtro apenas processos de compra do tipo licitação
                                    &lt;br/> e que não estejam vinculados a nenhum outro cadastro de licitação."
                                        escape="false"/>
                                </p:overlayPanel>
                            </h:panelGrid>

                            <fc:outputLabelObrigatorio value="Modalidade:"/>
                            <h:outputText value="#{licitacaoControlador.selecionado.modalidadeLicitacao.descricao}"
                                          styleClass="negrito"/>

                            <fc:outputLabelObrigatorio value="Exercício:"/>
                            <h:panelGrid columns="4" cellpadding="0" cellspacing="0">
                                <p:inputMask mask="9999" id="exercicio-licitacao"
                                             title="Informe o exercício."
                                             converter="#{exercicioControlador.converterExercicio}"
                                             value="#{licitacaoControlador.selecionado.exercicio}"
                                             disabled="#{licitacaoControlador.bloquearEdicao()}"
                                             size="10">
                                    <p:ajax event="blur" process="@this" update="numero-licitacao"
                                            onstart="aguarde.show();" oncomplete="aguarde.hide();"/>
                                </p:inputMask>

                                <h:outputLabel value="Número do Processo Licitatório: " styleClass="mlef20"/>
                                <p:inputText title="Digite o número da licitação"
                                             value="#{licitacaoControlador.selecionado.numeroLicitacao}"
                                             disabled="#{licitacaoControlador.bloquearEdicao()}"
                                             id="numero-licitacao" size="10" style="text-align: left"/>
                                <h:outputText
                                    value="Caso não informe o número do processo licitatório, o sistema irá gerar automaticamente ao salvar."
                                    styleClass="azulnegrito mlef03"/>
                            </h:panelGrid>

                            <fc:outputLabelObrigatorio value="Exercício da Modalidade: "/>
                            <h:panelGrid columns="3" cellpadding="0" cellspacing="0">
                                <p:inputMask mask="9999" id="exercicio-modalidade"
                                             title="Informe o exercício da modalidade."
                                             converter="#{exercicioControlador.converterExercicio}"
                                             value="#{licitacaoControlador.selecionado.exercicioModalidade}"
                                             disabled="#{licitacaoControlador.bloquearEdicao()}"
                                             size="10"
                                             style="margin-right: 68px">
                                </p:inputMask>

                                <h:outputLabel value="Número da Modalidade: "/>
                                <p:inputText title="Digite o Número da Modalidade"
                                             value="#{licitacaoControlador.selecionado.numero}"
                                             disabled="#{licitacaoControlador.bloquearEdicao()}"
                                             id="numero-modalidade" size="10"
                                             style="text-align: left"/>
                            </h:panelGrid>

                            <fc:outputLabelObrigatorio value="Comissão:"/>
                            <h:panelGrid columns="2" cellpadding="0" cellspacing="0">
                                <p:autoComplete queryDelay="1000" id="comissao"
                                                title="Informe a comissão que deseja pesquisar."
                                                value="#{licitacaoControlador.selecionado.comissao}"
                                                converter="#{comissaoControlador.converterGenerico}"
                                                completeMethod="#{licitacaoControlador.completaComissao}"
                                                disabled="#{licitacaoControlador.bloquearEdicao()}"
                                                var="c" size="70"
                                                itemLabel="#{c.codigo}  -  #{c.tituloReduzido}"
                                                itemValue="#{c.id}"
                                                maxResults="50"
                                                dropdown="true"
                                                panelStyle="max-width: 800px; max-height: 250px"
                                                styleClass="mrig05">
                                    <p:ajax event="itemSelect"
                                            process="@this" update=":Formulario:tab-view-geral:panel-comissao"
                                            listener="#{licitacaoControlador.removerMembrosExonerados}"
                                            onstart="aguarde.show();" oncomplete="aguarde.hide();"/>
                                </p:autoComplete>

                                <fc:novoParente destino="#{comissaoControlador.caminhoDestinoNovoCadastro}"
                                                origem="#{licitacaoControlador.caminhoOrigem}"
                                                selecionado="#{licitacaoControlador.selecionado}"
                                                disabled="#{licitacaoControlador.bloquearEdicao()}"/>
                            </h:panelGrid>

                            <h:outputText value="Unidade Organizacional: "/>
                            <h:outputText value="#{licitacaoControlador.selecionado.unidadeAdministrativa}"
                                          styleClass="negrito"/>

                            <h:outputText value="Natureza do Procedimento:"
                                          rendered="#{licitacaoControlador.selecionado.isRegistroDePrecos()}"/>
                            <h:outputText value="#{licitacaoControlador.selecionado.naturezaDoProcedimento.descricao}"
                                          rendered="#{licitacaoControlador.selecionado.isRegistroDePrecos()}"
                                          id="natureza-procedimento" styleClass="negrito"/>

                            <h:outputText value="Link do Sistema de Origem:"
                                          rendered="#{licitacaoControlador.selecionado.naturezaDoProcedimento ne null
                                                                   and licitacaoControlador.selecionado.naturezaDoProcedimento.eletronico}"/>
                            <p:inputText title="Informe o Link do Sistema de Origem."
                                         value="#{licitacaoControlador.selecionado.linkSistemaOrigem}"
                                         rendered="#{licitacaoControlador.selecionado.naturezaDoProcedimento.eletronico}"
                                         size="60"
                                         id="link-sistema-origem" styleClass="negrito"/>

                            <h:outputText value="Tipo de Avaliação:"/>
                            <h:outputText value="#{licitacaoControlador.selecionado.tipoAvaliacao.descricao}"
                                          id="tipo-avaliacao" styleClass="negrito"/>

                            <h:outputText value="Tipo de Apuração:"/>
                            <h:outputText value="#{licitacaoControlador.selecionado.tipoApuracao.descricao}"
                                          id="tipo-apuracao" styleClass="negrito"/>

                            <fc:outputLabelObrigatorio value="Regime de Execução:"/>
                            <h:selectOneMenu value="#{licitacaoControlador.selecionado.regimeDeExecucao}"
                                             disabled="#{licitacaoControlador.bloquearEdicao()}"
                                             id="regime-execucao" title="Informe o regime de execução">
                                <f:selectItems value="#{licitacaoControlador.regimeDeExecucao}"/>
                            </h:selectOneMenu>

                            <h:outputLabel value="Data de Homologação:"
                                           rendered="#{licitacaoControlador.licitacaoHomologada()}"/>
                            <p:calendar id="homologada-em"
                                        onkeypress="mascara(this, Data)"
                                        maxlength="10"
                                        style="text-align: right"
                                        autocomplete="off"
                                        title="Informe a data de homologação"
                                        value="#{licitacaoControlador.selecionado.homologadaEm}"
                                        rendered="#{licitacaoControlador.licitacaoHomologada()}"
                                        locale="pt_BR" navigator="true" pattern="dd/MM/yyyy HH:mm"
                                        size="10"
                                        disabled="true"/>

                            <h:outputLabel value="Valor Máximo da Licitação:"/>
                            <h:outputText id="valor-maximo"
                                          styleClass="negrito"
                                          value="#{licitacaoControlador.selecionado.valorMaximo}"
                                          converter="moneyConverter"/>

                            <fc:outputLabelObrigatorio value="Prazo de Execução:"/>
                            <h:outputText value="#{licitacaoControlador.selecionado.periodoDeExecucao}"
                                          styleClass="negrito"/>

                            <fc:outputLabelObrigatorio value="Prazo de Vigência:"/>
                            <h:outputText value="#{licitacaoControlador.selecionado.prazoDeVigencia}"
                                          styleClass="negrito"/>

                            <fc:outputLabelObrigatorio value="Local de Entrega:"/>
                            <h:outputText value="#{licitacaoControlador.selecionado.localDeEntrega}"
                                          styleClass="negrito"/>

                            <fc:outputLabelObrigatorio value="Forma de Pagamento:"/>
                            <h:panelGrid columns="2" cellpadding="0" cellspacing="0">
                                <p:inputTextarea title="Digite a forma de pagamento"
                                                 readonly="true"
                                                 value="#{licitacaoControlador.selecionado.formaDePagamento}"
                                                 id="formaDePagamento" cols="70" maxlength="3000"
                                                 autoResize="true" counterTemplate="{0} Caracteres Restantes. "
                                                 counter="formaDePagamentoCounter"/>
                                <h:outputText id="formaDePagamentoCounter"
                                              styleClass="mlef05"
                                              style="color: #497692"/>
                            </h:panelGrid>

                            <fc:outputLabelObrigatorio value="Resumo do Objeto:"/>
                            <h:panelGrid columns="2" cellpadding="0" cellspacing="0">
                                <p:inputTextarea title="Digite o resumo do objeto da licitação."
                                                 value="#{licitacaoControlador.selecionado.resumoDoObjeto}"
                                                 disabled="#{licitacaoControlador.bloquearEdicao()}"
                                                 id="resumo-objeto" cols="70" maxlength="255"
                                                 autoResize="true" counterTemplate="{0} Caracteres Restantes."
                                                 counter="counter"/>
                                <h:outputText id="counter"
                                              styleClass="mlef05"
                                              style="color: #497692"/>
                            </h:panelGrid>

                        </h:panelGrid>
                    </p:outputPanel>
                </p:tab>

                <p:tab title="Documento Obrigatório">
                    <p:outputPanel id="panel-documento-obrigatorio">
                        <p:commandButton icon="ui-icon-circle-plus"
                                         value="Novo Documento"
                                         actionListener="#{licitacaoControlador.novoDoctoHabLicitacaoSelecionado()}"
                                         disabled="#{licitacaoControlador.doctoHabLicitacaoSelecionado ne null or licitacaoControlador.bloquearEdicao()}"
                                         rendered="#{!licitacaoControlador.isVisualizar()}"
                                         immediate="true"
                                         update=":Formulario:tab-view-geral:panel-documento-obrigatorio"
                                         process="@this"
                                         title="Clique para adicionar um novo documento obrigatório."
                                         styleClass="padrao"
                                         onstart="aguarde.show();"
                                         oncomplete="aguarde.hide();"/>

                        <p:panel header="Novo/Edita Documento Obrigatório"
                                 id="panel-novo-documento-obrigatorio"
                                 styleClass="mtop05 mbot05"
                                 rendered="#{licitacaoControlador.doctoHabLicitacaoSelecionado != null}">

                            <h:panelGrid columns="2" styleClass="mbot05">
                                <fc:outputLabelObrigatorio value="Documento:"/>
                                <h:panelGrid columns="2" cellpadding="0" cellspacing="0">
                                    <p:dataTable id="documentos" var="doc"
                                                 value="#{licitacaoControlador.documentoObrigatorio}"
                                                 selection="#{licitacaoControlador.doctoHabilitacaos}"
                                                 rowKey="#{doc.id}"
                                                 scrollable="true"
                                                 scrollHeight="200"
                                                 styleClass="mrig05">
                                        <p:column selectionMode="multiple"/>
                                        <p:column headerText="Todos os Documentos">
                                            <h:outputText value="#{doc.descricao}"/>
                                        </p:column>
                                    </p:dataTable>
                                    <fc:novoParente destino="#{doctoHabilitacaoControlador.caminhoDestinoNovoCadastro}"
                                                    origem="#{licitacaoControlador.caminhoOrigem}"
                                                    selecionado="#{licitacaoControlador.selecionado}"/>
                                </h:panelGrid>
                            </h:panelGrid>

                            <p:commandButton id="botao-adicionar-documento"
                                             value="Confirmar"
                                             title="Clique para confirmar este documento."
                                             styleClass="padrao mrig05"
                                             onclick="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             process="panel-novo-documento-obrigatorio"
                                             update=":Formulario:tab-view-geral:panel-documento-obrigatorio"
                                             actionListener="#{licitacaoControlador.confirmarDocumentoHab()}"
                                             icon="ui-icon-check"/>
                            <p:commandButton id="botao-cancelar-documento"
                                             value="Cancelar"
                                             title="Clique para cancelar este documento."
                                             styleClass="padrao"
                                             onstart="aguarde.show();"
                                             oncomplete="aguarde.hide();"
                                             process="@this"
                                             update=":Formulario:tab-view-geral:panel-documento-obrigatorio"
                                             actionListener="#{licitacaoControlador.cancelarDoctoHabLicitacaoSelecionado()}"
                                             icon="ui-icon-cancel"/>
                        </p:panel>

                        <p:dataTable paginator="true"
                                     id="tabela-modelo-documento-obrigatorio"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{licitacaoControlador.selecionado.documentosProcesso}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>DOCUMENTOS OBRIGATÓRIOS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="docto">
                            <p:column headerText="Ações"
                                      style="text-align: center; width: 45px;">
                                <p:commandButton icon="ui-icon-trash"
                                                 actionListener="#{licitacaoControlador.removerDocumentoHab(docto)}"
                                                 rendered="#{!licitacaoControlador.isVisualizar()}"
                                                 disabled="#{licitacaoControlador.bloquearEdicao()}"
                                                 title="Clique para remover este documento."
                                                 process="@this"
                                                 update="tabela-modelo-documento-obrigatorio"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 oncomplete="aguarde.hide()"/>
                            </p:column>
                            <p:column headerText="Tipo Documento" style="text-align: left">
                                <h:outputText value="#{docto.doctoHabilitacao.tipoDoctoHabilitacao.descricao}"/>
                            </p:column>
                            <p:column headerText="Documento" style="text-align: left">
                                <h:outputText value="#{docto.doctoHabilitacao.descricao}"/>
                            </p:column>
                            <p:column headerText="Requer Número?" style="text-align: left;">
                                <h:outputText
                                    value="#{utilBean.converterBooleanSimOuNao(docto.doctoHabilitacao.requerNumero)}"/>
                            </p:column>
                            <p:column headerText="Requer Data Emissão?" style="text-align: left;">
                                <h:outputText
                                    value="#{utilBean.converterBooleanSimOuNao(docto.doctoHabilitacao.requerEmissao)}"/>
                            </p:column>
                            <p:column headerText="Requer Data Validade?" style="text-align: left;">
                                <h:outputText
                                    value="#{utilBean.converterBooleanSimOuNao(docto.doctoHabilitacao.requerValidade)}"/>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>

                <p:tab title="Comissão">
                    <p:outputPanel id="panel-comissao">
                        <p:dataTable id="tabela-comissao"
                                     paginator="true"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{licitacaoControlador.membrosNaoExonerados}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>MEMBROS DA COMISSÃO&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="mc">

                            <p:column headerText="Membro" style="text-align: center; width: 100px;">
                                <p:commandButton
                                    styleClass="icone-20"
                                    icon="ui-icon-check"
                                    title="Clique para remover este membro."
                                    update=":Formulario:tab-view-geral:tabela-comissao"
                                    process="@this"
                                    actionListener="#{licitacaoControlador.removerMembroDestaLicitacao(mc)}"
                                    rendered="#{licitacaoControlador.selecionado.possuiMembroComissao(mc)}"
                                    onstart="aguarde.show();"
                                    oncomplete="aguarde.hide();">
                                </p:commandButton>
                                <p:commandButton
                                    styleClass="icone-20"
                                    title="Clique para adicionar este membro."
                                    icon="ui-icon-none"
                                    update=":Formulario:tab-view-geral:tabela-comissao"
                                    process="@this"
                                    actionListener="#{licitacaoControlador.adicionarMembroNestaLicitacao(mc)}"
                                    rendered="#{!licitacaoControlador.selecionado.possuiMembroComissao(mc)}"
                                    onstart="aguarde.show();"
                                    oncomplete="aguarde.hide();">
                                </p:commandButton>
                            </p:column>
                            <p:column headerText="Pregoeiro" style="text-align: center; width: 90px;"
                                      rendered="#{licitacaoControlador.selecionado.isPregao()}">
                                <p:commandButton
                                    styleClass="icone-20"
                                    icon="ui-icon-check"
                                    title="Clique para remover este membro."
                                    update=":Formulario:tab-view-geral:tabela-comissao"
                                    process="@this"
                                    actionListener="#{licitacaoControlador.setaPregoeiroResponsavel(mc)}"
                                    rendered="#{licitacaoControlador.pregoeiro(mc)}"
                                    onclick="aguarde.show();"
                                    oncomplete="aguarde.hide();">
                                </p:commandButton>
                                <p:commandButton
                                    styleClass="icone-20"
                                    title="Clique para adicionar este membro."
                                    icon="ui-icon-none"
                                    update=":Formulario:tab-view-geral:tabela-comissao"
                                    process="@this"
                                    actionListener="#{licitacaoControlador.setaPregoeiroResponsavel(mc)}"
                                    rendered="#{!licitacaoControlador.pregoeiro(mc)}"
                                    onstart="aguarde.show();"
                                    oncomplete="aguarde.hide();">
                                </p:commandButton>
                            </p:column>
                            <p:column headerText="Membro" style="text-align: left;">
                                <h:outputText value="#{mc.pessoaFisica.nome}"/>
                            </p:column>
                            <p:column headerText="Atribuição" style="text-align: left;">
                                <h:outputText value="#{mc.atribuicaoComissao.descricao}"/>
                            </p:column>
                            <p:column headerText="Natureza do Cargo" style="text-align: left;">
                                <h:outputText value="#{mc.naturezaDoCargo.descricao}"/>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>

                <p:tab title="Parecer">
                    <p:outputPanel id="panel-parecer">
                        <p:dataTable id="tabela-parecer"
                                     paginator="true"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{licitacaoControlador.selecionado.pareceres}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>PARECERES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="p">
                            <p:column headerText="Data" style="width:80px; text-align: center;">
                                <h:outputText value="#{p.dataParecer}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Número" style="width:80px; text-align: right;">
                                <h:outputText value="#{p.numero}"/>
                            </p:column>
                            <p:column headerText="Observações" style="text-align: left;">
                                <h:outputText value="#{p.observacoes}"/>
                            </p:column>
                            <p:column headerText="Tipo do parecer" style="text-align: left;">
                                <h:outputText value="#{p.tipoParecerLicitacao.descricao}"/>
                            </p:column>
                            <p:column headerText="Parecerista" style="text-align: left;">
                                <h:outputText value="#{p.pessoa.nome}"/>
                            </p:column>
                            <p:column headerText="Deferido" style="text-align: left;">
                                <h:outputText value="#{utilBean.converterBooleanSimOuNao(p.deferido)}"/>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>

                <p:tab title="Publicação">
                    <p:outputPanel id="panel-publicacao">
                        <h:panelGrid columns="2" style="margin-bottom: 10px">
                            <fc:outputLabelObrigatorio value="Data de Emissão do Edital:"/>
                            <p:calendar id="emitida-em"
                                        onkeypress="mascara(this, Data)"
                                        maxlength="10"
                                        style="text-align: right"
                                        autocomplete="off"
                                        title="Informe a data de emissão do edital."
                                        value="#{licitacaoControlador.selecionado.emitidaEm}"
                                        disabled="#{licitacaoControlador.desabilitaCampoDataEmissaoDoEdital()}"
                                        locale="pt_BR" navigator="true" pattern="dd/MM/yyyy"
                                        size="15">
                                <p:ajax event="dateSelect" listener="#{licitacaoControlador.selecionaDataEmitidaEm}"
                                        process="@this" update="@this"
                                        onstart="aguarde.show();" oncomplete="aguarde.hide();"/>
                            </p:calendar>
                        </h:panelGrid>

                        <p:fieldset legend="Data para Recebimento da Proposta" styleClass="mbot10">
                            <h:panelGrid columns="3">
                                <fc:outputLabelObrigatorio value="Data e Hora da Abertura:"/>
                                <p:calendar id="data-abertura"
                                            onkeypress="mascara(this, mDataHora)"
                                            maxlength="10"
                                            style="text-align: right"
                                            autocomplete="off"
                                            title="Informe a data de abertura da licitação."
                                            value="#{licitacaoControlador.selecionado.abertaEm}"
                                            locale="pt_BR" navigator="true" pattern="dd/MM/yyyy HH:mm"
                                            size="15">
                                    <p:ajax event="dateSelect"
                                            onstart="aguarde.show()"
                                            oncomplete="aguarde.hide()"
                                            process="@this"
                                            update="data-encerramento"
                                            listener="#{licitacaoControlador.atualizarDataEncerramento()}"/>
                                </p:calendar>
                                <fc:botaoInformacao
                                    id="btnInfoDataAbertura"
                                    title="Informações"
                                    styleClassBotao="icone-30"
                                    detalhes="De acordo com o &lt;b>Manual de Integração PNCP&lt;/b>, o campo é obrigatório para
                                    Tipo de Instrumento Convocatório &quot;Edital&quot; ou &quot;Aviso de Contratação Direta.&quot;
                                    Tipo &quot;Ato que Autoriza a Contratação Direta&quot; será desprezado.
                                    Informar a data e hora de início do recebimento das propostas (pelo horário de Brasília)."/>

                                <fc:outputLabelObrigatorio value="Data e Hora do Encerramento:"/>
                                <p:calendar id="data-encerramento"
                                            onkeypress="mascara(this, mDataHora)"
                                            maxlength="10"
                                            style="text-align: right"
                                            autocomplete="off"
                                            title="Informe a data de encerramento da licitação."
                                            value="#{licitacaoControlador.selecionado.encerradaEm}"
                                            locale="pt_BR" navigator="true" pattern="dd/MM/yyyy HH:mm"
                                            size="15">
                                </p:calendar>
                                <fc:botaoInformacao
                                    id="btnInfoDataEncerramento"
                                    title="Informações"
                                    styleClassBotao="icone-30"
                                    detalhes="De acordo com o &lt;b>Manual de Integração PNCP&lt;/b>, o campo é obrigatório para
                                    Tipo de Instrumento Convocatório &quot;Edital&quot; ou &quot;Aviso de Contratação Direta.&quot;
                                    Tipo &quot;Ato que Autoriza a Contratação Direta&quot; será desprezado.
                                    Informar a data e hora de encerramento do recebimento das propostas (pelo horário de Brasília)."/>
                            </h:panelGrid>
                        </p:fieldset>

                        <p:commandButton value="Nova Publicação"
                                         icon="ui-icon-circle-plus"
                                         styleClass="padrao"
                                         onclick="aguarde.show();"
                                         oncomplete="aguarde.hide();"
                                         title="Clique para adicionar uma nova publicação para esta licitação."
                                         actionListener="#{licitacaoControlador.novaPublicacao()}"
                                         disabled="#{!licitacaoControlador.temParecerDoTipoJuridicoEdital()}"
                                         rendered="#{!licitacaoControlador.isVisualizar()}"
                                         process=":Formulario:tab-view-geral:panel-publicacao"
                                         update=":Formulario:tab-view-geral:panel-publicacao"/>

                        <p:panel header="Nova/Editar Publicação"
                                 id="panel-nova-publicacao"
                                 rendered="#{licitacaoControlador.publicacaoLicitacaoSelecionada != null}"
                                 styleClass="mtop05 mbot05">

                            <h:panelGrid columns="2">
                                <fc:outputLabelObrigatorio value="Data de Publicação:"/>
                                <p:calendar id="data-publicacao"
                                            title="Informe a data da publicação."
                                            value="#{licitacaoControlador.publicacaoLicitacaoSelecionada.dataPublicacao}"
                                            locale="pt_BR" navigator="true" pattern="dd/MM/yyyy"
                                            onkeypress="mascara(this, Data)"
                                            style="text-align: right"
                                            autocomplete="off"
                                            maxlength="10"
                                            size="10"/>

                                <fc:outputLabelObrigatorio value="Tipo da Publicação:"/>
                                <h:selectOneMenu id="tipo-publicacao"
                                                 value="#{licitacaoControlador.publicacaoLicitacaoSelecionada.tipoPublicacaoLicitacao}">
                                    <f:selectItems value="#{licitacaoControlador.tiposDePublicacaoLicitacao}"/>
                                </h:selectOneMenu>

                                <fc:outputLabelObrigatorio value="Veículo de Publicação:"/>
                                <h:panelGrid columns="2" cellpadding="0" cellspacing="0">
                                    <p:autoComplete queryDelay="1000" id="veiculo-publicacao"
                                                    title="Digite o nome do veículo de publicaçao."
                                                    value="#{licitacaoControlador.publicacaoLicitacaoSelecionada.veiculoDePublicacao}"
                                                    completeMethod="#{licitacaoControlador.completaVeiculoPublicacao}"
                                                    converter="#{veiculoDePublicacaoControlador.converterGenerico}"
                                                    forceSelection="true"
                                                    var="v"
                                                    itemLabel="#{v.nome}"
                                                    itemValue="#{v.id}"
                                                    maxlength="10"
                                                    size="70"
                                                    styleClass="mrig05"/>

                                    <fc:novoParente selecionado="#{licitacaoControlador.selecionado}"
                                                    origem="#{licitacaoControlador.caminhoOrigem}"
                                                    destino="#{veiculoDePublicacaoControlador.caminhoDestinoNovoCadastro}"/>
                                </h:panelGrid>

                                <fc:outputLabelObrigatorio value="Número da edição do veículo de publicação:"/>
                                <p:inputText title="Número da edição do veiculo de publicação."
                                             value="#{licitacaoControlador.publicacaoLicitacaoSelecionada.numeroEdicaoPublicacao}"
                                             id="edicao-publicacao"
                                             size="10"/>

                                <fc:outputLabelObrigatorio value="Número da página:"/>
                                <p:inputText title="Informe o numero da página."
                                             value="#{licitacaoControlador.publicacaoLicitacaoSelecionada.numeroPagina}"
                                             id="numero-pagina"
                                             size="10"/>

                                <h:outputLabel value="Observações:"/>
                                <p:inputTextarea id="observacoes-publicacao"
                                                 title="Digite a observação."
                                                 value="#{licitacaoControlador.publicacaoLicitacaoSelecionada.observacoes}"
                                                 cols="70"/>
                            </h:panelGrid>

                            <p:commandButton id="adicionar-publicacao"
                                             title="Clique para confirmar esta publicação."
                                             value="Confirmar"
                                             actionListener="#{licitacaoControlador.confirmarPublicacao}"
                                             styleClass="padrao mrig05"
                                             icon="ui-icon-circle-plus"
                                             process="panel-nova-publicacao"
                                             update=":Formulario:tab-view-geral:panel-publicacao"
                                             onclick="aguarde.show();"
                                             oncomplete="aguarde.hide();"/>

                            <p:commandButton id="cancelar-publicacao"
                                             title="Clique para cancelar esta publicação."
                                             value="Cancelar"
                                             actionListener="#{licitacaoControlador.cancelarPublicacaoSelecionada}"
                                             styleClass="padrao"
                                             icon="ui-icon-cancel"
                                             process="@this"
                                             update=":Formulario:tab-view-geral:panel-publicacao"
                                             onclick="aguarde.show();"
                                             oncomplete="aguarde.hide();"/>
                        </p:panel>

                        <p:dataTable id="tabela-publicacao"
                                     paginator="true"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{licitacaoControlador.selecionado.publicacoes}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>PUBLICAÇÕES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="pl">

                            <p:column headerText="Ações"
                                      rendered="#{!licitacaoControlador.isVisualizar()}"
                                      style="text-align: center; width: 90px;">
                                <p:commandButton icon="ui-icon-pencil"
                                                 title="Clique para alterar este veículo de publicação."
                                                 process="@this"
                                                 update=":Formulario:tab-view-geral:panel-publicacao"
                                                 styleClass="mrig05"
                                                 actionListener="#{licitacaoControlador.alterarPublicacao(pl)}"
                                                 onclick="aguarde.show();"
                                                 oncomplete="aguarde.hide();">
                                </p:commandButton>
                                <p:commandButton icon="ui-icon-trash"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 oncomplete="aguarde.hide()"
                                                 title="Clique para remover este veículo de publicação."
                                                 process="@this"
                                                 update="tabela-publicacao"
                                                 styleClass="mrig05"
                                                 actionListener="#{licitacaoControlador.removerPublicacao(pl)}"
                                                 disabled="#{licitacaoControlador.desabilitarBotaoExcluirPublicacao(pl)}">
                                </p:commandButton>
                            </p:column>
                            <p:column headerText="Data de Publicação" style="text-align: center;">
                                <h:outputText value="#{pl.dataPublicacao}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Tipo da Publicação" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{pl.tipoPublicacaoLicitacao.descricao}"/>
                            </p:column>
                            <p:column headerText="Veículo de Publicação" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{pl.veiculoDePublicacao.nome}"/>
                            </p:column>
                            <p:column headerText="N° da Edição do Veículo de Publicação"
                                      styleClass="alinhamentoDireita">
                                <h:outputText value="#{pl.numeroEdicaoPublicacao}"/>
                            </p:column>
                            <p:column headerText="N° da Página" styleClass="alinhamentoDireita">
                                <h:outputText value="#{pl.numeroPagina}"/>
                            </p:column>
                            <p:column headerText="Observações" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{pl.observacoes}"/>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>

                <p:tab title="Impressão de Edital">
                    <p:outputPanel id="panel-documento-principal">
                        <p:commandButton icon="ui-icon-circle-plus"
                                         value="Novo Modelo"
                                         styleClass="padrao"
                                         title="Clique para adicionar um novo modelo de documento."
                                         actionListener="#{licitacaoControlador.novoDoctoLicitacaoSelecionado()}"
                                         disabled="#{licitacaoControlador.doctoLicitacaoSelecionado ne null or licitacaoControlador.bloquearEdicao()}"
                                         rendered="#{!licitacaoControlador.isVisualizar()}"
                                         update=":Formulario:tab-view-geral:panel-documento-principal"
                                         process="@this"
                                         immediate="true"
                                         onclick="aguarde.show();"
                                         oncomplete="aguarde.hide();"/>

                        <p:panel id="panel-novo-modelo-documento"
                                 header="Novo Modelo de Documento da Licitação"
                                 styleClass="mtop05 mbot05"
                                 rendered="#{licitacaoControlador.doctoLicitacaoSelecionado ne null}">

                            <h:panelGrid columns="2" styleClass="mbot05">
                                <h:outputLabel value="Modelo de Documento: "/>
                                <h:panelGrid columns="2">
                                    <p:autoComplete queryDelay="1000" id="autCompleteDoctoLicitacao"
                                                    title="Informe o modelo de documento."
                                                    completeMethod="#{licitacaoControlador.completaModeloDoctoLicitacao}"
                                                    converter="#{modeloDoctoControlador.converterGenerico}"
                                                    value="#{licitacaoControlador.doctoLicitacao.modeloDocto}"
                                                    maxlength="10"
                                                    var="doc" size="70"
                                                    itemValue="#{doc.id}"
                                                    itemLabel="#{doc}"
                                                    styleClass="mrig05">
                                    </p:autoComplete>
                                    <fc:novoParente destino="#{modeloDoctoControlador.caminhoDestinoNovoCadastro}"
                                                    origem="#{licitacaoControlador.caminhoOrigem}"
                                                    selecionado="#{licitacaoControlador.selecionado}"/>
                                </h:panelGrid>
                            </h:panelGrid>

                            <p:commandButton id="adicionar-modelo-documento-licitacao"
                                             icon="ui-icon-circle-plus"
                                             value="Confirmar"
                                             title="Clique para confirmar este modelo de documento."
                                             styleClass="padrao mrig05"
                                             actionListener="#{licitacaoControlador.confirmarModeloDoctoLicitacao}"
                                             update=":Formulario:tab-view-geral:panel-documento-principal"
                                             process="panel-novo-modelo-documento"
                                             onclick="aguarde.show();"
                                             oncomplete="aguarde.hide();"/>
                            <p:commandButton id="cancelar-modelo-documento-licitacao"
                                             icon="ui-icon-cancel"
                                             value="Cancelar"
                                             title="Clique para cancelar este modelo de documento."
                                             styleClass="padrao"
                                             actionListener="#{licitacaoControlador.cancelarDoctoLicitacaoSelecionado()}"
                                             update=":Formulario:tab-view-geral:panel-documento-principal"
                                             process="@this"
                                             onstart="aguarde.show();"
                                             oncomplete="aguarde.hide();"/>

                        </p:panel>

                        <p:dataTable id="tabela-modelo-documento"
                                     paginator="true"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{licitacaoControlador.selecionado.listaDeDocumentos}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>MODELOS DE DOCUMENTO&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="doc">
                            <p:column style="width: 3%">
                                <p:rowToggler/>
                            </p:column>
                            <p:column headerText="Ações" style="text-align: center; width: 90px;">
                                <fc:botaoTargetBlank id="btn-target-blank"
                                                     actionListener="#{licitacaoControlador.geraDocumentoPadrao(doc)}"
                                                     rendered="#{licitacaoControlador.selecionado.id ne null}"
                                                     title="Clique para gerar o edital do modelo de documento."
                                                     styleClass="mrig05 wp-botao-tabela"/>

                                <p:commandButton id="btn-excluir-modelo-documento"
                                                 styleClass="wp-botao-tabela"
                                                 process="@this"
                                                 update="tabela-modelo-documento"
                                                 actionListener="#{licitacaoControlador.removeModeloDoctoLicitacao(doc)}"
                                                 disabled="#{licitacaoControlador.bloquearEdicao()}"
                                                 title="Clique para remover este modelo de documento."
                                                 icon="ui-icon-trash"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 oncomplete="aguarde.hide()">
                                </p:commandButton>
                            </p:column>
                            <p:column headerText="Descrição" style="text-align: left">
                                <h:outputText value="#{doc.modeloDocto.nome}"/>
                            </p:column>
                            <p:column headerText="Qtde de Versões" style="text-align: right;">
                                <h:outputText value="#{doc.listaDeVersoes.size()}"/>
                            </p:column>
                            <p:rowExpansion>
                                <p:dataTable var="versao"
                                             value="#{doc.listaDeVersoes}"
                                             paginator="true"
                                             rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                             rowIndexVar="rowIx"
                                             styleClass="mtop05"
                                             emptyMessage="Nenhuma versão associada!"
                                             rows="10"
                                             paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>VERSÕES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                             rowsPerPageTemplate="10,25,50,100"
                                             id="tabela-versao-documento">
                                    <p:column headerText="Versão" style="text-align: right;">
                                        <h:outputText value="#{versao.versao}"/>
                                    </p:column>
                                    <p:column headerText="Gerado Em" style="text-align: center">
                                        <h:outputText value="#{versao.geradoEm}">
                                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="Usuário Sistema" style="text-align: left;">
                                        <h:outputText value="#{versao.usuarioSistema.pessoaFisica.nome}"/>
                                    </p:column>
                                    <p:column headerText="Modelo Documento" style="text-align: left;">
                                        <h:outputText value="#{versao.modeloDocto.nome}"/>
                                    </p:column>

                                </p:dataTable>
                            </p:rowExpansion>

                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>

                <p:tab title="Fornecedor">
                    <p:outputPanel id="panel-licitacao-fornecedor">
                        <p:dataTable id="tabela-licitacao-fornecedor"
                                     value="#{licitacaoControlador.selecionado.fornecedores}"
                                     var="licForn"
                                     paginator="true"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não existem fornecedores vinculados a esta licitação."
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>FORNECEDORES DA LICITAÇÃO&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100">

                            <p:column style="width: 20px!important;">
                                <p:rowToggler/>
                            </p:column>
                            <p:column headerText="Cód." style="width: 25px!important;" styleClass="alinhamentoDireita">
                                <h:outputText value="#{licForn.codigo}"/>
                            </p:column>
                            <p:column headerText="Fornecedor" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{licForn.empresa.nome}"/>
                            </p:column>
                            <p:column headerText="Representante" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{licForn.representante.nome}"/>
                            </p:column>
                            <p:column headerText="Validade Proposta" styleClass="alinhamentoEsquerda">
                                <h:outputText
                                    value="#{licForn.propostaFornecedor.validadeDaProposta} #{licForn.propostaFornecedor.tipoPrazoValidade.descricao}"/>
                            </p:column>
                            <p:column headerText="Prazo Entrega" styleClass="alinhamentoEsquerda">
                                <h:outputText
                                    value="#{licForn.propostaFornecedor.prazoDeExecucao} #{licForn.propostaFornecedor.tipoPrazoExecucao.descricao}"/>
                            </p:column>
                            <p:column headerText="Classificação" styleClass="alinhamentoEsquerda">
                                <h:outputText title="#{licForn.justificativaClassificacao}"
                                              value="#{licForn.tipoClassificacaoFornecedor}"/>
                            </p:column>
                            <p:column headerText="Tipo Empresa" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{licForn.empresa.tipoEmpresa.descricao}"
                                              rendered="#{licitacaoControlador.fornecedorPessoaJuridica(licForn)}"/>
                            </p:column>

                            <p:rowExpansion>
                                <p:dataTable value="#{licForn.documentosFornecedor}"
                                             emptyMessage="Não foram cadastrados os documentos apresentados por este Fornecedor"
                                             styleClass="mtop10"
                                             var="documento">
                                    <f:facet name="header">
                                        <h:outputText value="Documentos Apresentados"/>
                                    </f:facet>
                                    <p:column headerText="Tipo Documento" styleClass="alinhamentoEsquerda">
                                        <h:outputText
                                            value="#{documento.doctoHabilitacao.tipoDoctoHabilitacao.descricao}"/>
                                    </p:column>
                                    <p:column headerText="Descrição" styleClass="alinhamentoEsquerda">
                                        <h:outputText value="#{documento.doctoHabilitacao.descricao}"/>
                                    </p:column>
                                    <p:column headerText="Número" styleClass="alinhamentoDireita">
                                        <h:outputText value="#{documento.numeroDaCertidao}"/>
                                    </p:column>
                                    <p:column headerText="Data Emissão" styleClass="alinhamentoCentralizado">
                                        <h:outputText value="#{documento.dataDeEmissao}">
                                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="Validade" styleClass="alinhamentoCentralizado">
                                        <h:outputText
                                            value="#{participanteLicitacaoControlador.montarStringValidadeDocumentoFornecedor(documento)}"/>
                                    </p:column>
                                </p:dataTable>
                                <p:spacer height="10"/>
                            </p:rowExpansion>
                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>

                <p:tab title="Recurso">
                    <p:outputPanel id="panel-recurso">
                        <p:dataTable id="tabela-recurso"
                                     value="#{licitacaoControlador.selecionado.listaDeRecursoLicitacao}"
                                     var="r"
                                     paginator="true"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Nenhum Recurso encontrado para esta Licitação"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>RECURSOS DA LICITAÇÃO&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100">
                            <p:column headerText="Data do Recurso" style="width:100px; text-align: right">
                                <h:outputText value="#{r.dataRecurso}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Data do Julgamento" style="width:120px; text-align: right">
                                <h:outputText value="#{r.dataJulgamento}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Número" style="width:60px; text-align: right">
                                <h:outputText value="#{r.numero}"/>
                            </p:column>
                            <p:column headerText="Tipo Recurso" style="width:80px; text-align: right">
                                <h:outputText value="#{r.tipoRecursoLicitacao.descricao}"/>
                            </p:column>
                            <p:column headerText="Motivo">
                                <h:outputText value="#{r.motivo}"/>
                            </p:column>
                            <p:column headerText="Tipo do Julgamento" style="width:120px; text-align: center">
                                <h:outputText value="#{r.tipoJulgamentoRecurso.descricao}"/>
                            </p:column>
                            <p:column headerText="Interponente">
                                <h:outputText value="#{r.interponente.nome}"/>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>

                <p:tab title="Status">
                    <p:outputPanel id="panel-status">
                        <p:dataTable id="tabela-status"
                                     value="#{licitacaoControlador.selecionado.listaDeStatusLicitacao}"
                                     var="status"
                                     paginator="true"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>STATUS DA LICITAÇÃO&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100">

                            <p:column headerText="Número" style="width:60px;" styleClass="alinhamentoDireita">
                                <h:outputText value="#{status.numero}"/>
                            </p:column>
                            <p:column headerText="Data" style="width:160px;" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{status.dataStatus}">
                                    <f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Tipo" style="width: 200px;" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{status.tipoSituacaoLicitacao.descricao}"/>
                            </p:column>
                            <p:column headerText="Usuário Responsável" style="width: 200px;"
                                      styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{status.responsavel.nome}"/>
                            </p:column>
                            <p:column headerText="Motivo" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{status.motivoStatusLicitacao}"/>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>

                <p:tab title="Item">
                    <p:outputPanel id="panel-item">
                        <p:dataTable id="tabela-item"
                                     value="#{licitacaoControlador.listaDeItemProcessoDeCompraParaExibir}"
                                     var="ipdc"
                                     paginator="true"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram encontrados Itens nesta licitação."
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>ITENS DA LICITAÇÃO&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100">
                            <p:column headerText="N° Lote" style="width: 40px;" styleClass="alinhamentoDireita">
                                <h:outputText value="#{ipdc.loteProcessoDeCompra.numero}"/>
                            </p:column>
                            <p:column headerText="N° Item" style="width: 40px;" styleClass="alinhamentoDireita">
                                <h:outputText value="#{ipdc.numero}"/>
                            </p:column>
                            <p:column headerText="Descrição" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{ipdc.itemSolicitacaoMaterial.objetoCompra}"
                                              title="Descrição do objeto de compra"/>
                            </p:column>
                            <p:column headerText="Especif." styleClass="alinhamentoCentralizado">
                                <p:commandButton id="bteditaItem"
                                                 title="Clique aqui para editar a descrição complementar do objeto de compra."
                                                 update=":form-complemento"
                                                 process="@this" icon="ui-icon-pencil"
                                                 actionListener="#{licitacaoControlador.setItemSolicitacaoEdicao(ipdc.itemSolicitacaoMaterial)}"
                                                 rendered="#{ipdc.isAguardando()}"
                                                 onclick="dialogEditaComplemento.show();"
                                                 styleClass="mrig05"/>

                                <fa:especificacao-objeto-compra especificacao="#{ipdc.descricaoComplementar}"/>
                            </p:column>
                            <p:column headerText="Situação" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{ipdc.situacaoItemProcessoDeCompra.descricao}"/>
                            </p:column>
                            <p:column headerText="Unid. Med." style="width: 80px;" styleClass="alinhamentoCentralizado">
                                <h:outputText
                                    value="#{ipdc.itemSolicitacaoMaterial.unidadeMedida}"/>
                            </p:column>
                            <p:column
                                headerText="Grupo"
                                style="text-align: left; width: 50px; ">
                                <h:outputText
                                    value="#{ipdc.objetoCompra.grupoContaDespesa.grupo}"/>
                            </p:column>
                            <p:column
                                headerText="Conta" styleClass="alinhamentoEsquerda">
                                <fa:conta-desdobrada-por-grupo
                                    styleClass="default"
                                    grupoContaDespesa="#{ipdc.objetoCompra.grupoContaDespesa}"/>
                            </p:column>
                            <p:column headerText="Quantidade" style="width: 80px;" styleClass="alinhamentoDireita">
                                <fc:output-mascara-unidade-medida
                                    tipoMascara="#{ipdc.itemSolicitacaoMaterial.unidadeMedida.mascaraQuantidade}"
                                    value="#{ipdc.quantidade}"/>
                            </p:column>
                            <p:column headerText="Preço (R$)" styleClass="alinhamentoDireita">
                                <fc:output-mascara-unidade-medida
                                    tipoMascara="#{ipdc.itemSolicitacaoMaterial.unidadeMedida.mascaraValorUnitario}"
                                    value="#{ipdc.itemSolicitacaoMaterial.preco}"/>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>

                <p:tab title="Unidade">
                    <p:dataTable paginator="true"
                                 id="tabela-unidades"
                                 rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                 rowIndexVar="rowIx"
                                 styleClass="mtop03"
                                 emptyMessage="Não foram localizados registros para serem apresentados"
                                 value="#{licitacaoControlador.selecionado.unidades}"
                                 rows="10"
                                 paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>Unidades&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                 rowsPerPageTemplate="10,25,50,100"
                                 var="unid">
                        <p:column headerText="Unidade" styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{unid.hierarquiaAdministrativa}"/>
                        </p:column>
                        <p:column headerText="Início de Vigência" styleClass="alinhamentoCentralizado">
                            <h:outputText value="#{unid.inicioVigencia}">
                                <f:convertDateTime type="date"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Fim de Vigência" styleClass="alinhamentoCentralizado">
                            <h:outputText value="#{unid.fimVigencia}">
                                <f:convertDateTime type="date"/>
                            </h:outputText>
                        </p:column>
                    </p:dataTable>
                </p:tab>

                <p:tab title="Histórico do Processo"
                       titleStyle="background: #d9edf7" id="tab-historico"
                       rendered="#{licitacaoControlador.operacaoEditar}">
                    <fa:historico-processo-licitatorio
                        filtroProcesso="#{licitacaoControlador.filtroHistoricoProcesso}"/>
                </p:tab>

                <p:tab id="tabAnexo" title="Anexos">
                    <fc:detentorDocumentoLicitacao selecionado="#{licitacaoControlador.selecionado}"/>
                </p:tab>
            </p:tabView>
            <fc:rodapePretty id="rodape-edita" controlador="#{licitacaoControlador}"/>
        </h:form>

        <p:dialog header="Publicação"
                  modal="true"
                  dynamic="true"
                  position="center"
                  style="position: fixed !important;"
                  draggable="false"
                  resizable="false"
                  widgetVar="dialogPublicacao"
                  closable="false">
            <h:form id="form-publicacao">

                <h:outputText value="Tipo da Publicação.: "
                              styleClass="negrito"/>
                <h:outputText
                    value="#{licitacaoControlador.selecionado.ultimaPublicacaoAdicionada.getTipoPublicacaoLicitacao().getDescricao()}"
                    styleClass="negrito"
                    style="font-size: 15px;"/>

                <div style="text-align: left" class="mtop05">
                    <h:outputText value="Deseja alterar a data de abertura da licitação?"
                                  style="font-size: 15px;"/>
                </div>

                <div style="text-align: center" class="mtop10">
                    <p:commandButton icon="ui-icon-check"
                                     value="Sim"
                                     oncomplete="dialogPublicacao.hide()"
                                     process="form-publicacao"
                                     update=":Formulario:tab-view-geral:panel-publicacao"
                                     styleClass="padrao mrig05"/>
                    <p:commandButton icon="ui-icon-cancel"
                                     value="Não"
                                     onclick="dialogPublicacao.hide()"
                                     process="@none"
                                     update="@this"
                                     styleClass="padrao"/>
                </div>
            </h:form>
        </p:dialog>

        <p:dialog header="Editar Descrição Complementar"
                  modal="true"
                  dynamic="true"
                  position="center"
                  style="position: fixed !important;"
                  draggable="false"
                  resizable="false"
                  height="400"
                  width="600"
                  widgetVar="dialogEditaComplemento"
                  closable="false">
            <h:form id="form-complemento">
                <p:panel id="panelAtribuirUndOrc" style="height: 100% !important; border: 0;">
                    <div>
                        <table>
                            <tr>
                                <td><h:outputLabel value="Descrição Complementar" styleClass="azulnegrito"
                                                   style="font-size: 13px;"/></td>
                                <td width="53%"><p:separator style="width: 100%; margin: 0!important"/></td>

                                <td><h:outputLabel value="Especificações:" styleClass="azulnegrito"
                                                   style="font-size: 12px;"/></td>
                                <td><p:commandButton icon="ui-icon-newwin"
                                                     onclick="dialogTabelaEspecificacoes.show();"
                                                     actionListener="#{licitacaoControlador.recuperarObjetoDeCompra()}"
                                                     process="@this" update=":form-tabela-especificacao"
                                                     title="clique aqui para visualizar e selecionar a especificação do objeto de compra."/>
                                </td>
                            </tr>
                        </table>

                        <p:inputTextarea title="Digite a descrição complementar para o objeto de compra."
                                         value="#{licitacaoControlador.itemSolicitacaoEdicao.descricaoComplementar}"
                                         id="descricao-complementar"
                                         readonly="true"
                                         style="height: 100% !important; width: 100% !important;" autoResize="false"
                                         rows="22"/>

                        <div style="text-align: center;">
                            <p:commandButton icon="ui-icon-check"
                                             value="Confirmar"
                                             actionListener="#{licitacaoControlador.processarEdicaoItemSolicitacao()}"
                                             oncomplete="dialogEditaComplemento.hide(); aguarde.hide();"
                                             process="form-complemento"
                                             onclick="aguarde.show();"
                                             update="@form"
                                             styleClass="padrao mrig05 mtop05"/>

                            <p:commandButton icon="ui-icon-cancel"
                                             value="Cancelar"
                                             onclick="dialogEditaComplemento.hide()"
                                             process="@none"
                                             update="@this"
                                             styleClass="padrao mtop05"/>
                        </div>
                    </div>
                </p:panel>
            </h:form>
        </p:dialog>

        <p:dialog header="Visualizar Descrição Complementar"
                  modal="true"
                  dynamic="true"
                  position="center"
                  style="position: fixed !important;"
                  draggable="false"
                  resizable="false"
                  height="400"
                  width="600"
                  widgetVar="dialogEditaComplementoVisualizar"
                  closable="false">
            <h:form id="form-complemento-visualizar">
                <p:panel style="height: 100% !important; border: 0;">
                    <div>
                        <table>
                            <tr>
                                <td><h:outputLabel value="Descrição Complementar" styleClass="azulnegrito"
                                                   style="font-size: 12px;"/></td>
                                <td width="80%"><p:separator style="width: 100%; margin: 0!important"/></td>
                            </tr>
                        </table>

                        <p:inputTextarea title="Digite a descrição complementar para o objeto de compra."
                                         readonly="true"
                                         value="#{licitacaoControlador.itemSolicitacaoEdicao.descricaoComplementar}"
                                         style="height: 100% !important; width: 100% !important;" autoResize="false"
                                         rows="23"/>

                        <div style="text-align: center;">
                            <p:commandButton icon="ui-icon-check"
                                             value="Ok"
                                             onclick="dialogEditaComplementoVisualizar.hide()"
                                             process="@none"
                                             update="@this"
                                             styleClass="padrao mtop05"/>
                        </div>
                    </div>
                </p:panel>
            </h:form>
        </p:dialog>
        <p:dialog header="Tabela de Especificações do Objeto de Compra"
                  modal="true"
                  dynamic="true"
                  id="dialogTabelaEspe"
                  position="center"
                  style="position: fixed !important;"
                  resizable="false"
                  width="700"
                  height="400"
                  widgetVar="dialogTabelaEspecificacoes"
        >
            <h:form id="form-tabela-especificacao">
                <p:outputPanel id="outputespecificacoes">
                    <p:dataTable paginator="true"
                                 id="tabelaespecificacao"
                                 rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                 rowIndexVar="rowIx"
                                 styleClass="mtop05"
                                 emptyMessage="Não foram localizados registros para serem apresentados"
                                 value="#{licitacaoControlador.objetoCompraSelecionado.especificacaoesAtivas}"
                                 rows="10"
                                 paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>ESPECIFICAÇÕES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                 rowsPerPageTemplate="10,25,50,100"
                                 var="especificacao">
                        <p:column headerText="Ações" style="text-align: center; width: 15%">
                            <p:commandButton icon="ui-icon-plus" update=":form-complemento" onclick="aguarde.show();"
                                             oncomplete="dialogTabelaEspecificacoes.hide(); aguarde.hide();"
                                             actionListener="#{licitacaoControlador.atribuirTextoAoComplementoDoItem(especificacao)}"/>
                        </p:column>
                        <p:column headerText="Especificação" style="text-align: left; width: 84%">
                            <h:outputText value="#{especificacao.textoCurto}" escape="false"/>
                        </p:column>
                        <p:column headerText="Ativo" style="text-align: center; width: 1%">
                            <h:outputText value="#{objetoCompraControlador.especificacaoAtiva(especificacao)}"/>
                        </p:column>
                    </p:dataTable>
                </p:outputPanel>
            </h:form>
        </p:dialog>
    </ui:define>
</ui:composition>
</html>
