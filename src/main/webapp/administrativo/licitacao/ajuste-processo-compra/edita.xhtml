<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PT"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:fc="http://java.sun.com/jsf/composite/components"
      xmlns:ad="http://java.sun.com/jsf/composite/components/administrativo"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
>
<ui:composition template="/corpo.xhtml">
    <ui:define name="body">

        <script type="text/javascript">
            function scrollPanel() {
                window.scrollTo(0, 500);
            }
        </script>

        <h:form id="Formulario">
            <p:remoteCommand name="limparDadosGerais"
                             actionListener="#{ajusteProcessoCompraControlador.ajusteVo.limparDadosGerais()}"
                             update=":Formulario:panel-geral  paineLink"
                             process="@this"/>

            <p:remoteCommand name="limparDadosOCPara"
                             actionListener="#{ajusteProcessoCompraControlador.ajusteVo.limparDadosObjetoCompraPara()}"
                             update="group-especificacao panelGrupoContaDesd"
                             process="@this"/>

            <fc:cabecalhoPretty controlador="#{ajusteProcessoCompraControlador}"
                                origem="#{ajusteProcessoCompraControlador.caminhoPadrao}novo/"/>

            <p:panel header="Ajuste Processo de Compra" id="panelPrincipal">

                <h:panelGrid columns="2" id="gridDadosGerais" cellpadding="3" cellspacing="3">
                    <h:outputLabel value="Número: "/>
                    <h:outputText
                        value="#{ajusteProcessoCompraControlador.ajusteVo.numero == null ? 'Gerado automaticamente' : ajusteProcessoCompraControlador.ajusteVo.numero}"
                        styleClass="negrito"/>

                    <h:outputLabel value="Data de Lançamento: "/>
                    <h:outputText value="#{ajusteProcessoCompraControlador.ajusteVo.dataLancamento}"
                                  styleClass="negrito">
                        <f:convertDateTime pattern="dd/MM/yyyy"/>
                    </h:outputText>

                    <h:outputLabel value="Usuário: "/>
                    <h:outputText value="#{ajusteProcessoCompraControlador.ajusteVo.usuarioSistema}"
                                  styleClass="negrito"/>

                    <fc:outputLabelObrigatorio value="Tipo de Ajuste: "/>
                    <h:selectOneMenu value="#{ajusteProcessoCompraControlador.ajusteVo.tipoAjuste}"
                                     style="width: 40%">
                        <f:selectItems value="#{ajusteProcessoCompraControlador.tiposAjustesProcesso}"/>
                        <p:ajax onstart="aguarde.show()"
                                oncomplete="aguarde.hide()"
                                listener="#{ajusteProcessoCompraControlador.listenerTipoProcesso()}"
                                process="@this"
                                event="change"
                                update=":Formulario:panel-geral :Formulario:gridDadosGerais"/>
                    </h:selectOneMenu>

                    <fc:outputLabelObrigatorio value="Tipo de Processo: "/>
                    <h:selectOneMenu value="#{ajusteProcessoCompraControlador.ajusteVo.tipoProcesso}">
                        <f:selectItems value="#{ajusteProcessoCompraControlador.tiposProcesso}"/>
                        <p:ajax onstart="aguarde.show()"
                                oncomplete="aguarde.hide()"
                                event="change"
                                listener="#{ajusteProcessoCompraControlador.listenerTipoProcesso()}"
                                process="@this :Formulario:gridDadosGerais"
                                update=":Formulario:panel-geral :Formulario:gridDadosGerais"/>
                    </h:selectOneMenu>

                    <fc:outputLabelObrigatorio
                        rendered="#{ajusteProcessoCompraControlador.ajusteVo.tipoProcesso ne null}"
                        value="#{ajusteProcessoCompraControlador.ajusteVo.tipoProcesso.descricao}: "/>

                    <h:panelGroup rendered="#{ajusteProcessoCompraControlador.ajusteVo.tipoProcesso ne null}"
                                  id="group-processo">
                        <p:autoComplete queryDelay="1000"
                                        value="#{ajusteProcessoCompraControlador.ajusteVo.intencaoRegistroPreco}"
                                        completeMethod="#{ajusteProcessoCompraControlador.completarIRP}"
                                        rendered="#{ajusteProcessoCompraControlador.ajusteVo.tipoProcesso.isIrp()}"
                                        disabled="#{ajusteProcessoCompraControlador.hasObjetoCompraSelecionado()}"
                                        var="irp"
                                        size="70"
                                        dropdown="true"
                                        panelStyle="max-height: 250px;max-width: 800px"
                                        onkeyup="if(keyUpCampoVazio(this)){limparDadosGerais();}"
                                        maxResults="50"
                                        itemLabel="#{irp}"
                                        itemValue="#{irp.id}"
                                        converter="#{intencaoRegistroPrecoControlador.converterGenerico}">
                            <p:ajax process="@this"
                                    onstart="aguarde.show()"
                                    oncomplete="aguarde.hide()"
                                    event="itemSelect"
                                    update=":Formulario:panel-geral  paineLink :Formulario:tabela-oc"
                                    listener="#{ajusteProcessoCompraControlador.listenerProcesso()}"/>
                        </p:autoComplete>

                        <p:autoComplete queryDelay="1000"
                                        value="#{ajusteProcessoCompraControlador.ajusteVo.formularioCotacao}"
                                        completeMethod="#{ajusteProcessoCompraControlador.completarFormularioCotacao}"
                                        rendered="#{ajusteProcessoCompraControlador.ajusteVo.tipoProcesso.isFormularioCotacao()}"
                                        disabled="#{ajusteProcessoCompraControlador.hasObjetoCompraSelecionado()}"
                                        var="fc"
                                        size="70"
                                        dropdown="true"
                                        panelStyle="max-height: 250px;max-width: 800px"
                                        onkeyup="if(keyUpCampoVazio(this)){limparDadosGerais();}"
                                        maxResults="50"
                                        itemLabel="#{fc}"
                                        itemValue="#{fc.id}"
                                        converter="#{formularioCotacaoControlador.converterGenerico}">
                            <p:ajax process="@this"
                                    onstart="aguarde.show()"
                                    oncomplete="aguarde.hide()"
                                    event="itemSelect"
                                    update=":Formulario:panel-geral  paineLink :Formulario:tabela-oc"
                                    listener="#{ajusteProcessoCompraControlador.listenerProcesso()}"/>
                        </p:autoComplete>

                        <p:autoComplete queryDelay="1000"
                                        value="#{ajusteProcessoCompraControlador.ajusteVo.cotacao}"
                                        completeMethod="#{ajusteProcessoCompraControlador.completarCotacao}"
                                        rendered="#{ajusteProcessoCompraControlador.ajusteVo.tipoProcesso.isCotacao()}"
                                        disabled="#{ajusteProcessoCompraControlador.hasObjetoCompraSelecionado()}"
                                        var="cot"
                                        size="70"
                                        dropdown="true"
                                        panelStyle="max-height: 250px;max-width: 800px"
                                        onkeyup="if(keyUpCampoVazio(this)){limparDadosGerais();}"
                                        maxResults="50"
                                        itemLabel="#{cot}"
                                        itemValue="#{cot.id}"
                                        converter="#{cotacaoControlador.converterGenerico}">
                            <p:ajax process="@this"
                                    onstart="aguarde.show()"
                                    oncomplete="aguarde.hide()"
                                    event="itemSelect"
                                    update=":Formulario:panel-geral  paineLink :Formulario:tabela-oc"
                                    listener="#{ajusteProcessoCompraControlador.listenerProcesso()}"/>
                        </p:autoComplete>

                        <p:autoComplete queryDelay="1000"
                                        value="#{ajusteProcessoCompraControlador.ajusteVo.solicitacaoCompra}"
                                        completeMethod="#{ajusteProcessoCompraControlador.completarSolicitacaoCompra}"
                                        rendered="#{ajusteProcessoCompraControlador.ajusteVo.tipoProcesso.isSolicitacaoCompra()}"
                                        disabled="#{ajusteProcessoCompraControlador.hasObjetoCompraSelecionado()}"
                                        var="sol"
                                        size="70"
                                        dropdown="true"
                                        panelStyle="max-height: 250px;max-width: 800px"
                                        onkeyup="if(keyUpCampoVazio(this)){limparDadosGerais();}"
                                        maxResults="50"
                                        itemLabel="#{sol}"
                                        itemValue="#{sol.id}"
                                        converter="#{solicitacaoMaterialControlador.converterGenerico}">
                            <p:ajax process="@this"
                                    onstart="aguarde.show()"
                                    oncomplete="aguarde.hide()"
                                    event="itemSelect"
                                    update=":Formulario:panel-geral  paineLink :Formulario:tabela-oc"
                                    listener="#{ajusteProcessoCompraControlador.listenerProcesso()}"/>
                        </p:autoComplete>

                        <p:autoComplete queryDelay="1000"
                                        rendered="#{ajusteProcessoCompraControlador.ajusteVo.tipoProcesso.isRegistroPrecoExterno()}"
                                        value="#{ajusteProcessoCompraControlador.ajusteVo.registroSolicitacaoMaterialExterno}"
                                        completeMethod="#{ajusteProcessoCompraControlador.completarRegistroPrecoExterno}"
                                        disabled="#{ajusteProcessoCompraControlador.hasObjetoCompraSelecionado()}"
                                        var="regExt"
                                        size="70"
                                        dropdown="true"
                                        panelStyle="max-height: 250px;max-width: 800px"
                                        onkeyup="if(keyUpCampoVazio(this)){limparDadosGerais();}"
                                        maxResults="50"
                                        itemLabel="#{regExt}"
                                        itemValue="#{regExt.id}"
                                        converter="#{registroSolicitacaoMaterialExternoControlador.converterGenerico}">
                            <p:ajax process="@this"
                                    onstart="aguarde.show()"
                                    oncomplete="aguarde.hide()"
                                    event="itemSelect"
                                    update=":Formulario:panel-geral  paineLink :Formulario:tabela-oc"
                                    listener="#{ajusteProcessoCompraControlador.listenerProcesso()}"/>
                        </p:autoComplete>

                        <p:autoComplete queryDelay="1000"
                                        id="acDispensa"
                                        rendered="#{ajusteProcessoCompraControlador.ajusteVo.tipoProcesso.isDispensa()}"
                                        value="#{ajusteProcessoCompraControlador.ajusteVo.dispensaLicitacao}"
                                        completeMethod="#{ajusteProcessoCompraControlador.completarDispensaLicitacao}"
                                        var="disp"
                                        size="70"
                                        dropdown="true"
                                        panelStyle="max-height: 250px;max-width: 800px"
                                        onkeyup="if(keyUpCampoVazio(this)){limparDadosGerais();}"
                                        maxResults="50"
                                        itemLabel="#{disp.toStringAutoComplete()}"
                                        itemValue="#{disp.id}"
                                        converter="#{dispensaDeLicitacaoControlador.converterGenerico}">
                            <p:ajax process="@this"
                                    onstart="aguarde.show()"
                                    oncomplete="aguarde.hide()"
                                    event="itemSelect"
                                    update=":Formulario:panel-geral  paineLink :Formulario:tabela-oc"
                                    listener="#{ajusteProcessoCompraControlador.listenerProcesso()}"/>
                        </p:autoComplete>

                        <p:autoComplete queryDelay="1000"
                                        id="acLicitacao"
                                        rendered="#{ajusteProcessoCompraControlador.ajusteVo.tipoProcesso.isLicitacao()}"
                                        value="#{ajusteProcessoCompraControlador.ajusteVo.licitacao}"
                                        completeMethod="#{ajusteProcessoCompraControlador.completarLicitacao}"
                                        var="lic"
                                        size="70"
                                        dropdown="true"
                                        panelStyle="max-height: 250px;max-width: 800px"
                                        onkeyup="if(keyUpCampoVazio(this)){limparDadosGerais();}"
                                        maxResults="50"
                                        itemLabel="#{lic}"
                                        itemValue="#{lic.id}"
                                        converter="#{licitacaoControlador.converterGenerico}">
                            <p:ajax process="@this :Formulario:gridDadosGerais"
                                    onstart="aguarde.show()"
                                    oncomplete="aguarde.hide()"
                                    event="itemSelect"
                                    update=":Formulario:panel-geral  paineLink :Formulario:tabela-oc"
                                    listener="#{ajusteProcessoCompraControlador.listenerProcesso()}"/>
                        </p:autoComplete>

                        <p:autoComplete queryDelay="1000"
                                        id="acCredenciamento"
                                        rendered="#{ajusteProcessoCompraControlador.ajusteVo.tipoProcesso.isCredenciamento()}"
                                        value="#{ajusteProcessoCompraControlador.ajusteVo.licitacao}"
                                        completeMethod="#{ajusteProcessoCompraControlador.completarCredenciamento}"
                                        var="lic"
                                        size="70"
                                        dropdown="true"
                                        panelStyle="max-height: 250px;max-width: 800px"
                                        onkeyup="if(keyUpCampoVazio(this)){limparDadosGerais();}"
                                        maxResults="50"
                                        itemLabel="#{lic}"
                                        itemValue="#{lic.id}"
                                        converter="#{licitacaoControlador.converterGenerico}">
                            <p:ajax process="@this"
                                    onstart="aguarde.show()"
                                    oncomplete="aguarde.hide()"
                                    event="itemSelect"
                                    update=":Formulario:panel-geral  paineLink :Formulario:tabela-oc"
                                    listener="#{ajusteProcessoCompraControlador.listenerProcesso()}"/>
                        </p:autoComplete>

                        <p:outputPanel id="paineLink">
                            <h:commandLink
                                styleClass="link-redirecionar mlef05"
                                target="_blank"
                                actionListener="#{ajusteProcessoCompraControlador.redirecionarParaProcesso()}"
                                title="Clique para visualizar este registro em nova aba.">
                                <p:commandButton icon="ui-icon-search"
                                                 disabled="#{ajusteProcessoCompraControlador.ajusteVo.isProcessoNulo()}"/>
                            </h:commandLink>
                        </p:outputPanel>
                    </h:panelGroup>

                    <fc:outputLabelObrigatorio value="Objeto de Compra: "
                                               rendered="#{ajusteProcessoCompraControlador.ajusteVo.tipoAjuste.isSubstituirObjetoCompra()}"/>
                    <p:dataTable
                        style="overflow: scroll; max-height: 300px; width: 85%"
                        id="tabela-oc"
                        emptyMessage="Não foram localizados registros para serem apresentados"
                        rowStyleClass="#{ocDisp.criadoEm eq ajusteProcessoCompraControlador.ajusteVo.objetoCompraSelecionado.criadoEm ? 'fundo-amarelo-padrao' : ''}"
                        value="#{ajusteProcessoCompraControlador.ajusteVo.objetosCompraDoProcesso}"
                        filteredValue="#{ajusteProcessoCompraControlador.ajusteVo.objetosCompraDoProcessoFilterBy}"
                        rendered="#{ajusteProcessoCompraControlador.ajusteVo.tipoAjuste.isSubstituirObjetoCompra()}"
                        rowIndexVar="rowIx"
                        rowKey="#{ocDisp}"
                        var="ocDisp">
                        <p:column headerText="#" styleClass="alinhamentoCentralizado">
                            <p:commandButton
                                styleClass="icone-20"
                                icon="ui-icon-check"
                                title="Clique para selecionar o objeto de compra"
                                process="@this :Formulario:gridDadosGerais"
                                update=":Formulario:panel-geral :Formulario:tabela-oc :Formulario:group-processo"
                                onstart="aguarde.show()"
                                oncomplete="aguarde.hide()"
                                disabled="#{ocDisp.selecionado}"
                                actionListener="#{ajusteProcessoCompraControlador.selecionarObjetoCompra(ocDisp)}"/>
                        </p:column>
                        <p:column headerText="Lote" styleClass="alinhamentoCentralizado">
                            <h:outputText value="#{ocDisp.numeroLote}"/>
                        </p:column>
                        <p:column headerText="Item" styleClass="alinhamentoCentralizado">
                            <h:outputText value="#{ocDisp.numeroItem}"/>
                        </p:column>
                        <p:column headerText="Objeto de Compra"
                                  filterBy="#{ocDisp.objetoCompra}"
                                  filterMatchMode="contains"
                                  filterStyle="width: 70%; text-align: left !important;"
                                  styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{ocDisp.objetoCompra}"/>
                        </p:column>
                        <p:column headerText="Especif." styleClass="alinhamentoEsquerda">
                            <ad:especificacao-objeto-compra
                                exibirTexto="true"
                                especificacao="#{ocDisp.especificacao}"/>
                        </p:column>
                    </p:dataTable>

                    <fc:outputLabelObrigatorio for="motivo" value="Motivo: "/>
                    <h:panelGrid columns="2" cellpadding="0" cellspacing="0">
                        <p:inputTextarea value="#{ajusteProcessoCompraControlador.ajusteVo.motivo}"
                                         id="motivo"
                                         rows="5"
                                         cols="70"
                                         maxlength="3000"
                                         counter="counter"
                                         counterTemplate="{0} Caracteres Restantes."/>
                        <h:outputText id="counter" styleClass="mlef05"/>
                    </h:panelGrid>
                </h:panelGrid>

                <p:outputPanel id="panel-geral">
                    <p:panel header="#{ajusteProcessoCompraControlador.ajusteVo.tipoAjuste.descricao}"
                             styleClass="mtop10">

                        <p:dataGrid columns="1"
                                    id="data-grid"
                                    style="border-top: none; overflow: scroll; max-height: 500px"
                                    rendered="#{ajusteProcessoCompraControlador.ajusteVo.tipoAjuste.isSubstituirControleItem()}"
                                    emptyMessage="Não foram localizados registros para serem apresentados"
                                    value="#{ajusteProcessoCompraControlador.ajusteVo.itensSubstituicaoTipoControle}"
                                    var="item">

                            <f:facet name="header">
                                <div align="center">
                                    <p:commandButton
                                        styleClass="mlef10 trintaAltura"
                                        icon="ui-icon-check"
                                        value="Aplicar Controle por 'Valor' à Todos os Itens"
                                        process="@this"
                                        update=":Formulario:data-grid :Formulario:motivo"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        disabled="#{!ajusteProcessoCompraControlador.hasItensTipoControle()}"
                                        actionListener="#{ajusteProcessoCompraControlador.aplicarTipoControleParaTodosItens()}"/>

                                    <p:commandButton
                                        styleClass="mlef10 trintaAltura botaoCinza"
                                        icon="ui-icon-atualizar"
                                        value="Desfazer"
                                        process="@this"
                                        update=":Formulario:data-grid :Formulario:motivo"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        disabled="#{!ajusteProcessoCompraControlador.hasItensTipoControle()}"
                                        actionListener="#{ajusteProcessoCompraControlador.listenerProcesso()}"/>
                                </div>
                            </f:facet>

                            <table style="width: 100%" class="table table-condensed">
                                <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Lote</th>
                                    <th>Item</th>
                                    <th>Objeto de Compra</th>
                                    <th>Especif.</th>
                                    <th style="width: 10%">Tipo de Controle</th>
                                </tr>
                                </thead>

                                <tbody>
                                <tr class="alert alert-info">
                                    <td><h:selectBooleanCheckbox value="#{item.selecionado}"
                                                                 disabled="#{item.tipoControle.isTipoControlePorValor()}">
                                        <p:ajax process="@this"
                                                listener="#{ajusteProcessoCompraControlador.recalcularValoresMovimentos(item)}"
                                                update="tipo-controle tabela-movimentos :Formulario:motivo"/>
                                    </h:selectBooleanCheckbox></td>
                                    <td><h:outputText value="#{item.numeroLote}"/></td>
                                    <td><h:outputText value="#{item.numeroItem}"/></td>
                                    <td><h:outputText value="#{item.objetoCompra}"/></td>
                                    <td>
                                        <ad:especificacao-objeto-compra
                                            exibirTexto="true"
                                            especificacao="#{item.especificacao}"
                                            styleClass="icone-20"/>
                                    </td>
                                    <td>
                                        <h:outputText value="#{item.tipoControle.descricao}"
                                                      id="tipo-controle"/>
                                    </td>
                                </tr>
                                </tbody>
                            </table>

                            <p:dataTable
                                rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                rowIndexVar="rowIx"
                                id="tabela-movimentos"
                                paginator="true"
                                rows="5"
                                paginatorPosition="top"
                                style="overflow: scroll; max-height: 220px"
                                styleClass="mtop10 mlef20 mrig10 mbot10"
                                rowsPerPageTemplate="5,10,50"
                                emptyMessage="Não foram localizados registros para serem apresentados"
                                value="#{item.movimentos}"
                                var="itemMov">
                                <p:column headerText="Processo"
                                          styleClass="alinhamentoEsquerda">
                                    <h:outputText
                                        value="#{itemMov.tipoProcesso.descricao}"/>
                                </p:column>
                                <p:column headerText="Descrição"
                                          styleClass="alinhamentoEsquerda">
                                    <a href="#{request.contextPath}#{itemMov.tipoProcesso.url}#{itemMov.idProcesso}/"
                                       target="_blank"
                                       style="color: dimgrey; ">
                                        <h:outputText
                                            value="#{itemMov.descricaoProcesso}"/>
                                    </a>
                                </p:column>
                                <p:column headerText="Tipo de Controle"
                                          styleClass="alinhamentoEsquerda">
                                    <h:outputText
                                        value="#{itemMov.tipoControle.descricao}"/>
                                </p:column>
                                <p:column headerText="Quantidade" style="text-align: right">
                                    <fc:output-mascara-unidade-medida
                                        tipoMascara="#{item.mascaraQuantidade}"
                                        value="#{itemMov.quantidade}"/>
                                </p:column>
                                <p:column headerText="Valor Unitário (R$)" style="text-align: right">
                                    <p:outputPanel id="vl-unitario">
                                        <fc:output-mascara-unidade-medida
                                            tipoMascara="#{item.mascaraValor}"
                                            value="#{itemMov.valorUnitario}"/>
                                    </p:outputPanel>
                                </p:column>
                                <p:column headerText="Valor Total (R$)" style="text-align: right">
                                    <h:outputText id="vl-total"
                                                  rendered="#{!itemMov.tipoProcesso.isParticipanteAndIrp()}"
                                                  value="#{itemMov.valorTotal}">
                                        <f:convertNumber type="currency" pattern="#,##0.00"/>
                                    </h:outputText>

                                    <p:inputText title="Digite o valor"
                                                 rendered="#{itemMov.tipoProcesso.isParticipanteAndIrp()}"
                                                 value="#{itemMov.valorTotal}"
                                                 id="valorItem"
                                                 maxlength="15"
                                                 size="20"
                                                 onkeypress="mascara(this, mvalor)"
                                                 styleClass="alinhamentoDireita">
                                        <p:ajax event="blur" update="vl-unitario" process="@this"
                                                listener="#{ajusteProcessoCompraControlador.atualizarValorUnitario(itemMov)}"/>
                                        <f:convertNumber pattern="###,##0.00"/>
                                    </p:inputText>

                                </p:column>
                            </p:dataTable>
                        </p:dataGrid>


                        <p:outputPanel
                            rendered="#{ajusteProcessoCompraControlador.isIncluirOrEditarProposta()}">

                            <table>
                                <tr style="vertical-align: top">
                                    <td style="width: 60%">
                                        <h:panelGrid columns="2" id="grid-proposta">
                                            <fc:outputLabelObrigatorio value="Proposta do Fornecedor: "
                                                                       rendered="#{ajusteProcessoCompraControlador.isEditarProposta()}"/>
                                            <p:autoComplete queryDelay="1000"
                                                            title="Digite a proposta."
                                                            rendered="#{ajusteProcessoCompraControlador.isEditarProposta()}"
                                                            value="#{ajusteProcessoCompraControlador.ajusteVo.propostaFornecedor}"
                                                            completeMethod="#{ajusteProcessoCompraControlador.completarPropostaFornecedor}"
                                                            converter="#{propostaFornecedorControlador.converterGenerico}"
                                                            var="prop"
                                                            itemValue="#{prop.id}"
                                                            itemLabel="#{prop.fornecedor}"
                                                            maxResults="50"
                                                            dropdown="true"
                                                            panelStyle="max-height: 250px;max-width: 800px"
                                                            size="60">
                                                <p:ajax event="itemSelect"
                                                        listener="#{ajusteProcessoCompraControlador.listenerEditarPropostaFornecedor()}"
                                                        update=":Formulario:grid-proposta :Formulario:panel-proposta"
                                                        process="@this"
                                                        onstart="aguarde.show();"
                                                        oncomplete="aguarde.hide();"/>
                                            </p:autoComplete>

                                            <fc:outputLabelObrigatorio value="Fornecedor: "
                                                                       rendered="#{ajusteProcessoCompraControlador.isIncluirProposta()}"/>
                                            <p:autoComplete queryDelay="1000"
                                                            title="Digite o fornecedor que deseja pesquisar."
                                                            rendered="#{ajusteProcessoCompraControlador.isIncluirProposta()}"
                                                            value="#{ajusteProcessoCompraControlador.ajusteVo.licitacaoFornecedor}"
                                                            completeMethod="#{ajusteProcessoCompraControlador.completarFornecedorLicitacao}"
                                                            converter="#{participanteLicitacaoControlador.converterGenerico}"
                                                            var="lf"
                                                            itemValue="#{lf.id}"
                                                            itemLabel="#{lf}"
                                                            maxResults="50"
                                                            dropdown="true"
                                                            panelStyle="max-height: 250px;max-width: 800px"
                                                            size="60"
                                                            styleClass="mrig05">
                                                <p:ajax event="itemSelect"
                                                        listener="#{ajusteProcessoCompraControlador.listenerNovaPropostaFornecedor()}"
                                                        update=":Formulario:grid-proposta :Formulario:panel-proposta"
                                                        process="@this"
                                                        onstart="aguarde.show();"
                                                        oncomplete="aguarde.hide();"/>
                                            </p:autoComplete>

                                            <fc:outputLabelObrigatorio value="Representante: "
                                                                       rendered="#{ajusteProcessoCompraControlador.hasPropostaFornecedor()}"/>
                                            <p:autoComplete queryDelay="1000" id="representante"
                                                            title="Digite o representante do fornecedor caso queira alterar."
                                                            rendered="#{ajusteProcessoCompraControlador.hasPropostaFornecedor()}"
                                                            value="#{ajusteProcessoCompraControlador.ajusteVo.propostaFornecedor.representante}"
                                                            completeMethod="#{propostaTecnicaControlador.completarRepresentante}"
                                                            converter="#{propostaFornecedorControlador.converterRepresentante}"
                                                            disabled="#{ajusteProcessoCompraControlador.isPropostaFornecedorPessoaFisica()}"
                                                            var="representante"
                                                            itemLabel="#{representante}"
                                                            itemValue="#{representante.id}"
                                                            maxResults="50"
                                                            dropdown="true"
                                                            panelStyle="max-height: 250px;max-width: 800px"
                                                            size="60"/>

                                            <fc:outputLabelObrigatorio value="Instrumento Repres.:"
                                                                       rendered="#{ajusteProcessoCompraControlador.hasPropostaFornecedor()}"/>
                                            <h:panelGrid columns="1"
                                                         cellpadding="0"
                                                         cellspacing="0">
                                                <p:inputTextarea
                                                    rendered="#{ajusteProcessoCompraControlador.hasPropostaFornecedor()}"
                                                    value="#{ajusteProcessoCompraControlador.ajusteVo.propostaFornecedor.instrumentoRepresentacao}"
                                                    disabled="#{ajusteProcessoCompraControlador.isPropostaFornecedorPessoaFisica()}"
                                                    cols="60"
                                                    maxlength="255"
                                                    autoResize="true"
                                                    counterTemplate="{0} Caracteres Restantes."
                                                    counter="counter-inst-rep-proposta"/>
                                                <h:outputText id="counter-inst-rep-proposta"
                                                              style="color: #497692"
                                                              styleClass="mlef05"/>
                                            </h:panelGrid>

                                            <fc:outputLabelObrigatorio value="Tipo de Empresa:"
                                                                       rendered="#{ajusteProcessoCompraControlador.hasPropostaFornecedor()}"/>
                                            <p:inputText id="tipo-empresa"
                                                         rendered="#{ajusteProcessoCompraControlador.hasPropostaFornecedor()}"
                                                         value="#{ajusteProcessoCompraControlador.ajusteVo.propostaFornecedor.fornecedor.tipoEmpresa.descricao}"
                                                         disabled="#{ajusteProcessoCompraControlador.isPropostaFornecedorPessoaFisica()}"
                                                         size="10"
                                                         readonly="true"/>

                                            <fc:outputLabelObrigatorio value="Prazo de Validade: "
                                                                       rendered="#{ajusteProcessoCompraControlador.hasPropostaFornecedor()}"/>
                                            <h:panelGrid columns="3"
                                                         rendered="#{ajusteProcessoCompraControlador.hasPropostaFornecedor()}"
                                                         cellspacing="0"
                                                         cellpadding="0">
                                                <p:inputText id="prazo-validade"
                                                             title="Digite o prazo de validade da proposta."
                                                             value="#{ajusteProcessoCompraControlador.ajusteVo.propostaFornecedor.validadeDaProposta}"
                                                             size="10"
                                                             styleClass="mrig02">
                                                    <p:ajax event="blur" process="@this"/>
                                                </p:inputText>

                                                <fc:outputLabelObrigatorio/>
                                                <h:selectOneMenu id="tipo-prazo-validade"
                                                                 title="Informe o tipo do prazo de validade."
                                                                 value="#{ajusteProcessoCompraControlador.ajusteVo.propostaFornecedor.tipoPrazoValidade}">
                                                    <f:selectItems
                                                        value="#{solicitacaoMaterialControlador.tipoPrazo}"/>
                                                    <p:ajax event="change" process="@this"/>
                                                </h:selectOneMenu>
                                            </h:panelGrid>

                                            <fc:outputLabelObrigatorio value="Prazo de Execução: "
                                                                       rendered="#{ajusteProcessoCompraControlador.hasPropostaFornecedor()}"/>
                                            <h:panelGrid columns="3"
                                                         rendered="#{ajusteProcessoCompraControlador.hasPropostaFornecedor()}"
                                                         cellpadding="0"
                                                         cellspacing="0">
                                                <p:inputText id="prazo-execucao"
                                                             title="Digite o prazo de execução da proposta."
                                                             value="#{ajusteProcessoCompraControlador.ajusteVo.propostaFornecedor.prazoDeExecucao}"
                                                             size="10"
                                                             styleClass="mrig02">
                                                    <p:ajax event="blur" process="@this"/>
                                                </p:inputText>

                                                <fc:outputLabelObrigatorio/>
                                                <h:selectOneMenu id="tipo-prazo-execucao"
                                                                 title="Informe o tipo do prazo de execução."
                                                                 value="#{ajusteProcessoCompraControlador.ajusteVo.propostaFornecedor.tipoPrazoExecucao}">
                                                    <f:selectItems
                                                        value="#{solicitacaoMaterialControlador.tipoPrazo}"/>
                                                    <p:ajax event="change" process="@this"/>
                                                </h:selectOneMenu>
                                            </h:panelGrid>

                                            <h:outputText value="Valor Total: "
                                                          rendered="#{!ajusteProcessoCompraControlador.isMaiorDesconto()
                                                       and ajusteProcessoCompraControlador.hasPropostaFornecedor()}"/>
                                            <h:outputText id="vl-total-proposta"
                                                          styleClass="negrito"
                                                          rendered="#{!ajusteProcessoCompraControlador.isMaiorDesconto()
                                                                       and ajusteProcessoCompraControlador.hasPropostaFornecedor()}"
                                                          value="#{ajusteProcessoCompraControlador.ajusteVo.propostaFornecedor.valorTotalProposta}">
                                                <f:convertNumber pattern="#,##0.00"/>
                                            </h:outputText>
                                        </h:panelGrid>
                                    </td>

                                    <td style="width: 40%">
                                        <div style="overflow: scroll; max-height: 250px; width: 100%;
                                                    display: #{ajusteProcessoCompraControlador.hasPropostas() ? 'block' : 'none'}"
                                             class="thumbnail" align="right">
                                            <table class="table table-condensed">
                                                <tr>
                                                    <td colspan="2">
                                                        <div class="alert alert-info" align="center"
                                                             style="padding: 2px">
                                                            Propostas Cadastradas na Licitação
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr class="negrito">
                                                    <td>Fornecedor</td>
                                                    <td>Representante</td>
                                                </tr>

                                                <ui:repeat
                                                    value="#{ajusteProcessoCompraControlador.ajusteVo.propostas}"
                                                    var="propLic">
                                                    <tr>
                                                        <td>
                                                            <h:outputText value="#{propLic.fornecedor}"/>
                                                        </td>
                                                        <td>
                                                            <h:outputText value="#{propLic.representante.nome}"/>
                                                        </td>
                                                    </tr>
                                                </ui:repeat>
                                            </table>
                                        </div>
                                    </td>
                                </tr>
                            </table>

                            <p:outputPanel id="panel-proposta">
                                <p:dataTable paginator="true"
                                             id="tabela-lote"
                                             rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                             rowIndexVar="rowIx"
                                             styleClass="mtop05"
                                             emptyMessage="Não foram localizados registros para serem apresentados"
                                             value="#{ajusteProcessoCompraControlador.ajusteVo.lotesProposta}"
                                             rendered="#{ajusteProcessoCompraControlador.hasLotes()}"
                                             rows="10"
                                             paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>LOTES - PROPOSTA&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                             rowsPerPageTemplate="10,25,50,100"
                                             var="lote">

                                    <p:column headerText="Proposta" styleClass="alinhamentoCentralizado"
                                              style="width: 80px;">
                                        <p:commandButton icon="ui-icon-note"
                                                         title="Clique para lançar os valores dos itens deste lote."
                                                         process="@this"
                                                         update=":form-proposta"
                                                         actionListener="#{ajusteProcessoCompraControlador.selecionarLote(lote)}"
                                                         onclick="aguarde.show()"
                                                         oncomplete="aguarde.hide();"/>

                                    </p:column>
                                    <p:column headerText="Número" styleClass="alinhamentoDireita"
                                              style="width: 30px">
                                        <h:outputText value="#{lote.loteProcessoDeCompra.numero}"/>
                                    </p:column>
                                    <p:column headerText="Descrição" styleClass="alinhamentoEsquerda">
                                        <h:outputText value="#{lote.loteProcessoDeCompra.descricao}"/>
                                    </p:column>
                                    <p:column headerText="Valor (R$)" styleClass="alinhamentoDireita"
                                              style="width: 100px"
                                              rendered="#{!ajusteProcessoCompraControlador.isMaiorDesconto()}">
                                        <h:outputText value="#{lote.valor}">
                                            <f:convertNumber pattern="#,##0.00"/>
                                        </h:outputText>
                                    </p:column>
                                </p:dataTable>
                            </p:outputPanel>
                        </p:outputPanel>

                        <p:outputPanel rendered="#{ajusteProcessoCompraControlador.isIncluirOrEditarFornecedor()}"
                                       id="panel-participante">

                            <table>
                                <tr style="vertical-align: top">
                                    <td style="width: 60%">
                                        <h:panelGrid columns="2" id="grid-fornecedor">
                                            <h:outputText value="Código: "/>
                                            <h:outputLabel
                                                value="#{ajusteProcessoCompraControlador.ajusteVo.licitacaoFornecedor.codigo}"
                                                styleClass="negrito"/>

                                            <fc:outputLabelObrigatorio value="Fornecedor: "
                                                                       rendered="#{ajusteProcessoCompraControlador.isEditarFornecedor()}"/>
                                            <p:autoComplete queryDelay="1000"
                                                            title="Digite o fornecedor que deseja pesquisar."
                                                            rendered="#{ajusteProcessoCompraControlador.isEditarFornecedor()}"
                                                            value="#{ajusteProcessoCompraControlador.ajusteVo.licitacaoFornecedor}"
                                                            completeMethod="#{ajusteProcessoCompraControlador.completarFornecedorLicitacao}"
                                                            converter="#{participanteLicitacaoControlador.converterGenerico}"
                                                            var="lf"
                                                            itemValue="#{lf.id}"
                                                            itemLabel="#{lf}"
                                                            maxResults="50"
                                                            dropdown="true"
                                                            panelStyle="max-height: 250px;max-width: 800px"
                                                            size="60"
                                                            styleClass="mrig05">
                                                <p:ajax event="itemSelect"
                                                        listener="#{ajusteProcessoCompraControlador.listenerEditarFornecedor()}"
                                                        update=":Formulario:grid-fornecedor"
                                                        process="@this"
                                                        onstart="aguarde.show();"
                                                        oncomplete="aguarde.hide();"/>
                                            </p:autoComplete>

                                            <fc:outputLabelObrigatorio value="Fornecedor: "
                                                                       rendered="#{ajusteProcessoCompraControlador.isIncluirFornecedor()}"/>
                                            <fc:novoAutocompletePessoa id="ac-fornecedor"
                                                                       rendered="#{ajusteProcessoCompraControlador.isIncluirFornecedor()}"
                                                                       value="#{ajusteProcessoCompraControlador.ajusteVo.licitacaoFornecedor.empresa}"
                                                                       caminhoAtual="#{ajusteProcessoCompraControlador.caminhoOrigem}"
                                                                       disabled="#{ajusteProcessoCompraControlador.ajusteVo.isProcessoNulo()}"
                                                                       mostraBotaoEdita="false"
                                                                       mostraBotaoNovo="false"
                                                                       mostraSituacoes="false"
                                                                       mostraBotaoInfo="false"
                                                                       size="60"
                                                                       permiteAlterarSituacoes="false"
                                                                       update=":Formulario:grid-fornecedor"
                                                                       listenerItemSelect="#{ajusteProcessoCompraControlador.listenerIncluirFornecedor()}"
                                                                       situacoesPossiveis="#{novoComponentePesquisaPessoaControlador.situacaoPorDescricao('ATIVO')}"/>

                                            <fc:outputLabelObrigatorio value="CPF do Repres.: "
                                                                       rendered="#{ajusteProcessoCompraControlador.isFornecedorPessoaJuridica()}"/>
                                            <p:inputMask mask="999.999.999-99"
                                                         title="Informe o CPF do Representante."
                                                         value="#{ajusteProcessoCompraControlador.ajusteVo.representanteLicitacao.cpf}"
                                                         rendered="#{ajusteProcessoCompraControlador.isFornecedorPessoaJuridica()}"
                                                         maxlength="20" size="20">
                                                <p:ajax event="blur"
                                                        process="@this"
                                                        update=":Formulario:nome-representante"
                                                        listener="#{ajusteProcessoCompraControlador.validarAndVerificarCpfRepresentante()}"/>
                                            </p:inputMask>

                                            <fc:outputLabelObrigatorio value="Nome do Repres.: "
                                                                       rendered="#{ajusteProcessoCompraControlador.isFornecedorPessoaJuridica()}"/>
                                            <p:inputText
                                                id="nome-representante"
                                                value="#{ajusteProcessoCompraControlador.ajusteVo.representanteLicitacao.nome}"
                                                size="60"
                                                maxlength="70"
                                                rendered="#{ajusteProcessoCompraControlador.isFornecedorPessoaJuridica()}">
                                                <p:ajax event="change" process="@this"/>
                                            </p:inputText>

                                            <fc:outputLabelObrigatorio value="Instrumento Repres.: "
                                                                       rendered="#{ajusteProcessoCompraControlador.isFornecedorPessoaJuridica()}"/>
                                            <h:panelGrid
                                                columns="1"
                                                rendered="#{ajusteProcessoCompraControlador.isFornecedorPessoaJuridica()}">
                                                <p:inputTextarea id="instrumento-representacao"
                                                                 title="Digite os documentos que dão legalidade ao representante do fornecedor."
                                                                 value="#{ajusteProcessoCompraControlador.ajusteVo.licitacaoFornecedor.instrumentoRepresentacao}"
                                                                 cols="60"
                                                                 maxlength="255"
                                                                 autoResize="true"
                                                                 counterTemplate="{0} Caracteres Restantes."
                                                                 counter="counter-instrumento-representacao">
                                                    <p:ajax event="change" process="@this"/>
                                                </p:inputTextarea>
                                                <h:outputText id="counter-instrumento-representacao"
                                                              style="color: #497692"
                                                              styleClass="mlef05"/>
                                            </h:panelGrid>
                                        </h:panelGrid>
                                    </td>

                                    <td style="width: 40%">
                                        <div style="overflow: scroll; max-height: 250px; width: 100%;
                                                    display: #{ajusteProcessoCompraControlador.hasFornecedor() ? 'block' : 'none'}"
                                             class="thumbnail" align="right">
                                            <table class="table table-condensed">
                                                <tr>
                                                    <td colspan="4">
                                                        <div class="alert alert-info" align="center"
                                                             style="padding: 2px">
                                                            Fornecedores Cadastrados na Licitação
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr class="negrito">
                                                    <td>Cód</td>
                                                    <td>Fornecedor</td>
                                                    <td>Representante</td>
                                                    <td>Classif.</td>
                                                </tr>
                                                <ui:repeat
                                                    value="#{ajusteProcessoCompraControlador.ajusteVo.fornecedoresLicitacao}"
                                                    var="part">
                                                    <tr>
                                                        <td>
                                                            <h:outputText value="#{part.codigo}"/>
                                                        </td>
                                                        <td>
                                                            <h:outputText value="#{part.empresa}"/>
                                                        </td>
                                                        <td>
                                                            <h:outputText value="#{part.representante.nome}"/>
                                                        </td>
                                                        <td>
                                                            <h:outputText title="#{part.justificativaClassificacao}"
                                                                          value="#{part.tipoClassificacaoFornecedor.descricao}"
                                                                          styleClass="negrito"
                                                                          style="color : #{habilitacaoPregaoControlador.getCorDaDescricao(part.tipoClassificacaoFornecedor.descricao)}"/>
                                                        </td>
                                                    </tr>
                                                </ui:repeat>
                                            </table>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </p:outputPanel>

                        <p:outputPanel rendered="#{ajusteProcessoCompraControlador.isSubstituirFornecedor()}"
                                       id="panel-subsituir-forn">
                            <table style="width: 100%">
                                <tr style="vertical-align: top">
                                    <td style="width: 60%">
                                        <h:panelGrid columns="2">
                                            <fc:outputLabelObrigatorio value="Fornecedor De: "/>
                                            <p:autoComplete queryDelay="1000"
                                                            title="Escolha o fornecedor que será substituído."
                                                            value="#{ajusteProcessoCompraControlador.ajusteVo.licitacaoFornecedor}"
                                                            completeMethod="#{ajusteProcessoCompraControlador.completarFornecedorLicitacao}"
                                                            converter="#{participanteLicitacaoControlador.converterGenerico}"
                                                            rendered="#{ajusteProcessoCompraControlador.ajusteVo.tipoProcesso.isLicitacao()}"
                                                            var="pla"
                                                            itemValue="#{pla.id}"
                                                            itemLabel="#{pla}"
                                                            maxResults="50"
                                                            dropdown="true"
                                                            panelStyle="max-height: 250px;max-width: 800px"
                                                            size="60"/>

                                            <p:autoComplete queryDelay="1000"
                                                            title="Escolha o fornecedor que será substituído."
                                                            value="#{ajusteProcessoCompraControlador.ajusteVo.fornecedorDispensaLicitacao}"
                                                            completeMethod="#{ajusteProcessoCompraControlador.completarFornecedoresDispensa}"
                                                            converter="#{ajusteProcessoCompraControlador.converterFornecedorDispensaLicitacao}"
                                                            rendered="#{ajusteProcessoCompraControlador.ajusteVo.tipoProcesso.isDispensa()}"
                                                            var="fornOrig"
                                                            itemValue="#{fornOrig.id}"
                                                            itemLabel="#{fornOrig}"
                                                            maxResults="50"
                                                            dropdown="true"
                                                            panelStyle="max-height: 250px;max-width: 800px"
                                                            size="60"
                                                            styleClass="mrig05">
                                                <p:ajax event="itemSelect"
                                                        update=":Formulario:panel-subsituir-forn"
                                                        process="@this"
                                                        onstart="aguarde.show();"
                                                        oncomplete="aguarde.hide();"/>
                                            </p:autoComplete>

                                            <fc:outputLabelObrigatorio value="Fornecedor Para: "/>
                                            <fc:novoAutocompletePessoa id="ac-part-subst"
                                                                       value="#{ajusteProcessoCompraControlador.ajusteVo.fornecedorSubstituicao}"
                                                                       caminhoAtual="#{ajusteProcessoCompraControlador.caminhoOrigem}"
                                                                       mostraBotaoEdita="false"
                                                                       mostraBotaoNovo="false"
                                                                       mostraSituacoes="false"
                                                                       mostraBotaoInfo="false"
                                                                       size="60"
                                                                       permiteAlterarSituacoes="false"
                                                                       situacoesPossiveis="#{novoComponentePesquisaPessoaControlador.situacaoPorDescricao('ATIVO')}"/>
                                        </h:panelGrid>
                                    </td>

                                    <td style="width: 3%"/>

                                    <td style="width: 45%">
                                        <div style="overflow: scroll; max-height: 250px; width: 100%;
                                                    display: #{ajusteProcessoCompraControlador.ajusteVo.tipoAjuste.isSubstituirFornecedor() ? 'block' : 'none'}"
                                             class="thumbnail">
                                            <table style="width: 100%" class="table table-condensed">
                                                <tr>
                                                    <td colspan="2">
                                                        <div class="alert alert-info" align="center"
                                                             style="padding: 2px">
                                                            Contratos da #{ajusteProcessoCompraControlador.ajusteVo.tipoProcesso.descricao}
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th>
                                                        Número
                                                    </th>
                                                    <th>
                                                        Fornecedor
                                                    </th>
                                                </tr>
                                                <ui:repeat
                                                    value="#{ajusteProcessoCompraControlador.ajusteVo.contratos}"
                                                    var="contrato">
                                                    <tr>
                                                        <td>
                                                            <h:commandLink
                                                                target="_blank"
                                                                actionListener="#{ajusteProcessoCompraControlador.redirecionarContrato(contrato)}"
                                                                title="Clique para visualizar esse registro em nova aba.">
                                                                <h:outputLabel
                                                                    value="#{contrato.numeroContrato} - #{contrato.numeroAnoTermo}"/>
                                                            </h:commandLink>
                                                        </td>
                                                        <td>
                                                            <h:outputLabel
                                                                value="#{contrato.contratado}"/>
                                                        </td>
                                                    </tr>
                                                </ui:repeat>
                                            </table>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </p:outputPanel>

                        <table
                            style="width: 100%; border-radius: 5px; display: #{ajusteProcessoCompraControlador.hasObjetoCompraSelecionado() ? 'block' : 'none'}">
                            <tr style="vertical-align: top">

                                <td style="width: 60%">
                                    <p:fieldset legend="De / Para">
                                        <h:panelGrid columns="2"
                                                     rendered="#{ajusteProcessoCompraControlador.hasObjetoCompraSelecionado()}">
                                            <h:outputText value="Item: "
                                                          style="font-size: 14px"
                                                          styleClass="negrito"/>
                                            <h:outputText
                                                style="font-size: 14px"
                                                styleClass="negrito"
                                                value="#{ajusteProcessoCompraControlador.ajusteVo.objetoCompraSelecionado.numeroItem}"/>

                                            <h:outputText value="Objeto de Compra De: "
                                                          style="color: dimgrey"/>
                                            <h:panelGroup id="group-oc-de">
                                                <h:outputText
                                                    value="#{ajusteProcessoCompraControlador.ajusteVo.objetoCompraSelecionado.objetoCompra}"/>

                                                <div style="font-size: 11px; color: dimgrey"
                                                     class="mtop05">
                                                    <h:outputText value="Tipo de Objeto: "/>
                                                    <h:outputText
                                                        style="margin-left: 23px"
                                                        styleClass="negrito"
                                                        value="#{ajusteProcessoCompraControlador.ajusteVo.objetoCompraSelecionado.objetoCompra.tipoObjetoCompra.descricao}"/>
                                                </div>

                                                <div style="font-size: 11px; color: dimgrey"
                                                     class="mtop05">
                                                    <ad:grupo-conta-despesa
                                                        grupoContaDespesa="#{ajusteProcessoCompraControlador.ajusteVo.objetoCompraSelecionado.grupoContaDespesaDe}"/>
                                                </div>
                                            </h:panelGroup>

                                            <h:outputText value="Objeto de Compra Para: "
                                                          styleClass="negrito"/>
                                            <h:panelGroup id="group-oc-para">
                                                <p:autoComplete queryDelay="1000"
                                                                id="oc-para"
                                                                value="#{ajusteProcessoCompraControlador.ajusteVo.objetoCompraSelecionado.objetoCompraPara}"
                                                                completeMethod="#{ajusteProcessoCompraControlador.completarObjetoCompra}"
                                                                var="acOb"
                                                                size="50"
                                                                dropdown="true"
                                                                panelStyle="max-height: 250px;max-width: 800px"
                                                                maxResults="50"
                                                                itemLabel="#{acOb}"
                                                                itemValue="#{acOb.id}"
                                                                onkeyup="if(keyUpCampoVazio(this)){limparDadosOCPara();}"
                                                                converter="#{objetoCompraControlador.converterGenerico}">
                                                    <p:ajax event="itemSelect"
                                                            listener="#{ajusteProcessoCompraControlador.listenerObjetoCompraPara()}"
                                                            onstart="aguarde.show()"
                                                            oncomplete="aguarde.hide()"
                                                            update="group-especificacao panelGrupoContaDesd"
                                                            process="@this :Formulario:panel-geral"/>
                                                </p:autoComplete>

                                                <p:outputPanel id="panelGrupoContaDesd">
                                                    <div style="font-size: 11px; color: dimgrey"
                                                         class="mtop05">
                                                        <h:outputText value="Tipo de Objeto: "
                                                                      styleClass="mlef03"
                                                                      rendered="#{ajusteProcessoCompraControlador.ajusteVo.objetoCompraSelecionado.objetoCompraPara ne null}"/>
                                                        <h:outputText
                                                            style="margin-left: 22px"
                                                            rendered="#{ajusteProcessoCompraControlador.ajusteVo.objetoCompraSelecionado.objetoCompraPara ne null}"
                                                            value="#{ajusteProcessoCompraControlador.ajusteVo.objetoCompraSelecionado.objetoCompraPara.tipoObjetoCompra.descricao}"/>
                                                    </div>

                                                    <div style="font-size: 11px; color: dimgrey"
                                                         class="mtop05">
                                                        <ad:grupo-conta-despesa
                                                            grupoContaDespesa="#{ajusteProcessoCompraControlador.ajusteVo.objetoCompraSelecionado.grupoContaDespesaPara}"/>
                                                    </div>
                                                </p:outputPanel>
                                            </h:panelGroup>

                                            <h:outputText value="Especificação De: "
                                                          style="color: dimgrey"/>
                                            <p:inputTextarea
                                                value="#{ajusteProcessoCompraControlador.ajusteVo.objetoCompraSelecionado.especificacao}"
                                                readonly="true"
                                                autoResize="false"
                                                maxlength="3000"
                                                cols="48"
                                                rows="5"
                                                scrollHeight="50"/>

                                            <h:outputText value="Especificação Para:"
                                                          styleClass="negrito"/>
                                            <h:panelGroup id="group-especificacao">
                                                <p:inputTextarea id="editor"
                                                                 title="Digite a descrição da complementar."
                                                                 disabled="#{ajusteProcessoCompraControlador.ajusteVo.objetoCompraSelecionado.objetoCompraPara eq null}"
                                                                 value="#{ajusteProcessoCompraControlador.ajusteVo.objetoCompraSelecionado.especificacaoPara}"
                                                                 autoResize="false"
                                                                 maxlength="3000"
                                                                 readonly="true"
                                                                 cols="48"
                                                                 rows="5"
                                                                 scrollHeight="50"/>

                                                <p:outputPanel id="panel-especificacao" styleClass="mlef05">
                                                    <ad:tabela-especificacoes-objeto-compra
                                                        update=":Formulario:panel-geral"
                                                        limparEspecificacao="#{ajusteProcessoCompraControlador.limparEspecificacao()}"
                                                        objetoCompra="#{ajusteProcessoCompraControlador.ajusteVo.objetoCompraSelecionado.objetoCompraPara}"
                                                        selecionarEspecificacao="#{ajusteProcessoCompraControlador.selecionarEspecificacao}"/>
                                                </p:outputPanel>
                                            </h:panelGroup>

                                            <h:outputText value="Unidade Med. De: "
                                                          style="color: dimgrey"/>
                                            <h:outputText
                                                style="color: dimgrey"
                                                value="#{ajusteProcessoCompraControlador.ajusteVo.objetoCompraSelecionado.unidadeMedidaDe}"/>

                                            <h:outputText value="Unidade Med. Para: " styleClass="negrito"/>
                                            <ad:unidade-medida
                                                tipoObjetoCompra="#{ajusteProcessoCompraControlador.ajusteVo.objetoCompraSelecionado.objetoCompra.tipoObjetoCompra}"
                                                unidadeMedidaSelecionada="#{ajusteProcessoCompraControlador.ajusteVo.objetoCompraSelecionado.unidadeMedidaPara}"
                                                update=":Formulario:quantidade"/>

                                            <h:outputText value="Quantidade De: " style="color: dimgrey"/>
                                            <fc:output-mascara-unidade-medida
                                                style="color: dimgrey"
                                                tipoMascara="#{ajusteProcessoCompraControlador.ajusteVo.objetoCompraSelecionado.mascaraQuantidade}"
                                                value="#{ajusteProcessoCompraControlador.ajusteVo.objetoCompraSelecionado.quantidadeDe}"/>

                                            <h:outputText value="Quantidade Para: " styleClass="negrito"/>
                                            <p:outputPanel id="quantidade">
                                                <fc:input-mascara-unidade-medida
                                                    styleClass="alinhamentoEsquerda"
                                                    rendered="#{!ajusteProcessoCompraControlador.hasMovimentoContrato()}"
                                                    value="#{ajusteProcessoCompraControlador.ajusteVo.objetoCompraSelecionado.quantidadePara}"
                                                    tipoMascara="#{ajusteProcessoCompraControlador.ajusteVo.objetoCompraSelecionado.mascaraQuantidade}"/>

                                                <div class="alert alert-danger"
                                                     style="display: #{ajusteProcessoCompraControlador.hasMovimentoContrato() ? 'block' : 'none'}">
                                                    Alteração não permitida quando o processo possui contrato.
                                                </div>
                                                <div class="alert alert-danger"
                                                     style="display: #{ajusteProcessoCompraControlador.hasProcessoComPregaoPorLote() ? 'block' : 'none'}">
                                                    Alteração não permitida quando a licitação é do tipo apuração por lote.
                                                </div>
                                            </p:outputPanel>
                                        </h:panelGrid>

                                        <div class="alert alert-warning mtop10"
                                             style="display: #{ajusteProcessoCompraControlador.ajusteVo.tipoObjetoCompraDiferenteDaReservaInicialProcesso ? 'block' : 'none'}">
                                            <strong>Atenção!</strong> Esse processo possui reserva de dotação inicial. Ao realizar a substituição do objeto de compra, será necessário reajustar as fontes reservadas.
                                        </div>
                                    </p:fieldset>
                                </td>

                                <td style="width: 5%">

                                </td>

                                <td style="width: 40%">
                                    <p:fieldset legend="Movimentos"
                                                style="overflow: scroll; max-height: 300px">
                                        <table class="table table-hover table-striped">
                                            <tr class="negrito alert alert-warning">
                                                <td>Movimento</td>
                                                <td>Número</td>
                                                <td>Data</td>
                                            </tr>
                                            <ui:repeat
                                                value="#{ajusteProcessoCompraControlador.ajusteVo.objetoCompraSelecionado.movimentos}"
                                                var="mov">

                                                <tr style="vertical-align: top">
                                                    <td>
                                                        <a href="#{request.contextPath}#{mov.tipoProcesso.url}#{mov.idProcesso}/"
                                                           target="_blank"
                                                           style="color: dimgrey">
                                                            <h:outputText
                                                                title="#{mov.descricao}"
                                                                value="#{mov.tipoProcesso.descricao}"/>
                                                        </a>
                                                        <br/>
                                                        <h:outputText
                                                            style="color: dimgrey; font-size: 10px"
                                                            rendered="#{mov.tipoProcesso.isExecucaoContrato()}"
                                                            title="#{mov.contaDesdobrada.descricao}"
                                                            value="#{mov.contaDesdobrada.codigo}"/>
                                                    </td>
                                                    <td>
                                                        <h:outputText
                                                            value="#{mov.numero}"/>
                                                    </td>
                                                    <td>
                                                        <h:outputText value="#{mov.data}">
                                                            <f:convertDateTime type="date"/>
                                                        </h:outputText>
                                                    </td>
                                                </tr>
                                            </ui:repeat>
                                        </table>
                                    </p:fieldset>
                                </td>
                            </tr>
                        </table>

                        <p:commandButton id="btn-adicionar"
                                         styleClass="prioritario operacao mtop10"
                                         style="width: 150px"
                                         process="@this :Formulario:panel-geral"
                                         update=":Formulario:panel-oc-substituicao :Formulario:gridDadosGerais :Formulario:tabela-oc :Formulario:motivo"
                                         onstart="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         icon="ui-icon-plus"
                                         value="Adicionar"
                                         title="Clique para adicionar o objeto na lista de substituição."
                                         rendered="#{ajusteProcessoCompraControlador.ajusteVo.tipoAjuste.isSubstituirObjetoCompra()}"
                                         actionListener="#{ajusteProcessoCompraControlador.adicionarObjetoCompra()}"/>

                        <p:outputPanel id="panel-oc-substituicao">
                            <p:dataTable
                                emptyMessage="Não foram localizados registros para serem apresentados"
                                rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                value="#{ajusteProcessoCompraControlador.ajusteVo.objetosCompraSubstituicao}"
                                rendered="#{ajusteProcessoCompraControlador.ajusteVo.tipoAjuste.isSubstituirObjetoCompra()}"
                                rowIndexVar="rowIx"
                                rowKey="#{ocSub}"
                                var="ocSub">
                                <f:facet name="header">Objetos de Compra para Substituição</f:facet>
                                <p:column headerText="Ações" style="text-align: center; width: 8%;">
                                    <p:commandButton icon="ui-icon-pencil"
                                                     title="Clique para alterar este registro."
                                                     onclick="aguarde.show()"
                                                     oncomplete="aguarde.hide();"
                                                     process="@this"
                                                     disabled="#{ocSub.selecionado}"
                                                     actionListener="#{ajusteProcessoCompraControlador.editarObjetoCompra(ocSub)}"
                                                     update=":Formulario:panel-geral :Formulario:gridDadosGerais"
                                                     styleClass="mrig05"/>

                                    <p:commandButton icon="ui-icon-trash"
                                                     process="@this"
                                                     disabled="#{ocSub.selecionado}"
                                                     onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                     oncomplete="aguarde.hide()"
                                                     actionListener="#{ajusteProcessoCompraControlador.removerObjetoCompra(ocSub)}"
                                                     update=":Formulario:gridDadosGerais :Formulario:panel-oc-substituicao"
                                                     title="Clique para remover este registro."/>
                                </p:column>
                                <p:column headerText="Lote" styleClass="alinhamentoCentralizado"
                                          style="width: 1%">
                                    <h:outputText value="#{ocSub.numeroLote}"/>
                                </p:column>
                                <p:column headerText="Item" styleClass="alinhamentoCentralizado"
                                          style="width: 1%">
                                    <h:outputText value="#{ocSub.numeroItem}"/>
                                </p:column>
                                <p:column headerText="Objeto de Compra" styleClass="alinhamentoEsquerda"
                                          style="vertical-align: top">
                                    <h:panelGrid columns="1">
                                        <h:outputText value="De: " style="color: grey"/>
                                        <h:outputText value="#{ocSub.objetoCompra}"/>

                                        <br/>
                                        <h:outputText value="Para: " style="color: grey"/>
                                        <h:outputText value="#{ocSub.objetoCompraPara}"/>
                                    </h:panelGrid>
                                </p:column>
                                <p:column headerText="Especificação" styleClass="alinhamentoEsquerda"
                                          style="vertical-align: top">
                                    <h:panelGrid columns="1">
                                        <h:outputText value="De: " style="color: grey"/>
                                        <ad:especificacao-objeto-compra
                                            exibirTexto="true"
                                            especificacao="#{ocSub.especificacao}"/>

                                        <br/>
                                        <h:outputText value="Para: " style="color: grey"/>
                                        <ad:especificacao-objeto-compra
                                            exibirTexto="true"
                                            especificacao="#{ocSub.especificacaoPara}"/>
                                    </h:panelGrid>
                                </p:column>
                                <p:column headerText="Unid. Med." styleClass="alinhamentoEsquerda"
                                          style="vertical-align: top">
                                    <h:panelGrid columns="1">
                                        <h:outputText value="De: " style="color: grey"/>
                                        <h:outputText value="#{ocSub.unidadeMedidaDe}"/>

                                        <br/>
                                        <h:outputText value="Para: " style="color: grey"/>
                                        <h:outputText value="#{ocSub.unidadeMedidaPara}"/>
                                    </h:panelGrid>
                                </p:column>
                                <p:column headerText="Quantidade" styleClass="alinhamentoEsquerda"
                                          style="vertical-align: top">
                                    <h:panelGrid columns="1">
                                        <h:outputText value="De: " style="color: grey"/>
                                        <fc:output-mascara-unidade-medida value="#{ocSub.quantidadeDe}"
                                                                          tipoMascara="#{ocSub.mascaraQuantidade}"/>

                                        <br/>
                                        <h:outputText value="Para: " style="color: grey"/>
                                        <fc:output-mascara-unidade-medida value="#{ocSub.quantidadePara}"
                                                                          tipoMascara="#{ocSub.mascaraQuantidade}"/>
                                    </h:panelGrid>
                                </p:column>
                                <p:column headerText="Movimentos"
                                          style="width: 30%; background: #fff9f0; vertical-align: top">
                                    <div style="overflow: scroll; max-height: 150px">
                                        <table class="table">
                                            <tr class="negrito">
                                                <td>Tipo</td>
                                                <td>Número</td>
                                                <td>Data</td>
                                            </tr>
                                            <ui:repeat
                                                value="#{ocSub.movimentos}"
                                                var="movOc">
                                                <tr>
                                                    <td>
                                                        <a href="#{request.contextPath}#{movOc.tipoProcesso.url}#{movOc.idProcesso}/"
                                                           target="_blank"
                                                           style="color: dimgrey">
                                                            <h:outputText
                                                                value="#{movOc.tipoProcesso.descricao}"/>
                                                        </a>
                                                    </td>
                                                    <td>
                                                        <h:outputText
                                                            value="#{movOc.numero}"/>
                                                    </td>
                                                    <td>
                                                        <h:outputText value="#{movOc.data}">
                                                            <f:convertDateTime type="date"/>
                                                        </h:outputText>
                                                    </td>
                                                </tr>
                                            </ui:repeat>
                                        </table>
                                    </div>
                                </p:column>
                            </p:dataTable>
                        </p:outputPanel>

                    </p:panel>

                </p:outputPanel>
            </p:panel>

            <fc:rodapePretty controlador="#{ajusteProcessoCompraControlador}"/>
        </h:form>


        <p:dialog header="Proposta do Fornecedor"
                  modal="true"
                  dynamic="true"
                  position="center"
                  style="position: fixed !important;"
                  draggable="false"
                  resizable="false"
                  closable="false"
                  height="400"
                  width="1100"
                  widgetVar="dlgProposta">
            <h:form id="form-proposta">
                <h:outputText value="Fornecedor Selecionado:"
                              styleClass="mtop05"/>
                <h:outputText value="#{ajusteProcessoCompraControlador.ajusteVo.propostaFornecedor.fornecedor.nome}"
                              styleClass="negrito"/>

                <p:dataTable paginator="true"
                             id="tabela-item"
                             rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                             rowIndexVar="rowIx"
                             styleClass="mtop05"
                             emptyMessage="Não foram localizados registros para serem apresentados"
                             value="#{ajusteProcessoCompraControlador.ajusteVo.lotePropostaFornecedor.itens}"
                             rows="10"
                             paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>ITENS DA PROPOSTA&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                             currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                             rowsPerPageTemplate="10,25,50,100"
                             var="itemProp">

                    <p:column headerText="Nº" styleClass="alinhamentoDireita" style="width: 3%">
                        <h:outputText value="#{itemProp.numeroItem}"/>
                    </p:column>
                    <p:column headerText="Descrição" styleClass="alinhamentoEsquerda">
                        <h:outputText value="#{itemProp.itemProcessoDeCompra.itemSolicitacaoMaterial.descricao}"/>
                    </p:column>
                    <p:column headerText="Unid. Med." styleClass="alinhamentoEsquerda">
                        <h:outputText
                            value="#{itemProp.itemProcessoDeCompra.itemSolicitacaoMaterial.unidadeMedida.sigla}"/>
                    </p:column>
                    <p:column headerText="Marca" styleClass="alinhamentoCentralizado">
                        <p:inputText id="marca"
                                     title="Digite a marca deste item."
                                     value="#{itemProp.marca}"
                                     disabled="#{itemProp.isItemServico() or  itemProp.itemPregao ne null}"
                                     maxlength="70" size="10">
                            <p:ajax event="change"
                                    listener="#{ajusteProcessoCompraControlador.selecionarItem(itemProp)}"
                                    process=":form-proposta:tabela-item @this"/>
                        </p:inputText>
                    </p:column>
                    <p:column headerText="Modelo/Descrição" styleClass="alinhamentoCentralizado">
                        <p:commandButton onclick="aguarde.show();"
                                         oncomplete="aguarde.hide(); dlgInfoProduto.show();"
                                         update=":form-info-produto"
                                         process="@this"
                                         disabled="#{itemProp.itemPregao ne null}"
                                         actionListener="#{ajusteProcessoCompraControlador.carregarInformacaoProduto(itemProp)}"
                                         icon="ui-icon-note"/>
                    </p:column>
                    <p:column headerText="Desconto (%)" style="width: 150px;"
                              styleClass="alinhamentoDireita"
                              rendered="#{ajusteProcessoCompraControlador.isMaiorDesconto() and ajusteProcessoCompraControlador.isApuracaoPorItem()}">
                        <p:inputText styleClass="alinhamentoDireita"
                                     disabled="#{itemProp.itemPregao ne null}"
                                     value="#{itemProp.percentualDesconto}"
                                     onkeypress="mascaraMonetariaDinamica(this, 3, 3)"
                                     maxlength="8">
                            <f:convertNumber pattern="#,##0.000"/>
                            <p:ajax event="change"
                                    listener="#{ajusteProcessoCompraControlador.selecionarItem(item)}"
                                    process=":form-proposta:tabela-item @this"/>
                        </p:inputText>
                    </p:column>
                    <p:column headerText="Quantidade" styleClass="alinhamentoDireita"
                              rendered="#{!ajusteProcessoCompraControlador.isMaiorDesconto()}">
                        <fc:output-mascara-unidade-medida
                            tipoMascara="#{itemProp.itemProcessoDeCompra.itemSolicitacaoMaterial.unidadeMedida.mascaraQuantidade}"
                            value="#{itemProp.itemProcessoDeCompra.quantidade}"/>
                    </p:column>
                    <p:column headerText="Valor Unitário (R$)" styleClass="alinhamentoCentralizado"
                              rendered="#{!ajusteProcessoCompraControlador.isMaiorDesconto()}">

                        <fc:input-mascara-unidade-medida value="#{itemProp.preco}"
                                                         update=":form-proposta:tabela-item:valor-total-item"
                                                         process=":form-proposta:tabela-item @this"
                                                         listener="#{ajusteProcessoCompraControlador.selecionarItem(itemProp)}"
                                                         disabled="#{itemProp.itemPregao ne null}"
                                                         tipoMascara="#{itemProp.itemProcessoDeCompra.itemSolicitacaoMaterial.unidadeMedida.mascaraValorUnitario}"/>
                    </p:column>
                    <p:column headerText="Valor Total (R$)" styleClass="alinhamentoDireita"
                              rendered="#{!ajusteProcessoCompraControlador.isMaiorDesconto()}">
                        <p:outputPanel id="valor-total-item">
                            <h:outputText value="#{itemProp.precoTotal}">
                                <f:convertNumber pattern="#,##0.00"/>
                            </h:outputText>
                        </p:outputPanel>
                    </p:column>
                </p:dataTable>

                <div class="alinhamentoCentralizado mtop10">
                    <p:commandButton value="Confirmar"
                                     icon="ui-icon-check"
                                     onclick="aguarde.show();"
                                     oncomplete="aguarde.hide();"
                                     title="Clique para confirmar os valores."
                                     actionListener="#{ajusteProcessoCompraControlador.confirmarProposta()}"
                                     update=":Formulario:vl-total-proposta :Formulario:panel-proposta"
                                     process=":form-proposta @this"
                                     styleClass="prioritario mtop05"/>

                    <p:commandButton value="Cancelar"
                                     icon="ui-icon-cancel"
                                     title="Clique para cancelar todos os lançamentos."
                                     actionListener="#{ajusteProcessoCompraControlador.cancelarProposta()}"
                                     onclick="if (!confirm('Tem certeza que deseja cancelar os lançamentos destes itens?')) {return false; } else {aguarde.show();}"
                                     oncomplete="aguarde.hide();"
                                     update=":Formulario:vl-total-proposta :Formulario:panel-proposta"
                                     process=":form-proposta @this"
                                     styleClass="padrao mtop05 mlef05"/>
                </div>
            </h:form>
        </p:dialog>

        <p:dialog header="Informações do Produto"
                  modal="true"
                  dynamic="true"
                  position="center"
                  style="position: fixed !important;"
                  draggable="false"
                  resizable="false"
                  widgetVar="dlgInfoProduto"
                  styleClass="alinhamentoEsquerda">

            <h:form id="form-info-produto">
                <p:outputPanel id="opn-info-produto">
                    <h:panelGrid columns="2">
                        <h:outputText value="Modelo: " styleClass="negrito"/>
                        <p:inputText value="#{ajusteProcessoCompraControlador.ajusteVo.itemPropostaFornecedor.modelo}"
                                     id="modelo-produto"
                                     size="100" maxlength="255"/>

                        <h:outputText value="Descrição: " styleClass="negrito"/>
                        <h:panelGrid>
                            <p:inputTextarea rows="10" cols="100" counter="descProduto"
                                             value="#{ajusteProcessoCompraControlador.ajusteVo.itemPropostaFornecedor.descricaoProduto}"
                                             maxlength="3000" counterTemplate="{0} caracteres restantes."
                                             autoResize="false">
                            </p:inputTextarea>
                            <h:outputText id="descProduto"/>
                        </h:panelGrid>
                    </h:panelGrid>
                </p:outputPanel>

                <div style="text-align: center; ">
                    <p:commandButton value="Confirmar"
                                     icon="ui-icon-check"
                                     styleClass="operacao prioritario mrig05"
                                     title="Clique para Confirmar."
                                     onclick="aguarde.show()"
                                     oncomplete="aguarde.hide()"
                                     process=":form-info-produto"
                                     update=":form-proposta"
                                     actionListener="#{ajusteProcessoCompraControlador.confirmaInformacaoProduto()}"/>

                    <p:commandButton value="Cancelar"
                                     styleClass="operacao"
                                     actionListener="#{ajusteProcessoCompraControlador.cancelarInformacaoProduto()}"
                                     icon="ui-icon-cancel"
                                     onclick="dlgInfoProduto.hide()"
                                     process=":form-info-produto"
                                     update=":form-proposta"
                                     title="Clique para fechar as informações."/>
                </div>
            </h:form>
        </p:dialog>

        <p:dialog header="Origem da Subsituição do Objeto"
                  modal="true"
                  dynamic="true"
                  position="center"
                  style="position: fixed !important;"
                  resizable="false"
                  closable="false"
                  width="800"
                  widgetVar="dlgMovimentoOrigem">
            <h:form id="form-dlg-mov">
                <div class="alert alert-warning" align="center" style="font-size: 14px">
                    <strong>Atenção! </strong>
                    <h:outputText value="#{ajusteProcessoCompraControlador.ajusteVo.mensagem}"
                                  escape="false"/>
                </div>

                <h:panelGrid columns="2" styleClass="mtop05">
                    <h:outputText value="Tipo:"/>
                    <h:outputText
                        value="#{ajusteProcessoCompraControlador.ajusteVo.movimentoVO.tipoProcesso.descricao}"
                        styleClass="negrito"/>

                    <h:outputText value="Número:"/>
                    <h:outputText value="#{ajusteProcessoCompraControlador.ajusteVo.movimentoVO.numero}"
                                  styleClass="negrito"/>

                    <h:outputText value="Data:"/>
                    <h:outputText value="#{ajusteProcessoCompraControlador.ajusteVo.movimentoVO.data}"
                                  styleClass="negrito">
                        <f:convertDateTime type="date"/>
                    </h:outputText>

                    <h:outputText value="Descrição:"/>
                    <h:outputText value="#{ajusteProcessoCompraControlador.ajusteVo.movimentoVO.descricao}"
                                  styleClass="negrito"/>
                </h:panelGrid>

                <div class="alinhamentoCentralizado mtop10">
                    <p:commandButton value="Confirmar"
                                     icon="ui-icon-check"
                                     onclick="aguarde.show();"
                                     oncomplete="aguarde.hide();"
                                     title="Clique para confirmar o movimento de origem."
                                     actionListener="#{ajusteProcessoCompraControlador.confirmarMovimentoOrigemSubstituicaoObjetoCompra()}"
                                     update=":Formulario:panelPrincipal"
                                     process=":form-dlg-mov @this"
                                     styleClass="prioritario mtop05"/>
                </div>
            </h:form>
        </p:dialog>

    </ui:define>
</ui:composition>
</html>
