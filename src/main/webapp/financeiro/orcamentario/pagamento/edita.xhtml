<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PT"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:fc="http://java.sun.com/jsf/composite/components"
      xmlns:co="http://java.sun.com/jsf/composite/components/contabil"
      xmlns:p="http://primefaces.org/ui"
>
<ui:composition template="/corpo.xhtml">
    <ui:define name="body">

        <h:form id="Formulario">
            <p:remoteCommand name="setaNulo"
                             actionListener="#{pagamentoControlador.setaNull()}"
                             update=":Formulario:tabView:contaExtraorcamentariax :Formulario:tabView:classeRentecao"/>

            <p:remoteCommand name="limparContaFinanceira"
                             process="@this"
                             update=":Formulario:tabView:autoCompleteContaFinanceira:detalhes :Formulario:tabView:panelIntegracaoBancaria">
                <f:setPropertyActionListener value="#{null}"
                                             target="#{pagamentoControlador.contaBancariaEntidade}"/>

                <f:setPropertyActionListener value="#{null}"
                                             target="#{pagamentoControlador.selecionado.subConta}"/>
            </p:remoteCommand>


            <p:remoteCommand name="limparClassePessoa"
                             process="@this"
                             update=":Formulario:tabView:classeRentecao">
                <f:setPropertyActionListener value="#{null}"
                                             target="#{pagamentoControlador.retencaoPgto.pessoa}"/>

                <f:setPropertyActionListener value="#{null}"
                                             target="#{pagamentoControlador.retencaoPgto.classeCredor}"/>
            </p:remoteCommand>

            <p:remoteCommand name="renderizaPanelLiquidacao"
                             process="@this"
                             update=":Formulario:tabView:panelInformacoes :Formulario:tabView:panelInformacoes2
                         :Formulario:tabView:evento :Formulario:tabView:valor :Formulario:tabView:complementoHistorico">
                <f:setPropertyActionListener value="#{null}"
                                             target="#{pagamentoControlador.selecionado.liquidacao}"/>

                <f:setPropertyActionListener value="#{null}"
                                             target="#{pagamentoControlador.selecionado.eventoContabil}"/>

                <f:setPropertyActionListener value="#{null}"
                                             target="#{pagamentoControlador.selecionado.valor}"/>

                <f:setPropertyActionListener value="#{null}"
                                             target="#{pagamentoControlador.selecionado.complementoHistorico}"/>
            </p:remoteCommand>


            <fc:cabecalhoPretty controlador="#{pagamentoControlador}"
                                origem="#{pagamentoControlador.caminhoPadrao}listar/"/>


            <p:tabView id="tabView" activeIndex="#{pagamentoControlador.indiceAba}" styleClass="mtop05">

                <p:tab id="tabPagto" title="#{pagamentoControlador.tituloPanelPagamento}">
                    <h:panelGrid id="infos" columns="2">
                        <h:outputText value="Número: "/>
                        <p:inputText id="numero"
                                     size="21"
                                     value="#{pagamentoControlador.selecionado.numeroPagamento}"
                                     disabled="true"
                                     title="Número é Gerado automaticamento pelo Sistema ao salvar um Pagamento"
                                     readonly="true">
                            <p:watermark value="Gerado Automaticamente" for="numero"/>
                        </p:inputText>

                        <h:outputText for="previstoPara" value="Previsto Para: "/>
                        <p:calendar title="Data gerada automaticamento pelo sistema."
                                    id="previstoPara"
                                    size="21"
                                    validator="#{pagamentoControlador.validaData}"
                                    disabled="true"
                                    pattern="dd/MM/yyyy"
                                    locale="pt_BR"
                                    navigator="true"
                                    value="#{pagamentoControlador.selecionado.previstoPara}">
                            <p:ajax event="dateSelect" update="@this"/>
                        </p:calendar>


                        <h:outputText value="Data do Pagamento: "
                                      rendered="#{pagamentoControlador.selecionado.dataPagamento ne null}"/>
                        <h:outputText value="#{pagamentoControlador.selecionado.dataPagamento}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoControlador.selecionado.dataPagamento ne null}">
                            <f:convertDateTime type="date"/>
                        </h:outputText>

                        <h:outputText value="Data de Conciliação: "/>
                        <co:data-conciliacao dataConciliacao="#{pagamentoControlador.selecionado.dataConciliacao}"/>

                        <h:outputText value="Situação: "/>
                        <h:outputText value="#{pagamentoControlador.selecionado.status.descricao}"
                                      styleClass="negrito"/>

                        <h:outputText value="Unidade Organizacional: "/>
                        <fc:codigo-descricao-hierarquia
                            unidadeOrganizacional="#{pagamentoControlador.selecionado.unidadeOrganizacional}"
                            tipoHierarquia="ORCAMENTARIA"
                            dataMovimento="#{pagamentoControlador.selecionado.dataRegistro}"/>

                        <fc:outputLabelObrigatorio value="Evento Contábil: "/>
                        <h:panelGroup id="evento">
                            <h:panelGrid columns="2" cellspacing="0" cellpadding="0">
                                <co:visualizarEventoContabil evento="#{pagamentoControlador.selecionado.eventoContabil}"
                                                             parametroEvento="#{pagamentoControlador.getParametroEvento()}"/>

                            </h:panelGrid>

                        </h:panelGroup>

                        <fc:outputLabelObrigatorio for="liquidacao"
                                                   value="#{pagamentoControlador.tituloLiquidacao}: "/>
                        <h:panelGroup>
                            <p:autoComplete queryDelay="1000" id="liquidacao"
                                            size="70"
                                            title="Selecione uma #{pagamentoControlador.tituloLiquidacao} filtrando por unidade orçamentária."
                                            styleClass="mrig05"
                                            completeMethod="#{pagamentoControlador.completaLiquidacao}"
                                            converter="#{pagamentoControlador.converterLiquidacao}"
                                            disabled="#{pagamentoControlador.verificaEdicao}"
                                            value="#{pagamentoControlador.selecionado.liquidacao}"
                                            maxResults="10"
                                            var="li"
                                            itemValue="#{li.id}"
                                            itemLabel="#{li}"
                                            onkeyup="if(keyUpCampoVazio(this)){renderizaPanelLiquidacao();}">
                                <p:ajax event="itemSelect"
                                        update=":Formulario:tabView:panelInformacoes :Formulario:tabView:panelInformacoes2 :Formulario:tabView:panelInformacoes3 :Formulario:tabView:complementoHistorico
                                                :Formulario:tabView:evento :Formulario:tabView:valor :Formulario:tabView:contaExtraorcamentariax :Formulario:tabView:tipoContaExtra
                                                :Formulario:tabView:gridValorRetencao :Formulario:tabView:tableRetencoes"
                                        process="@this"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        listener="#{pagamentoControlador.setaLiquidacao}"/>
                            </p:autoComplete>

                            <p:commandButton styleClass="botao_azul icone_branco mrig05"
                                             update=":Formulario-dialog:panelDialogLiquidacao"
                                             onstart="aguarde.show()"
                                             oncomplete="dialog.show();aguarde.hide()"
                                             icon="ui-icon-search"
                                             title="clique para selecionar uma Liquidação"
                                             disabled="#{pagamentoControlador.verificaEdicao}"/>
                        </h:panelGroup>
                    </h:panelGrid>

                    <p:outputPanel id="panelInformacoes">


                        <p:panel rendered="#{pagamentoControlador.selecionado.liquidacao ne null}"
                                 styleClass="mtop05 semBorda">

                            <co:titulo-panel titulo="#{pagamentoControlador.tituloEmpenho}"
                                             actionListener="#{utilBeanContabil.redirecionarParaEmpenho(pagamentoControlador.selecionado.liquidacao.empenho)}"
                                             navegavel="true"/>

                            <h:panelGrid columns="2" cellpadding="2">
                                <h:outputText value="Número: "/>
                                <h:outputText value="#{pagamentoControlador.selecionado.liquidacao.empenho.numero}"
                                              styleClass="negrito"/>

                                <h:outputText value="Data: "/>
                                <h:outputText value="#{pagamentoControlador.selecionado.liquidacao.empenho.dataEmpenho}"
                                              styleClass="negrito">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </h:outputText>

                                <h:outputText value="Categoria Orçamentária: "/>
                                <h:outputText
                                    value="#{pagamentoControlador.selecionado.liquidacao.empenho.categoriaOrcamentaria.descricao}"
                                    styleClass="negrito"/>

                                <h:outputText value="Tipo do Empenho: "/>
                                <h:outputText
                                    value="#{pagamentoControlador.selecionado.liquidacao.empenho.tipoEmpenho.descricao}"
                                    styleClass="negrito"/>

                                <h:outputText value="Tipo de Resto Processados: "
                                              rendered="#{!pagamentoControlador.categoriaOrcamentariaPagamento}"/>
                                <h:outputText
                                    value="#{pagamentoControlador.selecionado.liquidacao.empenho.tipoRestosProcessados.descricao}"
                                    rendered="#{!pagamentoControlador.categoriaOrcamentariaPagamento}"
                                    styleClass="negrito"/>

                                <h:outputText value="Tipo de Resto Inscritos: "
                                              rendered="#{!pagamentoControlador.categoriaOrcamentariaPagamento}"/>
                                <h:outputText
                                    value="#{pagamentoControlador.selecionado.liquidacao.empenho.tipoRestosInscritos.descricao}"
                                    rendered="#{!pagamentoControlador.categoriaOrcamentariaPagamento}"
                                    styleClass="negrito"/>

                                <h:outputText value="Código Reduzido: "/>
                                <h:outputText
                                    value="#{pagamentoControlador.selecionado.liquidacao.empenho.despesaORC.codigoReduzido}"
                                    styleClass="negrito"/>

                                <h:outputText value="Órgão: "/>
                                <h:outputText value="#{pagamentoControlador.hoOrgao}"
                                              styleClass="negrito"/>

                                <h:outputText value="Unidade: "/>
                                <h:outputText value="#{pagamentoControlador.hoUnidade}"
                                              styleClass="negrito"/>

                                <h:outputText value="Funcional: "/>
                                <h:outputText value="#{pagamentoControlador.funionalStr}"
                                              styleClass="negrito"/>

                                <h:outputText value="Conta de Despesa: "/>
                                <h:outputText value="#{pagamentoControlador.conta}"
                                              styleClass="negrito"/>

                                <h:outputText value="Tipo de Despesa: "/>
                                <h:outputText
                                    value="#{pagamentoControlador.selecionado.liquidacao.empenho.tipoContaDespesa.toString()}"
                                    styleClass="negrito"/>

                                <h:outputText value="Fonte de Recursos: "/>
                                <h:outputText
                                    value="#{pagamentoControlador.selecionado.liquidacao.empenho.fonteDespesaORC.provisaoPPAFonte.destinacaoDeRecursos}"
                                    styleClass="negrito"/>

                                <h:outputText value="Conta de Destinação de Recurso: "/>
                                <h:outputText
                                    value="#{pagamentoControlador.selecionado.liquidacao.empenho.fonteDespesaORC.descricaoContaDeDestinacao}"
                                    styleClass="negrito"/>

                                <h:outputText value="Funcional Programática: "/>
                                <h:outputText
                                    value="#{pagamentoControlador.selecionado.liquidacao.empenho.fonteDespesaORC.funcionalProgramatica}"
                                    styleClass="negrito"/>

                                <h:outputText value="Sub-Tipo de Despesa: "/>
                                <h:outputText
                                    value="#{pagamentoControlador.selecionado.liquidacao.empenho.subTipoDespesa.descricao}"
                                    styleClass="negrito"/>

                                <h:outputText value="Pessoa: "/>
                                <h:outputText value="#{pagamentoControlador.selecionado.liquidacao.empenho.fornecedor}"
                                              styleClass="negrito"/>

                                <h:outputText value="Classe: "/>
                                <h:outputText
                                    value="#{pagamentoControlador.selecionado.liquidacao.empenho.classeCredor}"
                                    styleClass="negrito"/>

                                <h:outputText value="Histórico: "/>
                                <h:outputText
                                    value="#{pagamentoControlador.selecionado.liquidacao.empenho.complementoHistorico}"
                                    styleClass="negrito"/>

                                <h:outputText value="Valor: "/>
                                <h:outputText value="#{pagamentoControlador.selecionado.liquidacao.empenho.valor}"
                                              converter="#{pagamentoControlador.moneyConverter}"
                                              styleClass="negrito"/>

                                <h:outputText value="Saldo: "/>
                                <h:outputText value="#{pagamentoControlador.selecionado.liquidacao.empenho.saldo}"
                                              converter="#{pagamentoControlador.moneyConverter}"
                                              styleClass="negrito"/>
                            </h:panelGrid>
                            <hr class="mtop05"/>
                        </p:panel>

                        <p:panel styleClass="semBorda"
                                 rendered="#{pagamentoControlador.selecionado.liquidacao ne null}">

                            <co:titulo-panel titulo="#{pagamentoControlador.tituloLiquidacao}"
                                             navegavel="true"
                                             actionListener="#{utilBeanContabil.redirecionarParaLiquidacao(pagamentoControlador.selecionado.liquidacao)}"/>

                            <h:panelGrid columns="2">
                                <h:outputText value="Número: " style="margin-right: 80px"/>
                                <h:outputText value="#{pagamentoControlador.selecionado.liquidacao.numero}"
                                              styleClass="negrito"/>

                                <h:outputText value="Data: "/>
                                <h:outputText value="#{pagamentoControlador.selecionado.liquidacao.dataLiquidacao}"
                                              styleClass="negrito">
                                    <f:convertDateTime type="date"/>
                                </h:outputText>

                                <h:outputText value="Unidade Organizacional: "/>
                                <h:outputText
                                    value="#{pagamentoControlador.selecionado.liquidacao.unidadeOrganizacional}"
                                    styleClass="negrito"/>

                                <h:outputText value="Histórico: "/>
                                <h:outputText value="#{pagamentoControlador.selecionado.liquidacao.complemento}"
                                              styleClass="negrito"/>

                                <h:outputText value="Valor: "/>
                                <h:outputText value="#{pagamentoControlador.selecionado.liquidacao.valor}"
                                              converter="#{pagamentoControlador.moneyConverter}"
                                              styleClass="negrito"/>

                                <h:outputText value="Saldo: "/>
                                <h:outputText id="saldo" converter="#{pagamentoControlador.moneyConverter}"
                                              styleClass="negrito"
                                              value="#{pagamentoControlador.saldoLiquidacao}"/>
                            </h:panelGrid>
                            <hr class="mtop05"/>
                        </p:panel>
                    </p:outputPanel>

                    <p:outputPanel id="panelInformacoes2">
                        <p:panel id="panelIntegracaoBancaria"
                                 styleClass="semBorda mbot02"
                                 rendered="#{pagamentoControlador.selecionado.liquidacao ne null}">

                            <co:titulo-panel titulo="Integração Bancária"/>
                            <h:panelGrid columns="2">
                                <h:outputText value="Conta Bancária: "/>
                                <co:auto-complete-conta-bancaria
                                    id="autoCompleteContaBancaria"
                                    mostrarTipoConta="true"
                                    contaBancaria="#{pagamentoControlador.contaBancariaEntidade}"
                                    disabled="#{pagamentoControlador.verificaEdicao}"
                                    unidadeOrganizacional="#{pagamentoControlador.selecionado.unidadeOrganizacional}"
                                    keyUp="if(keyUpCampoVazio(this)){limparContaFinanceira();}"
                                    processItemSelect="@this"
                                    updateItemSelect=":Formulario:tabView:autoCompleteContaFinanceira :Formulario:tabView:panelIntegracaoBancaria"/>


                                <fc:outputLabelObrigatorio value="Conta Financeira: "/>
                                <co:auto-complete-conta-financeira
                                    id="autoCompleteContaFinanceira"
                                    contaFinanceira="#{pagamentoControlador.selecionado.subConta}"
                                    contaBancaria="#{pagamentoControlador.contaBancariaEntidade}"
                                    dividaPublica="#{pagamentoControlador.selecionado.liquidacao.empenho.dividaPublica}"
                                    disabled="#{pagamentoControlador.verificaEdicao}"
                                    unidadeOrganizacional="#{pagamentoControlador.selecionado.unidadeOrganizacional}"
                                    contaDeDestinacao="#{pagamentoControlador.contaDeDestinacaoEmpenho}"
                                    processItemSelect="@this"
                                    updateItemSelect=":Formulario:tabView:autoCompleteContaFinanceira:detalhes :Formulario:tabView:gridRet :Formulario:tabView:tableRetencoes
                    :Formulario:tabView:autoCompleteContaBancaria:detalhes :Formulario:tabView:contaBancaria :Formulario:tabView:tipoOperacao
                    :Formulario:tabView:idLabelCodigoCO :Formulario:tabView:outCodigoCO"
                                    listenerItemSelect="#{pagamentoControlador.listenerSetaValores()}"/>

                                <h:outputText value="Conta de Destinação de  Recursos:"/>
                                <h:outputText value="#{pagamentoControlador.contaDeDestinacaoEmpenho}"
                                              styleClass="negrito"/>

                                <h:panelGrid id="idLabelCodigoCO" cellpadding="0" cellspacing="0">
                                    <h:outputText value="Código CO: "
                                                  rendered="#{pagamentoControlador.selecionado.subConta ne null
                                                  and pagamentoControlador.selecionado.subConta.obrigarCodigoCO
                                                  and pagamentoControlador.selecionado.liquidacao.empenho.codigoCO ne null}"/>

                                    <fc:outputLabelObrigatorio value="Código CO: "
                                                               rendered="#{pagamentoControlador.selecionado.subConta ne null
                                                               and pagamentoControlador.selecionado.subConta.obrigarCodigoCO
                                                               and pagamentoControlador.selecionado.liquidacao.empenho.codigoCO eq null}"/>
                                </h:panelGrid>
                                <h:panelGrid id="outCodigoCO" cellpadding="0" cellspacing="0">
                                    <h:outputText
                                        value="#{pagamentoControlador.selecionado.liquidacao.empenho.codigoCO}"
                                        rendered="#{pagamentoControlador.selecionado.subConta ne null
                                        and pagamentoControlador.selecionado.subConta.obrigarCodigoCO
                                        and pagamentoControlador.selecionado.liquidacao.empenho.codigoCO ne null}"
                                        styleClass="negrito"/>

                                    <h:panelGrid columns="2" cellpadding="0" cellspacing="0" id="autoCodigoCO"
                                                 rendered="#{pagamentoControlador.selecionado.subConta ne null
                                                        and pagamentoControlador.selecionado.subConta.obrigarCodigoCO
                                                        and pagamentoControlador.selecionado.liquidacao.empenho.codigoCO eq null}">
                                        <p:autoComplete queryDelay="1000"
                                                        size="70"
                                                        title="Informe o Código CO"
                                                        value="#{pagamentoControlador.codigoCO}"
                                                        completeMethod="#{pagamentoControlador.completarCodigosCOs}"
                                                        converter="#{codigoCOControlador.converterGenerico}"
                                                        maxResults="10"
                                                        forceSelection="true"
                                                        var="cco"
                                                        itemValue="#{cco.id}"
                                                        itemLabel="#{cco}">
                                            <p:ajax event="itemSelect" process="@this"/>
                                        </p:autoComplete>
                                        <co:botao_informacao styleClass="mlef05"
                                                             descricao="Busca os Códigos COs cadastrados na fonte de recursos do empenho."/>
                                    </h:panelGrid>
                                </h:panelGrid>

                                <h:outputText value="Conta Bancária da Pessoa: "/>
                                <h:panelGrid columns="4" cellpadding="0" id="contaBancaria">

                                    <p:inputText value="#{pagamentoControlador.selecionado.contaPgto}"
                                                 size="60"
                                                 disabled="true"
                                                 rendered="#{pagamentoControlador.selecionado.contaPgto ne null}"
                                                 styleClass="negrito"
                                                 style="margin-left: -3px"
                                                 id="inputContaBancaria2"/>

                                    <p:commandButton icon="ui-icon-search"
                                                     id="btnVisualizarContas"
                                                     update=":Formulario-dialogContas"
                                                     onclick="aguarde.show()"
                                                     process="@this"
                                                     styleClass="mrig03 mlef03"
                                                     oncomplete="dialogContas.show();aguarde.hide()"
                                                     disabled="#{pagamentoControlador.selecionado.liquidacao eq null or pagamentoControlador.habilitaEditar}"
                                                     title="Clique para visualizar as contas bancárias do credor (pessoa) selecionado no empenho"/>

                                    <p:commandButton icon="ui-icon-trash"
                                                     id="btnRemoverConta"
                                                     update=":Formulario:tabView:panelInformacoes2"
                                                     process="@this"
                                                     onstart="aguarde.show()"
                                                     oncomplete="aguarde.hide()"
                                                     onkeyup="keyUpLimparEsconderDesabilidarCampo(this, 'panelBanco', false, true, false)"
                                                     actionListener="#{pagamentoControlador.removeContaBancariaFornecedor}"
                                                     disabled="#{pagamentoControlador.selecionado.liquidacao eq null or pagamentoControlador.selecionado.contaPgto eq null or pagamentoControlador.habilitaEditar}"
                                                     onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                     title="Clique para remover a conta bancária do credor (pessoa) selecionado no empenho."/>
                                </h:panelGrid>

                                <fc:outputLabelObrigatorio value="Finalidade do Pagamento: "/>
                                <h:panelGrid columns="3">
                                    <p:autoComplete queryDelay="1000"
                                                    id="finalidadePag"
                                                    value="#{pagamentoControlador.selecionado.finalidadePagamento}"
                                                    completeMethod="#{finalidadePagamentoControlador.completaFinalidadesPorSituacao}"
                                                    converter="#{finalidadePagamentoControlador.converterGenerico}"
                                                    disabled="#{pagamentoControlador.habilitaEditar}"
                                                    var="pag"
                                                    itemLabel="#{pag}"
                                                    maxResults="10"
                                                    itemValue="#{pag.id}"
                                                    style="margin-left: -4px"
                                                    size="70"
                                                    title="Selecione uma Finalidade do Pagamento.">
                                        <p:ajax event="itemSelect" process="@this"/>
                                    </p:autoComplete>

                                    <p:commandButton icon="ui-icon-search"
                                                     id="btnVisualizarFinalidade"
                                                     update=":Formulario-dialogFinalidade"
                                                     process="@this"
                                                     onclick="dialogFinalidade.show();"
                                                     disabled="#{pagamentoControlador.selecionado.liquidacao eq null or pagamentoControlador.habilitaEditar}"
                                                     title="Clique para visualizar as Finalidades de Pagamento"/>

                                    <p:commandButton icon="ui-icon-circle-plus"
                                                     disabled="#{pagamentoControlador.habilitaEditar}"
                                                     onclick="window.open('#{request.contextPath}/finalidade-pagamento/novo/?sessao=true', '_blank')"
                                                     update="@this"
                                                     title="Clique para inserir um novo registro."
                                                     process="@this"/>
                                </h:panelGrid>

                                <fc:outputLabelObrigatorio value="Tipo de Operação: "/>
                                <h:selectOneMenu id="tipoOperacao"
                                                 value="#{pagamentoControlador.selecionado.tipoOperacaoPagto}"
                                                 disabled="#{pagamentoControlador.habilitaEditar}"
                                                 title="selecione um Tipo de Operação">
                                    <f:selectItems value="#{pagamentoControlador.tipoOperacao}"/>
                                    <p:ajax event="valueChange"
                                            update=":Formulario:tabView:panelInformacoes2"
                                            process=":Formulario:tabView:panelInformacoes2"
                                            onstart="aguarde.show();"
                                            oncomplete="aguarde.hide();"/>
                                </h:selectOneMenu>

                                <fc:outputLabelObrigatorio value="Tipo de Documento: "/>
                                <h:selectOneMenu id="tipoDoc"
                                                 value="#{pagamentoControlador.selecionado.tipoDocPagto}"
                                                 disabled="#{pagamentoControlador.habilitaEditar or pagamentoControlador.desabilitarTipoDocumentoParaGuias()}"
                                                 title="selecione um tipo de documento do pagamento">
                                    <f:selectItems value="#{pagamentoControlador.tiposDeDocumento}"/>
                                    <p:ajax update=":Formulario:tabView:tabGuias :Formulario:tabView:tabConvenio :Formulario:tabView:guiaDarfSimples
                                                    :Formulario:tabView:guiaGPS :Formulario:tabView:guiaDarf :Formulario:tabView:guiaGRU :Formulario:tabView:msgGuias :Formulario:tabView:valoresPagamento"
                                            onstart="aguarde.show()"
                                            oncomplete="aguarde.hide()"
                                            process="@this"
                                            listener="#{pagamentoControlador.novaGuiaPagamento}"
                                            event="change"/>
                                </h:selectOneMenu>

                                <h:outputText value="Número do Documento: "
                                              rendered="#{pagamentoControlador.selecionado.numDocumento ne null}"/>
                                <p:inputText id="numDoc" size="20"
                                             value="#{pagamentoControlador.selecionado.numDocumento}"
                                             disabled="true"
                                             rendered="#{pagamentoControlador.selecionado.numDocumento ne null}"
                                             title="Informe o número do documento">
                                    <f:convertNumber integerOnly="true"/>
                                </p:inputText>

                                <h:outputText value="Valor Final: "/>
                                <h:outputText id="valPagto"
                                              value="#{pagamentoControlador.selecionado.valorFinal}"
                                              converter="#{pagamentoControlador.moneyConverter}"
                                              styleClass="negrito"
                                />

                                <h:outputText value="Saldo Final: "
                                              rendered="#{pagamentoControlador.selecionado.id ne null}"/>
                                <h:outputText id="saldoFinal"
                                              rendered="#{pagamentoControlador.selecionado.id ne null}"
                                              value="#{pagamentoControlador.selecionado.saldoFinal}"
                                              converter="#{pagamentoControlador.moneyConverter}"
                                              styleClass="negrito"
                                />
                            </h:panelGrid>
                            <hr class="mtop05"/>
                        </p:panel>
                    </p:outputPanel>

                    <p:outputPanel id="panelInformacoes3">
                        <p:panel id="panelDesdobramento"
                                 styleClass="semBorda mbot02"
                                 rendered="#{pagamentoControlador.selecionado.liquidacao ne null}">
                            <co:titulo-panel titulo="Detalhamento"/>
                            <h:panelGrid columns="2" rendered="#{pagamentoControlador.isMostrarDesdobramento()}">

                                <fc:outputLabelObrigatorio value="Detalhamento: "
                                                           style="#{pagamentoControlador.alinhaCampos}"/>
                                <h:panelGroup>
                                    <p:autoComplete queryDelay="1000"
                                                    id="contaDesdobramento"
                                                    size="70"
                                                    title="Informe a Conta de Despesa Desdobrada filtrando pela liquidação selecionada."
                                                    completeMethod="#{pagamentoControlador.buscarDesdobramento}"
                                                    converter="#{pagamentoControlador.converterDesdobramentoLiquidacao}"
                                                    value="#{pagamentoControlador.desdobramento.desdobramento}"
                                                    disabled="#{pagamentoControlador.verificaEdicao}"
                                                    var="contaDetalhamento"
                                                    panelStyle="max-height: 250px; max-width: 700px"
                                                    dropdown="true"
                                                    maxResults="10"
                                                    itemValue="#{contaDetalhamento.id}"
                                                    itemLabel="#{contaDetalhamento.toStringDesdobramento()}">
                                        <p:ajax event="itemSelect"
                                                update=":Formulario:tabView:panelInformacoes3"
                                                process=":Formulario:tabView:panelInformacoes3"
                                                onstart="aguarde.show();"
                                                oncomplete="aguarde.hide();"
                                                listener="#{pagamentoControlador.atribuirValorSaldoDetalhamento}"/>
                                    </p:autoComplete>

                                    <p:outputPanel id="dadosDesdLiquidacao">
                                        <fc:visualizarCampos
                                            objeto="#{pagamentoControlador.desdobramento.desdobramento}"
                                            rendered="#{pagamentoControlador.desdobramento.desdobramento ne null}"/>
                                    </p:outputPanel>
                                </h:panelGroup>

                                <fc:outputLabelObrigatorio value="Valor: "/>
                                <fc:inputMoeda value="#{pagamentoControlador.desdobramento.valor}"
                                               id="valorDesdobramento"
                                               disable="#{pagamentoControlador.verificaEdicao}"
                                               title="Informe o Valor da Conta de Despesa"/>
                            </h:panelGrid>

                            <p:commandButton id="btnAddDetalhamento"
                                             icon="ui-icon-check"
                                             disabled="#{pagamentoControlador.verificaEdicao}"
                                             onstart="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             styleClass="mtop05 padrao"
                                             actionListener="#{pagamentoControlador.adicionarDetalhamento()}"
                                             rendered="#{pagamentoControlador.isMostrarDesdobramento()}"
                                             title="Clique para adicionar uma Conta de Despesa Desdobrada"
                                             update=":Formulario:tabView:panelInformacoes3 :Formulario:tabView:panelInformacoes2 :Formulario:tabView:valor :Formulario:tabView:valorRetencoes :Formulario:tabView:saldoPagamento
                                                            :Formulario:tabView:tabGuias :Formulario:tabView:guiaDarfSimples
                                                            :Formulario:tabView:guiaGPS :Formulario:tabView:guiaDarf :Formulario:tabView:valoresPagamento"
                                             value="Confirmar"/>


                            <p:dataTable id="tabelaDesdobramentos"
                                         value="#{pagamentoControlador.selecionado.desdobramentos}"
                                         var="des"
                                         styleClass="mtop03"
                                         rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                         paginator="true"
                                         rows="10"
                                         paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>DETALHAMENTOS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                         emptyMessage="Não foram localizados registros para serem apresentados."
                                         rowIndexVar="rowlx">
                                <p:column headerText="Ação" style="width: 8%;text-align: center">
                                    <p:commandButton icon="ui-icon-pencil"
                                                     onstart="aguarde.show()"
                                                     oncomplete="aguarde.hide()"
                                                     styleClass="mrig05"
                                                     disabled="#{pagamentoControlador.verificaEdicao}"
                                                     actionListener="#{pagamentoControlador.editarDetalhamento(des)}"
                                                     title="Clique para alterar este registro."
                                                     id="btEditarContaDesdobrada"
                                                     process="@this"
                                                     update=":Formulario:tabView:panelInformacoes3 :Formulario:tabView:panelInformacoes2 :Formulario:tabView:valor :Formulario:tabView:valorRetencoes :Formulario:tabView:saldoPagamento
                                                            :Formulario:tabView:tabGuias :Formulario:tabView:guiaDarfSimples
                                                            :Formulario:tabView:guiaGPS :Formulario:tabView:guiaDarf :Formulario:tabView:valoresPagamento"/>

                                    <p:commandButton id="btnExcluirConta"
                                                     update=":Formulario:tabView:panelInformacoes3 :Formulario:tabView:panelInformacoes2 :Formulario:tabView:valor :Formulario:tabView:valorRetencoes :Formulario:tabView:saldoPagamento
                                                            :Formulario:tabView:tabGuias :Formulario:tabView:guiaDarfSimples
                                                            :Formulario:tabView:guiaGPS :Formulario:tabView:guiaDarf :Formulario:tabView:valoresPagamento"
                                                     process="@this"
                                                     actionListener="#{pagamentoControlador.removerDetalhamento(des)}"
                                                     title="Clique para remover este registro."
                                                     icon="ui-icon-trash"
                                                     onstart="aguarde.show()"
                                                     oncomplete="aguarde.hide()"
                                                     onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                     disabled="#{pagamentoControlador.verificaEdicao}"/>
                                </p:column>
                                <p:column headerText="Conta de Despesa" styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{des.desdobramento.toStringDesdobramento()}"/>
                                </p:column>
                                <p:column headerText="Tipo de Conta de Despesa" styleClass="alinhamentoEsquerda">
                                    <h:outputText
                                        value="#{des.desdobramento.conta.tipoContaDespesa.toString()}"/>
                                </p:column>
                                <p:column headerText="Saldo em Liquidação(R$)" styleClass="alinhamentoDireita">
                                    <h:outputText value="#{des.desdobramento.saldo}">
                                        <f:convertNumber type="currency"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Valor (R$)" styleClass="alinhamentoDireita">
                                    <h:outputText value="#{des.valor}">
                                        <f:convertNumber type="currency"/>
                                    </h:outputText>
                                    <f:facet name="footer">
                                        <div align="right">
                                            <h:outputText id="totalDoctos"
                                                          value="#{pagamentoControlador.selecionado.totalDesdobramentos}"
                                                          converter="moneyConverter"
                                                          readonly="true"/>
                                        </div>
                                    </f:facet>
                                </p:column>
                                <p:column headerText="Saldo em Pagamento(R$)" styleClass="alinhamentoDireita">
                                    <h:outputText value="#{des.saldo}">
                                        <f:convertNumber type="currency"/>
                                    </h:outputText>
                                    <f:facet name="footer">
                                        <div align="right">
                                            <h:outputText
                                                value="#{pagamentoControlador.selecionado.saldoTotalDesdobramentos}"
                                                converter="moneyConverter"
                                                readonly="true"/>
                                        </div>
                                    </f:facet>
                                </p:column>
                            </p:dataTable>
                            <hr class="mtop05"/>
                        </p:panel>
                    </p:outputPanel>

                    <h:panelGrid id="infos2" columns="2" styleClass="mrig05">
                        <h:outputText value="Histórico Padrão: " style="#{pagamentoControlador.alinhaCampos}"/>
                        <h:panelGrid columns="2">
                            <p:autoComplete queryDelay="1000" id="historicoContabil"
                                            size="70"
                                            title="Informe o Histórico Padrão"
                                            completeMethod="#{pagamentoControlador.completaHistoricoContabil}"
                                            converter="#{pagamentoControlador.converterHistoricoContabil}"
                                            value="#{pagamentoControlador.selecionado.historicoContabil}"
                                            disabled="#{pagamentoControlador.verificaEdicao}"
                                            forceSelection="true"
                                            var="hc"
                                            itemValue="#{hc.id}"
                                            itemLabel="#{hc.toStringAutoComplete()}"
                                            maxResults="10">
                                <p:ajax event="itemSelect" update="complementoHistorico"
                                        listener="#{pagamentoControlador.copiarHistoricoUsuario()}"/>
                            </p:autoComplete>

                            <fc:novoParente destino="#{historicoContabilControlador.caminhoPadrao}novo/"
                                            origem="#{pagamentoControlador.caminhoPadrao}novo/"
                                            disabled="#{pagamentoControlador.verificaEdicao}"
                                            rendered="#{pagamentoControlador.selecionado.id eq null}"
                                            selecionado="#{pagamentoControlador.selecionado}"/>

                            <fc:novoParente destino="#{historicoContabilControlador.caminhoPadrao}novo/"
                                            origem="#{pagamentoControlador.caminhoPadrao}editar/#{pagamentoControlador.id}/"
                                            disabled="#{pagamentoControlador.verificaEdicao}"
                                            rendered="#{pagamentoControlador.selecionado.id ne null}"
                                            selecionado="#{pagamentoControlador.selecionado}"/>
                        </h:panelGrid>

                        <fc:outputLabelObrigatorio for="complementoHistorico" value="Histórico: "/>
                        <h:panelGrid columns="2">
                            <p:inputTextarea id="complementoHistorico"
                                             title="Informe o Histórico"
                                             value="#{pagamentoControlador.selecionado.complementoHistorico}"
                                             disabled="#{pagamentoControlador.habilitaEditar}"
                                             style="width: 500px"
                                             cols="70"
                                             maxlength="3000"
                                             autoResize="true" counterTemplate="{0} Caracteres Restantes."
                                             counter="counter"/>
                            <h:outputText id="counter"/>
                        </h:panelGrid>

                        <fc:outputLabelObrigatorio for="valor" value="Valor: "/>
                        <h:panelGrid>
                            <p:inputText title="Informe o valor do Pagamento"
                                         id="valor"
                                         onkeydown="mascaraMonetaria(this);"
                                         style="text-align: right"
                                         converter="#{pagamentoControlador.moneyConverter}"
                                         disabled="true"
                                         value="#{pagamentoControlador.selecionado.valor}" maxlength="20" size="20">
                                <p:ajax event="blur"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        update="valor  valPagto :Formulario:tabView:tabGuias :Formulario:tabView:guiaDarfSimples
                                         :Formulario:tabView:guiaGPS :Formulario:tabView:guiaDarf :Formulario:tabView:valoresPagamento"
                                        listener="#{pagamentoControlador.setaSaldo}"/>
                            </p:inputText>
                        </h:panelGrid>


                        <h:outputText value="Valor das Retenções: "/>
                        <h:outputText value="#{pagamentoControlador.valorRetencoes}"
                                      styleClass="negrito"
                                      id="valorRetencoes"
                                      converter="moneyConverter"/>

                        <h:outputText value="Saldo: " rendered="#{pagamentoControlador.selecionado.id ne null}"/>
                        <h:outputText value="#{pagamentoControlador.selecionado.saldo}"
                                      styleClass="negrito"
                                      id="saldoPagamento"
                                      converter="moneyConverter"
                                      rendered="#{pagamentoControlador.selecionado.id ne null}"/>
                    </h:panelGrid>
                </p:tab>

                <p:tab title="Estorno de #{pagamentoControlador.tituloPanelPagamento}"
                       rendered="#{pagamentoControlador.visualizarEstornos}">
                    <p:dataTable id="tabEstPagtos"
                                 var="estP"
                                 value="#{pagamentoControlador.estornoPagamentos}"
                                 rowIndexVar="rowIx"
                                 styleClass="mtop10"
                                 paginator="true"
                                 emptyMessage="Não foram localizados registros para serem apresentados"
                                 rows="10"
                                 paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10 maiuscula'>ESTORNOS DE #{pagamentoControlador.tituloPanelPagamento}&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                 rowsPerPageTemplate="10,25,50,100">
                        <p:column headerText="Ver" styleClass="alinhamentoCentralizado" style="width: 5px">
                            <fc:botaoTargetBlank
                                actionListener="#{utilBeanContabil.redirecionarParaPagamentoEstorno(estP)}"
                                icon="ui-icon-eye"
                                style="width: 25px!important;min-width: 25px!important;height: 25px!important;min-height: 25px!important;"
                                title="Clique para visualizar este registro."/>
                        </p:column>
                        <p:column headerText="Número" styleClass="alinhamentoDireita">
                            <h:outputText value="#{estP.numero}"/>
                        </p:column>
                        <p:column headerText="Data" styleClass="alinhamentoCentralizado">
                            <h:outputText value="#{estP.dataEstorno}">
                                <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Nº do Pagamento" styleClass="alinhamentoDireita">
                            <h:outputText value="#{estP.pagamento.numeroPagamento}"/>
                        </p:column>
                        <p:column headerText="Usuário" styleClass="alinhamentoDireita">
                            <h:outputText value="#{estP.usuarioSistema.nome}"/>
                        </p:column>
                        <p:column headerText="Valor (R$)" style="text-align: right">
                            <h:outputText value="#{estP.valor}" converter="#{pagamentoControlador.moneyConverter}"/>
                        </p:column>
                        <f:facet name="footer">
                            <div align="right">
                                <h:outputText value="Total: "/>
                                <p:spacer width="5"/>
                                <h:outputText value="#{pagamentoControlador.somaEstornoPagamentos}" id="estPagtos"
                                              size="15"
                                              converter="#{pagamentoControlador.moneyConverter}" readonly="true"/>
                            </div>
                        </f:facet>
                    </p:dataTable>
                </p:tab>

                <p:tab id="tabRet" title="Retenções"
                       disabled="#{pagamentoControlador.selecionado.liquidacao.empenho.classeCredor.tipoClasseCredor eq 'DIVIDA_PUBLICA'}">

                    <h:panelGrid id="gridRet" columns="2">
                        <fc:outputLabelObrigatorio for="contaExtraorcamentariax" value="Conta Extraorçamentária: "/>
                        <p:autoComplete queryDelay="1000"
                                        id="contaExtraorcamentariax"
                                        size="70"
                                        title="Informe a Conta Extraorçamentária do Exercício Logado."
                                        value="#{pagamentoControlador.retencaoPgto.contaExtraorcamentaria}"
                                        converter="#{pagamentoControlador.converterContaExtraorcamentaria}"
                                        completeMethod="#{pagamentoControlador.completaContaExtraorcamentaria}"
                                        validator="#{pagamentoControlador.validaCategoriaContaExtra}"
                                        disabled="#{pagamentoControlador.verificaEdicao}"
                                        var="con"
                                        itemValue="#{con.id}"
                                        itemLabel="#{con}"
                                        maxResults="10">
                            <p:ajax event="itemSelect"
                                    onstart="aguarde.show()"
                                    oncomplete="aguarde.hide()"
                                    update=":Formulario:tabView:tipoContaExtra :Formulario:tabView:idValorBaseCalculo"
                                    process="@this"/>
                        </p:autoComplete>

                        <h:outputText value="Tipo da Conta Extraorçamentária: "/>
                        <h:outputText
                            value="#{pagamentoControlador.retencaoPgto.contaExtraorcamentaria.tipoContaExtraorcamentaria.descricao}"
                            id="tipoContaExtra"
                            styleClass="negrito"/>

                        <h:outputText value="Fonte de Recursos: "/>
                        <h:outputText value="#{pagamentoControlador.retencaoPgto.fonteDeRecursos}"
                                      styleClass="negrito"/>

                        <h:outputText value="Conta Financeira: "/>
                        <h:outputText id="contaFinanceiraRetencao"
                                      styleClass="negrito"
                                      value="#{pagamentoControlador.retencaoPgto.subConta}"/>

                        <fc:outputLabelObrigatorio value="Pessoa: "/>
                        <p:outputPanel id="panelPessoaRetencao">
                            <h:panelGrid columns="2">
                                <p:autoComplete queryDelay="1000" id="pessoa"
                                                size="70"
                                                title="Informe a Pessoa"
                                                value="#{pagamentoControlador.retencaoPgto.pessoa}"
                                                completeMethod="#{pagamentoControlador.completaPessoaRetencao}"
                                                converter="#{pagamentoControlador.converterPessoa}"
                                                disabled="#{pagamentoControlador.verificaEdicao or pagamentoControlador.selecionado.liquidacao eq null}"
                                                maxResults="10"
                                                style="margin-left: -4px"
                                                onkeyup="if(keyUpCampoVazio(this)){limparClassePessoa();}"
                                                var="fo"
                                                itemValue="#{fo.id}"
                                                itemLabel="#{fo.nomeAutoComplete}">
                                    <p:ajax event="itemSelect"
                                            onstart="aguarde.show()"
                                            oncomplete="aguarde.hide()"
                                            listener="#{pagamentoControlador.setarFocoClassePessoaRetencao}"
                                            update=":Formulario:tabView:classeRentecao"
                                            process="@this"/>
                                </p:autoComplete>

                                <p:commandButton icon="ui-icon-search"
                                                 title="Clique para consultar a pessoa."
                                                 onstart="aguarde.show()"
                                                 disabled="#{pagamentoControlador.verificaEdicao}"
                                                 oncomplete="dialogPesquisarPessoa.show();aguarde.hide()"
                                                 update=":FormularioPesquisarPessoa"
                                                 process=":FormularioPesquisarPessoa"/>
                            </h:panelGrid>
                        </p:outputPanel>

                        <fc:outputLabelObrigatorio value="Classe: "/>
                        <p:outputPanel id="classeRentecao">
                            <p:autoComplete queryDelay="1000" size="70"
                                            title="Selecione a classe da pessoa."
                                            id="classePessaoRet"
                                            value="#{pagamentoControlador.retencaoPgto.classeCredor}"
                                            completeMethod="#{pagamentoControlador.completaClasseCredor}"
                                            converter="#{pagamentoControlador.converterClasseCredor}"
                                            disabled="#{pagamentoControlador.verificaEdicao}"
                                            maxResults="10"
                                            var="c"
                                            itemValue="#{c.id}"
                                            itemLabel="#{c}"/>
                        </p:outputPanel>

                        <h:outputText value="Histórico: "/>
                        <h:panelGrid columns="2">
                            <p:inputTextarea id="complementoHistoricox"
                                             title="Informe o Histórico"
                                             disabled="#{pagamentoControlador.verificaEdicao}"
                                             value="#{pagamentoControlador.retencaoPgto.complementoHistorico}"
                                             style="width: 500px; margin-left: -4px"
                                             cols="70"
                                             rows="4"
                                             maxlength="3000"
                                             autoResize="true"
                                             counterTemplate="{0} Caracteres Restantes."
                                             counter="counter1"/>
                            <h:outputText id="counter1"/>
                        </h:panelGrid>

                        <h:outputText value="Valor Base de Cálculo: "/>
                        <h:outputText value="#{pagamentoControlador.getValorBaseCalculo()}"
                                      id="idValorBaseCalculo"
                                      styleClass="negrito" converter="moedaConverter"/>

                        <fc:outputLabelObrigatorio for="valorx" value="Valor: "/>

                        <h:panelGrid columns="3" id="gridValorRetencao">
                            <p:inputText title="Informe o valor da Retenção"
                                         disabled="#{pagamentoControlador.verificaEdicao}"
                                         value="#{pagamentoControlador.retencaoPgto.valor}"
                                         onclick="this.select();"
                                         onblur="mascara(this, mvalor);"
                                         converter="moedaConverter"
                                         id="valorx">
                                <p:ajax event="blur" update=":Formulario:tabView:gridValorRetencao"
                                        listener="#{pagamentoControlador.calcularPorcentagemRetencaoPagamento()}"/>
                            </p:inputText>

                            <h:outputText value="OU" styleClass="negrito"/>

                            <p:inputText value="#{pagamentoControlador.retencaoPgto.porcentagem}"
                                         id="porcentagem"
                                         title="Informe a porcentagem da Retenção"
                                         converter="porcentagemConverter"
                                         disabled="#{pagamentoControlador.verificaEdicao}"
                                         style="text-align: right"
                                         size="10">
                                <p:ajax event="blur" update=":Formulario:tabView:gridValorRetencao"
                                        listener="#{pagamentoControlador.cacularValorRetencao()}"/>
                            </p:inputText>

                        </h:panelGrid>
                    </h:panelGrid>

                    <p:commandButton disabled="#{pagamentoControlador.verificaEdicao}"
                                     title="Clique para adicionar uma retenção na lista."
                                     value="Adicionar"
                                     onclick="aguarde.show()"
                                     oncomplete="aguarde.hide();setaFoco('Formulario:tabView:contaExtraorcamentariax_input')"
                                     actionListener="#{pagamentoControlador.adicionaRetencao()}"
                                     update="tableRetencoes gridRet :Formulario:tabView:valPagto contaFinanceiraRetencao :Formulario:tabView:tabGuias :Formulario:tabView:valorRetencoes
                                            :Formulario:tabView:guiaDarfSimples :Formulario:tabView:guiaGPS :Formulario:tabView:guiaDarf :Formulario:tabView:valoresPagamento"
                                     icon="ui-icon-circle-plus"
                                     styleClass="mtop10 padrao"/>

                    <p:dataTable id="tableRetencoes"
                                 value="#{pagamentoControlador.selecionado.retencaoPgtos}"
                                 rendered="#{!pagamentoControlador.renderizarRetencao()}"
                                 var="ret"
                                 rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                 rowIndexVar="rowIx"
                                 styleClass="mtop03"
                                 paginator="true"
                                 emptyMessage="Não foram localizados registros para serem apresentados"
                                 rows="10"
                                 paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>RETENÇÕES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                 rowsPerPageTemplate="10,25,50,100">

                        <p:column headerText="Ações" style="text-align: center; width: 8%">
                            <p:commandButton id="btEditarRetencao"
                                             icon="ui-icon-pencil"
                                             onstart="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             process="@this"
                                             styleClass="mrig05"
                                             title="Clique para editar este registro."
                                             disabled="#{pagamentoControlador.verificaEdicao}"
                                             actionListener="#{pagamentoControlador.editarRetencao(ret)}"
                                             update=":Formulario:tabView:gridRet tableRetencoes">
                            </p:commandButton>
                            <p:commandButton icon="ui-icon-trash"
                                             title="Clique para remover este registro."
                                             onstart="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             disabled="#{pagamentoControlador.verificaEdicao}"
                                             actionListener="#{pagamentoControlador.removeRetencao}"
                                             onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                             update="tableRetencoes :Formulario:tabView:valPagto :Formulario:tabView:tabGuias
                                :Formulario:tabView:guiaDarfSimples :Formulario:tabView:guiaGPS :Formulario:tabView:guiaDarf :Formulario:tabView:valoresPagamento">
                                <f:attribute name="ret" value="#{ret}"/>
                            </p:commandButton>
                        </p:column>
                        <p:column headerText="Número" style="text-align: right">
                            <h:outputText value="#{ret.numero}"/>
                        </p:column>
                        <p:column headerText="Data" style="text-align: center">
                            <h:outputText value="#{ret.dataRetencao}">
                                <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Conta Extraorçamentária" style="text-align: left">
                            <h:outputText value="#{ret.contaExtraorcamentaria}"/>
                        </p:column>
                        <p:column headerText="Conta Financeira" style="text-align: left">
                            <h:outputText value="#{ret.subConta}"/>
                        </p:column>
                        <p:column headerText="Fonte de Recursos" style="text-align: left">
                            <h:outputText value="#{ret.fonteDeRecursos}"/>
                        </p:column>
                        <p:column headerText="Pessoa" style="text-align: left">
                            <h:outputText value="#{ret.pessoa}"/>
                        </p:column>
                        <p:column headerText="Classe" style="text-align: left">
                            <h:outputText value="#{ret.classeCredor}"/>
                        </p:column>
                        <p:column headerText="Tipo de Consignação" style="text-align: left">
                            <h:outputText value="#{ret.tipoConsignacao.descricao}"/>
                        </p:column>
                        <p:column headerText="Valor (R$)" style="text-align: right">
                            <h:outputText value="#{ret.valor}" converter="#{pagamentoControlador.moneyConverter}"/>
                            <f:facet name="footer">
                                <h:outputText value="Total: "/>
                                <h:outputText id="somaRet" size="20"
                                              value="#{pagamentoControlador.somaRetencoes}"
                                              converter="#{pagamentoControlador.moneyConverter}"/>
                            </f:facet>
                        </p:column>
                    </p:dataTable>


                    <p:dataTable id="tableReceitaExtra"
                                 value="#{pagamentoControlador.receitaExtras}"
                                 rendered="#{pagamentoControlador.renderizarRetencao()}"
                                 var="rec"
                                 rowIndexVar="rowIx"
                                 styleClass="mtop10"
                                 paginator="true"
                                 emptyMessage="Não foram localizados registros para serem apresentados"
                                 rows="10"
                                 paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>RETENÇÕES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                 rowsPerPageTemplate="10,25,50,100">
                        <p:column headerText="Ver" styleClass="alinhamentoCentralizado" style="width: 5px">
                            <fc:botaoTargetBlank
                                actionListener="#{utilBeanContabil.redirecionarParaReceitaExtra(rec)}"
                                icon="ui-icon-eye"
                                style="width: 25px!important;min-width: 25px!important;height: 25px!important;min-height: 25px!important;"
                                title="Clique para visualizar este registro."/>
                        </p:column>
                        <p:column headerText="Número" styleClass="alinhamentoDireita">
                            <h:outputText value="#{rec.numero}"/>
                        </p:column>
                        <p:column headerText="Data" styleClass="alinhamentoCentralizado">
                            <h:outputText value="#{rec.dataReceita}">
                                <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Situação" styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{rec.situacaoReceitaExtra.descricao}"/>
                        </p:column>
                        <p:column headerText="Conta Extraorçamentária" styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{rec.contaExtraorcamentaria}"/>
                        </p:column>
                        <p:column headerText="Conta Financeira" styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{rec.subConta}"/>
                        </p:column>
                        <p:column headerText="Fonte de Recursos" styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{rec.fonteDeRecursos}"/>
                        </p:column>
                        <p:column headerText="Pessoa" styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{rec.pessoa}"/>
                        </p:column>
                        <p:column headerText="Classe">
                            <h:outputText value="#{rec.classeCredor}"/>
                        </p:column>
                        <p:column headerText="Tipo de Consignação" styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{rec.tipoConsignacao.descricao}"/>
                        </p:column>
                        <p:column headerText="Valor (R$)" styleClass="alinhamentoDireita">
                            <h:outputText value="#{rec.valor}" converter="#{pagamentoControlador.moneyConverter}"/>
                        </p:column>
                        <f:facet name="footer">
                            <div align="right">
                                <h:outputText value="Total: "/>
                                <h:outputText value="#{pagamentoControlador.somaReceitaExtra}"
                                              converter="#{pagamentoControlador.moneyConverter}"/>
                            </div>
                        </f:facet>
                    </p:dataTable>
                </p:tab>

                <p:tab id="tabEstRet"
                       title="Estorno de Retenções"
                       rendered="#{pagamentoControlador.verificaEdicao}"
                       disabled="#{pagamentoControlador.selecionado.liquidacao.empenho.classeCredor.tipoClasseCredor eq 'DIVIDA_PUBLICA'}">

                    <p:dataTable id="tableEstRetencoes"
                                 value="#{pagamentoControlador.estornoReceitaExtras}"
                                 var="estRec"
                                 rowIndexVar="rowIx"
                                 styleClass="mtop10"
                                 paginator="true"
                                 emptyMessage="Não foram localizados registros para serem apresentados"
                                 rows="10"
                                 paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>ESTORNOS DE RETENÇÕES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                 rowsPerPageTemplate="10,25,50,100">
                        <p:column headerText="Ver" styleClass="alinhamentoCentralizado" style="width: 5px">
                            <fc:botaoTargetBlank
                                actionListener="#{utilBeanContabil.redirecionarParaReceitaExtraEstorno(estRec)}"
                                icon="ui-icon-eye"
                                style="width: 25px!important;min-width: 25px!important;height: 25px!important;min-height: 25px!important;"
                                title="Clique para visualizar este registro."/>
                        </p:column>
                        <p:column headerText="Número" styleClass="alinhamentoDireita">
                            <h:outputText value="#{estRec.numero}"/>
                        </p:column>
                        <p:column headerText="Data" styleClass="alinhamentoCentralizado">
                            <h:outputText value="#{estRec.dataEstorno}">
                                <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Conta Extraorçamentária" styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{estRec.receitaExtra.contaExtraorcamentaria}"/>
                        </p:column>
                        <p:column headerText="Conta Financeira" styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{estRec.receitaExtra.subConta}"/>
                        </p:column>
                        <p:column headerText="Fonte de Recursos" styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{estRec.receitaExtra.fonteDeRecursos}"/>
                        </p:column>
                        <p:column headerText="Pessoa" styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{estRec.receitaExtra.pessoa}"/>
                        </p:column>
                        <p:column headerText="Classe">
                            <h:outputText value="#{estRec.receitaExtra.classeCredor}"/>
                        </p:column>
                        <p:column headerText="Tipo de Consignação" styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{estRec.receitaExtra.tipoConsignacao.descricao}"/>
                        </p:column>
                        <p:column headerText="Valor (R$)" styleClass="alinhamentoDireita">
                            <h:outputText value="#{estRec.valor}"
                                          converter="#{pagamentoControlador.moneyConverter}"/>
                        </p:column>
                        <f:facet name="footer">
                            <div align="right">
                                <h:outputText value="Total: "/>
                                <h:outputText value="#{pagamentoControlador.somaEstornoReceitaExtra}"
                                              converter="#{pagamentoControlador.moneyConverter}"/>
                            </div>
                        </f:facet>
                    </p:dataTable>
                </p:tab>

                <p:tab id="tabExtraorcamentario"
                       title="Extraorçamentário"
                       rendered="#{pagamentoControlador.verificaEdicao}">

                    <p:tabView>
                        <p:tab title="Despesa Extraorçamentária">
                            <p:dataTable id="tableDespesaExtra"
                                         value="#{pagamentoControlador.despesasExtra}"
                                         var="desp"
                                         rowIndexVar="rowIx"
                                         styleClass="mtop10"
                                         paginator="true"
                                         emptyMessage="Não foram localizados registros para serem apresentados"
                                         rows="10"
                                         paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>DESPESAS EXTRAORÇAMENTÁRIAS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                         rowsPerPageTemplate="10,25,50,100">
                                <p:column headerText="Ver" styleClass="alinhamentoCentralizado" style="width: 5px">
                                    <fc:botaoTargetBlank
                                        actionListener="#{utilBeanContabil.redirecionarParaPagamentoExtra(desp)}"
                                        icon="ui-icon-eye"
                                        style="width: 25px!important;min-width: 25px!important;height: 25px!important;min-height: 25px!important;"
                                        title="Clique para visualizar este registro."/>
                                </p:column>
                                <p:column headerText="Número" styleClass="alinhamentoDireita">
                                    <h:outputText value="#{desp.numero}"/>
                                </p:column>
                                <p:column headerText="Data" styleClass="alinhamentoCentralizado">
                                    <h:outputText value="#{desp.dataPagto}">
                                        <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Situação" styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{desp.status.descricao}"/>
                                </p:column>
                                <p:column headerText="Conta Extraorçamentária" styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{desp.contaExtraorcamentaria}"/>
                                </p:column>
                                <p:column headerText="Conta Financeira" styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{desp.subConta}"/>
                                </p:column>
                                <p:column headerText="Fonte de Recursos" styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{desp.fonteDeRecursos}"/>
                                </p:column>
                                <p:column headerText="Pessoa" styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{desp.fornecedor}"/>
                                </p:column>
                                <p:column headerText="Classe">
                                    <h:outputText value="#{desp.classeCredor}"/>
                                </p:column>
                                <p:column headerText="Valor (R$)" styleClass="alinhamentoDireita">
                                    <h:outputText value="#{desp.valor}"
                                                  converter="#{pagamentoControlador.moneyConverter}"/>
                                </p:column>
                                <f:facet name="footer">
                                    <div align="right">
                                        <h:outputText value="Total: "/>
                                        <h:outputText value="#{pagamentoControlador.totalDespesasExtra}"
                                                      converter="#{pagamentoControlador.moneyConverter}"/>
                                    </div>
                                </f:facet>
                            </p:dataTable>
                        </p:tab>

                        <p:tab title="Estorno Despesa Extraorçamentária">
                            <p:dataTable id="tableEstDespesaExtra"
                                         value="#{pagamentoControlador.estornoDespesasExtra}"
                                         var="estdesp"
                                         rowIndexVar="rowIx"
                                         styleClass="mtop10"
                                         paginator="true"
                                         emptyMessage="Não foram localizados registros para serem apresentados"
                                         rows="10"
                                         paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>ESTORNOS DE DESPESA EXTRAORÇAMENTÁRIAS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                         rowsPerPageTemplate="10,25,50,100">
                                <p:column headerText="Ver" styleClass="alinhamentoCentralizado" style="width: 5px">
                                    <fc:botaoTargetBlank
                                        actionListener="#{utilBeanContabil.redirecionarParaPagamentoExtraEstorno(estdesp)}"
                                        icon="ui-icon-eye"
                                        style="width: 25px!important;min-width: 25px!important;height: 25px!important;min-height: 25px!important;"
                                        title="Clique para visualizar este registro."/>
                                </p:column>
                                <p:column headerText="Número" styleClass="alinhamentoDireita">
                                    <h:outputText value="#{estdesp.numero}"/>
                                </p:column>
                                <p:column headerText="Data" styleClass="alinhamentoCentralizado">
                                    <h:outputText value="#{estdesp.dataEstorno}">
                                        <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Despesa Extra" styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{estdesp.pagamentoExtra.numero}"/>
                                </p:column>
                                <p:column headerText="Conta Extraorçamentária" styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{estdesp.pagamentoExtra.contaExtraorcamentaria}"/>
                                </p:column>
                                <p:column headerText="Conta Financeira" styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{estdesp.pagamentoExtra.subConta}"/>
                                </p:column>
                                <p:column headerText="Fonte de Recursos" styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{estdesp.pagamentoExtra.fonteDeRecursos}"/>
                                </p:column>
                                <p:column headerText="Pessoa" styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{estdesp.pagamentoExtra.fornecedor}"/>
                                </p:column>
                                <p:column headerText="Classe">
                                    <h:outputText value="#{estdesp.pagamentoExtra.classeCredor}"/>
                                </p:column>
                                <p:column headerText="Valor (R$)" styleClass="alinhamentoDireita">
                                    <h:outputText value="#{estdesp.valor}"
                                                  converter="#{pagamentoControlador.moneyConverter}"/>
                                </p:column>
                                <f:facet name="footer">
                                    <div align="right">
                                        <h:outputText value="Total: "/>
                                        <h:outputText value="#{pagamentoControlador.totalEstornoDespesasExtra}"
                                                      converter="#{pagamentoControlador.moneyConverter}"/>
                                    </div>
                                </f:facet>
                            </p:dataTable>
                        </p:tab>
                    </p:tabView>
                </p:tab>

                <p:tab title="Guias">

                    <p:outputPanel id="msgGuias">
                        <co:mensagem
                            mensagem="Selecione o campo 'Tipo de Documento' na aba principal, para habilitar as funcionalidades das Guias."
                            styleClass="mbto05"
                            rendered="#{!pagamentoControlador.renderizarGuias() and pagamentoControlador.selecionado.id eq null}"/>

                    </p:outputPanel>

                    <p:outputPanel id="tabGuias">
                        <p:commandButton value="Novo"
                                         icon="ui-icon-circle-plus"
                                         rendered="#{pagamentoControlador.mostrarPainelGuiaFatura() and pagamentoControlador.guiaPagamento eq null}"
                                         disabled="#{pagamentoControlador.podeEditarGuias()}"
                                         actionListener="#{pagamentoControlador.novaGuiaPagamento()}"
                                         update=":Formulario:tabView:tabGuias"
                                         process="@this"
                                         id="btnNovoGuiaFatura"
                                         onstart="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         styleClass="padrao"
                                         title="Clique para adicionar uma nova guia."/>

                        <h:panelGrid columns="2"
                                     rendered="#{pagamentoControlador.mostrarPainelGuiaFatura() and pagamentoControlador.guiaPagamento ne null}"
                                     styleClass="mtop05">

                            <h:outputText value="Situação: "/>
                            <h:outputText value="#{pagamentoControlador.guiaPagamento.situacaoGuiaPagamento.descricao}"
                                          styleClass="negrito"/>

                            <fc:outputLabelObrigatorio value="Código de Barra: "/>
                            <h:panelGroup>
                                <p:inputMask size="60"
                                             maxlength="54"
                                             mask="99999.99999 99999.999999 99999.999999 9 99999999999999"
                                             title="Informe o código de barras(somente números)."
                                             value="#{pagamentoControlador.guiaPagamento.guiaFatura.codigoBarra}"
                                             id="codigoBarra">
                                    <p:watermark value="Digite somente números." for="codigoBarra"/>
                                    <p:ajax process="@this"
                                            onstart="aguarde.show()"
                                            oncomplete="aguarde.hide()"
                                            update="codigoBarra panelValorNorminal :Formulario:tabView:totalGuiaFatura dtVencimento"
                                            event="blur"
                                            listener="#{pagamentoControlador.getValorGuiaFatura}"/>
                                </p:inputMask>
                                <co:botao_informacao id="btInfo"
                                                     styleClass="mlef05"
                                                     descricao="&lt;b>#&lt;/b> Guias de fatura não devem iniciar com o dígito 8. (Código de barras iniciado com '8', pertence a guias do tipo convênio).&lt;br/>
                                                                &lt;b>#&lt;/b> Os três primeiros dígitos do códido de barras devem pertencer a um banco cadastrado no sistema."/>
                            </h:panelGroup>

                            <fc:outputLabelObrigatorio value="Data do Vencimento: "/>
                            <p:calendar id="dtVencimento"
                                        locale="pt_BR"
                                        pattern="dd/MM/yyyy"
                                        title="Informe a data do Vencimento."
                                        onkeypress="mascara(this, mdata)"
                                        disabled="#{pagamentoControlador.podeEditarGuias()}"
                                        value="#{pagamentoControlador.guiaPagamento.guiaFatura.dataVencimento}"/>

                            <fc:outputLabelObrigatorio value="Valor Nominal: "/>
                            <p:outputPanel id="panelValorNorminal">
                                <p:inputText title="Informe o valor Nominal"
                                             value="#{pagamentoControlador.guiaPagamento.guiaFatura.valorNominal}"
                                             id="valorNominal"
                                             onkeypress="mascara(this, monetario)"
                                             styleClass="alinhamentoDireita"
                                             converter="#{pagamentoControlador.moneyConverter}"
                                             disabled="#{pagamentoControlador.podeEditarGuias()}">
                                    <p:ajax update=":Formulario:tabView:totalGuiaFatura"
                                            event="blur"
                                            onstart="aguarde.show()"
                                            oncomplete="aguarde.hide()"
                                            process="@this"/>
                                </p:inputText>
                            </p:outputPanel>

                            <fc:outputLabelObrigatorio value="Descontos: "/>
                            <p:inputText title="Informe o valor Descontos"
                                         value="#{pagamentoControlador.guiaPagamento.guiaFatura.valorDescontos}"
                                         id="valorDescontos"
                                         onkeypress="mascara(this, monetario)"
                                         styleClass="alinhamentoDireita"
                                         converter="#{pagamentoControlador.moneyConverter}"
                                         disabled="#{pagamentoControlador.podeEditarGuias()}">
                                <p:ajax update=":Formulario:tabView:totalGuiaFatura"
                                        event="blur"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        process="@this"/>
                            </p:inputText>

                            <fc:outputLabelObrigatorio value="Juros: "/>
                            <p:inputText title="Informe o valor de Juros"
                                         value="#{pagamentoControlador.guiaPagamento.guiaFatura.valorJuros}"
                                         onkeypress="mascara(this, monetario)"
                                         styleClass="alinhamentoDireita"
                                         converter="#{pagamentoControlador.moneyConverter}"
                                         disabled="#{pagamentoControlador.podeEditarGuias()}">
                                <p:ajax update=":Formulario:tabView:totalGuiaFatura"
                                        event="blur"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        process="@this"/>
                            </p:inputText>

                            <h:outputText value="Valor Total da Guia: "/>
                            <p:outputPanel id="totalGuiaFatura">
                                <h:outputText value="#{pagamentoControlador.guiaPagamento.valorTotalPorGuia}"
                                              styleClass="negrito">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:outputPanel>

                        </h:panelGrid>


                        <p:commandButton disabled="#{pagamentoControlador.podeEditarGuias()}"
                                         rendered="#{pagamentoControlador.mostrarPainelGuiaFatura() and pagamentoControlador.guiaPagamento ne null}"
                                         title="Clique para adicionar uma guia de fatura na lista."
                                         value="Adicionar"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         actionListener="#{pagamentoControlador.adicionarGuiaFatura}"
                                         update=":Formulario:tabView:tabGuias :Formulario:tabView:panelInformacoes2 :Formulario:tabView:valoresPagamento"
                                         icon="ui-icon-circle-plus"
                                         styleClass="mtop10 padrao"/>

                        <p:commandButton
                            rendered="#{pagamentoControlador.mostrarPainelGuiaFatura() and pagamentoControlador.guiaPagamento ne null}"
                            title="Clique para cancelar."
                            value="Cancelar"
                            onclick="aguarde.show()"
                            oncomplete="aguarde.hide()"
                            actionListener="#{pagamentoControlador.cancelarGuiaPagamento()}"
                            update=":Formulario:tabView:tabGuias"
                            icon="ui-icon-cancel"
                            styleClass="mtop10 mlef05 padrao"/>

                        <p:dataTable id="tableGuia"
                                     value="#{pagamentoControlador.selecionado.guiaPagamento}"
                                     rendered="#{pagamentoControlador.mostrarPainelGuiaFatura()}"
                                     var="fatura"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop03"
                                     paginator="true"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>GUIAS DE FATURA&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100">
                            <p:column headerText="Ações" style="text-align: center; width: 10%">
                                <p:commandButton id="btEditarFatura"
                                                 icon="ui-icon-pencil"
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="@this :Formulario:tabView:panelInformacoes2"
                                                 styleClass="mrig05"
                                                 title="Clique para editar este registro."
                                                 disabled="#{pagamentoControlador.podeEditarGuias()}"
                                                 actionListener="#{pagamentoControlador.editarGuiaPagamento(fatura)}"
                                                 update=":Formulario:tabView:tabGuias :Formulario:tabView:panelInformacoes2 :Formulario:tabView:valoresPagamento"/>

                                <p:commandButton icon="ui-icon-trash"
                                                 title="Clique para remover este registro."
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="@this"
                                                 styleClass="mrig05"
                                                 disabled="#{pagamentoControlador.podeEditarGuias()}"
                                                 actionListener="#{pagamentoControlador.removerGuiaPagamento(fatura)}"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 update=":Formulario:tabView:tipoDoc :Formulario:tabView:tabGuias :Formulario:tabView:valoresPagamento"/>

                                <p:commandButton id="btImprimirFatura"
                                                 icon="ui-icon-print"
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide();dialogImprimirGuia.show()"
                                                 actionListener="#{pagamentoControlador.prepararGuiaParaImprimir(fatura)}"
                                                 rendered="#{pagamentoControlador.podeImprimirGuia(fatura)}"
                                                 update=":formDialogGuia"/>
                            </p:column>
                            <p:column headerText="Situação" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{fatura.situacaoGuiaPagamento.descricao}"/>
                            </p:column>
                            <p:column headerText="Autenticação" styleClass="alinhamentoDireita">
                                <h:outputText value="#{fatura.numeroAutenticacao}"
                                              rendered="#{fatura.numeroAutenticacao ne null}"/>
                                <h:outputText value="Não Autenticado" rendered="#{fatura.numeroAutenticacao eq null}"/>
                            </p:column>
                            <p:column headerText="Código de Barras" styleClass="alinhamentoDireita">
                                <h:outputText value="#{fatura.guiaFatura.codigoBarra}"/>
                            </p:column>
                            <p:column headerText="Data de Vencimento" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{fatura.guiaFatura.dataVencimento}">
                                    <f:convertDateTime type="date"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Valor Nominal (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{fatura.guiaFatura.valorNominal}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Valor de Desconto (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{fatura.guiaFatura.valorDescontos}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Valor do Juros (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{fatura.guiaFatura.valorJuros}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Total (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{fatura.valorTotalPorGuia}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                                <f:facet name="footer">
                                    <h:outputText value="Total: " styleClass="negrito"/>
                                    <h:outputText value="#{pagamentoControlador.guiaPagamento.valorTotalGuiasPagamento}"
                                                  styleClass="negrito"
                                                  converter="#{pagamentoControlador.moneyConverter}"/>
                                </f:facet>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>


                    <p:outputPanel id="tabConvenio">

                        <p:commandButton value="Novo"
                                         icon="ui-icon-circle-plus"
                                         rendered="#{pagamentoControlador.mostrarPainelGuiaConvenio() and pagamentoControlador.guiaPagamento eq null}"
                                         disabled="#{pagamentoControlador.podeEditarGuias()}"
                                         actionListener="#{pagamentoControlador.novaGuiaPagamento()}"
                                         update=":Formulario:tabView:tabConvenio"
                                         process="@this"
                                         id="btnNovoGuia"
                                         onstart="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         styleClass="padrao"
                                         title="Clique para adicionar uma nova guia."/>

                        <h:panelGrid columns="2"
                                     rendered="#{pagamentoControlador.mostrarPainelGuiaConvenio() and pagamentoControlador.guiaPagamento ne null}">

                            <h:outputText value="Situação: "/>
                            <h:outputText value="#{pagamentoControlador.guiaPagamento.situacaoGuiaPagamento.descricao}"
                                          styleClass="negrito"/>

                            <fc:outputLabelObrigatorio value="Código de Barras: "/>
                            <h:panelGroup>
                                <p:inputMask
                                    value="#{pagamentoControlador.guiaPagamento.guiaConvenio.codigoBarra}"
                                    disabled="#{pagamentoControlador.habilitaEditar}"
                                    size="60"
                                    mask="99999999999.9 99999999999.9 99999999999.9 99999999999.9"
                                    maxlength="55"
                                    title="Digite somente números."
                                    id="codigoBarraConv">
                                    <p:watermark value="Digite somente números." for="codigoBarraConv"/>
                                    <p:ajax update="valorConvenio"
                                            event="blur"
                                            process="@this"
                                            onstart="aguarde.show()"
                                            oncomplete="aguarde.hide()"
                                            listener="#{pagamentoControlador.getValorGuiaConvenio}"/>
                                </p:inputMask>
                                <co:botao_informacao id="btInfoConvenio"
                                                     styleClass="mlef05"
                                                     descricao="&lt;b>#&lt;/b> Guias de Convênio devem iniciar com o dígito '8'.&lt;br/>
                                                                &lt;b>#&lt;/b> Guias de Convênio devem ter o terceiro dígito igual à '6'.&lt;br/>"/>
                            </h:panelGroup>

                            <h:outputText value="Valor: "/>
                            <p:outputPanel id="valorConvenio">
                                <h:outputText value="#{pagamentoControlador.guiaPagamento.guiaConvenio.valor}"
                                              styleClass="negrito">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:outputPanel>
                        </h:panelGrid>

                        <p:commandButton disabled="#{pagamentoControlador.podeEditarGuias()}"
                                         rendered="#{pagamentoControlador.mostrarPainelGuiaConvenio() and pagamentoControlador.guiaPagamento ne null}"
                                         title="Clique para adicionar uma guia de convênio na lista."
                                         value="Adicionar"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         actionListener="#{pagamentoControlador.adicionarGuiaConvenio}"
                                         update="tableGuia :Formulario:tabView:tabConvenio :Formulario:tabView:panelInformacoes2 :Formulario:tabView:valoresPagamento"
                                         icon="ui-icon-circle-plus"
                                         styleClass="mtop10 padrao"/>

                        <p:commandButton
                            rendered="#{pagamentoControlador.mostrarPainelGuiaConvenio() and pagamentoControlador.guiaPagamento ne null}"
                            title="Clique para cancelar."
                            value="Cancelar"
                            onclick="aguarde.show()"
                            oncomplete="aguarde.hide()"
                            actionListener="#{pagamentoControlador.cancelarGuiaPagamento()}"
                            update=":Formulario:tabView:tabConvenio"
                            icon="ui-icon-cancel"
                            styleClass="mtop10 mlef05 padrao"/>

                        <p:dataTable id="tableGuiaConvenio"
                                     value="#{pagamentoControlador.selecionado.guiaPagamento}"
                                     rendered="#{pagamentoControlador.mostrarPainelGuiaConvenio()}"
                                     var="convenio"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop03"
                                     paginator="true"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>GUIAS DE CONVÊNIO&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100">
                            <p:column headerText="Ações" style="text-align: center; width: 10%">
                                <p:commandButton id="btEditarConvenio"
                                                 icon="ui-icon-pencil"
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="@this :Formulario:tabView:panelInformacoes2"
                                                 styleClass="mrig05"
                                                 title="Clique para editar este registro."
                                                 disabled="#{pagamentoControlador.podeEditarGuias()}"
                                                 actionListener="#{pagamentoControlador.editarGuiaPagamento(convenio)}"
                                                 update=":Formulario:tabView:tabConvenio :Formulario:tabView:panelInformacoes2 :Formulario:tabView:valoresPagamento"/>

                                <p:commandButton icon="ui-icon-trash"
                                                 title="Clique para remover este registro."
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 styleClass="mrig05"
                                                 process="@this"
                                                 disabled="#{pagamentoControlador.podeEditarGuias()}"
                                                 actionListener="#{pagamentoControlador.removerGuiaPagamento(convenio)}"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 update=":Formulario:tabView:tabConvenio :Formulario:tabView:tipoDoc :Formulario:tabView:valoresPagamento"/>

                                <p:commandButton id="btImprimirConvenio"
                                                 icon="ui-icon-print"
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide();dialogImprimirGuia.show()"
                                                 actionListener="#{pagamentoControlador.prepararGuiaParaImprimir(convenio)}"
                                                 rendered="#{pagamentoControlador.podeImprimirGuia(convenio)}"
                                                 update=":formDialogGuia"/>
                            </p:column>
                            <p:column headerText="Situação" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{convenio.situacaoGuiaPagamento.descricao}"/>
                            </p:column>
                            <p:column headerText="Nº Autenticação" styleClass="alinhamentoDireita">
                                <h:outputText value="#{convenio.numeroAutenticacao}"
                                              rendered="#{convenio.numeroAutenticacao ne null}"/>
                                <h:outputText value="Não Autenticado"
                                              rendered="#{convenio.numeroAutenticacao eq null}"/>
                            </p:column>
                            <p:column headerText="Código de Barras" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{convenio.guiaConvenio.codigoBarra}"/>
                            </p:column>
                            <p:column headerText="Valor (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{convenio.guiaConvenio.valor}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                                <f:facet name="footer">
                                    <h:outputText value="Total: " styleClass="negrito"/>
                                    <h:outputText value="#{pagamentoControlador.guiaPagamento.valorTotalGuiasPagamento}"
                                                  styleClass="negrito"
                                                  converter="#{pagamentoControlador.moneyConverter}"/>
                                </f:facet>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>

                    <p:outputPanel id="guiaGPS">
                        <p:commandButton value="Novo"
                                         icon="ui-icon-circle-plus"
                                         rendered="#{pagamentoControlador.mostrarPainelGuiaGPS() and pagamentoControlador.guiaPagamento eq null}"
                                         disabled="#{pagamentoControlador.podeEditarGuias()}"
                                         actionListener="#{pagamentoControlador.novaGuiaPagamento()}"
                                         update=":Formulario:tabView:guiaGPS"
                                         process="@this"
                                         id="btnNovoGuiaGPS"
                                         onstart="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         styleClass="padrao"
                                         title="Clique para adicionar uma nova guia."/>
                        <h:panelGrid columns="2"
                                     rendered="#{pagamentoControlador.mostrarPainelGuiaGPS() and pagamentoControlador.guiaPagamento ne null}">

                            <h:outputText value="Situação: "/>
                            <h:outputText
                                value="#{pagamentoControlador.guiaPagamento.situacaoGuiaPagamento.descricao}"
                                styleClass="negrito"/>

                            <fc:outputLabelObrigatorio value="Pessoa: "/>
                            <h:panelGroup>
                                <p:autoComplete queryDelay="1000" id="pessoaGps" size="70"
                                                title="Informe a pessoa."
                                                value="#{pagamentoControlador.guiaPagamento.pessoa}"
                                                completeMethod="#{pagamentoControlador.completaPessoaGuia}"
                                                converter="#{pagamentoControlador.converterPessoaGuia}"
                                                disabled="#{pagamentoControlador.podeEditarGuias()}"
                                                maxResults="10"
                                                styleClass="mrig05"
                                                var="pessoaGuia"
                                                itemValue="#{pessoaGuia.id}"
                                                itemLabel="#{pessoaGuia.nomeAutoComplete}">
                                    <p:ajax event="itemSelect"
                                            update="compCamposPessoaGuia tipoIdentificacaoGuia gridCodigoIdentificacao"
                                            listener="#{pagamentoControlador.definirNullTipoIdentificacaoGuia()}"
                                            onstart="aguarde.show()"
                                            oncomplete="aguarde.hide()"/>
                                </p:autoComplete>

                                <p:outputPanel id="compCamposPessoaGuia">
                                    <fc:visualizarCampos objeto="#{pagamentoControlador.guiaPagamento.pessoa}"
                                    />
                                </p:outputPanel>
                            </h:panelGroup>

                            <fc:outputLabelObrigatorio value="Tipo de Identificação: "/>
                            <h:selectOneRadio id="tipoIdentificacaoGuia"
                                              value="#{pagamentoControlador.guiaPagamento.tipoIdentificacaoGuia}">
                                <f:selectItems value="#{pagamentoControlador.tiposIdentificacaoGuia}"/>
                                <p:ajax event="valueChange"
                                        update="gridCodigoIdentificacao"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        listener="#{pagamentoControlador.atribuirCodigoIdentificacao()}"/>
                            </h:selectOneRadio>

                            <fc:outputLabelObrigatorio value="Codigo de Identificação: "/>
                            <h:panelGrid columns="1" id="gridCodigoIdentificacao">
                                <p:inputText value="#{pagamentoControlador.guiaPagamento.codigoIdentificacao}"
                                             rendered="#{pagamentoControlador.guiaPagamento.tipoIdentificacaoGuia eq 'CEI'}"
                                             disabled="#{pagamentoControlador.podeEditarGuias()}"
                                             title="Informe o código de Identificaçao CEI."
                                             maxlength="14"/>

                                <h:outputText value="#{pagamentoControlador.guiaPagamento.codigoIdentificacao}"
                                              rendered="#{pagamentoControlador.guiaPagamento.tipoIdentificacaoGuia ne 'CEI'
                                              and pagamentoControlador.guiaPagamento.tipoIdentificacaoGuia ne 'IDENTIFICADOR'}"
                                              styleClass="negrito"/>

                                <p:inputMask value="#{pagamentoControlador.guiaPagamento.codigoIdentificacao}"
                                             disabled="#{pagamentoControlador.podeEditarGuias()}"
                                             size="20"
                                             rendered="#{pagamentoControlador.guiaPagamento.tipoIdentificacaoGuia eq 'IDENTIFICADOR'}"
                                             mask="999.999.999.9999-9"
                                             maxlength="18"/>
                            </h:panelGrid>

                            <fc:outputLabelObrigatorio value="Data de Pagamento: "/>
                            <p:calendar id="dtPagamentoGps"
                                        locale="pt_BR"
                                        pattern="dd/MM/yyyy"
                                        title="Informe a data de pagamento."
                                        onkeypress="mascara(this, mdata)"
                                        disabled="#{pagamentoControlador.podeEditarGuias()}"
                                        value="#{pagamentoControlador.guiaPagamento.dataPagamento}"/>

                            <fc:outputLabelObrigatorio value="Código da Receita Tributo: "/>
                            <p:inputText value="#{pagamentoControlador.guiaPagamento.guiaGPS.codigoReceitaTributo}"
                                         disabled="#{pagamentoControlador.podeEditarGuias()}"
                                         title="Informe o código da receita do tributo."
                                         maxlength="6"
                                         id="codigoReceita"/>

                            <fc:outputLabelObrigatorio value="Código Identificador do Tributo: "/>
                            <p:inputText
                                value="#{pagamentoControlador.guiaPagamento.guiaGPS.codigoIdentificacaoTributo}"
                                disabled="#{pagamentoControlador.podeEditarGuias()}"
                                title="Informe o código identificador do tributo."
                                maxlength="2"
                                id="codigoTributo"/>

                            <fc:outputLabelObrigatorio value="Competência: "/>
                            <p:calendar id="dtCompetencia"
                                        locale="pt_BR"
                                        pattern="dd/MM/yyyy"
                                        title="Informe o mês de competência."
                                        onkeypress="mascara(this, mdata)"
                                        disabled="#{pagamentoControlador.podeEditarGuias()}"
                                        value="#{pagamentoControlador.guiaPagamento.guiaGPS.periodoCompetencia}"/>

                            <fc:outputLabelObrigatorio value="Valor Previsto INSS: "/>
                            <p:inputText title="Informe o valor previsto do INSS."
                                         update=":Formulario:tabView:totalGuiaGps"
                                         onkeypress="mascara(this, monetario)"
                                         styleClass="alinhamentoDireita"
                                         converter="#{pagamentoControlador.moneyConverter}"
                                         disabled="#{pagamentoControlador.podeEditarGuias()}"
                                         value="#{pagamentoControlador.guiaPagamento.guiaGPS.valorPrevistoINSS}"
                                         id="valorPrevisto">
                                <p:ajax update=":Formulario:tabView:totalGuiaGps"
                                        event="blur"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        process="@this"/>
                            </p:inputText>

                            <fc:outputLabelObrigatorio value="Valor de Outras Entidades: "/>
                            <p:inputText title="Informe o valor de outras entidades"
                                         value="#{pagamentoControlador.guiaPagamento.guiaGPS.valorOutrasEntidades}"
                                         onkeypress="mascara(this, monetario)"
                                         styleClass="alinhamentoDireita"
                                         converter="#{pagamentoControlador.moneyConverter}"
                                         disabled="#{pagamentoControlador.podeEditarGuias()}"
                                         id="valorOutraEnt">
                                <p:ajax update=":Formulario:tabView:totalGuiaGps"
                                        event="blur"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        process="@this"/>
                            </p:inputText>

                            <fc:outputLabelObrigatorio value="Atualização Monetária: "/>
                            <p:inputText title="Informe o valor para a atualização monetária."
                                         update=":Formulario:tabView:totalGuiaGps"
                                         value="#{pagamentoControlador.guiaPagamento.guiaGPS.atualizacaoMonetaria}"
                                         onkeypress="mascara(this, monetario)"
                                         styleClass="alinhamentoDireita"
                                         converter="#{pagamentoControlador.moneyConverter}"
                                         disabled="#{pagamentoControlador.podeEditarGuias()}"
                                         id="atualizacaoMonetaria">
                                <p:ajax update=":Formulario:tabView:totalGuiaGps"
                                        event="blur"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        process="@this"/>
                            </p:inputText>

                            <h:outputText value="Valor Total da Guia: "/>
                            <p:outputPanel id="totalGuiaGps">
                                <h:outputText value="#{pagamentoControlador.guiaPagamento.valorTotalPorGuia}"
                                              styleClass="negrito">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:outputPanel>
                        </h:panelGrid>

                        <p:commandButton disabled="#{pagamentoControlador.podeEditarGuias()}"
                                         rendered="#{pagamentoControlador.mostrarPainelGuiaGPS() and pagamentoControlador.guiaPagamento ne null}"
                                         title="Clique para adicionar uma guia de GPS na lista."
                                         value="Adicionar"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         actionListener="#{pagamentoControlador.adicionarGuiaGPS}"
                                         update=":Formulario:tabView:guiaGPS :Formulario:tabView:panelInformacoes2 :Formulario:tabView:valoresPagamento"
                                         icon="ui-icon-circle-plus"
                                         styleClass="mtop10 padrao"/>

                        <p:commandButton
                            rendered="#{pagamentoControlador.mostrarPainelGuiaGPS() and pagamentoControlador.guiaPagamento ne null}"
                            title="Clique para cancelar."
                            value="Cancelar"
                            onclick="aguarde.show()"
                            oncomplete="aguarde.hide()"
                            actionListener="#{pagamentoControlador.cancelarGuiaPagamento()}"
                            update=":Formulario:tabView:guiaGPS"
                            icon="ui-icon-cancel"
                            styleClass="mtop10 mlef05 padrao"/>

                        <p:dataTable id="tableGPS"
                                     value="#{pagamentoControlador.selecionado.guiaPagamento}"
                                     rendered="#{pagamentoControlador.mostrarPainelGuiaGPS()}"
                                     var="gps"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop03"
                                     paginator="true"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>GUIAS DE GPS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100">
                            <p:column headerText="Ações" style="text-align: center; width: 10%">
                                <p:commandButton id="btEditarGps"
                                                 icon="ui-icon-pencil"
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="@this :Formulario:tabView:panelInformacoes2"
                                                 styleClass="mrig05"
                                                 title="Clique para editar este registro."
                                                 disabled="#{pagamentoControlador.podeEditarGuias()}"
                                                 actionListener="#{pagamentoControlador.editarGuiaPagamento(gps)}"
                                                 update=":Formulario:tabView:guiaGPS :Formulario:tabView:panelInformacoes2 :Formulario:tabView:valoresPagamento"/>

                                <p:commandButton icon="ui-icon-trash"
                                                 title="Clique para remover este registro."
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 styleClass="mrig05"
                                                 process="@this"
                                                 disabled="#{pagamentoControlador.podeEditarGuias()}"
                                                 actionListener="#{pagamentoControlador.removerGuiaPagamento(gps)}"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 update=":Formulario:tabView:guiaGPS :Formulario:tabView:tipoDoc :Formulario:tabView:valoresPagamento"/>

                                <p:commandButton id="btImprimirGps"
                                                 icon="ui-icon-print"
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide();dialogImprimirGuia.show()"
                                                 actionListener="#{pagamentoControlador.prepararGuiaParaImprimir(gps)}"
                                                 rendered="#{pagamentoControlador.podeImprimirGuia(gps)}"
                                                 update=":formDialogGuia"/>
                            </p:column>
                            <p:column headerText="Situação" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{gps.situacaoGuiaPagamento.descricao}"/>
                            </p:column>
                            <p:column headerText="Pessoa" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{gps.codigoIdentificacao} - #{gps.pessoa.nome}"/>
                            </p:column>
                            <p:column headerText="Autenticação" styleClass="alinhamentoDireita">
                                <h:outputText value="#{gps.numeroAutenticacao}"
                                              rendered="#{gps.numeroAutenticacao ne null}"/>
                                <h:outputText value="Não Autenticado" rendered="#{gps.numeroAutenticacao eq null}"/>
                            </p:column>
                            <p:column headerText="Receita Tributo" styleClass="alinhamentoDireita">
                                <h:outputText value="#{gps.guiaGPS.codigoReceitaTributo}"/>
                            </p:column>
                            <p:column headerText="Identificador" styleClass="alinhamentoDireita">
                                <h:outputText value="#{gps.guiaGPS.codigoIdentificacaoTributo}"/>
                            </p:column>
                            <p:column headerText="Pagamento" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{gps.dataPagamento}">
                                    <f:convertDateTime type="date"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Competência" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{gps.guiaGPS.periodoCompetencia}">
                                    <f:convertDateTime type="date"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Valor Previsto INSS (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{gps.guiaGPS.valorPrevistoINSS}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Valor de Outras Entidades (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{gps.guiaGPS.valorOutrasEntidades}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Atualização Monetária (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{gps.guiaGPS.atualizacaoMonetaria}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Total (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{gps.valorTotalPorGuia}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                                <f:facet name="footer">
                                    <h:outputText value="Total: " styleClass="negrito"/>
                                    <h:outputText value="#{pagamentoControlador.guiaPagamento.valorTotalGuiasPagamento}"
                                                  styleClass="negrito"
                                                  converter="#{pagamentoControlador.moneyConverter}"/>
                                </f:facet>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>


                    <p:outputPanel id="guiaDarf">
                        <p:commandButton value="Novo"
                                         icon="ui-icon-circle-plus"
                                         rendered="#{pagamentoControlador.mostrarPainelGuiaDARF() and pagamentoControlador.guiaPagamento eq null}"
                                         disabled="#{pagamentoControlador.podeEditarGuias()}"
                                         actionListener="#{pagamentoControlador.novaGuiaPagamento()}"
                                         update=":Formulario:tabView:guiaDarf"
                                         process="@this"
                                         id="btnNovoGuiaDarf"
                                         onstart="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         styleClass="padrao"
                                         title="Clique para adicionar uma nova guia."/>

                        <h:panelGrid columns="2"
                                     rendered="#{pagamentoControlador.mostrarPainelGuiaDARF() and pagamentoControlador.guiaPagamento ne null}">
                            <h:outputText value="Situação: "/>
                            <h:outputText value="#{pagamentoControlador.guiaPagamento.situacaoGuiaPagamento.descricao}"
                                          styleClass="negrito"/>

                            <fc:outputLabelObrigatorio value="Pessoa: "/>
                            <h:panelGroup>
                                <p:autoComplete queryDelay="1000" id="pessoaDarf" size="70"
                                                title="Informe a pessoa."
                                                value="#{pagamentoControlador.guiaPagamento.pessoa}"
                                                completeMethod="#{pagamentoControlador.completaPessoaGuia}"
                                                converter="#{pagamentoControlador.converterPessoaGuia}"
                                                disabled="#{pagamentoControlador.podeEditarGuias()}"
                                                maxResults="10"
                                                styleClass="mrig05"
                                                var="pessoaGuia"
                                                itemValue="#{pessoaGuia.id}"
                                                itemLabel="#{pessoaGuia.nomeAutoComplete}">
                                    <p:ajax event="itemSelect"
                                            update="compCamposPessoaGuiaDarf tipoIdentificacaoGuiaDarf gridCodigoIdentificacaoDarf"
                                            listener="#{pagamentoControlador.definirNullTipoIdentificacaoGuia()}"
                                            onstart="aguarde.show()"
                                            oncomplete="aguarde.hide()"/>
                                </p:autoComplete>

                                <p:outputPanel id="compCamposPessoaGuiaDarf">
                                    <fc:visualizarCampos objeto="#{pagamentoControlador.guiaPagamento.pessoa}"
                                    />
                                </p:outputPanel>
                            </h:panelGroup>

                            <fc:outputLabelObrigatorio value="Tipo de Identificação: "/>
                            <h:selectOneRadio id="tipoIdentificacaoGuiaDarf"
                                              value="#{pagamentoControlador.guiaPagamento.tipoIdentificacaoGuia}">
                                <f:selectItems value="#{pagamentoControlador.tiposIdentificacaoGuia}"/>
                                <p:ajax event="valueChange" update="gridCodigoIdentificacaoDarf"
                                        onstart="aguarde.show()" oncomplete="aguarde.hide()"
                                        listener="#{pagamentoControlador.atribuirCodigoIdentificacao()}"/>
                            </h:selectOneRadio>

                            <fc:outputLabelObrigatorio value="Codigo de Identificação: "/>
                            <h:panelGrid columns="1" id="gridCodigoIdentificacaoDarf">
                                <p:inputText value="#{pagamentoControlador.guiaPagamento.codigoIdentificacao}"
                                             rendered="#{pagamentoControlador.guiaPagamento.tipoIdentificacaoGuia eq 'CEI'}"
                                             disabled="#{pagamentoControlador.podeEditarGuias()}"
                                             title="Informe o código de Identificaçao CEI."
                                             maxlength="14"/>

                                <h:outputText value="#{pagamentoControlador.guiaPagamento.codigoIdentificacao}"
                                              rendered="#{pagamentoControlador.guiaPagamento.tipoIdentificacaoGuia ne 'CEI'
                                                  and pagamentoControlador.guiaPagamento.tipoIdentificacaoGuia ne 'IDENTIFICADOR'}"
                                              styleClass="negrito"/>

                                <p:inputMask value="#{pagamentoControlador.guiaPagamento.codigoIdentificacao}"
                                             disabled="#{pagamentoControlador.podeEditarGuias()}"
                                             size="20"
                                             rendered="#{pagamentoControlador.guiaPagamento.tipoIdentificacaoGuia eq 'IDENTIFICADOR'}"
                                             mask="999.999.999.9999-9"
                                             maxlength="18"/>
                            </h:panelGrid>

                            <fc:outputLabelObrigatorio value="Data de Pagamento: "/>
                            <p:calendar id="dtPagamentoDarf"
                                        locale="pt_BR"
                                        pattern="dd/MM/yyyy"
                                        title="Informe a data de pagamento."
                                        onkeypress="mascara(this, mdata)"
                                        disabled="#{pagamentoControlador.podeEditarGuias()}"
                                        value="#{pagamentoControlador.guiaPagamento.dataPagamento}"/>

                            <fc:outputLabelObrigatorio value="Código da Receita Tributo: "/>
                            <p:inputText value="#{pagamentoControlador.guiaPagamento.guiaDARF.codigoReceitaTributo}"
                                         disabled="#{pagamentoControlador.podeEditarGuias()}"
                                         id="codReceitaDarf"
                                         title="Informe o código da receita do tributo."
                                         maxlength="6"/>

                            <fc:outputLabelObrigatorio value="Código Identificador do Tributo: "/>
                            <p:inputText
                                value="#{pagamentoControlador.guiaPagamento.guiaDARF.codigoIdentificacaoTributo}"
                                title="Informe o código identificador do tributo."
                                disabled="#{pagamentoControlador.podeEditarGuias()}"
                                maxlength="2"/>

                            <fc:outputLabelObrigatorio value="Número de Referência: "/>
                            <p:inputText value="#{pagamentoControlador.guiaPagamento.guiaDARF.numeroReferencia}"
                                         disabled="#{pagamentoControlador.podeEditarGuias()}"
                                         title="Informe o número de referência."
                                         maxlength="17"/>

                            <fc:outputLabelObrigatorio value="Período de Apuração: "/>
                            <p:calendar id="dtApuracao"
                                        locale="pt_BR"
                                        pattern="dd/MM/yyyy"
                                        title="Informe o período de apuração."
                                        onkeypress="mascara(this, mdata)"
                                        disabled="#{pagamentoControlador.podeEditarGuias()}"
                                        value="#{pagamentoControlador.guiaPagamento.guiaDARF.periodoApuracao}"/>

                            <fc:outputLabelObrigatorio value="Data de Vencimento: "/>
                            <p:calendar id="dtVenc"
                                        locale="pt_BR"
                                        pattern="dd/MM/yyyy"
                                        title="Informe a data de vencimento."
                                        onkeypress="mascara(this, mdata)"
                                        disabled="#{pagamentoControlador.podeEditarGuias()}"
                                        value="#{pagamentoControlador.guiaPagamento.guiaDARF.dataVencimento}"/>

                            <fc:outputLabelObrigatorio value="Valor Principal: "/>
                            <p:inputText title="Informe o valor principal."
                                         value="#{pagamentoControlador.guiaPagamento.guiaDARF.valorPrincipal}"
                                         onkeypress="mascara(this, monetario)"
                                         styleClass="alinhamentoDireita"
                                         converter="#{pagamentoControlador.moneyConverter}"
                                         disabled="#{pagamentoControlador.podeEditarGuias()}">
                                <p:ajax update=":Formulario:tabView:totalGuiaDarf"
                                        event="blur"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        process="@this"/>
                            </p:inputText>

                            <fc:outputLabelObrigatorio value="Valor de Multa: "/>
                            <p:inputText title="Informe o valor de multa"
                                         value="#{pagamentoControlador.guiaPagamento.guiaDARF.valorMulta}"
                                         id="valorMulta"
                                         onkeypress="mascara(this, monetario)"
                                         styleClass="alinhamentoDireita"
                                         converter="#{pagamentoControlador.moneyConverter}"
                                         disabled="#{pagamentoControlador.podeEditarGuias()}">
                                <p:ajax update=":Formulario:tabView:totalGuiaDarf"
                                        event="blur"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        process="@this"/>
                            </p:inputText>

                            <fc:outputLabelObrigatorio value="Valor de Juros: "/>
                            <p:inputText title="Informe o valor de juros."
                                         value="#{pagamentoControlador.guiaPagamento.guiaDARF.valorJuros}"
                                         id="valorJuros"
                                         onkeypress="mascara(this, monetario)"
                                         styleClass="alinhamentoDireita"
                                         converter="#{pagamentoControlador.moneyConverter}"
                                         disabled="#{pagamentoControlador.podeEditarGuias()}">
                                <p:ajax update=":Formulario:tabView:totalGuiaDarf"
                                        event="blur"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        process="@this"/>
                            </p:inputText>

                            <h:outputText value="Valor Total da Guia: "/>
                            <p:outputPanel id="totalGuiaDarf">
                                <h:outputText value="#{pagamentoControlador.guiaPagamento.valorTotalPorGuia}"
                                              styleClass="negrito">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:outputPanel>

                        </h:panelGrid>

                        <p:commandButton disabled="#{pagamentoControlador.podeEditarGuias()}"
                                         rendered="#{pagamentoControlador.mostrarPainelGuiaDARF() and pagamentoControlador.guiaPagamento ne null}"
                                         title="Clique para adicionar uma guia de DARF na lista."
                                         value="Adicionar"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         actionListener="#{pagamentoControlador.adicionarGuiaDARF()}"
                                         update=":Formulario:tabView:guiaDarf :Formulario:tabView:panelInformacoes2 :Formulario:tabView:valoresPagamento"
                                         icon="ui-icon-circle-plus"
                                         styleClass="mtop10 padrao"/>

                        <p:commandButton
                            rendered="#{pagamentoControlador.mostrarPainelGuiaDARF() and pagamentoControlador.guiaPagamento ne null}"
                            title="Clique para cancelar."
                            value="Cancelar"
                            onclick="aguarde.show()"
                            oncomplete="aguarde.hide()"
                            actionListener="#{pagamentoControlador.cancelarGuiaPagamento()}"
                            update=":Formulario:tabView:guiaDarf"
                            icon="ui-icon-cancel"
                            styleClass="mtop10 mlef05 padrao"/>

                        <p:dataTable id="tableDARF"
                                     value="#{pagamentoControlador.selecionado.guiaPagamento}"
                                     rendered="#{pagamentoControlador.mostrarPainelGuiaDARF()}"
                                     var="darf"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop03 mbot10"
                                     paginator="true"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>GUIAS DE DARF&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100">
                            <p:column headerText="Ações" style="text-align: center; width: 10%">
                                <p:commandButton id="btEditarDarf"
                                                 icon="ui-icon-pencil"
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="@this :Formulario:tabView:panelInformacoes2"
                                                 styleClass="mrig05"
                                                 title="Clique para editar este registro."
                                                 disabled="#{pagamentoControlador.podeEditarGuias()}"
                                                 actionListener="#{pagamentoControlador.editarGuiaPagamento(darf)}"
                                                 update=":Formulario:tabView:guiaDarf :Formulario:tabView:panelInformacoes2 :Formulario:tabView:valoresPagamento"/>

                                <p:commandButton icon="ui-icon-trash"
                                                 title="Clique para remover este registro."
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 styleClass="mrig05"
                                                 process="@this"
                                                 disabled="#{pagamentoControlador.podeEditarGuias()}"
                                                 actionListener="#{pagamentoControlador.removerGuiaPagamento(darf)}"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 update=":Formulario:tabView:guiaDarf :Formulario:tabView:tipoDoc :Formulario:tabView:valoresPagamento"/>

                                <p:commandButton id="btImprimirDarf"
                                                 icon="ui-icon-print"
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide();dialogImprimirGuia.show()"
                                                 actionListener="#{pagamentoControlador.prepararGuiaParaImprimir(darf)}"
                                                 rendered="#{pagamentoControlador.podeImprimirGuia(darf)}"
                                                 update=":formDialogGuia"/>
                            </p:column>
                            <p:column headerText="Situação" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{darf.situacaoGuiaPagamento.descricao}"/>
                            </p:column>
                            <p:column headerText="Pessoa" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{darf.codigoIdentificacao} - #{darf.pessoa.nome}"/>
                            </p:column>
                            <p:column headerText="Autenticação" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darf.numeroAutenticacao}"
                                              rendered="#{darf.numeroAutenticacao ne null}"/>
                                <h:outputText value="Não Autenticado" rendered="#{darf.numeroAutenticacao eq null}"/>
                            </p:column>
                            <p:column headerText="Tributo" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darf.guiaDARF.codigoReceitaTributo}"/>
                            </p:column>
                            <p:column headerText="Identificador" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darf.guiaDARF.codigoIdentificacaoTributo}"/>
                            </p:column>
                            <p:column headerText="Referência" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darf.guiaDARF.numeroReferencia}"/>
                            </p:column>
                            <p:column headerText="Pagamento" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{darf.dataPagamento}">
                                    <f:convertDateTime type="date"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Apuração" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{darf.guiaDARF.periodoApuracao}">
                                    <f:convertDateTime type="date"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Vencimento" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{darf.guiaDARF.dataVencimento}">
                                    <f:convertDateTime type="date"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Valor Principal (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darf.guiaDARF.valorPrincipal}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Valor de Multas (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darf.guiaDARF.valorMulta}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Valor de Juros (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darf.guiaDARF.valorJuros}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Total (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darf.valorTotalPorGuia}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                                <f:facet name="footer">
                                    <h:outputText value="Total: " styleClass="negrito"/>
                                    <h:outputText value="#{pagamentoControlador.guiaPagamento.valorTotalGuiasPagamento}"
                                                  styleClass="negrito"
                                                  converter="#{pagamentoControlador.moneyConverter}"/>
                                </f:facet>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>

                    <p:outputPanel id="guiaDarfSimples">
                        <p:commandButton value="Novo"
                                         icon="ui-icon-circle-plus"
                                         rendered="#{pagamentoControlador.mostrarPainelGuiaDARFSimples() and pagamentoControlador.guiaPagamento eq null}"
                                         disabled="#{pagamentoControlador.podeEditarGuias()}"
                                         actionListener="#{pagamentoControlador.novaGuiaPagamento()}"
                                         update=":Formulario:tabView:guiaDarfSimples"
                                         process="@this"
                                         id="btnNovoGuiaDarfSimples"
                                         onstart="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         styleClass="padrao"
                                         title="Clique para adicionar uma nova guia."/>

                        <h:panelGrid columns="2"
                                     rendered="#{pagamentoControlador.mostrarPainelGuiaDARFSimples() and pagamentoControlador.guiaPagamento ne null}">

                            <h:outputText value="Situação: "/>
                            <h:outputText value="#{pagamentoControlador.guiaPagamento.situacaoGuiaPagamento.descricao}"
                                          styleClass="negrito"/>

                            <fc:outputLabelObrigatorio value="Pessoa: "/>
                            <h:panelGroup>
                                <p:autoComplete queryDelay="1000" id="pessoaDarfSimples" size="70"
                                                title="Informe a pessoa."
                                                value="#{pagamentoControlador.guiaPagamento.pessoa}"
                                                completeMethod="#{pagamentoControlador.completaPessoaGuia}"
                                                converter="#{pagamentoControlador.converterPessoaGuia}"
                                                disabled="#{pagamentoControlador.podeEditarGuias()}"
                                                maxResults="10"
                                                styleClass="mrig05"
                                                var="pessoaGuia"
                                                itemValue="#{pessoaGuia.id}"
                                                itemLabel="#{pessoaGuia.nomeAutoComplete}">
                                    <p:ajax event="itemSelect"
                                            update="compCamposPessoaGuiaDarfsimples tipoIdentificacaoGuiaDarfsimples gridCodigoIdentificacaoDarfsimples"
                                            listener="#{pagamentoControlador.definirNullTipoIdentificacaoGuia()}"
                                            onstart="aguarde.show()"
                                            oncomplete="aguarde.hide()"/>
                                </p:autoComplete>

                                <p:outputPanel id="compCamposPessoaGuiaDarfsimples">
                                    <fc:visualizarCampos objeto="#{pagamentoControlador.guiaPagamento.pessoa}"
                                    />
                                </p:outputPanel>
                            </h:panelGroup>

                            <fc:outputLabelObrigatorio value="Tipo de Identificação: "/>
                            <h:selectOneRadio id="tipoIdentificacaoGuiaDarfsimples"
                                              value="#{pagamentoControlador.guiaPagamento.tipoIdentificacaoGuia}">
                                <f:selectItems value="#{pagamentoControlador.tiposIdentificacaoGuia}"/>
                                <p:ajax event="valueChange" update="gridCodigoIdentificacaoDarfsimples"
                                        onstart="aguarde.show()" oncomplete="aguarde.hide()"
                                        listener="#{pagamentoControlador.atribuirCodigoIdentificacao()}"/>
                            </h:selectOneRadio>

                            <fc:outputLabelObrigatorio value="Codigo de Identificação: "/>
                            <h:panelGrid columns="1" id="gridCodigoIdentificacaoDarfsimples">
                                <p:inputText value="#{pagamentoControlador.guiaPagamento.codigoIdentificacao}"
                                             rendered="#{pagamentoControlador.guiaPagamento.tipoIdentificacaoGuia eq 'CEI'}"
                                             disabled="#{pagamentoControlador.podeEditarGuias()}"
                                             title="Informe o código de Identificaçao CEI."
                                             maxlength="14"/>

                                <h:outputText value="#{pagamentoControlador.guiaPagamento.codigoIdentificacao}"
                                              rendered="#{pagamentoControlador.guiaPagamento.tipoIdentificacaoGuia ne 'CEI'
                                              and pagamentoControlador.guiaPagamento.tipoIdentificacaoGuia ne 'IDENTIFICADOR'}"
                                              styleClass="negrito"/>

                                <p:inputMask value="#{pagamentoControlador.guiaPagamento.codigoIdentificacao}"
                                             disabled="#{pagamentoControlador.podeEditarGuias()}"
                                             size="20"
                                             rendered="#{pagamentoControlador.guiaPagamento.tipoIdentificacaoGuia eq 'IDENTIFICADOR'}"
                                             mask="999.999.999.9999-9"
                                             maxlength="18"/>

                            </h:panelGrid>

                            <fc:outputLabelObrigatorio value="Data de Pagamento: "/>
                            <p:calendar id="dtPagamentoDarfS"
                                        locale="pt_BR"
                                        pattern="dd/MM/yyyy"
                                        title="Informe a data de pagamento."
                                        onkeypress="mascara(this, mdata)"
                                        disabled="#{pagamentoControlador.podeEditarGuias()}"
                                        value="#{pagamentoControlador.guiaPagamento.dataPagamento}"/>

                            <fc:outputLabelObrigatorio value="Código da Receita Tributo: "/>
                            <p:inputText
                                value="#{pagamentoControlador.guiaPagamento.guiaDARFSimples.codigoReceitaTributo}"
                                disabled="#{pagamentoControlador.podeEditarGuias()}"
                                id="codReceitaDarfS"
                                title="Informe o código da receita do tributo."
                                maxlength="6"/>

                            <fc:outputLabelObrigatorio value="Código Identificador do Tributo: "/>
                            <p:inputText
                                value="#{pagamentoControlador.guiaPagamento.guiaDARFSimples.codigoIdentificacaoTributo}"
                                disabled="#{pagamentoControlador.podeEditarGuias()}"
                                title="Informe o código identificador do tributo."
                                maxlength="2"/>

                            <fc:outputLabelObrigatorio value="Período de Apuração: "/>
                            <p:calendar locale="pt_BR"
                                        pattern="dd/MM/yyyy"
                                        title="Informe o período de apuração."
                                        onkeypress="mascara(this, mdata)"
                                        disabled="#{pagamentoControlador.podeEditarGuias()}"
                                        value="#{pagamentoControlador.guiaPagamento.guiaDARFSimples.periodoApuracao}"/>

                            <fc:outputLabelObrigatorio value="Valor da Receita Bruta: "/>
                            <p:inputText title="Informe o valor da receita bruta."
                                         disabled="#{pagamentoControlador.podeEditarGuias()}"
                                         value="#{pagamentoControlador.guiaPagamento.guiaDARFSimples.valorReceitaBruta}"
                                         onkeypress="mascara(this, monetario)"
                                         styleClass="alinhamentoDireita"
                                         converter="#{pagamentoControlador.moneyConverter}"/>

                            <fc:outputLabelObrigatorio value="Percentual da Receita Bruta: "/>
                            <p:inputText title="Informe o percentual da receita bruta."
                                         converter="percentualConverter"
                                         styleClass="alinhamentoDireita"
                                         disabled="#{pagamentoControlador.podeEditarGuias()}"
                                         value="#{pagamentoControlador.guiaPagamento.guiaDARFSimples.percentualReceitaBruta}"/>

                            <fc:outputLabelObrigatorio value="Valor Principal: "/>
                            <p:inputText title="Informe o valor principal."
                                         value="#{pagamentoControlador.guiaPagamento.guiaDARFSimples.valorPrincipal}"
                                         id="valorPrincipal"
                                         onkeypress="mascara(this, monetario)"
                                         styleClass="alinhamentoDireita"
                                         converter="#{pagamentoControlador.moneyConverter}"
                                         disabled="#{pagamentoControlador.podeEditarGuias()}">
                                <p:ajax update=":Formulario:tabView:totalGuiaDarfSimples"
                                        event="blur"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        process="@this"/>
                            </p:inputText>

                            <fc:outputLabelObrigatorio value="Valor de Multa: "/>
                            <p:inputText title="Informe o valor de multa"
                                         value="#{pagamentoControlador.guiaPagamento.guiaDARFSimples.valorMulta}"
                                         onkeypress="mascara(this, monetario)"
                                         styleClass="alinhamentoDireita"
                                         id="valorMultaDarfS"
                                         converter="#{pagamentoControlador.moneyConverter}"
                                         disabled="#{pagamentoControlador.podeEditarGuias()}">
                                <p:ajax update=":Formulario:tabView:totalGuiaDarfSimples"
                                        event="blur"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        process="@this"/>
                            </p:inputText>

                            <fc:outputLabelObrigatorio value="Valor de Juros: "/>
                            <p:inputText title="Informe o valor de juros."
                                         value="#{pagamentoControlador.guiaPagamento.guiaDARFSimples.valorJuros}"
                                         onkeypress="mascara(this, monetario)"
                                         styleClass="alinhamentoDireita"
                                         converter="#{pagamentoControlador.moneyConverter}"
                                         disabled="#{pagamentoControlador.podeEditarGuias()}">
                                <p:ajax update=":Formulario:tabView:totalGuiaDarfSimples"
                                        event="blur"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        process="@this"/>
                            </p:inputText>

                            <h:outputText value="Valor Total da Guia: "/>
                            <p:outputPanel id="totalGuiaDarfSimples">
                                <h:outputText value="#{pagamentoControlador.guiaPagamento.valorTotalPorGuia}"
                                              styleClass="negrito">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:outputPanel>

                        </h:panelGrid>

                        <p:commandButton disabled="#{pagamentoControlador.podeEditarGuias()}"
                                         rendered="#{pagamentoControlador.mostrarPainelGuiaDARFSimples() and pagamentoControlador.guiaPagamento ne null}"
                                         title="Clique para adicionar uma guia de DARF na lista."
                                         value="Adicionar"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         actionListener="#{pagamentoControlador.adicionarGuiaDARFSimples}"
                                         update=":Formulario:tabView:guiaDarfSimples :Formulario:tabView:panelInformacoes2 :Formulario:tabView:valoresPagamento"
                                         icon="ui-icon-circle-plus"
                                         styleClass="mtop10 padrao"/>

                        <p:commandButton
                            rendered="#{pagamentoControlador.mostrarPainelGuiaDARFSimples() and pagamentoControlador.guiaPagamento ne null}"
                            title="Clique para cancelar."
                            value="Cancelar"
                            onclick="aguarde.show()"
                            oncomplete="aguarde.hide()"
                            actionListener="#{pagamentoControlador.cancelarGuiaPagamento()}"
                            update=":Formulario:tabView:guiaDarfSimples"
                            icon="ui-icon-cancel"
                            styleClass="mtop10 mlef05 padrao"/>

                        <p:dataTable id="tableDARFSimples"
                                     value="#{pagamentoControlador.selecionado.guiaPagamento}"
                                     rendered="#{pagamentoControlador.mostrarPainelGuiaDARFSimples()}"
                                     var="darfSimples"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop03"
                                     paginator="true"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>GUIAS DE DARF SIMPLES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100">
                            <p:column headerText="Ações" style="text-align: center; width: 10%">
                                <p:commandButton id="btEditarDarfSimples"
                                                 icon="ui-icon-pencil"
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="@this :Formulario:tabView:panelInformacoes2"
                                                 styleClass="mrig05"
                                                 title="Clique para editar este registro."
                                                 disabled="#{pagamentoControlador.podeEditarGuias()}"
                                                 actionListener="#{pagamentoControlador.editarGuiaPagamento(darfSimples)}"
                                                 update=":Formulario:tabView:guiaDarfSimples :Formulario:tabView:panelInformacoes2 :Formulario:tabView:valoresPagamento"/>

                                <p:commandButton icon="ui-icon-trash"
                                                 title="Clique para remover este registro."
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 styleClass="mrig05"
                                                 process="@this"
                                                 disabled="#{pagamentoControlador.podeEditarGuias()}"
                                                 actionListener="#{pagamentoControlador.removerGuiaPagamento(darfSimples)}"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 update=":Formulario:tabView:guiaDarfSimples :Formulario:tabView:tipoDoc :Formulario:tabView:valoresPagamento"/>

                                <p:commandButton id="btImprimirDarfS"
                                                 icon="ui-icon-print"
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide();dialogImprimirGuia.show()"
                                                 actionListener="#{pagamentoControlador.prepararGuiaParaImprimir(darfSimples)}"
                                                 rendered="#{pagamentoControlador.podeImprimirGuia(darfSimples)}"
                                                 update=":formDialogGuia"/>
                            </p:column>
                            <p:column headerText="Situação" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{darfSimples.situacaoGuiaPagamento.descricao}"/>
                            </p:column>
                            <p:column headerText="Pessoa" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{darfSimples.codigoIdentificacao} - #{darfSimples.pessoa.nome}"/>
                            </p:column>
                            <p:column headerText="Autenticação" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darfSimples.numeroAutenticacao}"
                                              rendered="#{darfSimples.numeroAutenticacao ne null}"/>
                                <h:outputText value="Não Autenticado"
                                              rendered="#{darfSimples.numeroAutenticacao eq null}"/>
                            </p:column>
                            <p:column headerText="Receita Tributo" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darfSimples.guiaDARFSimples.codigoReceitaTributo}"/>
                            </p:column>
                            <p:column headerText="Identificador" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darfSimples.guiaDARFSimples.codigoIdentificacaoTributo}"/>
                            </p:column>
                            <p:column headerText="Pagamento" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{darfSimples.dataPagamento}">
                                    <f:convertDateTime type="date"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Apuração" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{darfSimples.guiaDARFSimples.periodoApuracao}">
                                    <f:convertDateTime type="date"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Valor Principal (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darfSimples.guiaDARFSimples.valorPrincipal}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Valor de Multas (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darfSimples.guiaDARFSimples.valorMulta}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Valor de Juros (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darfSimples.guiaDARFSimples.valorJuros}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Total (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darfSimples.valorTotalPorGuia}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                                <f:facet name="footer">
                                    <h:outputText value="Total: " styleClass="negrito"/>
                                    <h:outputText value="#{pagamentoControlador.guiaPagamento.valorTotalGuiasPagamento}"
                                                  styleClass="negrito"
                                                  converter="#{pagamentoControlador.moneyConverter}"/>
                                </f:facet>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>

                    <p:outputPanel id="guiaGRU">
                        <p:commandButton value="Novo"
                                         icon="ui-icon-circle-plus"
                                         rendered="#{pagamentoControlador.mostrarPainelGuiaGRU() and pagamentoControlador.guiaPagamento eq null}"
                                         disabled="#{pagamentoControlador.podeEditarGuias()}"
                                         actionListener="#{pagamentoControlador.novaGuiaPagamento()}"
                                         update=":Formulario:tabView:guiaGRU"
                                         process="@this"
                                         id="btnNovoGuiaGRU"
                                         onstart="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         styleClass="padrao"
                                         title="Clique para adicionar uma nova guia."/>

                        <h:panelGrid columns="2"
                                     rendered="#{pagamentoControlador.mostrarPainelGuiaGRU() and pagamentoControlador.guiaPagamento ne null}">

                            <h:outputText value="Situação: "/>
                            <h:outputText value="#{pagamentoControlador.guiaPagamento.situacaoGuiaPagamento.descricao}"
                                          styleClass="negrito"/>

                            <fc:outputLabelObrigatorio value="Código de Barra: "/>
                            <h:panelGroup>
                                <p:inputMask
                                    value="#{pagamentoControlador.guiaPagamento.guiaGRU.codigoBarra}"
                                    disabled="#{pagamentoControlador.habilitaEditar}"
                                    size="60"
                                    mask="99999999999.9 99999999999.9 99999999999.9 99999999999.9"
                                    maxlength="55"
                                    title="Digite somente números."
                                    id="codigoBarraGRU">
                                    <p:watermark value="Digite somente números." for="codigoBarraGRU"/>
                                    <p:ajax update="valorPrincipalGRU"
                                            event="blur"
                                            process="@this"
                                            onstart="aguarde.show()"
                                            oncomplete="aguarde.hide()"
                                            listener="#{pagamentoControlador.getValorGuiaGRU()}"/>
                                </p:inputMask>
                            </h:panelGroup>

                            <fc:outputLabelObrigatorio value="Código de Reconhecimento: "/>
                            <p:inputText
                                value="#{pagamentoControlador.guiaPagamento.guiaGRU.codigoRecolhimento}"
                                disabled="#{pagamentoControlador.podeEditarGuias()}"
                                id="codReconhecimentoGRU"
                                title="Informe o código de reconhecimento."
                                maxlength="7"/>

                            <fc:outputLabelObrigatorio value="Número de Referência: "/>
                            <p:inputText
                                value="#{pagamentoControlador.guiaPagamento.guiaGRU.numeroReferencia}"
                                disabled="#{pagamentoControlador.podeEditarGuias()}"
                                id="numReferenciaGRU"
                                title="Informe o número de referência."
                                maxlength="20"/>

                            <fc:outputLabelObrigatorio value="Competência: "/>
                            <p:calendar id="dtPagamentoGRU"
                                        locale="pt_BR"
                                        pattern="MM/yyyy"
                                        title="Informe a competencia."
                                        onkeypress="mascara(this, mdataMesAno)"
                                        disabled="#{pagamentoControlador.podeEditarGuias()}"
                                        value="#{pagamentoControlador.guiaPagamento.guiaGRU.competencia}"/>

                            <fc:outputLabelObrigatorio value="Vencimento: "/>
                            <p:calendar locale="pt_BR"
                                        pattern="dd/MM/yyyy"
                                        title="Informe o vencimento."
                                        onkeypress="mascara(this, mdata)"
                                        disabled="#{pagamentoControlador.podeEditarGuias()}"
                                        value="#{pagamentoControlador.guiaPagamento.guiaGRU.vencimento}"/>

                            <fc:outputLabelObrigatorio value="Pessoa: "/>
                            <h:panelGroup>
                                <p:autoComplete queryDelay="1000" id="pessoaGRU" size="70"
                                                title="Informe a pessoa."
                                                value="#{pagamentoControlador.guiaPagamento.pessoa}"
                                                completeMethod="#{pagamentoControlador.completaPessoaGuia}"
                                                converter="#{pagamentoControlador.converterPessoaGuia}"
                                                disabled="#{pagamentoControlador.podeEditarGuias()}"
                                                maxResults="10"
                                                styleClass="mrig05"
                                                var="pessoaGuia"
                                                itemValue="#{pessoaGuia.id}"
                                                itemLabel="#{pessoaGuia.nomeAutoComplete}">
                                    <p:ajax event="itemSelect"
                                            update="compCamposPessoaGuiaGRU"
                                            listener="#{pagamentoControlador.definirNullTipoIdentificacaoGuia()}"
                                            onstart="aguarde.show()"
                                            oncomplete="aguarde.hide()"/>
                                </p:autoComplete>

                                <p:outputPanel id="compCamposPessoaGuiaGRU">
                                    <fc:visualizarCampos objeto="#{pagamentoControlador.guiaPagamento.pessoa}"/>
                                </p:outputPanel>
                            </h:panelGroup>

                            <fc:outputLabelObrigatorio value="UG/Gestão: "/>
                            <p:inputText
                                value="#{pagamentoControlador.guiaPagamento.guiaGRU.ugGestao}"
                                disabled="#{pagamentoControlador.podeEditarGuias()}"
                                title="Informe a UG/Gestão."
                                maxlength="12"/>

                            <fc:outputLabelObrigatorio value="Valor Principal: "/>
                            <p:inputText title="Informe o valor principal."
                                         value="#{pagamentoControlador.guiaPagamento.guiaGRU.valorPrincipal}"
                                         id="valorPrincipalGRU"
                                         onkeypress="mascara(this, monetario)"
                                         styleClass="alinhamentoDireita"
                                         converter="#{pagamentoControlador.moneyConverter}"
                                         disabled="#{pagamentoControlador.podeEditarGuias()}">
                                <p:ajax update=":Formulario:tabView:totalGuiaGRU"
                                        event="blur"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        process="@this"/>
                            </p:inputText>

                            <h:outputText value="Valor Total da Guia: "/>
                            <p:outputPanel id="totalGuiaGRU">
                                <h:outputText value="#{pagamentoControlador.guiaPagamento.valorTotalPorGuia}"
                                              styleClass="negrito">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:outputPanel>

                        </h:panelGrid>

                        <p:commandButton disabled="#{pagamentoControlador.podeEditarGuias()}"
                                         rendered="#{pagamentoControlador.mostrarPainelGuiaGRU() and pagamentoControlador.guiaPagamento ne null}"
                                         title="Clique para adicionar uma guia GRU na lista."
                                         value="Adicionar"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         actionListener="#{pagamentoControlador.adicionarGuiaGRU}"
                                         update=":Formulario:tabView:guiaGRU :Formulario:tabView:panelInformacoes2 :Formulario:tabView:valoresPagamento"
                                         icon="ui-icon-circle-plus"
                                         styleClass="mtop10 padrao"/>

                        <p:commandButton
                            rendered="#{pagamentoControlador.mostrarPainelGuiaGRU() and pagamentoControlador.guiaPagamento ne null}"
                            title="Clique para cancelar."
                            value="Cancelar"
                            onclick="aguarde.show()"
                            oncomplete="aguarde.hide()"
                            actionListener="#{pagamentoControlador.cancelarGuiaPagamento()}"
                            update=":Formulario:tabView:guiaGRU"
                            icon="ui-icon-cancel"
                            styleClass="mtop10 mlef05 padrao"/>

                        <p:dataTable id="tableGRU"
                                     value="#{pagamentoControlador.selecionado.guiaPagamento}"
                                     rendered="#{pagamentoControlador.mostrarPainelGuiaGRU()}"
                                     var="guia"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop03"
                                     paginator="true"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>GUIAS GRU&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100">
                            <p:column headerText="Ações" style="text-align: center; width: 10%">
                                <p:commandButton id="btEditarGRU"
                                                 icon="ui-icon-pencil"
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="@this :Formulario:tabView:panelInformacoes2"
                                                 styleClass="mrig05"
                                                 title="Clique para editar este registro."
                                                 disabled="#{pagamentoControlador.podeEditarGuias()}"
                                                 actionListener="#{pagamentoControlador.editarGuiaPagamento(guia)}"
                                                 update=":Formulario:tabView:guiaGRU :Formulario:tabView:panelInformacoes2 :Formulario:tabView:valoresPagamento"/>

                                <p:commandButton icon="ui-icon-trash"
                                                 title="Clique para remover este registro."
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 styleClass="mrig05"
                                                 process="@this"
                                                 disabled="#{pagamentoControlador.podeEditarGuias()}"
                                                 actionListener="#{pagamentoControlador.removerGuiaPagamento(guia)}"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 update=":Formulario:tabView:guiaGRU :Formulario:tabView:tipoDoc :Formulario:tabView:valoresPagamento"/>

                                <p:commandButton id="btImprimirGRU"
                                                 icon="ui-icon-print"
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide();dialogImprimirGuia.show()"
                                                 actionListener="#{pagamentoControlador.prepararGuiaParaImprimir(guia)}"
                                                 rendered="#{pagamentoControlador.podeImprimirGuia(guia)}"
                                                 update=":formDialogGuia"/>
                            </p:column>
                            <p:column headerText="Situação" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{guia.situacaoGuiaPagamento.descricao}"/>
                            </p:column>
                            <p:column headerText="Autenticação" styleClass="alinhamentoDireita">
                                <h:outputText value="#{guia.numeroAutenticacao}"
                                              rendered="#{guia.numeroAutenticacao ne null}"/>
                                <h:outputText value="Não Autenticado"
                                              rendered="#{guia.numeroAutenticacao eq null}"/>
                            </p:column>
                            <p:column headerText="Código de Barras" styleClass="alinhamentoDireita">
                                <h:outputText value="#{guia.guiaGRU.codigoBarra}"/>
                            </p:column>
                            <p:column headerText="Código de Reconhecimento" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{guia.guiaGRU.codigoRecolhimento}"/>
                            </p:column>
                            <p:column headerText="Número de Referência" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{guia.guiaGRU.numeroReferencia}"/>
                            </p:column>
                            <p:column headerText="Competência" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{guia.guiaGRU.competencia}">
                                    <f:convertDateTime pattern="MM/yyyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Vencimento" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{guia.guiaGRU.vencimento}">
                                    <f:convertDateTime type="date"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Pessoa" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{guia.pessoa.cpf_Cnpj} - #{guia.pessoa.nome}"/>
                            </p:column>
                            <p:column headerText="UG/Gestão" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{guia.guiaGRU.ugGestao}"/>
                            </p:column>
                            <p:column headerText="Valor Principal (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{guia.guiaGRU.valorPrincipal}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                                <f:facet name="footer">
                                    <h:outputText value="Total: " styleClass="negrito"/>
                                    <h:outputText value="#{pagamentoControlador.guiaPagamento.valorTotalGuiasPagamento}"
                                                  styleClass="negrito"
                                                  converter="#{pagamentoControlador.moneyConverter}"/>
                                </f:facet>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>

                    <p:outputPanel id="valoresPagamento">
                        <h:panelGrid columns="15" styleClass="mbot05 mtop05"
                                     rendered="#{pagamentoControlador.renderizarGuias()}">
                            <h:outputText value="Valor do Pagamento: "/>
                            <h:outputText value="#{pagamentoControlador.selecionado.valor}"
                                          converter="#{pagamentoControlador.moneyConverter}"
                                          styleClass="negrito mrig05"/>
                            <h:outputText value="|" styleClass="verdenegrito mrig05"/>

                            <h:outputText value="Valor Final do Pagamento: "/>
                            <h:outputText value="#{pagamentoControlador.selecionado.valorFinal}"
                                          converter="#{pagamentoControlador.moneyConverter}"
                                          styleClass="negrito mrig05"/>
                            <h:outputText value="|" styleClass="verdenegrito mrig05"/>

                            <h:outputText value="Valor Total das Retenções: "/>
                            <h:outputText value="#{pagamentoControlador.somaRetencoes}"
                                          styleClass="negrito mrig05"
                                          converter="#{pagamentoControlador.moneyConverter}"/>
                            <h:outputText value="|" styleClass="verdenegrito mrig05"/>

                            <h:outputText value="Valor Total das Guias: "/>
                            <h:outputText value="#{pagamentoControlador.guiaPagamento.valorTotalGuiasPagamento}"
                                          styleClass="negrito mrig05"
                                          converter="#{pagamentoControlador.moneyConverter}"/>
                            <h:outputText value="|" styleClass="verdenegrito mrig05"/>

                            <h:outputText value="Diferença: "/>
                            <h:outputText
                                value="#{pagamentoControlador.guiaPagamento.calcularDiferencaPagamentoComGuia}"
                                converter="#{pagamentoControlador.moneyConverter}"
                                styleClass="#{pagamentoControlador.guiaPagamento.possuiDiferencaValorPagamentoComGuia() ? 'alinhamentoCentralizado vermelhonegrito' : 'alinhamentoCentralizado verdenegrito'}"/>
                        </h:panelGrid>
                        <hr class="mtop05"/>
                    </p:outputPanel>

                </p:tab>
            </p:tabView>


            <h:panelGrid columns="7" cellspacing="0" cellpadding="0">
                <p:commandButton value="Salvar"
                                 id="cbSalvar"
                                 styleClass="mtop10 mrig05 prioritario"
                                 style="height: 30px;"
                                 icon="ui-icon-disk"
                                 process="@this"
                                 title="Clique para salvar o registro"
                                 actionListener="#{pagamentoControlador.salvar()}"
                                 onclick="aguarde.show()"/>

                <p:commandButton value="Cancelar"
                                 id="cbCancelar"
                                 styleClass="mtop10 mrig05"
                                 style="height: 30px"
                                 icon="ui-icon-cancel"
                                 onclick="aguarde.show()"
                                 oncomplete="aguarde.hide()"
                                 title="Clique para cancelar e retornar a página anterior"
                                 actionListener="#{pagamentoControlador.cancelar()}"
                                 immediate="true"/>

                <fc:botaoTargetBlank label="Imprimir Nota"
                                     actionListener="#{pagamentoControlador.gerarNotaOrcamentaria(false)}"
                                     rendered="#{pagamentoControlador.selecionado.id ne null and !pagamentoControlador.selecionado.pagamentoAberto}"
                                     imprimeNoDialog="true" update="@this"
                                     styleClass="mtop10 mrig05"
                                     style="height: 30px"
                                     icon="ui-icon-print"
                                     title="Clique para imprimir a nota de pagamento."/>

                <p:commandButton value="Download Nota"
                                 title="Clique para fazer o download da nota de pagamento."
                                 ajax="false"
                                 icon="ui-icon-arrowthick-1-s"
                                 rendered="#{pagamentoControlador.selecionado.id ne null and !pagamentoControlador.selecionado.pagamentoAberto}"
                                 styleClass="mtop10 mrig05"
                                 style="height: 30px">
                    <p:fileDownload value="#{pagamentoControlador.gerarNotaOrcamentaria(true)}"/>
                </p:commandButton>

                <fc:botaoTargetBlank label="Prévia do Pagamento"
                                     actionListener="#{pagamentoControlador.gerarRelatorioDaNotaOrcamentaria()}"
                                     rendered="#{pagamentoControlador.selecionado.id ne null and pagamentoControlador.selecionado.pagamentoAberto}"
                                     imprimeNoDialog="true" update="@this"
                                     styleClass="mtop10 mrig05"
                                     style="height: 30px"
                                     icon="ui-icon-print"
                                     title="Clique para visualizar a prévia do pagamento."/>

                <p:commandButton title="Clique para deferir o pagamento"
                                 id="deferir"
                                 value="Deferir"
                                 onclick="atualizarPagamento.show()"
                                 icon="ui-icon-deferir"
                                 styleClass="mtop10 mrig05"
                                 update=":formDeferir"
                                 actionListener="#{pagamentoControlador.prepararPagamentoParaDeferir()}"
                                 style="height: 30px;"
                                 rendered="#{pagamentoControlador.verificaStatusPgto()}"/>


                <p:commandButton title="Clique para indeferir o #{pagamentoControlador.tituloPanelPagamento}"
                                 id="indeferir"
                                 value="Indeferir"
                                 oncomplete="aguarde.hide()"
                                 icon="ui-icon-deferir"
                                 styleClass="mtop10 mrig05"
                                 actionListener="#{pagamentoControlador.indeferirPagamento}"
                                 rendered="#{pagamentoControlador.podeIndeferirPagamento()}"
                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                 style="height: 30px;"
                />

                <co:rodape-conciliar controlador="#{pagamentoControlador}"
                                     mostrarBtBaixar="#{pagamentoControlador.mostrarBotaoBaixar()}"
                                     mostrarBtEstornoBaixa="#{pagamentoControlador.mostrarBotaoEstornarBaixar()}"/>
            </h:panelGrid>
        </h:form>

        <p:dialog widgetVar="dialogRetencao"
                  modal="true"
                  closable="false"
                  showHeader="false"
                  resizable="false"
                  dynamic="true"
                  position="center"
                  style="position: fixed !important;">
            <h:form id="formLancamentoDeRetencao">
                <center>
                    <p:panel header="Lançamento de Retenção" styleClass="mtop05 mbot05">

                        <br/>
                        <h:outputText value="Você não fez lançamentos de retenção, deseja realizar os lançamentos?"/>

                        <h:panelGrid columns="4" styleClass="mtop20 mtop10">
                            <p:commandButton id="botaoSimRetencao"
                                             value="SIM"
                                             icon="ui-icon-check"
                                             styleClass="padrao"
                                             onstart="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             update=":Formulario"
                                             title="Clique para realizar lançamentos de retenção na aba Retenções."
                                             actionListener="#{pagamentoControlador.confirmaLancarRetencao()}"/>

                            <p:commandButton id="botaoNaoRetencao"
                                             value="NÃO"
                                             styleClass="padrao mlef05"
                                             onstart="dialogRetencao.hide();aguarde.show()"
                                             icon="ui-icon-cancel"
                                             title="Clique para não realizar lançamentos de retenção."
                                             actionListener="#{pagamentoControlador.cancelarLancarRetencao()}"/>
                        </h:panelGrid>
                    </p:panel>
                </center>
            </h:form>
        </p:dialog>


        <p:dialog widgetVar="dialogImprimirNota"
                  modal="true"
                  closable="false"
                  resizable="false"
                  showHeader="false"
                  dynamic="true"
                  position="center"
                  style="position: fixed !important; border: 0px">
            <h:form id="formImprimirNota">
                <center>
                    <p:panel id="panelNota" header="Imprimir Nota de #{pagamentoControlador.tituloPanelPagamento}"
                             styleClass="mbot05 mtop05">

                        <br/>
                        <h:outputText value="Deseja imprimir a nota de #{pagamentoControlador.tituloPanelPagamento}?"/>

                        <br/><br/><br/>
                        <h:panelGrid columns="2">
                            <fc:botaoTargetBlank label="SIM"
                                                 actionListener="#{pagamentoControlador.gerarNotaOrcamentaria(false)}"
                                                 imprimeNoDialog="true" update="@this"
                                                 styleClass="mrig05"
                                                 style="margin-top: -5px;height: 30px"
                                                 icon="ui-icon-print"
                                                 title="Clique para imprimir a nota de #{pagamentoControlador.tituloPanelPagamento}"/>

                            <p:commandButton value="NÃO"
                                             icon="ui-icon-cancel"
                                             styleClass="mrig05"
                                             style="margin-top: -5px;height: 30px"
                                             title="Clique para cancelar a impressão."
                                             actionListener="#{pagamentoControlador.cancelaImprimirNota()}"/>

                            <p:remoteCommand name="redirecionar"
                                             actionListener="#{pagamentoControlador.cancelaImprimirNota()}"
                                             onstart="dialogImprimirNota.hide()"/>
                        </h:panelGrid>
                    </p:panel>
                </center>
            </h:form>
        </p:dialog>


        <p:dialog widgetVar="dialogDeferir"
                  modal="true"
                  closable="false"
                  resizable="false"
                  dynamic="true"
                  position="center"
                  onShow="atualizarPagamento.hide()"
                  showHeader="false"
                  style="position: fixed !important;">
            <h:form id="formDeferir">
                <center>
                    <p:panel header="Deferir #{pagamentoControlador.tituloPanelPagamento}"
                             styleClass="mtop05 mbot05">

                        <br/>
                        <h:outputText value="Deseja Deferir(Pagar) o #{pagamentoControlador.tituloPanelPagamento}?"/>

                        <br/><br/>
                        <h:panelGrid columns="2">
                            <h:outputText value="Data do Pagamento: "/>
                            <p:calendar id="dtPagto"
                                        locale="pt_BR"
                                        pattern="dd/MM/yyyy"
                                        navigator="true"
                                        title="Informe a data do Pagamento."
                                        onkeypress="mascara(this, mdata)"
                                        disabled="true"
                                        size="10"
                                        value="#{pagamentoControlador.dataOperacao}"/>
                        </h:panelGrid>

                        <br/>
                        <h:panelGrid columns="4">
                            <p:commandButton id="btSimDeferir"
                                             value="SIM"
                                             title="Clique para deferir o #{pagamentoControlador.tituloPanelPagamento}."
                                             styleClass="padrao"
                                             onclick="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             actionListener="#{pagamentoControlador.deferirPagamento()}"
                                             icon="ui-icon-check"/>

                            <p:commandButton id="btNaoDeferir"
                                             value="NÃO"
                                             styleClass="padrao mlef05"
                                             onclick="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             title="Clique para cancelar a operação."
                                             icon="ui-icon-cancel"
                                             actionListener="#{pagamentoControlador.cancelarDeferirPagamento()}"/>

                        </h:panelGrid>
                    </p:panel>
                </center>
            </h:form>
        </p:dialog>


        <p:dialog widgetVar="dialogContas"
                  modal="true"
                  closable="true"
                  resizable="false"
                  dynamic="true"
                  position="center"
                  style="position: fixed !important;"
                  height="300">
            <h:form id="Formulario-dialogContas">
                <p:outputPanel id="panelDialogContas">

                    <co:titulo-panel
                        titulo="Conta(s) Bancária(s) do Fornecedor do Empenho: #{pagamentoControlador.selecionado.liquidacao.empenho.fornecedor}"/>
                    <p:dataTable id="tableContas"
                                 value="#{pagamentoControlador.contaBancariaPessoaEmpenho()}"
                                 var="con"
                                 rowIndexVar="rowIx"
                                 styleClass="mtop10"
                                 paginator="true"
                                 emptyMessage="Não foram localizados registros para serem apresentados"
                                 rows="10"
                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                 rowsPerPageTemplate="10,25,50,100">
                        <p:column>
                            <p:commandButton icon="ui-icon-check"
                                             styleClass="botao-transparente"
                                             onstart="aguarde.show()"
                                             disabled="#{con.contaCorrenteBancaria.id eq pagamentoControlador.selecionado.contaPgto.id}"
                                             actionListener="#{pagamentoControlador.selecionarContaBancaria(con)}"
                                             title="Clique para selecionar a conta bancária."
                                             onclick="dialogContas.hide();"
                                             oncomplete="aguarde.hide()"
                                             update=":Formulario:tabView:panelInformacoes2"/>
                        </p:column>
                        <p:column headerText="Número da Conta"
                                  filterBy="#{con.contaCorrenteBancaria.numeroConta} - #{con.contaCorrenteBancaria.digitoVerificador}"
                                  sortBy="#{con.contaCorrenteBancaria.numeroConta} - #{con.contaCorrenteBancaria.digitoVerificador}"
                                  filterMatchMode="contains">
                            <h:outputText
                                value="#{con.contaCorrenteBancaria.numeroConta} - #{con.contaCorrenteBancaria.digitoVerificador}"/>
                        </p:column>
                        <p:column headerText="Agência"
                                  filterBy="#{con.contaCorrenteBancaria.agencia}"
                                  sortBy="#{con.contaCorrenteBancaria.agencia}"
                                  filterMatchMode="contains">
                            <h:outputText value="#{con.contaCorrenteBancaria.agencia}"/>
                        </p:column>
                        <p:column headerText="Banco"
                                  filterBy="#{con.contaCorrenteBancaria.agencia.banco}"
                                  sortBy="#{con.contaCorrenteBancaria.agencia.banco}"
                                  filterMatchMode="contains">
                            <h:outputText value="#{con.contaCorrenteBancaria.agencia.banco}"/>
                        </p:column>
                        <p:column headerText="Situação">
                            <h:outputText value="#{con.contaCorrenteBancaria.situacao}"/>
                        </p:column>
                        <p:column headerText="Modalidade">
                            <h:outputText value="#{con.contaCorrenteBancaria.modalidadeConta.descricao}"/>
                        </p:column>
                    </p:dataTable>
                </p:outputPanel>
            </h:form>
        </p:dialog>


        <p:dialog widgetVar="dialog"
                  modal="true"
                  resizable="false"
                  closable="true"
                  position="center"
                  style="position: fixed !important;"
                  width="1000" height="540">
            <h:form id="Formulario-dialog">
                <p:panel id="panelDialogLiquidacao" styleClass="mtop05">

                    <fc:pesquisaGenerico id="lista"
                                         caminhoAtual="edita"
                                         caminhoControlador="#{pagamentoControlador.caminho}"
                                         nomeDaClasse="Liquidacao"
                                         nomeDaTela="#{pagamentoControlador.tituloLiquidacao}"
                                         dialog="true"
                                         pretty="true"
                                         iconmSelecionar="check-icon.png"
                                         novo="#{pagamentoControlador.novo()}"
                                         selecionar="#{pagamentoControlador.selecionarLiquidacao}"
                                         mostrarHistorico="false"
                                         mostrarBotaoNovo="false"
                                         mostrarBotaoImprimirRelatorioUnicoRegistro="false"
                                         mostrarBotaoImprimirRelatorioTabela="false"
                                         mostrarBotaoEditarConfiguracaoRelatorio="false"
                                         updateSelecionarTabela="@form"
                                         meuControlador="#{pagamentoLiquidacaoPesquisaGenerica}"
                                         mensagemFiltrosPadraoPesquisa="Filtrando por Unidade Logada"
                                         pesquisaNoEnter="false"/>
                </p:panel>
            </h:form>
        </p:dialog>

        <p:dialog widgetVar="dialogFinalidade"
                  modal="true"
                  closable="true"
                  resizable="true"
                  dynamic="true"
                  width="800"
                  height="500"
                  position="center"
                  style="position: fixed !important;"
        >
            <h:form id="Formulario-dialogFinalidade">
                <p:panel>
                    <fc:pesquisaGenerico
                        selecionar="#{pagamentoControlador.setarFinalidade}"
                        updateSelecionarTabela=":Formulario"
                        id="componentePesquisaFinalidade"
                        nomeDaClasse="FinalidadePagamento"
                        guardarNaSessao="false"
                        actionSelecionar="#{pagamentoControlador.actionSelecionar()}"
                        novo="#{pessoaTributarioControlador.novaPessoaFisica()}"
                        caminhoAtual="listatributario"
                        caminhoControlador="#{pagamentoControlador.caminho}"
                        mostrarBotaoNovo="false"
                        mostrarBotaoImprimirRelatorioTabela="false"
                        mostrarHistorico="false"
                        pesquisaNoEnter="false"
                        iconmSelecionar="check-icon.png"
                        mostrarBotaoImprimirRelatorioUnicoRegistro="false"
                        pretty="true"
                        dialog="true"
                        mostrarBotaoEditarConfiguracaoRelatorio="false"/>
                </p:panel>
            </h:form>
        </p:dialog>

        <p:dialog widgetVar="dialogPesquisarPessoa"
                  modal="true"
                  width="1000"
                  position="center"
                  style="position: fixed !important;"
                  resizable="true"
                  closable="true"
                  height="550">
            <h:form id="FormularioPesquisarPessoa">
                <p:panel>
                    <fc:pesquisaGenerico
                        selecionar="#{pagamentoControlador.setarPessoa}"
                        updateSelecionarTabela="panelPessoaRetencao"
                        id="componentePesquisaGenerico"
                        nomeDaClasse="Pessoa"
                        guardarNaSessao="false"
                        actionSelecionar="#{pagamentoControlador.actionSelecionar()}"
                        novo="#{pessoaTributarioControlador.novaPessoaFisica()}"
                        caminhoAtual="listatributario"
                        caminhoControlador="#{pessoaTributarioControlador.caminho}"
                        mostrarBotaoNovo="false"
                        mostrarBotaoImprimirRelatorioTabela="false"
                        mostrarHistorico="false"
                        utilizarTabelaPessoa="true"
                        pesquisaNoEnter="false"
                        mostrarOrdenacao="false"
                        iconmSelecionar="check-icon.png"
                        mostrarBotaoImprimirRelatorioUnicoRegistro="false"
                        pretty="true"
                        dialog="true"
                        mostrarBotaoEditarConfiguracaoRelatorio="false"
                        meuControlador="#{pessoaPesquisaGenerico}"/>
                </p:panel>
            </h:form>
        </p:dialog>

        <p:dialog widgetVar="dialogImprimirGuia"
                  modal="true"
                  closable="false"
                  resizable="false"
                  height="550"
                  width="420"
                  header="#{pagamentoControlador.headerDialogGuia()}"
                  dynamic="true"
                  position="center"
                  style="position: fixed !important;">
            <h:form id="formDialogGuia">
                <p:panel styleClass="mtop05 mbot05">
                    <div align="center">
                        <img src="#{pagamentoControlador.guiaPagamentoItem.imagem}"
                             title="Imagem"/>
                    </div>
                    <div class="alert-success mtop05 " align="left" style="font-size: 13px">
                        <h:outputText value="Pagamento Realizado"/>
                    </div>
                    <h:panelGrid columns="1" styleClass="mtop05">
                        <h:outputText value="Valor do Pagamento"
                                      rendered="#{pagamentoControlador.renderizarGuiaNaoConvenio()}"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.valorPago}"
                                      rendered="#{pagamentoControlador.renderizarGuiaNaoConvenio()}"
                                      styleClass="negrito">
                            <f:convertNumber type="currency"/>
                        </h:outputText>
                        <br/>
                        <h:outputText value="de"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.pessoaPagamento}"
                                      styleClass="negrito"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.banco}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoControlador.renderizarGpsDarfDarfSimples()}"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.agencia}"
                                      styleClass="negrito"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.contaCorrente}"
                                      styleClass="negrito"/>
                        <br/>
                        <h:outputText value="para"/>
                        <h:outputText value="Código de Barras"
                                      rendered="#{pagamentoControlador.renderizarGuiaComCodigoBarras()}"/>
                        <h:outputText value="Pessoa"
                                      rendered="#{!pagamentoControlador.renderizarGuiaComCodigoBarras()}"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.codigoBarrasOrPessoa}"
                                      styleClass="negrito"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.tipoCodigoIdentificador}: "
                                      rendered="#{!pagamentoControlador.renderizarGuiaComCodigoBarras() and !pagamentoControlador.mostrarPainelGuiaGRU()}"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.codigoIndentificador}"
                                      rendered="#{!pagamentoControlador.renderizarGuiaComCodigoBarras() and !pagamentoControlador.mostrarPainelGuiaGRU()}"
                                      styleClass="negrito"/>
                        <h:outputText value="Situação"
                                      rendered="#{pagamentoControlador.renderizarGpsDarfDarfSimples()}"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.situacao}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoControlador.renderizarGpsDarfDarfSimples()}"/>
                        <h:outputText value="Código da Receita Tributo"
                                      rendered="#{pagamentoControlador.renderizarGpsDarfDarfSimples()}"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.codigoReceita}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoControlador.renderizarGpsDarfDarfSimples()}"/>
                        <h:outputText value="Código Identificador do Tributo"
                                      rendered="#{pagamentoControlador.renderizarGpsDarfDarfSimples()}"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.codigoIdentificacaoTributo}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoControlador.renderizarGpsDarfDarfSimples()}"/>

                        <h:outputText value="Valor Principal"
                                      rendered="#{pagamentoControlador.renderizarDarfDarfSimples() or pagamentoControlador.mostrarPainelGuiaGRU()}"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.valorGuia}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoControlador.renderizarDarfDarfSimples() or pagamentoControlador.mostrarPainelGuiaGRU()}">
                            <f:convertNumber type="currency"/>
                        </h:outputText>
                        <h:outputText value="Valor da Multa"
                                      rendered="#{pagamentoControlador.renderizarDarfDarfSimples()}"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.valorMulta}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoControlador.renderizarDarfDarfSimples()}">
                            <f:convertNumber type="currency"/>
                        </h:outputText>
                        <h:outputText value="Valor do Juros"
                                      rendered="#{pagamentoControlador.renderizarDarfDarfSimples()}"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.valorJuros}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoControlador.renderizarDarfDarfSimples()}">
                            <f:convertNumber type="currency"/>
                        </h:outputText>
                        <h:outputText value="Competência"
                                      rendered="#{pagamentoControlador.renderizarCamposGuiaGps()}"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.competencia}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoControlador.renderizarCamposGuiaGps()}">
                            <f:convertDateTime type="date" pattern="dd/MM/yyyy"/>
                        </h:outputText>
                        <h:outputText value="Valor Previsto INSS"
                                      rendered="#{pagamentoControlador.renderizarCamposGuiaGps()}"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.valorGuia}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoControlador.renderizarCamposGuiaGps()}">
                            <f:convertNumber type="currency"/>
                        </h:outputText>
                        <h:outputText value="Valor de Outras Entidades"
                                      rendered="#{pagamentoControlador.renderizarCamposGuiaGps()}"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.valorOutra}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoControlador.renderizarCamposGuiaGps()}">
                            <f:convertNumber type="currency"/>
                        </h:outputText>
                        <h:outputText value="Atualização Monetária"
                                      rendered="#{pagamentoControlador.renderizarCamposGuiaGps()}"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.atualizacaoMonetaria}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoControlador.renderizarCamposGuiaGps()}">
                            <f:convertNumber type="currency"/>
                        </h:outputText>
                        <h:outputText value="Período de Apuração"
                                      rendered="#{pagamentoControlador.renderizarDarfDarfSimples()}"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.periodoApuracao}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoControlador.renderizarDarfDarfSimples()}">
                            <f:convertDateTime type="date" pattern="dd/MM/yyyy"/>
                        </h:outputText>
                        <h:outputText value="Número de Referência"
                                      rendered="#{pagamentoControlador.renderizarCamposGuiaDarf()}"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.numeroReferencia}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoControlador.renderizarCamposGuiaDarf()}"/>
                        <h:outputText value="Data de Vencimento"
                                      rendered="#{pagamentoControlador.renderizarCamposGuiaDarf()}"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.dataVencimento}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoControlador.renderizarCamposGuiaDarf()}">
                            <f:convertDateTime type="date" pattern="dd/MM/yyyy"/>
                        </h:outputText>
                        <h:outputText value="Valor da Receita Bruta"
                                      rendered="#{pagamentoControlador.renderizarCamposGuiaDarfSimples()}"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.valorReceitaBruta}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoControlador.renderizarCamposGuiaDarfSimples()}">
                            <f:convertNumber type="currency"/>
                        </h:outputText>
                        <h:outputText value="Percentual da Receita Bruta"
                                      rendered="#{pagamentoControlador.renderizarCamposGuiaDarfSimples()}"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.percentualReceitaBruta}"
                                      styleClass="negrito"
                                      converter="percentualConverter"
                                      rendered="#{pagamentoControlador.renderizarCamposGuiaDarfSimples()}">
                        </h:outputText>
                        <h:outputText value="Realizado em"
                                      rendered="#{pagamentoControlador.renderizarGuiaNaoConvenio()}"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.dataPagamentoGuia}"
                                      rendered="#{pagamentoControlador.renderizarGuiaNaoConvenio()}"
                                      styleClass="negrito">
                            <f:convertDateTime type="date" pattern="dd/MM/yyyy"/>
                        </h:outputText>
                        <hr class="mtop02 mbot05" style="width: 100%"/>
                        <h:outputText value="Controle"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.numeroPagamento}"
                                      styleClass="negrito"/>
                        <h:outputText value="Autenticação"/>
                        <h:outputText value="#{pagamentoControlador.guiaPagamentoItem.autenticacao}"
                                      styleClass="negrito"/>
                    </h:panelGrid>
                </p:panel>
                <fc:botaoTargetBlank
                    actionListener="#{pagamentoControlador.imprimirGuiaPagamento(pagamentoControlador.guiaPagamentoItem)}"
                    styleClass="padrao mrig05 mtop05"
                    imprimeNoDialog="true"
                    label="Imprimir"/>
                <p:commandButton id="btCancelarGuia"
                                 value="Fechar"
                                 icon="ui-icon-close"
                                 styleClass="padrao mtop05"
                                 actionListener="#{pagamentoControlador.setarNullGuiaPagamentoItem()}"
                                 onstart="aguarde.show()"
                                 oncomplete="aguarde.hide();dialogImprimirGuia.hide()"
                                 title="Clique para fechar a janela."/>

            </h:form>
        </p:dialog>
        <p:dialog widgetVar="dialogMsgBloqueio"
                  modal="true"
                  closable="false"
                  resizable="false"
                  position="center"
                  showHeader="false"
                  dynamic="true"
                  style="position: fixed !important;">
            <h:form id="formMsgBloqueio">
                <center>
                    <p:panel id="panelMgsBloqueio" styleClass="mtop05 mbot05">
                        <div class="alert alert-error">
                            <h:outputText
                                value="O Pagamento:  #{pagamentoControlador.selecionado} está sendo deferido por outro usuário. Caso o problema persistir, selecione novamente o pagamento."/>
                        </div>
                        <h:panelGrid columns="2">
                            <p:commandButton id="btMsgBloqueio"
                                             value="Confirmar"
                                             onstart="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             styleClass="padrao mtop10"
                                             title="Clique para redirecionar para lista."
                                             icon="ui-icon-check"
                                             actionListener="#{pagamentoControlador.cancelaImprimirNota()}"/>
                        </h:panelGrid>
                    </p:panel>
                </center>
            </h:form>
        </p:dialog>

        <fc:aguarde widgetVar="atualizarPagamento"
                    texto="Por favor aguarde, preparando pagamento para deferir..."
                    gif="/resources/images/ajaxloading.gif"/>

    </ui:define>
</ui:composition>
</html>
