<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PT"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:fc="http://java.sun.com/jsf/composite/components"
      xmlns:co="http://java.sun.com/jsf/composite/components/contabil"
      xmlns:p="http://primefaces.org/ui"
    >
<ui:composition template="/corpo.xhtml">
<ui:define name="body">

<h:form id="Formulario">

<script type="text/javascript">
    function posicionarDivInformacao(id) {
        var divInfo = document.getElementById(id);
        var left = parseInt(divInfo.offsetLeft);
        left += 180;
        divInfo.style.left = ''.concat(left, 'px');
    }
</script>

<p:remoteCommand name="limparContaFinanceira"
                 process="@this"
                 update=":Formulario:tabGeral:completaContaFinanceria :Formulario:tabGeral:completaContaBanc">
    <f:setPropertyActionListener value="#{null}"
                                 target="#{estornoReceitaAgrupadoConsolidadoControlador.contaBancariaEntidade}"/>

    <f:setPropertyActionListener value="#{null}"
                                 target="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.contaFinanceira}"/>
</p:remoteCommand>

<p:remoteCommand name="limparContaReceita"
                 process="@this"
                 update=":Formulario:tabGeral:evento :Formulario:tabGeral:tipoContaReceita :Formulario:tabGeral:receitaLOA :Formulario:tabGeral:tipoContaReceita2">
    <f:setPropertyActionListener value="#{null}"
                                 target="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.receitaLOA}"/>

    <f:setPropertyActionListener value="#{null}"
                                 target="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.eventoContabil}"/>

    <f:setPropertyActionListener value="#{null}"
                                 target="#{estornoReceitaAgrupadoConsolidadoControlador.tiposCredito}"/>

    <f:setPropertyActionListener value="#{null}"
                                 target="#{estornoReceitaAgrupadoConsolidadoControlador.hierarquiaOrganizacional}"/>
</p:remoteCommand>

<p:remoteCommand name="limparClasseCredor"
                 process="@this"
                 update=":Formulario:tabGeral:classeCredor">
    <f:setPropertyActionListener value="#{null}"
                                 target="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.pessoa}"/>

    <f:setPropertyActionListener value="#{null}"
                                 target="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.classeCredor}"/>
</p:remoteCommand>



<p:remoteCommand name="limparTipoContaEvento"
                 process="@this"
                 update=":Formulario:tabGeral:tipoContaReceita :Formulario:tabGeral:tipoContaReceita2 :Formulario:tabGeral:evento
                         :Formulario:tabGeral:btCalcular :formConjFontes :Formulario:tabGeral:completaContaFinanceria :Formulario:tabGeral:completaContaBanc">
    <f:setPropertyActionListener value="#{null}"
                                 target="#{estornoReceitaAgrupadoConsolidadoControlador.tiposCredito}"/>

    <f:setPropertyActionListener value="#{null}"
                                 target="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.eventoContabil}"/>

    <f:setPropertyActionListener value="#{null}"
                                 target="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.receitaLOA}"/>

    <f:setPropertyActionListener value="#{null}"
                                 target="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.contaFinanceira}"/>

    <f:setPropertyActionListener value="#{null}"
                                 target="#{estornoReceitaAgrupadoConsolidadoControlador.contaBancariaEntidade}"/>
</p:remoteCommand>


<p:tabView id="tabGeral">
    <p:tab title="Estorno de Receita Realizada Consolidado">
        <h:panelGrid columns="2" cellpadding="1" id="dataGridEstorno">
            <h:outputText value="Data do Estorno: "/>
            <p:calendar title="Selecione a data do estorno."
                        id="dataEstorno"
                        size="21"
                        disabled="true"
                        navigator="true"
                        value="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.dataEstorno}"
                        pattern="dd/MM/yyyy"
                        onkeypress="mascara(this, mdata)">
                <p:ajax event="dateSelect"/>
                <p:ajax event="valueChange"/>
            </p:calendar>

            <h:outputText for="dataConciliacao" value="Data de Conciliação: "/>
            <p:calendar title="Informe a Data de Conciliação"
                        value="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.dataConciliacao}"
                        id="dataConciliacao"
                        onkeyup="mascara(this, mdata)"
                        size="21"
                        navigator="true"
                        pattern="dd/MM/yyyy"
                        locale="pt_BR"/>

            <fc:outputLabelObrigatorio value="Unidade Organizacional: "/>
            <p:autoComplete queryDelay="1000"
                            value="#{estornoReceitaAgrupadoConsolidadoControlador.hierarquiaOrganizacional}"
                            converter="#{estornoReceitaAgrupadoConsolidadoControlador.converterUnidadeOrganizacional}"
                            completeMethod="#{estornoReceitaAgrupadoConsolidadoControlador.completaUnidade}"
                            var="un"
                            itemLabel="#{un}"
                            itemValue="#{un.id}"
                            onkeyup="if(keyUpCampoVazio(this)){limparContaReceita()}"
                            forceSelection="true"
                            size="70"
                            title="Selecione uma unidade organizacional."
                            maxResults="10">
                <p:ajax event="itemSelect"
                        process="@this"
                        onstart="aguarde.show()"
                        oncomplete="aguarde.hide()"
                        update=":Formulario:tabGeral:evento :Formulario:tabGeral:tipoContaReceita :Formulario:tabGeral:tipoContaReceita2 :Formulario:tabGeral:receitaLOA"
                        listener="#{estornoReceitaAgrupadoConsolidadoControlador.adicionaUnidadeHierarquiaSelecionada}"/>
            </p:autoComplete>

            <fc:outputLabelObrigatorio value="Operação: " for="operacao"/>
            <h:selectOneMenu id="operacao"
                             value="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.operacaoReceitaRealizada}"
                             title="Selecione uma operação.">
                <p:ajax event="change"
                        update=":Formulario:tabGeral:evento :Formulario:tabGeral:tipoContaReceita :Formulario:tabGeral:receitaLOA"
                        process="@this"
                        onstart="aguarde.show()"
                        oncomplete="aguarde.hide()"
                        listener="#{estornoReceitaAgrupadoConsolidadoControlador.definirEventoAndFiltroContaReceita()}"/>
                <f:selectItems value="#{lancamentoReceitaOrcControlador.listaOperacoesReceitaRealizada}"/>
            </h:selectOneMenu>

            <fc:outputLabelObrigatorio for="receitaLOA" value="Conta de Receita: "/>
            <h:panelGrid cellspacing="0" cellpadding="0" columns="3">
                <p:autoComplete queryDelay="1000"
                                title="Selecione uma Conta de Receita"
                                id="receitaLOA"
                                completeMethod="#{estornoReceitaAgrupadoConsolidadoControlador.completarReceitaLOA}"
                                converter="#{estornoReceitaAgrupadoConsolidadoControlador.converterReceitaLOA}"
                                value="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.receitaLOA}"
                                disabled="#{estornoReceitaAgrupadoConsolidadoControlador.hierarquiaOrganizacional eq null}"
                                var="rec"
                                maxResults="10"
                                itemLabel="#{rec.contaDeReceita}"
                                itemValue="#{rec.id}"
                                size="70"
                                onkeyup="if(keyUpCampoVazio(this)){limparTipoContaEvento()}">
                    <p:ajax update=":Formulario:tabGeral:evento :Formulario:tabGeral:tipoContaReceita :Formulario:tabGeral:btCalcular :Formulario:tabGeral:btCalcular
                            :Formulario:tabGeral:tipoContaReceita2 :Formulario:tabGeral:botaoVisualizarDetalhesReceitaLoa :formConjFontes
                            :Formulario:tabGeral:completaContaFinanceria :Formulario:tabGeral:completaContaBanc :Formulario:tabGeral:fontesReceitaLoa :Formulario:tabGeral:bt-info-fontes"
                            event="itemSelect"
                            onstart="aguarde.show()"
                            oncomplete="aguarde.hide()"
                            listener="#{estornoReceitaAgrupadoConsolidadoControlador.setarReceitaLOA}"/>
                </p:autoComplete>

                <p:outputPanel id="botaoVisualizarDetalhesReceitaLoa" styleClass="mlef05">
                    <p:commandButton icon="ui-icon-clipboard"
                                     title="Clique para visualizar detalhes."
                                     onstart="aguarde.show()"
                                     oncomplete="detalhesReceitaLoa.show();aguarde.hide()"
                                     actionListener="#{estornoReceitaAgrupadoConsolidadoControlador.recuperarReceitaLOA()}"
                                     disabled="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.receitaLOA eq null}"
                                     update=":FormularioDetalhesReceitaLoa:panelDetalhesReceitaLoa"
                                     process="@this"/>
                </p:outputPanel>

                <p:commandButton process="@this"
                                 update="@none"
                                 oncomplete="painelInformacoes.show()"
                                 rendered="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.id eq null}"
                                 disabled="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.receitaLOA eq null}"
                                 styleClass="mlef05 mrig05"
                                 id="bt-info-fontes"
                                 title="Clique para visualizar as fontes da receita loa."
                                 icon="ui-icon-lista"/>

                <p:overlayPanel for="bt-info-fontes"
                                at="left top"
                                my="right top"
                                onShow="posicionarDivInformacao(this.id)"
                                widgetVar="painelInformacoes"
                                style="border : solid #497692 1px;"
                                styleClass="semSombra">

                    <p:dataList id="fontesReceitaLoa"
                                var="f"
                                value="#{estornoReceitaAgrupadoConsolidadoControlador.fonteRecursoPorConjuntoFontes}"
                                styleClass="mtop03 mbot03 semBorda">
                        <f:facet name="header">
                            <h:outputText value="Fonte de Recursos"/>
                        </f:facet>
                        <p:column style="text-align: left">
                            <h:outputText value="#{f}"/>
                        </p:column>
                    </p:dataList>

                </p:overlayPanel>

            </h:panelGrid>

            <p:outputPanel id="tipoContaReceita">
                <h:outputText value="Tipo Conta de Receita: "
                              rendered="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.receitaLOA ne null}"/>
            </p:outputPanel>

            <p:outputPanel columns="2" id="tipoContaReceita2">
                <h:outputText value="#{estornoReceitaAgrupadoConsolidadoControlador.tiposCredito.descricao}"
                              styleClass="negrito"
                              rendered="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.receitaLOA ne null}"/>
            </p:outputPanel>

            <h:outputText id="textEvento" value="Evento Contábil: "/>
            <h:outputText id="evento"
                          value="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.eventoContabil.id eq null ? 'Nenhum evento encontrado.' : estornoReceitaAgrupadoConsolidadoControlador.selecionado.eventoContabil}"
                          styleClass="negrito"/>

            <h:outputText value="Data de Referência: "/>
            <p:calendar title="Informe a Data de Conciliação"
                        value="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.dataReferencia}"
                        id="dataReferencia"
                        onkeyup="mascara(this, mdata)"
                        size="21"
                        navigator="true"
                        pattern="dd/MM/yyyy"
                        locale="pt_BR"/>

            <h:outputText value="Conta Bancária: "/>
            <p:autoComplete queryDelay="1000"
                            title="Selecione uma conta bancária."
                            id="completaContaBanc"
                            completeMethod="#{estornoReceitaAgrupadoConsolidadoControlador.completaContaBancaria}"
                            converter="#{estornoReceitaAgrupadoConsolidadoControlador.converterContaBancaria}"
                            value="#{estornoReceitaAgrupadoConsolidadoControlador.contaBancariaEntidade}"
                            disabled="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.receitaLOA eq null}"
                            var="banc"
                            maxResults="10"
                            itemLabel="#{banc.toStringAutoCompleteContaBancaria()}"
                            itemValue="#{banc.id}"
                            size="70"
                            onkeyup="if(keyUpCampoVazio(this)){(limparContaFinanceira());}">
                <p:ajax update=":Formulario:tabGeral:completaContaFinanceria"
                        process="@this"
                        event="itemSelect"
                        onstart="aguarde.show()"
                        oncomplete="aguarde.hide();setaFoco('Formulario:tabGeral:completaContaFinanceria_input')"/>
            </p:autoComplete>

            <fc:outputLabelObrigatorio value="Conta Financeira: "/>
            <h:panelGrid id="panelContaFinanceira" columns="4" cellpadding="0" cellspacing="0">
                <p:autoComplete queryDelay="1000"
                                id="completaContaFinanceria"
                                size="70"
                                title="Selecione uma conta financeira."
                                disabled="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.receitaLOA eq null}"
                                value="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.contaFinanceira}"
                                completeMethod="#{estornoReceitaAgrupadoConsolidadoControlador.completaContaFinanceira}"
                                converter="#{estornoReceitaAgrupadoConsolidadoControlador.converterContaFinanceira}"
                                maxResults="10"
                                var="sub"
                                itemValue="#{sub.id}"
                                itemLabel="#{sub.toStringAutoCompleteContaFinanceira()}">
                    <p:ajax event="itemSelect"
                            update=":Formulario:tabGeral:completaContaBanc :Formulario:tabGeral:fontesSubConta
                            :Formulario:tabGeral:botaoVisualizarDetalhesContaFinanceira :Formulario:tabGeral:bt-info-fontes-sub "
                            process="@this"
                            onstart="aguarde.show()"
                            oncomplete="aguarde.hide();panelFonteSubConta.show();setaFoco('Formulario:pessoa_input')"
                            listener="#{estornoReceitaAgrupadoConsolidadoControlador.setaContaBancariaEContaFianceira()}"/>
                </p:autoComplete>
                <p:watermark value="Filtra por fontes da receita loa" for="completaContaFinanceria" />

                <p:outputPanel id="botaoVisualizarDetalhesContaFinanceira" styleClass="mlef05">
                    <p:commandButton icon="ui-icon-clipboard"
                                     title="Clique para visualizar detalhes da conta financeira."
                                     onstart="aguarde.show()"
                                     oncomplete="detalhesContaFinanceira.show();aguarde.hide()"
                                     actionListener="#{estornoReceitaAgrupadoConsolidadoControlador.recuperarContaFinanceira()}"
                                     disabled="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.contaFinanceira eq null}"
                                     update=":FormularioDetalhesContaFinanceira:panelDetalhesContaFinanceira"
                                     process="@this"/>
                </p:outputPanel>

                <p:commandButton process="@this"
                                 update="@none"
                                 oncomplete="panelFonteSubConta.show()"
                                 rendered="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.id eq null}"
                                 disabled="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.contaFinanceira eq null}"
                                 styleClass="mlef05 mrig05"
                                 id="bt-info-fontes-sub"
                                 title="Clique para visualizar as fontes da conta financeira."
                                 icon="ui-icon-lista"/>

                <p:overlayPanel for="bt-info-fontes-sub"
                                at="left top"
                                my="right top"
                                onShow="posicionarDivInformacao(this.id)"
                                widgetVar="panelFonteSubConta"
                                style="border : solid #497692 1px;"
                                styleClass="semSombra">

                    <p:dataList id="fontesSubConta"
                                var="fr"
                                value="#{estornoReceitaAgrupadoConsolidadoControlador.fontesRecursoSubConta}"
                                styleClass="mtop03 mbot03 semBorda">
                        <f:facet name="header">
                            <h:outputText value="Fonte de Recursos"/>
                        </f:facet>
                        <p:column style="text-align: left">
                            <h:outputText value="#{fr}"/>
                        </p:column>
                    </p:dataList>

                </p:overlayPanel>
            </h:panelGrid>

            <fc:outputLabelObrigatorio for="pessoa" value="Pessoa: "/>
            <h:panelGroup id="panelPessoa">
                <p:autoComplete queryDelay="1000"
                                title="Selecione uma Pessoa"
                                id="pessoa"
                                styleClass="mrig05"
                                forceSelection="true"
                                completeMethod="#{estornoReceitaAgrupadoConsolidadoControlador.completaPessoa}"
                                converter="#{estornoReceitaAgrupadoConsolidadoControlador.converterPessoa}"
                                value="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.pessoa}"
                                var="p"
                                maxResults="10"
                                itemLabel="#{p.nomeAutoComplete}"
                                itemValue="#{p.id}"
                                size="70"
                                onkeyup="if(keyUpCampoVazio(this)){limparClasseCredor();}">
                    <p:ajax update=":Formulario:tabGeral:classeCredor compCamposPessoa"
                            event="itemSelect"
                            onstart="aguarde.show()"
                            oncomplete="aguarde.hide();setaFoco('Formulario:tabGeral:classeCredor_input')"
                            listener="#{estornoReceitaAgrupadoConsolidadoControlador.setaPessoa}"/>
                </p:autoComplete>

                <p:outputPanel id="compCamposPessoa">
                    <fc:visualizarCampos objeto="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.pessoa}"/>
                </p:outputPanel>
            </h:panelGroup>

            <fc:outputLabelObrigatorio for="classeCredor" value="Classe: "/>
            <p:outputPanel id="panelClasseCredor">
                <p:autoComplete queryDelay="1000"
                                id="classeCredor"
                                size="70"
                                title="Informe a classe."
                                disabled="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.pessoa eq null}"
                                value="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.classeCredor}"
                                completeMethod="#{estornoReceitaAgrupadoConsolidadoControlador.completaClasseCredor}"
                                converter="#{estornoReceitaAgrupadoConsolidadoControlador.converterClasseCredor}"
                                maxResults="10"
                                forceSelection="true"
                                var="classe"
                                itemValue="#{classe.id}"
                                itemLabel="#{classe}"/>
            </p:outputPanel>

            <fc:outputLabelObrigatorio value="Histórico: "/>
            <h:panelGrid columns="2">
                <p:inputTextarea title="Informe o histórico."
                                 value="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.complementoHistorico}"
                                 id="complemento"
                                 style="margin-left: -4px"
                                 maxlength="3000"
                                 cols="70"
                                 rows="5"
                                 autoResize="true"
                                 counterTemplate="{0} Caracteres Restantes."
                                 counter="counter"/>
                <h:outputText id="counter"/>
            </h:panelGrid>

            <fc:outputLabelObrigatorio for="valor" value="Valor: "/>
            <p:outputPanel id="valor">
                <fc:inputMoeda value="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.valor}"
                               process="@this"
                               update="@this"/>
            </p:outputPanel>
        </h:panelGrid>

        <h:panelGrid columns="2">

        </h:panelGrid>

        <br/>

        <h:panelGrid columns="2" id="btCalcular">
            <p:commandButton value="Calcular Lançamentos"
                             icon="ui-icon-calculator"
                             styleClass="padrao"
                             disabled="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.receitaLOA eq null}"
                             onstart="aguarde.show()"
                             oncomplete="aguarde.hide()"
                             title="Clique para calcular os lançamentos."
                             actionListener="#{estornoReceitaAgrupadoConsolidadoControlador.gerarLancamentoParaFonte()}"
                             update=":Formulario:tabGeral:tabelaLancReceitaFontes :Formulario:tabGeral:valor :Formulario:tabGeral:tabelaLancReceitaFontes:diferenca
                             :Formulario:tabGeral:botaoVisualizarDetalhesReceitaLoa"
                             process="@this"/>

            <p:commandButton value="Alterar Conjunto de Fontes"
                             icon="ui-icon-pencil"
                             onstart="aguarde.show()"
                             oncomplete="aguarde.hide();dialogConjFontes.show();painelInformacoes.hide()"
                             actionListener="#{estornoReceitaAgrupadoConsolidadoControlador.recuperarReceitaLOA()}"
                             rendered="#{estornoReceitaAgrupadoConsolidadoControlador.mostrarBotaoAlterarConjuntoFonte()}"
                             styleClass="prioritario mtop02 padrao"
                             process="@this"
                             update=":formConjFontes"/>
        </h:panelGrid>

        <p:dataTable value="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.receitaORCFonteEstorno}"
                     id="tabelaLancReceitaFontes"
                     var="rec"
                     rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                     paginator="true"
                     rows="10"
                     paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>RECEITAS FONTES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                     currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                     emptyMessage="Não foram localizados registros para serem apresentados."
                     rowIndexVar="rowlx">

            <p:column headerText="Ação" style="text-align: center; width: 5%">
                <p:commandButton icon="ui-icon-trash"
                                 id="Remover"
                                 onstart="aguarde.show()"
                                 oncomplete="aguarde.hide()"
                                 process="@this"
                                 update=":Formulario:tabGeral:tabelaLancReceitaFontes :Formulario:tabGeral:valor"
                                 title="Clique para remover este registro."
                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                 actionListener="#{estornoReceitaAgrupadoConsolidadoControlador.removeLancReceitasFontes}">
                    <f:attribute name="recEstornos" id="objeto" value="#{rec}"/>
                </p:commandButton>
            </p:column>

            <p:column headerText="Conjunto de Fontes"
                      style="width: 10%"
                      styleClass="alinhamentoCentralizado">
                <h:outputText value="#{rec.receitaLoaFonte.item}"/>
            </p:column>
            <p:column headerText="Conta de Destinação" style="width: 40%" styleClass="alinhamentoEsquerda">
                <h:outputText value="#{rec.receitaLoaFonte.destinacaoDeRecursos}"/>
            </p:column>
            <p:column headerText="Valor (R$)" style="width: 10%" styleClass="alinhamentoDireita">
                <h:outputText value="#{rec.valor}"
                              converter="#{estornoReceitaAgrupadoConsolidadoControlador.moneyConverter}"/>
                <f:facet name="footer">
                    <h:outputText value="Total: " styleClass="negrito"/>
                    <h:outputText value="#{estornoReceitaAgrupadoConsolidadoControlador.somaLancamentos()}"
                                  styleClass="negrito"
                                  converter="#{estornoReceitaAgrupadoConsolidadoControlador.moneyConverter}"/>
                </f:facet>
            </p:column>
            <f:facet name="footer">
                <div align="right">
                    <h:outputText value="Diferença: "/>
                    <h:outputText id="diferenca" value="#{estornoReceitaAgrupadoConsolidadoControlador.calculaDiferenca()}"
                                  converter="#{estornoReceitaAgrupadoConsolidadoControlador.moneyConverter}"
                                  styleClass="negrito"/>
                </div>
            </f:facet>
        </p:dataTable>

        <p:commandButton value="Salvar"
                         icon="ui-icon-disk"
                         onclick="aguarde.show()"
                         oncomplete="aguarde.hide();"
                         update=":Formulario"
                         style="height: 30px;"
                         title="Clique para salvar."
                         styleClass="mtop10 prioritario mrig05"
                         actionListener="#{estornoReceitaAgrupadoConsolidadoControlador.salvarConsolidado()}"/>

        <p:commandButton value="Cancelar"
                         icon="ui-icon-cancel"
                         onclick="aguarde.show()"
                         oncomplete="aguarde.hide()"
                         style="height: 30px;"
                         title="Clique para cancelar e retorna para a lista de estorno de receitas."
                         styleClass="mtop10"
                         update="@this"
                         process="@this"/>
    </p:tab>


    <p:tab title="Estorno de Receita Realizada Agrupado">
    <co:titulo-panel titulo="Filtros" separator="true"/>
    <h:panelGrid columns="2" cellpadding="1" id="dataGridFiltros">
        <fc:outputLabelObrigatorio value="Data Inicial: "/>
        <p:calendar title="Selecione a data inicial"
                    id="dataInicial"
                    navigator="true"
                    value="#{estornoReceitaAgrupadoConsolidadoControlador.dtInicial}"
                    pattern="dd/MM/yyyy"
                    onkeypress="mascara(this, mdata)">
            <p:ajax event="dateSelect"/>
            <p:ajax event="valueChange"/>
        </p:calendar>

        <fc:outputLabelObrigatorio value="Data Final: "/>
        <p:calendar title="Selecione a data final"
                    id="dataFinal"
                    navigator="true"
                    value="#{estornoReceitaAgrupadoConsolidadoControlador.dtFinal}"
                    pattern="dd/MM/yyyy"
                    onkeypress="mascara(this, mdata)">
            <p:ajax event="dateSelect"/>
            <p:ajax event="valueChange"/>
        </p:calendar>

        <fc:outputLabelObrigatorio value="Conta de Receita: "/>
        <p:autoComplete queryDelay="1000"
                        value="#{estornoReceitaAgrupadoConsolidadoControlador.contaDeReceita}"
                        converter="#{estornoReceitaAgrupadoConsolidadoControlador.converterContaReceita}"
                        completeMethod="#{estornoReceitaAgrupadoConsolidadoControlador.completaContaReceita}"
                        var="cr"
                        itemLabel="#{cr}"
                        itemValue="#{cr.id}"
                        size="70"
                        title="Selecione uma conta de receita."
                        maxResults="10">
            <p:ajax event="itemSelect"
                    onstart="aguarde.show()"
                    oncomplete="aguarde.hide()"/>
        </p:autoComplete>

        <h:outputText value="Conta Financeira: "/>
        <p:autoComplete queryDelay="1000"
                        value="#{estornoReceitaAgrupadoConsolidadoControlador.contaFinanceira}"
                        converter="#{estornoReceitaAgrupadoConsolidadoControlador.converterContaFinanceira}"
                        completeMethod="#{estornoReceitaAgrupadoConsolidadoControlador.completaContaFinanceiraFiltro}"
                        var="sub"
                        itemLabel="#{sub}"
                        itemValue="#{sub.id}"
                        size="70"
                        title="Selecione uma conta financeira."
                        maxResults="10"/>


        <h:outputText value="Unidade Organizacional: "/>
        <p:autoComplete queryDelay="1000"
                        value="#{estornoReceitaAgrupadoConsolidadoControlador.hierarquiaOrg}"
                        converter="#{estornoReceitaAgrupadoConsolidadoControlador.converterUnidadeOrganizacional}"
                        completeMethod="#{estornoReceitaAgrupadoConsolidadoControlador.completaUnidade}"
                        var="unid"
                        itemLabel="#{unid}"
                        itemValue="#{unid.id}"
                        forceSelection="true"
                        size="70"
                        title="Selecione uma unidade organizacional."
                        maxResults="10"/>
    </h:panelGrid>


    <h:panelGrid columns="2" cellpadding="0">
        <p:commandButton value="Pesquisar"
                         id="btnPesquisa"
                         title="Clique para pesquisar as receitas."
                         icon="ui-icon-search"
                         actionListener="#{estornoReceitaAgrupadoConsolidadoControlador.pesquisarReceitas()}"
                         styleClass="mtop10 mrig05 prioritario padrao"
                         onclick="aguarde.show()"
                         oncomplete="aguarde.hide()"
                         process="@this"
                         update=":Formulario:tabGeral:tabelaReceita"
                />

        <p:commandButton value="Limpar Filtros"
                         id="btnLimpar"
                         title="Clique para limpar os filtros."
                         icon="ui-icon-clear"
                         actionListener="#{estornoReceitaAgrupadoConsolidadoControlador.novoEstorno()}"
                         styleClass="mtop10 mrig05 padrao"
                         onclick="aguarde.show()"
                         oncomplete="aguarde.hide()"
                         update=":Formulario:tabGeral:dataGridFiltros"/>
    </h:panelGrid>

    <p:dataTable value="#{estornoReceitaAgrupadoConsolidadoControlador.receitas}"
                 id="tabelaReceita"
                 var="rec"
                 rowKey="#{rec.id}"
                 rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                 rowIndexVar="rowIx"
                 styleClass="mtop02"
                 paginator="true"
                 emptyMessage="Não foram localizados registros para serem apresentados"
                 rows="10"
                 paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>RECEITAS REALIZADAS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                 currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                 rowsPerPageTemplate="10,25,50,100">
        <p:column style="width: 2%;" styleClass="alinhamentoCentralizado">
            <f:facet name="header">
                <p:column style="width: 3%;" styleClass="alinhamentoCentralizado">
                    <p:commandButton icon="#{estornoReceitaAgrupadoConsolidadoControlador.iconeTodos()}"
                                     update="tabelaReceita"
                                     process="tabelaReceita"
                                     onstart="aguarde.show()"
                                     oncomplete="aguarde.hide()"
                                     style="width: 20px; height: 20px"
                                     title="#{estornoReceitaAgrupadoConsolidadoControlador.titleTodos()}"
                                     actionListener="#{estornoReceitaAgrupadoConsolidadoControlador.selecionarTodas()}"/>
                </p:column>
            </f:facet>
            <p:commandButton icon="#{estornoReceitaAgrupadoConsolidadoControlador.icone(rec)}"
                             update="tabelaReceita valor"
                             process="@this"
                             onstart="aguarde.show()"
                             oncomplete="aguarde.hide()"
                             style="width: 20px; height: 20px"
                             title="#{estornoReceitaAgrupadoConsolidadoControlador.title(rec)}"
                             actionListener="#{estornoReceitaAgrupadoConsolidadoControlador.selecionar(rec)}"/>
        </p:column>

        <p:column headerText="Valor (R$)" styleClass="alinhamentoDireita" >
            <p:inputText value="#{rec.valorEstorno}"
                         onkeydown="mascaraMonetaria(this);"
                         id="valor"
                         styleClass="alinhamentoDireita"
                         disabled="#{!estornoReceitaAgrupadoConsolidadoControlador.habilitarValor(rec)}"
                         converter="#{estornoReceitaAgrupadoConsolidadoControlador.moneyConverter}">
                <p:ajax event="blur"
                        update="totalSelecionado"
                        onstart="aguarde.show()"
                        oncomplete="aguarde.hide()"/>
            </p:inputText>
        </p:column>

        <p:column headerText="Número"
                  styleClass="alinhamentoDireita">
            <h:outputText value="#{rec.numero}"/>
        </p:column>
        <p:column headerText="Data" styleClass="alinhamentoCentralizado">
            <h:outputText value="#{rec.dataLancamento}">
                <f:convertDateTime pattern="dd/MM/yyyy"/>
            </h:outputText>
        </p:column>
        <p:column headerText="Unidade Organizacional" styleClass="alinhamentoEsquerda">
            <h:outputText value="#{rec.unidadeOrganizacional}"/>
        </p:column>
        <p:column headerText="Conta de Receita" styleClass="alinhamentoEsquerda">
            <h:outputText value="#{rec.receitaLOA.contaDeReceita}"/>
        </p:column>
        <p:column headerText="Conta Financeira" styleClass="alinhamentoEsquerda">
            <h:outputText value="#{rec.subConta.toStringAutoCompleteContaFinanceira()}"/>
        </p:column>
        <p:column headerText="Evento" styleClass="alinhamentoEsquerda">
            <h:outputText value="#{rec.eventoContabil}"/>
        </p:column>
        <p:column headerText="Valor (R$)" styleClass="alinhamentoDireita">
            <h:outputText value="#{rec.valor}"
                          converter="#{estornoReceitaAgrupadoConsolidadoControlador.moneyConverter}"
                          style="text-align: right;"/>
            <f:facet name="footer">
                <h:outputText styleClass="negrito"
                              converter="#{estornoReceitaAgrupadoConsolidadoControlador.moneyConverter}"
                              value="#{estornoReceitaAgrupadoConsolidadoControlador.valorTotalReceita}"/>
            </f:facet>
        </p:column>
        <p:column headerText="Saldo (R$)" styleClass="alinhamentoDireita">
            <h:outputText value="#{rec.saldo}"
                          converter="#{estornoReceitaAgrupadoConsolidadoControlador.moneyConverter}"
                          style="text-align: right;"/>
            <f:facet name="footer">
                <h:outputText styleClass="negrito"
                              converter="#{estornoReceitaAgrupadoConsolidadoControlador.moneyConverter}"
                              value="#{estornoReceitaAgrupadoConsolidadoControlador.saldoTotalReceita}"/>
            </f:facet>
        </p:column>
        <f:facet name="footer">
            <div align="right">
                <h:outputText value="Total: " styleClass="negrito"/>
                <h:outputText styleClass="negrito"
                              id="totalSelecionado"
                              converter="#{estornoReceitaAgrupadoConsolidadoControlador.moneyConverter}"
                              value="#{estornoReceitaAgrupadoConsolidadoControlador.valorTotalReceitasSelecionada}"/>
            </div>
        </f:facet>
    </p:dataTable>

    <p:commandButton value="Salvar"
                     icon="ui-icon-disk"
                     onclick="aguarde.show()"
                     oncomplete="aguarde.hide();"
                     update=":Formulario"
                     style="height: 30px;"
                     title="Clique para salvar."
                     styleClass="mtop10 prioritario mrig05"
                     actionListener="#{estornoReceitaAgrupadoConsolidadoControlador.salvarAgrupado()}"/>

        <p:commandButton value="Cancelar"
                         icon="ui-icon-cancel"
                         onclick="aguarde.show()"
                         oncomplete="aguarde.hide()"
                         style="height: 30px;"
                         title="Clique para cancelar e retorna para a lista de estorno de receitas."
                         styleClass="mtop10"
                         update="@this"
                         process="@this"/>
    </p:tab>
</p:tabView>
</h:form>

<p:dialog widgetVar="dialogFinalizar"
          modal="true"
          closable="false"
          resizable="false"
          dynamic="true"
          showHeader="false"
          position="center"
          style="position: fixed !important;">
    <h:form id="formPagamento">
        <center>
            <p:panel styleClass="mtop05 mbot05" header="Processo Finalizado">

                <br/>
                <p:outputPanel rendered="#{estornoReceitaAgrupadoConsolidadoControlador.receitasEstornadas ne null and estornoReceitaAgrupadoConsolidadoControlador.receitasEstornadas.size() gt 0}">
                    <div class="alert-success"
                         style="text-align: center; font-size: 12px; padding: 6px!important; margin: 0px!important;">
                        <h:outputText value="#{estornoReceitaAgrupadoConsolidadoControlador.mensagemReceitaEstornada()}"
                                      styleClass="negrito"/>
                    </div>
                </p:outputPanel>

                <br/>
                <p:outputPanel
                        rendered="#{estornoReceitaAgrupadoConsolidadoControlador.mensagens ne null and estornoReceitaAgrupadoConsolidadoControlador.mensagens.size() gt 0}">
                    <div class="alert-error"
                         style="text-align: center; font-size: 12px; padding: 6px!important; margin: 0px!important;">
                        <h:outputText value="#{estornoReceitaAgrupadoConsolidadoControlador.mensagemReceitaNaoEstornada()}"
                                      styleClass="negrito"/>
                    </div>
                </p:outputPanel>

                <h:panelGrid columns="4" styleClass="mtop20" cellspacing="0">
                    <p:commandButton id="btConfirmar"
                                     value="Finalizar Operação"
                                     icon="ui-icon-voltar"
                                     styleClass="padrao mrig05"
                                     onstart="aguarde.show()"
                                     oncomplete="aguarde.hide()"
                                     title="Clique para finalizar a operação e retornar para lista de receitas realizadas."
                                     actionListener="#{estornoReceitaAgrupadoConsolidadoControlador.redirecionarParaLista}"/>

                    <p:commandButton id="btNovo"
                                     value="Novo Estorno"
                                     icon="ui-icon-check"
                                     styleClass="padrao"
                                     ajax="false"
                                     onstart="aguarde.show()"
                                     oncomplete="aguarde.hide();dialogFinalizar.hide()"
                                     title="Clique para iniciar um novo estorno de receita realizada."
                                     actionListener="#{estornoReceitaAgrupadoConsolidadoControlador.novo()}"/>

                    <fc:botaoTargetBlank id="btImprimir"
                                         label="Imprimir Erros"
                                         styleClass="padrao mlef05"
                                         rendered="#{estornoReceitaAgrupadoConsolidadoControlador.mensagens ne null and estornoReceitaAgrupadoConsolidadoControlador.mensagens.size() gt 0}"
                                         title="Clique para imprimir o log de erros para as receitas não estornadas."
                                         actionListener="#{estornoReceitaAgrupadoConsolidadoControlador.imprimirLogErrosReceitaNaoEstornada()}"/>
                </h:panelGrid>
            </p:panel>
        </center>
    </h:form>
</p:dialog>

<p:dialog widgetVar="detalhesReceitaLoa"
          modal="true"
          dynamic="true"
          position="center">
    <h:form id="FormularioDetalhesReceitaLoa">
        <p:panel id="panelDetalhesReceitaLoa">
            <h:panelGrid id="panelComp" columns="2">
                <h:outputText value="Unidade Organizacional:"/>
                <h:outputText value="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.receitaLOA.entidade}"
                              styleClass="negrito"/>

                <h:outputText value="Conta de Receita: "/>
                <h:outputText value="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.receitaLOA.contaDeReceita}"
                              styleClass="negrito"/>

                <h:outputText value="Valor:"/>
                <h:outputText value="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.receitaLOA.valor}"
                              converter="moneyConverter"
                              styleClass="negrito"/>
            </h:panelGrid>

            <p:dataTable id="fontes"
                         var="fonte"
                         value="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.receitaLOA.receitaLoaFontes}"
                         rowKey="#{fonte.id}"
                         rowStyleClass="#{fonte.item eq estornoReceitaAgrupadoConsolidadoControlador.receitaLOAFonte.item ? 'fundo-amarelo-padrao' : empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                         paginator="true"
                         rows="10"
                         styleClass="mtop10"
                         paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>FONTES DE RECURSOS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                         currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                         emptyMessage="Não foram localizados registros para serem apresentados."
                         rowIndexVar="rowlx">
                <p:column headerText="Arred."
                          style="text-align: center">
                    <h:outputText value="${fonte.rounding ? 'Sim' : 'Não'}"/>
                </p:column>
                <p:column headerText="Conjunto"
                          style="text-align: center">
                    <h:outputText value="#{fonte.item}"/>
                </p:column>
                <p:column headerText="Fonte de Recurso"
                          style="text-align: left">
                    <h:outputText value="${fonte.destinacaoDeRecursos}"/>
                </p:column>
                <p:column headerText="Percentual"
                          style="text-align: right">
                    <h:outputText value="${fonte.percentual}"
                                  converter="#{receitaLOAWizardControlador.percentualConverter}"/>
                </p:column>
                <p:column headerText="Esfera Orçamentária" style="text-align: left">
                    <h:outputText value="${fonte.esferaOrcamentaria.descricao}"/>
                </p:column>
                <p:column headerText="Valor(R$)"
                          style="text-align: right">
                    <h:outputText value="${fonte.valor}"
                                  converter="#{estornoReceitaAgrupadoConsolidadoControlador.moneyConverter}"/>
                </p:column>
            </p:dataTable>

            <h:panelGrid columns="2"
                         styleClass="mtop05"
                         cellpadding="0" cellspacing="0"
                         rendered="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.id eq null}">
                <p:commandButton style="width: 15px; height: 15px; background-color: #FBEC88 !important"
                                 icon="ui-icon-none"/>
                <h:outputText value="Fontes de Recursos selecionadas para o lançamento de receita."/>
            </h:panelGrid>
        </p:panel>
    </h:form>
</p:dialog>

<p:dialog widgetVar="detalhesContaFinanceira"
          modal="true"
          dynamic="true"
          height="500"
          position="center">
    <h:form id="FormularioDetalhesContaFinanceira">
        <p:panel id="panelDetalhesContaFinanceira">
            <h:panelGrid id="panelComp" columns="2">
                <h:outputText value="Conta Financeira: "/>
                <h:outputText
                        value="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.contaFinanceira.toStringAutoCompleteContaFinanceira()}"
                        styleClass="negrito"/>
            </h:panelGrid>

            <p:dataTable id="unidades"
                         value="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.contaFinanceira.unidadesOrganizacionais}"
                         var="un"
                         rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                         styleClass="mtop01"
                         paginator="true"
                         rows="10"
                         paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>UNIDADES ORGANIZACIONAIS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                         currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                         emptyMessage="Não foram localizados registros para serem apresentados."
                         rowIndexVar="rowlx">

                <p:column headerText="Unidade Organizacional" styleClass="alinhamentoEsquerda">
                    <h:outputText value="#{un.unidadeOrganizacional.descricao}"/>
                </p:column>
                <p:column headerText="Exercício" style="width: 20%" styleClass="alinhamentoDireita">
                    <h:outputText value="#{un.exercicio.ano}"/>
                </p:column>
            </p:dataTable>

            <p:dataTable
                    id="fontes"
                    var="objetos"
                    value="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.contaFinanceira.subContaFonteRecs}"
                    rowKey="#{objetos.id}"
                    rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                    paginator="true"
                    rows="10"
                    styleClass="mtop20"
                    paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>FONTES DE RECURSOS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                    currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                    emptyMessage="Não foram localizados registros para serem apresentados."
                    rowIndexVar="rowlx">
                <p:column headerText="Fonte de Recurso" styleClass="alinhamentoEsquerda">
                    <h:outputText value="#{objetos.fonteDeRecursos}"/>
                </p:column>
                <p:column headerText="Exercício" style="width: 20%" styleClass="alinhamentoDireita">
                    <h:outputText value="#{objetos.fonteDeRecursos.exercicio.ano}"/>
                </p:column>
            </p:dataTable>
        </p:panel>
    </h:form>
</p:dialog>


<p:dialog widgetVar="dialogConjFontes"
          modal="true"
          closable="false"
          resizable="false"
          dynamic="true"
          position="center">
    <h:form id="formConjFontes">
        <p:panel id="panelConjFontes">

            <h:panelGrid columns="2">
                <h:outputText value="Unidade Organizacional:"/>
                <h:outputText value="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.receitaLOA.entidade}"
                              styleClass="negrito"/>

                <h:outputText value="Conta de Receita: "/>
                <h:outputText value="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.receitaLOA.contaDeReceita}"
                              styleClass="negrito"/>

                <h:outputText value="Valor:"/>
                <h:outputText value="#{estornoReceitaAgrupadoConsolidadoControlador.selecionado.receitaLOA.valor}"
                              converter="moneyConverter"
                              styleClass="negrito"/>

                <fc:outputLabelObrigatorio value="Conjunto de Fontes: "/>
                <h:selectOneRadio id="conjFontes"
                                  styleClass="negrito"
                                  value="#{estornoReceitaAgrupadoConsolidadoControlador.receitaLOAFonte.item}">
                    <f:selectItems value="#{estornoReceitaAgrupadoConsolidadoControlador.conjuntoDeFontes}"/>
                    <p:ajax update="tableConjFontes"
                            event="change"
                            onstart="aguarde.show()"
                            oncomplete="aguarde.hide()"/>
                </h:selectOneRadio>
            </h:panelGrid>

            <p:dataTable id="tableConjFontes"
                         var="fonteRec"
                         value="#{estornoReceitaAgrupadoConsolidadoControlador.fonteRecursoPorConjuntoFontes}"
                         rowKey="#{fonteRec.id}"
                         rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                         paginator="true"
                         rows="10"
                         styleClass="mtop05"
                         paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>FONTES DE RECURSOS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                         currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                         emptyMessage="Não foram localizados registros para serem apresentados."
                         rowIndexVar="rowlx">
                <p:column headerText="Fonte de Recurso"
                          style="text-align: left">
                    <h:outputText value="#{fonteRec}"/>
                </p:column>
            </p:dataTable>
        </p:panel>

        <p:commandButton value="Confirmar"
                         icon="ui-icon-check"
                         styleClass="padrao mtop10 mrig05"
                         onstart="aguarde.show()"
                         oncomplete="aguarde.hide();dialogConjFontes.hide();painelInformacoes.show()"
                         title="Clique para confirmar o conjunto de fonte selecionado."
                         actionListener="#{estornoReceitaAgrupadoConsolidadoControlador.armazenarConjuntoFonte()}"
                         update="tableConjFontes :Formulario:tabGeral:completaContaFinanceria :Formulario:tabGeral:completaContaBanc
                         :Formulario:tabGeral:fontesReceitaLoa :Formulario:tabGeral:tabelaLancReceitaFontes :Formulario:tabGeral:valor
                         :Formulario:tabGeral:tabelaLancReceitaFontes:diferenca :Formulario:tabGeral:botaoVisualizarDetalhesReceitaLoa"
                         process="@this"/>
    </h:form>
</p:dialog>

</ui:define>
</ui:composition>
</html>
