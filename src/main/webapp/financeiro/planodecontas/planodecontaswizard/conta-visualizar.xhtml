<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PT"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
>

<ui:composition template="/corpo.xhtml">
<ui:define name="body">

<h:form id="Formulario">

<p:panel header="#{planoDeContasWizardControlador.nomeTelaConta}">

<h:panelGrid columns="2" rendered="#{planoDeContasWizardControlador.tipoContaContabil}" cellpadding="2">

    <h:outputText value="Exercício: "/>
    <h:outputText value="#{planoDeContasWizardControlador.selecionado.exercicio}"
                  styleClass="negrito"/>

    <h:outputText value="Superior: "/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.superior.codigo} - #{planoDeContasWizardControlador.conta.superior.descricao}"
                  style="width: 500px"
                  styleClass="negrito"/>

    <h:outputText value="Código: "/>
    <h:panelGrid columns="3" rendered="#{planoDeContasWizardControlador.canRemoverContaSelecionada()}"
                 styleClass="negrito">
        <h:outputText value="#{planoDeContasWizardControlador.codigoAntes}"/>
        <p:inputText id="codigoContaContabil"
                     disabled="true"
                     style="width: 20px;"
                     maxlength="#{planoDeContasWizardControlador.quantidadeDeDigitos}"
                     title="Digite o código da conta"
                     value="#{planoDeContasWizardControlador.codigo}"
                     onkeypress="mascara(this,soNumeros);">

        </p:inputText>
        <h:outputText value="#{planoDeContasWizardControlador.codigoDepois}"/>
    </h:panelGrid>

    <h:outputText value="#{planoDeContasWizardControlador.conta.codigo}"
                  rendered="#{!planoDeContasWizardControlador.canRemoverContaSelecionada()}"/>

    <h:outputText value="Código TCE: "/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.codigoTCE}"
                  size="21"
                  styleClass="negrito"/>

    <h:outputText value="Código SICONFI: "/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.codigoSICONFI}"
                  size="21"
                  styleClass="negrito"/>

    <h:outputText value="Descrição:"/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.descricao}"
                  styleClass="negrito"/>

    <h:outputText value="Ativa:"/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.ativa ? 'Ativa' : 'Inativa'}"
                  styleClass="negrito"/>

    <h:outputText value="Permite Desdobramento: "/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.permitirDesdobramento ? 'Sim' : 'Não'}"
                  styleClass="negrito"/>

    <h:outputText value="Natureza do Saldo:"/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.naturezaSaldo.descricao}"
                  styleClass="negrito"/>

    <h:outputText value="Natureza da Conta:"/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.naturezaConta.descricao}"
                  styleClass="negrito"/>

    <h:outputText value="Natureza da Informação: "/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.naturezaInformacao.descricao}"
                  styleClass="negrito"/>

    <h:outputText value="Natureza do Subsistema: "/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.subSistema.descricao}"
                  styleClass="negrito"/>
</h:panelGrid>


<h:panelGrid columns="2" rendered="#{planoDeContasWizardControlador.tipoContaDespesa}" cellpadding="2">

    <h:outputText value="Exercício: "/>
    <h:outputText value="#{planoDeContasWizardControlador.selecionado.exercicio}"
                  styleClass="negrito"/>

    <h:outputText value="Superior: "/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.superior.codigo} - #{planoDeContasWizardControlador.conta.superior.descricao}"
                  style="width: 500px"
                  styleClass="negrito"/>

    <h:outputText value="Código:"/>
    <h:panelGrid columns="3" rendered="#{planoDeContasWizardControlador.canRemoverContaSelecionada()}">
        <h:outputText value="#{planoDeContasWizardControlador.codigoAntes}" styleClass="negrito"/>
        <p:inputText id="codigoContaDespesesa"
                     style="width: 20px; margin-left: -5px "
                     maxlength="#{planoDeContasWizardControlador.quantidadeDeDigitos}"
                     title="Digite o código da conta"
                     styleClass="negrito"
                     value="#{planoDeContasWizardControlador.codigo}"
                     disabled="true"
                     onkeypress="mascara(this,soNumeros);"/>
        <h:outputText value="#{planoDeContasWizardControlador.codigoDepois}" styleClass="negrito"/>
    </h:panelGrid>

    <h:outputText value="#{planoDeContasWizardControlador.conta.codigo}"
                  rendered="#{!planoDeContasWizardControlador.canRemoverContaSelecionada()}"/>

    <h:outputText value="Código TCE: "/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.codigoTCE}"
                  size="21"
                  styleClass="negrito"/>

    <h:outputText value="Código SICONFI: "/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.codigoSICONFI}"
                  size="21"
                  styleClass="negrito"/>

    <h:outputText value="Descrição:"/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.descricao}"
                  styleClass="negrito"/>

    <h:outputText value="Tipo de Conta de Despesa: "/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.tipoContaDespesa.codigo} - #{planoDeContasWizardControlador.conta.tipoContaDespesa.descricao}"
                  styleClass="negrito"/>

    <h:outputText value="Ativa:"/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.ativa ? 'Ativa' : 'Inativa'}"
                  styleClass="negrito"/>

    <h:outputText value="Permite Desdobramento:"/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.permitirDesdobramento ? 'Sim' : 'Não'}"
                  styleClass="negrito"/>
</h:panelGrid>


<h:panelGrid columns="2" rendered="#{planoDeContasWizardControlador.tipoContaDestinacao}">

    <h:outputText value="Exercício: "/>
    <h:outputText value="#{planoDeContasWizardControlador.selecionado.exercicio}" styleClass="negrito"/>

    <h:outputText value="Superior: "/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.superior.codigo} - #{planoDeContasWizardControlador.conta.superior.descricao}"
                  style="width: 500px"
                  styleClass="negrito"/>

    <h:outputText value="Código: "/>
    <h:panelGrid columns="3" rendered="#{planoDeContasWizardControlador.canInformarCodigoContaDeDestinacao()}">
        <h:outputText value="#{planoDeContasWizardControlador.codigoAntes}"/>
        <p:inputText id="codigoContaDestinacao"
                     style="width: 20px;"
                     maxlength="#{planoDeContasWizardControlador.quantidadeDeDigitos}"
                     title="Digite o código da conta"
                     value="#{planoDeContasWizardControlador.conta.codigo}"
                     onkeypress="mascara(this,soNumeros);"
                     disabled="true"/>
        <h:outputText value="#{planoDeContasWizardControlador.codigoDepois}"/>
    </h:panelGrid>

    <h:outputText id="codigoVisualizacaoContaDestinacao" value="#{planoDeContasWizardControlador.conta.codigo}"
                  styleClass="negrito"
                  rendered="#{!planoDeContasWizardControlador.canInformarCodigoContaDeDestinacao()}"/>

    <h:outputText value="Descrição: "/>
    <h:outputText id="descricaoVisualizacaoContaDestinacao"
                  value="#{planoDeContasWizardControlador.conta.descricao}"
                  styleClass="negrito"/>

    <h:outputText value="Ativa: "/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.ativa ? 'Sim' : 'Não'}"
                  styleClass="negrito"/>

    <h:outputText value="Permite Desdobramento:"/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.permitirDesdobramento ? 'Sim' : 'Não'}"
                  styleClass="negrito"/>

    <h:outputText value="Fonte de Recursos: " rendered="#{planoDeContasWizardControlador.hasSuperior()}"/>
    <h:outputText id="fonte" title="Selecione a fonte de recursos"
                  value="#{planoDeContasWizardControlador.conta.fonteDeRecursos}"
                  rendered="#{planoDeContasWizardControlador.hasSuperior()}"
                  styleClass="negrito"/>

    <h:outputText value="Código TCE: "/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.codigoTCE}"
                  styleClass="negrito"/>

    <h:outputText value="Código SICONFI: "/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.codigoSICONFI}"
                  styleClass="negrito"/>

    <h:outputText value="Código CO: "/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.codigoCO}"
                  styleClass="negrito"/>
</h:panelGrid>


<h:panelGrid columns="2" rendered="#{planoDeContasWizardControlador.tipoContaReceita}" cellpadding="2">

    <h:outputText value="Exercício: "/>
    <h:outputText value="#{planoDeContasWizardControlador.selecionado.exercicio}" styleClass="negrito"/>

    <h:outputText value="Superior: "/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.superior.codigo} - #{planoDeContasWizardControlador.conta.superior.descricao}"
                  style="width: 500px"
                  styleClass="negrito"/>

    <h:outputText value="Código:"/>
    <h:panelGrid columns="3" rendered="#{planoDeContasWizardControlador.canRemoverContaSelecionada()}"
                 styleClass="negrito">
        <h:outputText value="#{planoDeContasWizardControlador.codigoAntes}"/>
        <p:inputText id="codigoContaReceita"
                     style="width: 20px;"
                     maxlength="#{planoDeContasWizardControlador.quantidadeDeDigitos}"
                     title="Digite o código da conta"
                     value="#{planoDeContasWizardControlador.codigo}"
                     onkeypress="mascara(this,soNumeros);"
                     disabled="true"/>
        <h:outputText value="#{planoDeContasWizardControlador.codigoDepois}"/>
    </h:panelGrid>

    <h:outputText value="#{planoDeContasWizardControlador.conta.codigo}"
                  rendered="#{!planoDeContasWizardControlador.canRemoverContaSelecionada()}"/>

    <h:outputText value="Código TCE: "/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.codigoTCE}"
                  size="21"
                  styleClass="negrito"/>

    <h:outputText value="Código SICONFI: "/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.codigoSICONFI}"
                  size="21"
                  styleClass="negrito"/>

    <h:outputText value="Descrição:"/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.descricao}"
                  styleClass="negrito"/>


    <h:outputText value="Ativa:"/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.ativa ? 'Sim' : 'Não'}"
                  styleClass="negrito"/>

    <h:outputText value="Permite Desdobramento:"/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.permitirDesdobramento ? 'Sim' : 'Não'}"
                  styleClass="negrito"/>

    <h:outputText value="Código Reduzido:"/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.codigoReduzido}"
                  styleClass="negrito"/>

    <h:outputText value="Descrição Reduzida: "/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.descricaoReduzida}"
                  styleClass="negrito"/>

    <h:outputText value="Tipo de Conta de Receita: "/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.tiposCredito.descricao}"
                  styleClass="negrito"/>

    <h:outputText value="Conta Correspondente:"
                  rendered="#{planoDeContasWizardControlador.mostraContaCorrespondente()}"/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.correspondente}"
                  rendered="#{planoDeContasWizardControlador.mostraContaCorrespondente()}"
                  styleClass="negrito"/>

    <h:outputText value="Gera Crédito Arrecadação: "/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.geraCreditoArrecadacao ? 'Sim' : 'Não'}"
                  styleClass="negrito"/>
</h:panelGrid>


<h:panelGrid columns="2" rendered="#{planoDeContasWizardControlador.tipoContaExtraorcamentaria}" cellpadding="2">

    <h:outputText value="Exercício: "/>
    <h:outputText value="#{planoDeContasWizardControlador.selecionado.exercicio}"
                  styleClass="negrito"/>

    <h:outputText value="Código:"/>
    <h:panelGrid columns="3" rendered="#{planoDeContasWizardControlador.canRemoverContaSelecionada()}">
        <h:outputText value="#{planoDeContasWizardControlador.conta.codigo}"
                      styleClass="negrito"
                      id="codigoContaExtra"/>
    </h:panelGrid>

    <h:outputText value="Descrição: "/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.descricao}"
                  styleClass="negrito"/>

    <h:outputText value="Ativa:"/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.ativa ? 'Sim' : 'Não'}"
                  styleClass="negrito"/>

    <h:outputText value="Permite Desdobramento:"/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.permitirDesdobramento ? 'Sim' : 'Não'}"
                  styleClass="negrito"/>

    <h:outputText value="Conta Contábil:"/>
    <h:outputText id="contaContabil"
                  value="#{planoDeContasWizardControlador.conta.contaContabil}"
                  styleClass="negrito"/>

    <h:outputText value="Conta Extraorçamentária:"/>
    <h:outputText id="contaExtra"
                  value="#{planoDeContasWizardControlador.conta.contaExtraorcamentaria}"
                  styleClass="negrito"/>

    <h:outputText value="Tipo de Conta Extraorçamentária: "/>
    <h:outputText value="#{planoDeContasWizardControlador.conta.tipoContaExtraorcamentaria.descricao}"
                  styleClass="negrito"/>
</h:panelGrid>

</p:panel>

<p:commandButton id="contaEquivalente"
                 value="Contas Equivalentes"
                 icon="ui-icon-clipboard"
                 styleClass="mtop10 mrig05"
                 style="height: 30px"
                 actionListener="#{planoDeContasWizardControlador.instanciarContaEquivalente()}"
                 title="Clique para Adicionar/Visualizar as Contas Equivalente"
                 update=":Formulario3"
                 onstart="aguarde.show()"
                 oncomplete="dialogoContaEquivalente.show();aguarde.hide()"/>

<p:commandButton value="Cancelar"
                 id="cbCancelar"
                 style="height: 30px;"
                 styleClass="mtop10"
                 onstart="aguarde.show()"
                 oncomplete="aguarde.hide()"
                 icon="ui-icon-voltar"
                 title="Clique para cancelar e retornar a página anterior."
                 actionListener="#{planoDeContasWizardControlador.voltarRedirecionarContas()}"/>
</h:form>

<p:dialog header="Detalhes da Conta Equivalente"
          position="center"
          dynamic="true"
          id="cantaequivalente"
          widgetVar="dialogoContaEquivalente"
          modal="true">

    <h:form id="Formulario3">
        <p:dataTable id="tabelaContaE"
                     value="#{planoDeContasWizardControlador.conta.contasEquivalentes}"
                     var="ce"
                     rowKey="#{ce.id}"
                     rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                     paginator="true"
                     rows="10"
                     styleClass="mtop10"
                     paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>CONTAS EQUIVALENTES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                     currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                     emptyMessage="Não foram localizados registros para serem apresentados."
                     rowIndexVar="rowlx">
            <p:column filterBy="#{ce.contaOrigem.planoDeContas.exercicio.ano}"
                      sortBy="#{ce.contaOrigem.planoDeContas.exercicio.ano}"
                      headerText="Exercício"
                      style="text-align: center">
                <h:outputText value="#{ce.contaOrigem.planoDeContas.exercicio.ano}"/>
            </p:column>

            <p:column filterBy="#{ce.contaOrigem}"
                      sortBy="#{ce.contaOrigem}"
                      headerText="Conta Origem">
                <h:outputText value="#{ce.contaOrigem}"/>
            </p:column>
            <p:column headerText="Conta Destino">
                <h:outputText value="#{ce.contaDestino}"/>
            </p:column>
            <p:column headerText="Vigência">
                <h:outputText value="#{ce.vigencia}">
                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                </h:outputText>
            </p:column>
            <p:column style="width: 70px;text-align: center"
                      headerText="Natureza do Saldo">
                <h:outputText value="#{ce.naturezaSaldo.descricao}"/>
            </p:column>
        </p:dataTable>
    </h:form>
</p:dialog>
</ui:define>
</ui:composition>
</html>
