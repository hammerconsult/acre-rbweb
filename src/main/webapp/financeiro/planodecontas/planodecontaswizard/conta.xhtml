<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PT"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:fc="http://java.sun.com/jsf/composite/components"
      xmlns:p="http://primefaces.org/ui"
>

<ui:composition template="/corpo.xhtml">
    <ui:define name="body">

        <h:form id="Formulario">


            <p:panel header="#{planoDeContasWizardControlador.nomeTelaConta}">

                <h:panelGrid columns="2" rendered="#{planoDeContasWizardControlador.tipoContaContabil}">

                    <h:outputText value="Exercício: "/>
                    <h:outputText value="#{planoDeContasWizardControlador.selecionado.exercicio}"
                                  styleClass="negrito"/>

                    <h:outputText value="Superior: "/>
                    <h:outputText
                        value="#{planoDeContasWizardControlador.conta.superior.codigo} - #{planoDeContasWizardControlador.conta.superior.descricao}"
                        style="width: 500px"
                        styleClass="negrito"/>

                    <fc:outputLabelObrigatorio value="Código: "/>
                    <h:panelGrid columns="5" id="gridCodigoContaContabil"
                                 rendered="#{planoDeContasWizardControlador.canRemoverContaSelecionada()}">

                        <h:outputText value="#{planoDeContasWizardControlador.codigoAntes}"/>
                        <p:inputText id="codigoContaContabil"
                                     style="width: 20px; margin-left: -5px"
                                     maxlength="#{planoDeContasWizardControlador.quantidadeDeDigitos}"
                                     title="Digite o código da conta."
                                     value="#{planoDeContasWizardControlador.codigo}"
                                     onkeypress="mascara(this,soNumeros);">
                        </p:inputText>
                        <h:outputText value="#{planoDeContasWizardControlador.codigoDepois}"/>

                        <p:commandButton icon="ui-icon-arrowthick-1-w"
                                         styleClass="vinteLarguraVinteAltura"
                                         actionListener="#{planoDeContasWizardControlador.diminuirNivelMascara}"
                                         title="Clique para Diminuir o nível do Código da Conta."
                                         process="@this"
                                         rendered="#{planoDeContasWizardControlador.conta.id eq null}"
                                         update="gridCodigoContaContabil"/>

                        <p:commandButton icon="ui-icon-arrowthick-1-e"
                                         styleClass="vinteLarguraVinteAltura"
                                         title="Clique para Aumentar o nível do Código da Conta."
                                         actionListener="#{planoDeContasWizardControlador.aumentarNivelMascara}"
                                         rendered="#{planoDeContasWizardControlador.conta.id eq null}"
                                         process="@this"
                                         update="gridCodigoContaContabil"/>
                    </h:panelGrid>

                    <h:outputText value="#{planoDeContasWizardControlador.conta.codigo}"
                                  rendered="#{!planoDeContasWizardControlador.canRemoverContaSelecionada()}"/>

                    <h:outputText value="Código TCE: "/>
                    <p:inputText title="Informe o código TCE"
                                 id="inputCodigoTCE"
                                 value="#{planoDeContasWizardControlador.conta.codigoTCE}"
                                 size="21" maxlength="21"
                                 onkeypress="somenteNumeros(event, this, false, false, true)">
                        <p:ajax event="blur" update="inputCodigoTCE" process="inputCodigoTCE"/>
                    </p:inputText>

                    <h:outputText value="Código SICONFI: "/>
                    <p:inputText title="Informe o código SICONFI"
                                 id="inputCodigoSICONFI"
                                 value="#{planoDeContasWizardControlador.conta.codigoSICONFI}"
                                 size="21" maxlength="21"
                                 onkeypress="somenteNumeros(event, this, false, false, true)">
                        <p:ajax event="blur" update="inputCodigoSICONFI" process="inputCodigoSICONFI"/>
                    </p:inputText>

                    <fc:outputLabelObrigatorio value="Descrição: "/>
                    <p:inputTextarea title="Digite a descrição da conta."
                                     id="inputDescricaoContaContabil"
                                     value="#{planoDeContasWizardControlador.conta.descricao}"
                                     maxlength="3000"
                                     autoResize="true"
                                     cols="70"
                                     rows="1"/>

                    <h:outputText value="Ativa: "/>
                    <p:selectBooleanCheckbox title="Selecione se for conta ativa."
                                             id="checkBoxAtivaContaContabil"
                                             value="#{planoDeContasWizardControlador.conta.ativa}"
                                             disabled="#{!planoDeContasWizardControlador.canRemoverContaSelecionada()}"/>

                    <h:outputText value="Permite Desdobramento: "/>
                    <h:panelGrid columns="3">
                        <p:selectBooleanCheckbox title="Selecione se permitir desdobramento."
                                                 id="checkBoxPermiteDesdobramentoContaContabil"
                                                 style="margin-left: -4px"
                                                 value="#{planoDeContasWizardControlador.conta.permitirDesdobramento}"
                                                 disabled="#{!planoDeContasWizardControlador.canRemoverContaSelecionada()}">
                            <p:ajax update=":Formulario" event="change" process=":Formulario"/>
                        </p:selectBooleanCheckbox>
                        <h:outputText value="Conta SINTÉTICA"
                                      rendered="#{planoDeContasWizardControlador.tipoCategoriaPorDesdobramento}"
                                      styleClass="negrito"/>
                        <h:outputText value="Conta ANALÍTICA"
                                      rendered="#{!planoDeContasWizardControlador.tipoCategoriaPorDesdobramento}"
                                      styleClass="negrito"/>
                    </h:panelGrid>

                    <fc:outputLabelObrigatorio value="Natureza do Saldo: "/>
                    <h:selectOneMenu title="Selecione a natureza do saldo."
                                     id="selectNaturezaSaldo"
                                     value="#{planoDeContasWizardControlador.conta.naturezaSaldo}">
                        <f:selectItems value="#{planoDeContasWizardControlador.naturezaSaldo}"/>
                    </h:selectOneMenu>

                    <fc:outputLabelObrigatorio value="Natureza da Conta: "/>
                    <h:selectOneMenu title="Selecione a natureza da conta."
                                     id="selectNaturezaConta"
                                     value="#{planoDeContasWizardControlador.conta.naturezaConta}">
                        <f:selectItems value="#{planoDeContasWizardControlador.naturezaConta}"/>
                    </h:selectOneMenu>

                    <h:outputText value="Natureza da Informação: "
                                  rendered="#{!planoDeContasWizardControlador.tipoContaContabilAnalitica}"/>
                    <fc:outputLabelObrigatorio value="Natureza da Informação: "
                                               rendered="#{planoDeContasWizardControlador.tipoContaContabilAnalitica}"/>
                    <h:selectOneMenu title="Selecione a natureza da informação."
                                     id="selectNaturezaDaInformacao"
                                     value="#{planoDeContasWizardControlador.conta.naturezaInformacao}">
                        <f:selectItems value="#{planoDeContasWizardControlador.naturezaInformacao}"/>
                    </h:selectOneMenu>

                    <h:outputText value="Natureza do Subsistema: "
                                  rendered="#{!planoDeContasWizardControlador.tipoContaContabilAnalitica}"/>
                    <fc:outputLabelObrigatorio value="Natureza subsistema:"
                                               rendered="#{planoDeContasWizardControlador.tipoContaContabilAnalitica}"/>
                    <h:selectOneMenu title="Selecione o Subsistema."
                                     id="selectSubSistema"
                                     value="#{planoDeContasWizardControlador.conta.subSistema}">
                        <f:selectItems value="#{planoDeContasWizardControlador.subSistema}"/>
                    </h:selectOneMenu>
                </h:panelGrid>


                <h:panelGrid columns="2" rendered="#{planoDeContasWizardControlador.tipoContaDespesa}">

                    <h:outputText value="Exercício: "/>
                    <h:outputText value="#{planoDeContasWizardControlador.selecionado.exercicio}"
                                  styleClass="negrito"/>

                    <h:outputText value="Superior: "/>
                    <h:outputText
                        value="#{planoDeContasWizardControlador.conta.superior.codigo} - #{planoDeContasWizardControlador.conta.superior.descricao}"
                        style="width: 500px"
                        styleClass="negrito"/>

                    <fc:outputLabelObrigatorio value="Código: "/>
                    <h:panelGrid id="gridCodigoContaDespesa" columns="5"
                                 rendered="#{planoDeContasWizardControlador.canRemoverContaSelecionada()}">

                        <h:outputText value="#{planoDeContasWizardControlador.codigoAntes}"/>

                        <p:inputText id="codigoContaDespesesa"
                                     style="width: 20px; margin-left: -5px"
                                     maxlength="#{planoDeContasWizardControlador.quantidadeDeDigitos}"
                                     title="Digite o código da conta"
                                     value="#{planoDeContasWizardControlador.codigo}"
                                     onkeypress="mascara(this,soNumeros);"/>
                        <h:outputText value="#{planoDeContasWizardControlador.codigoDepois}"/>


                        <p:commandButton icon="ui-icon-arrowthick-1-w"
                                         styleClass="vinteLarguraVinteAltura"
                                         actionListener="#{planoDeContasWizardControlador.diminuirNivelMascara}"
                                         title="Clique para Diminuir o nível do Código da Conta."
                                         onstart="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         process="@this"
                                         rendered="#{planoDeContasWizardControlador.conta.id eq null}"
                                         update="gridCodigoContaDespesa"/>

                        <p:commandButton icon="ui-icon-arrowthick-1-e"
                                         styleClass="vinteLarguraVinteAltura"
                                         title="Clique para Aumentar o nível do Código da Conta."
                                         actionListener="#{planoDeContasWizardControlador.aumentarNivelMascara}"
                                         rendered="#{planoDeContasWizardControlador.conta.id eq null}"
                                         onstart="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         process="@this"
                                         update="gridCodigoContaDespesa"/>

                    </h:panelGrid>

                    <h:outputText value="#{planoDeContasWizardControlador.conta.codigo}"
                                  rendered="#{!planoDeContasWizardControlador.canRemoverContaSelecionada()}"/>

                    <h:outputText value="Código TCE: "/>
                    <p:inputText title="Informe o código TCE"
                                 id="inputCodigoTCEDespesa"
                                 value="#{planoDeContasWizardControlador.conta.codigoTCE}"
                                 size="21" maxlength="21"
                                 onkeypress="somenteNumeros(event, this, false, false, true)">
                        <p:ajax event="blur" update="inputCodigoTCEDespesa" process="inputCodigoTCEDespesa"/>
                    </p:inputText>

                    <h:outputText value="Código SICONFI: "/>
                    <p:inputText title="Informe o código SICONFI"
                                 id="inputCodigoSICONFIDespesa"
                                 value="#{planoDeContasWizardControlador.conta.codigoSICONFI}"
                                 size="21" maxlength="21"
                                 onkeypress="somenteNumeros(event, this, false, false, true)">
                        <p:ajax event="blur" update="inputCodigoSICONFIDespesa" process="inputCodigoSICONFIDespesa"/>
                    </p:inputText>


                    <fc:outputLabelObrigatorio value="Descrição:"/>
                    <p:inputTextarea title="Digite a descrição da conta"
                                     id="descricaoContaDeDespesa"
                                     value="#{planoDeContasWizardControlador.conta.descricao}"
                                     maxlength="3000"
                                     autoResize="true"
                                     cols="70"
                                     rows="1"/>

                    <fc:outputLabelObrigatorio value="Tipo de Conta de Despesa:"/>
                    <h:selectOneMenu title="Selecione o Tipo de Conta de Despesa"
                                     value="#{planoDeContasWizardControlador.conta.tipoContaDespesa}"
                                     disabled="#{planoDeContasWizardControlador.isContaDespesaMenorIgualQuatro()}"
                                     id="tipoContaDespesa">
                        <f:selectItems value="#{planoDeContasWizardControlador.tipoDaContaDeDespesa}"/>
                    </h:selectOneMenu>


                    <h:outputText value="Ativa:"/>
                    <p:selectBooleanCheckbox title="Selecione se for conta ativa"
                                             id="checkBoxAtivaContaDeDespesa"
                                             value="#{planoDeContasWizardControlador.conta.ativa}"
                                             disabled="#{!planoDeContasWizardControlador.canRemoverContaSelecionada()}"/>

                    <h:outputText value="Permite Desdobramento:"/>
                    <h:panelGrid columns="3">
                        <p:selectBooleanCheckbox title="Selecione se permitir desdobramento"
                                                 id="checkBoxPermitiDesdobramento"
                                                 style="margin-left: -4px"
                                                 value="#{planoDeContasWizardControlador.conta.permitirDesdobramento}"
                                                 disabled="#{!planoDeContasWizardControlador.canRemoverContaSelecionada()}">
                            <p:ajax update=":Formulario" event="change" process=":Formulario"/>
                        </p:selectBooleanCheckbox>
                        <h:outputText value="Conta SINTÉTICA"
                                      rendered="#{planoDeContasWizardControlador.tipoCategoriaPorDesdobramento}"
                                      styleClass="negrito"/>
                        <h:outputText value="Conta ANALÍTICA"
                                      rendered="#{!planoDeContasWizardControlador.tipoCategoriaPorDesdobramento}"
                                      styleClass="negrito"/>
                    </h:panelGrid>
                </h:panelGrid>


                <h:panelGrid columns="2" rendered="#{planoDeContasWizardControlador.tipoContaDestinacao}">

                    <h:outputText value="Exercício: "/>
                    <h:outputText value="#{planoDeContasWizardControlador.selecionado.exercicio}"
                                  styleClass="negrito"/>

                    <h:outputText value="Superior: "/>
                    <h:outputText
                        value="#{planoDeContasWizardControlador.conta.superior.codigo} - #{planoDeContasWizardControlador.conta.superior.descricao}"
                        style="width: 500px" styleClass="negrito"/>

                    <fc:outputLabelObrigatorio value="Código: "/>
                    <h:panelGrid columns="2" id="gridCodigoContaDestinacao"
                                 rendered="#{planoDeContasWizardControlador.canRemoverContaSelecionada()}">
                        <h:outputText value="#{planoDeContasWizardControlador.codigoAntes}"/>
                        <p:inputText id="codigoContaDest"
                                     style="width: 23px; margin-left: -5px"
                                     maxlength="#{planoDeContasWizardControlador.quantidadeDeDigitos}"
                                     title="Digite o código da conta."
                                     value="#{planoDeContasWizardControlador.codigo}"
                                     onkeypress="mascara(this,soNumeros);">
                        </p:inputText>
                    </h:panelGrid>

                    <h:outputText value="#{planoDeContasWizardControlador.conta.codigo}"
                                  rendered="#{!planoDeContasWizardControlador.canRemoverContaSelecionada()}"/>


                    <fc:outputLabelObrigatorio value="Descrição:"/>
                    <h:panelGrid columns="2" cellspacing="0" cellpadding="0">
                        <p:inputTextarea title="Digite a descrição da conta"
                                         id="descricaoVisualizacaoContaDestinacao"
                                         value="#{planoDeContasWizardControlador.conta.descricao}"
                                         maxlength="3000"
                                         autoResize="true"
                                         cols="70"
                                         rows="1"/>

                        <p:commandButton id="bt-informacao"
                                         icon="ui-icon-info"
                                         styleClass="mlef05 icone-20"
                                         rendered="#{planoDeContasWizardControlador.hasSuperior()}"/>

                        <p:overlayPanel for="bt-informacao"
                                        style="border : solid black 1px;"
                                        showEvent="mouseover"
                                        hideEvent="mouseout">
                            <h:outputText
                                value="A descrição e o próximo dígito do código da conta é determinado pela Fonte de Recurso ou Detalhamento da Fonte de Recurso"
                                escape="false"/>
                        </p:overlayPanel>

                    </h:panelGrid>

                    <h:outputText value="Permite Desdobramento:"/>
                    <h:panelGrid columns="3">
                        <p:selectBooleanCheckbox title="Selecione se permitir desdobramento"
                                                 id="checkBoxPermiteDesdobramentoContaDeDestinacao"
                                                 style="margin-left: -4px"
                                                 value="#{planoDeContasWizardControlador.conta.permitirDesdobramento}"
                                                 disabled="#{!planoDeContasWizardControlador.canRemoverContaSelecionada()}">
                            <p:ajax update=":Formulario" event="change" process=":Formulario"/>
                        </p:selectBooleanCheckbox>
                        <h:outputText value="Conta SINTÉTICA"
                                      rendered="#{planoDeContasWizardControlador.tipoCategoriaPorDesdobramento}"
                                      styleClass="negrito"/>
                        <h:outputText value="Conta ANALÍTICA"
                                      rendered="#{!planoDeContasWizardControlador.tipoCategoriaPorDesdobramento}"
                                      styleClass="negrito"/>
                    </h:panelGrid>

                    <h:outputText value="Fonte de Recursos:"
                                  rendered="#{planoDeContasWizardControlador.hasSuperior()}"/>
                    <p:autoComplete queryDelay="1000" size="70" id="fonte" title="Selecione a fonte de recursos"
                                    value="#{planoDeContasWizardControlador.conta.fonteDeRecursos}"
                                    completeMethod="#{planoDeContasWizardControlador.completarFonteDeRecursos}"
                                    var="fonte" itemLabel="#{fonte}" itemValue="#{fonte.id}" forceSelection="true"
                                    converter="#{planoDeContasWizardControlador.converterFonteDeRecursos}"
                                    rendered="#{planoDeContasWizardControlador.hasSuperior()}"
                                    disabled="#{planoDeContasWizardControlador.desabilitarFonteDeRecurso()}">
                        <p:ajax event="itemSelect"
                                listener="#{planoDeContasWizardControlador.acrescentaCodigoDescricaoFonte()}"/>
                    </p:autoComplete>

                    <h:outputText value="Código TCE: "/>
                    <p:inputText title="Informe o código TCE"
                                 id="inputCodigoTCEDestinacao"
                                 value="#{planoDeContasWizardControlador.conta.codigoTCE}"
                                 size="21" maxlength="21"
                                 onkeypress="somenteNumeros(event, this, false, false, true)">
                        <p:ajax event="blur" update="inputCodigoTCEDestinacao" process="inputCodigoTCEDestinacao"/>
                    </p:inputText>

                    <h:outputText value="Código SICONFI: "/>
                    <p:inputText title="Informe o código SICONFI"
                                 id="inputCodigoSICONFIDestinacao"
                                 value="#{planoDeContasWizardControlador.conta.codigoSICONFI}"
                                 size="21" maxlength="21"
                                 onkeypress="somenteNumeros(event, this, false, false, true)">
                        <p:ajax event="blur" update="inputCodigoSICONFIDestinacao" process="inputCodigoSICONFIDestinacao"/>
                    </p:inputText>

                    <h:outputText value="Código CO: "/>
                    <p:inputText title="Informe o código CO"
                                 id="inputCodigoCODestinacao"
                                 value="#{planoDeContasWizardControlador.conta.codigoCO}"
                                 size="5" maxlength="4"
                                 onkeypress="somenteNumeros(event, this, false, false, true)">
                        <p:ajax event="blur" update="inputCodigoCODestinacao" process="inputCodigoCODestinacao"/>
                    </p:inputText>

                    <h:outputText value="Ativa:"/>
                    <p:selectBooleanCheckbox title="Selecione se for conta ativa"
                                             id="checkBoxAtivaContaDeDestinacao"
                                             value="#{planoDeContasWizardControlador.conta.ativa}"
                                             disabled="#{!planoDeContasWizardControlador.canRemoverContaSelecionada()}"/>
                </h:panelGrid>


                <h:panelGrid columns="2" rendered="#{planoDeContasWizardControlador.tipoContaReceita}">

                    <h:outputText value="Exercício: "/>
                    <h:outputText value="#{planoDeContasWizardControlador.selecionado.exercicio}" styleClass="negrito"/>

                    <h:outputText value="Superior: "/>
                    <h:outputText
                        value="#{planoDeContasWizardControlador.conta.superior.codigo} - #{planoDeContasWizardControlador.conta.superior.descricao}"
                        style="width: 500px"
                        styleClass="negrito"/>

                    <fc:outputLabelObrigatorio value="Código: "/>
                    <h:panelGrid columns="5" id="gridCodigoContaReceita"
                                 rendered="#{planoDeContasWizardControlador.canRemoverContaSelecionada()}">
                        <h:outputText value="#{planoDeContasWizardControlador.codigoAntes}"/>

                        <p:inputText id="codigoContaReceita"
                                     style="width: 20px; margin-left: -5px"
                                     maxlength="#{planoDeContasWizardControlador.quantidadeDeDigitos}"
                                     title="Digite o código da conta"
                                     value="#{planoDeContasWizardControlador.codigo}"
                                     onkeypress="mascara(this,soNumeros);"/>
                        <h:outputText value="#{planoDeContasWizardControlador.codigoDepois}"/>

                        <p:commandButton icon="ui-icon-arrowthick-1-w"
                                         styleClass="vinteLarguraVinteAltura"
                                         actionListener="#{planoDeContasWizardControlador.diminuirNivelMascara}"
                                         title="Clique para Diminuir o nível do Código da Conta."
                                         onstart="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         process="@this"
                                         rendered="#{planoDeContasWizardControlador.conta.id eq null}"
                                         update="gridCodigoContaReceita"/>

                        <p:commandButton icon="ui-icon-arrowthick-1-e"
                                         styleClass="vinteLarguraVinteAltura"
                                         title="Clique para Aumentar o nível do Código da Conta."
                                         actionListener="#{planoDeContasWizardControlador.aumentarNivelMascara}"
                                         rendered="#{planoDeContasWizardControlador.conta.id eq null}"
                                         onstart="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         process="@this"
                                         update="gridCodigoContaReceita"/>
                    </h:panelGrid>

                    <h:outputText value="#{planoDeContasWizardControlador.conta.codigo}"
                                  rendered="#{!planoDeContasWizardControlador.canRemoverContaSelecionada()}"/>

                    <h:outputText value="Código TCE: "/>
                    <p:inputText title="Informe o código TCE"
                                 id="inputCodigoTCEReceita"
                                 value="#{planoDeContasWizardControlador.conta.codigoTCE}"
                                 size="21" maxlength="21"
                                 onkeypress="somenteNumeros(event, this, false, false, true)">
                        <p:ajax event="blur" update="inputCodigoTCEReceita" process="inputCodigoTCEReceita"/>
                    </p:inputText>

                    <h:outputText value="Código SICONFI: "/>
                    <p:inputText title="Informe o código SICONFI"
                                 id="inputCodigoSICONFIReceita"
                                 value="#{planoDeContasWizardControlador.conta.codigoSICONFI}"
                                 size="21" maxlength="21"
                                 onkeypress="somenteNumeros(event, this, false, false, true)">
                        <p:ajax event="blur" update="inputCodigoSICONFIReceita" process="inputCodigoSICONFIReceita"/>
                    </p:inputText>

                    <fc:outputLabelObrigatorio value="Descrição: "/>
                    <p:inputTextarea title="Digite a descrição da conta"
                                     id="inputDescricaoContaDeReceita"
                                     value="#{planoDeContasWizardControlador.conta.descricao}"
                                     maxlength="3000"
                                     autoResize="true"
                                     cols="70"
                                     rows="1"/>

                    <h:outputText value="Ativa: "/>
                    <p:selectBooleanCheckbox title="Selecione se for conta ativa"
                                             id="checkBoxAtivaContaDeReceita"
                                             value="#{planoDeContasWizardControlador.conta.ativa}"
                                             disabled="#{!planoDeContasWizardControlador.canRemoverContaSelecionada()}"/>

                    <h:outputText value="Permite Desdobramento: "/>
                    <h:panelGrid columns="3">
                        <p:selectBooleanCheckbox title="Selecione se permitir desdobramento"
                                                 id="checkBoxPermiteDesdobramentoContaDeReceita"
                                                 style="margin-left: -4px"
                                                 value="#{planoDeContasWizardControlador.conta.permitirDesdobramento}"
                                                 disabled="#{!planoDeContasWizardControlador.canRemoverContaSelecionada()}">
                            <p:ajax update=":Formulario" event="change" process=":Formulario"/>
                        </p:selectBooleanCheckbox>
                        <h:outputText value="Conta SINTÉTICA"
                                      rendered="#{planoDeContasWizardControlador.tipoCategoriaPorDesdobramento}"
                                      styleClass="negrito"/>
                        <h:outputText value="Conta ANALÍTICA"
                                      rendered="#{!planoDeContasWizardControlador.tipoCategoriaPorDesdobramento}"
                                      styleClass="negrito"/>
                    </h:panelGrid>

                    <h:outputText value="Código Reduzido: "/>
                    <p:inputMask mask="#{planoDeContasWizardControlador.verificaMascaraContaReceita}"
                                 value="#{planoDeContasWizardControlador.conta.codigoReduzido}" id="codReduzido"
                                 title="Informe o Código Reduzido"/>


                    <h:outputText value="Descrição Reduzida: "/>
                    <p:inputText value="#{planoDeContasWizardControlador.conta.descricaoReduzida}" id="descReduzida"
                                 size="70"
                                 maxlength="70" title="Informe a Descrição Reduzida"/>


                    <h:outputText value="Tipo de Conta de Receita: "/>
                    <h:selectOneMenu title="Selecione o Tipo de Conta"
                                     value="#{planoDeContasWizardControlador.conta.tiposCredito}"
                                     id="tipoContaReceita">
                        <f:selectItems value="#{planoDeContasWizardControlador.tiposCreditos}"/>
                        <p:ajax update=":Formulario" event="change" process=":Formulario"/>
                    </h:selectOneMenu>

                    <h:outputText value="Conta Correspondente: "
                                  rendered="#{planoDeContasWizardControlador.mostraContaCorrespondente()}"/>
                    <h:panelGroup rendered="#{planoDeContasWizardControlador.mostraContaCorrespondente()}">
                        <p:autoComplete queryDelay="1000" id="contaCorresp"
                                        size="70"
                                        title="Informe uma Conta de Receita Correspondente."
                                        value="#{planoDeContasWizardControlador.conta.correspondente}"
                                        completeMethod="#{planoDeContasWizardControlador.completaContaReceitaDivida}"
                                        converter="#{planoDeContasWizardControlador.converterConta}"
                                        var="c" itemLabel="#{c.codigo} - #{c.descricao}"
                                        itemValue="#{c.id}"/>
                        <p:watermark value="Conta Correspondente da Dívida Ativa" for="contaCorresp"/>
                    </h:panelGroup>

                    <h:outputText value="Gerar Crédito Arrecadação: "/>
                    <p:selectBooleanCheckbox value="#{planoDeContasWizardControlador.conta.geraCreditoArrecadacao}"
                                             id="geraCredito"
                                             title="Selecione se Gera Crédito de Arrecadação"/>

                </h:panelGrid>


                <h:panelGrid columns="2" rendered="#{planoDeContasWizardControlador.tipoContaExtraorcamentaria}">

                    <h:outputText value="Exercício: "/>
                    <h:outputText value="#{planoDeContasWizardControlador.selecionado.exercicio}" styleClass="negrito"/>

                    <fc:outputLabelObrigatorio value="Código:"/>
                    <h:panelGrid columns="3" rendered="#{planoDeContasWizardControlador.canRemoverContaSelecionada()}">
                        <p:inputMask value="#{planoDeContasWizardControlador.conta.codigo}"
                                     id="codigoContaExtra"
                                     style="margin-left: -3px"
                                     title="Informe o código da conta"
                                     mask="#{planoDeContasWizardControlador.mascaraTipoContaExtra}"/>
                    </h:panelGrid>

                    <fc:outputLabelObrigatorio value="Descrição:"/>
                    <p:inputTextarea title="Digite a descrição da conta"
                                     id="inputDescricaoContaExtraOrcamentaria"
                                     value="#{planoDeContasWizardControlador.conta.descricao}"
                                     maxlength="3000"
                                     autoResize="true"
                                     cols="70"
                                     rows="1"/>


                    <h:outputText value="Ativa:"/>
                    <p:selectBooleanCheckbox title="Selecione se for conta ativa"
                                             id="checkBoxAtivaContaExtraOrcamentaria"
                                             value="#{planoDeContasWizardControlador.conta.ativa}"
                                             disabled="#{!planoDeContasWizardControlador.canRemoverContaSelecionada()}"/>


                    <h:outputText value="Permite Desdobramento:"/>
                    <h:panelGrid columns="3">
                        <p:selectBooleanCheckbox title="Selecione se permitir desdobramento"
                                                 id="checkBoxPermiteDesdobramentoContaExtraOrcamentaria"
                                                 style="margin-left: -4px"
                                                 value="#{planoDeContasWizardControlador.conta.permitirDesdobramento}"
                                                 disabled="#{!planoDeContasWizardControlador.canRemoverContaSelecionada()}">
                            <p:ajax update=":Formulario" event="change" process=":Formulario"/>
                        </p:selectBooleanCheckbox>
                        <h:outputText value="Conta SINTÉTICA"
                                      rendered="#{planoDeContasWizardControlador.tipoCategoriaPorDesdobramento}"
                                      styleClass="negrito"/>
                        <h:outputText value="Conta ANALÍTICA"
                                      rendered="#{!planoDeContasWizardControlador.tipoCategoriaPorDesdobramento}"
                                      styleClass="negrito"/>
                    </h:panelGrid>

                    <h:outputText value="Conta Contábil:"/>
                    <p:autoComplete queryDelay="1000" id="contaContabil" size="70" title="Informe uma Conta Contábil"
                                    value="#{planoDeContasWizardControlador.conta.contaContabil}"
                                    completeMethod="#{planoDeContasWizardControlador.completaContaContabil}"
                                    converter="#{planoDeContasWizardControlador.converterConta}"
                                    var="cc" itemLabel="#{cc.codigo} - #{cc.descricao}" itemValue="#{cc.id}"
                                    forceSelection="true"/>


                    <h:outputText value="Conta Extraorçamentária: "/>
                    <p:autoComplete queryDelay="1000" id="contaExtra" size="70"
                                    title="Informe uma Conta Extraorçamentária do Plano de Contas do Tribunal"
                                    value="#{planoDeContasWizardControlador.conta.contaExtraorcamentaria}"
                                    completeMethod="#{planoDeContasWizardControlador.completaContaExtraorcamentaria}"
                                    converter="#{planoDeContasWizardControlador.converterConta}"
                                    var="ce" itemLabel="#{ce.codigo} - #{ce.descricao}" itemValue="#{ce.id}"
                                    forceSelection="true"/>


                    <h:outputText value="Tipo Conta Extraorçamentária: "/>
                    <h:selectOneMenu value="#{planoDeContasWizardControlador.conta.tipoContaExtraorcamentaria}"
                                     title="Informe o Tipo da Conta Extraorçamentária" id="tipoContaExtra">
                        <f:selectItems value="#{planoDeContasWizardControlador.tiposContaExtra}"/>
                    </h:selectOneMenu>


                </h:panelGrid>

            </p:panel>

            <p:commandButton value="Salvar"
                             id="cbSalvar"
                             styleClass="mtop10 mrig05 prioritario"
                             style="height: 30px;"
                             icon="ui-icon-disk"
                             title="Clique para salvar o registro"
                             actionListener="#{planoDeContasWizardControlador.salvarConta()}"
                             onstart="aguarde.show()"
                             oncomplete="aguarde.hide()"/>

            <p:commandButton id="contaEquivalente"
                             value="Contas Equivalentes"
                             icon="ui-icon-clipboard"
                             styleClass="mtop10 mrig05"
                             onstart="aguarde.show()"
                             style="height: 30px"
                             rendered="#{planoDeContasWizardControlador.conta.id ne null}"
                             actionListener="#{planoDeContasWizardControlador.instanciarContaEquivalente()}"
                             title="Clique para Adicionar/Visualizar as Contas Equivalente"
                             update=":Formulario3"
                             oncomplete="dialogoContaEquivalente.show();aguarde.hide()"/>

            <p:commandButton value="Cancelar"
                             id="cbCancelar"
                             style="height: 30px;"
                             styleClass="mtop10"
                             icon="ui-icon-voltar"
                             title="clique para cancelar e retornar a página anterior"
                             actionListener="#{planoDeContasWizardControlador.voltarRedirecionarContas()}"
                             immediate="true"/>

        </h:form>

        <p:dialog header="Cadastro de Conta Equivalente"
                  position="center"
                  dynamic="true"
                  id="cantaequivalente"
                  widgetVar="dialogoContaEquivalente"
                  modal="true">

            <h:form id="Formulario3" styleClass="mtop03">
                <p:panel id="painelContaE">
                    <h:panelGrid columns="2">
                        <h:outputText value="Conta: "/>
                        <h:outputText value="#{planoDeContasWizardControlador.conta}"
                                      styleClass="negrito"/>

                        <h:outputText value="Planos de Contas de Origem: "/>
                        <h:outputText value="#{planoDeContasWizardControlador.planoDeContas}" styleClass="negrito"/>

                        <fc:outputLabelObrigatorio value="Conta Origem: "/>
                        <p:autoComplete queryDelay="1000" id="contaDestino"
                                        size="70"
                                        var="equi"
                                        value="#{planoDeContasWizardControlador.contaEquivalente.contaOrigem}"
                                        converter="#{planoDeContasWizardControlador.converterContaEquivalente}"
                                        completeMethod="#{planoDeContasWizardControlador.completaContaEquivalente}"
                                        title="Informe uma Conta de Origem"
                                        itemValue="#{equi.id}"
                                        itemLabel="#{equi}"/>

                        <h:outputText value="Vigência: "/>
                        <p:calendar title="Informe a data inicial da vigencia da conta equivalente"
                                    value="#{planoDeContasWizardControlador.contaEquivalente.vigencia}"
                                    onkeypress="mascara(this, mdata)"
                                    id="vigencia"
                                    size="20"
                                    pattern="dd/MM/yyyy"
                                    locale="pt_BR"
                                    navigator="true"/>

                        <h:outputText value="Natureza do Saldo:"/>
                        <h:selectOneMenu title="Selecione a Natureza do Saldo"
                                         value="#{planoDeContasWizardControlador.contaEquivalente.naturezaSaldo}">
                            <f:selectItems value="#{planoDeContasWizardControlador.naturezaSaldoContaEquivalente}"/>
                        </h:selectOneMenu>
                    </h:panelGrid>

                    <p:commandButton value="Adicionar"
                                     id="novaContaEquivalente"
                                     update=":Formulario3:painelContaE"
                                     styleClass="icone_verde padrao mtop20 mrig05"
                                     icon="ui-icon-circle-plus"
                                     onstart="aguarde.show()"
                                     oncomplete="aguarde.hide()"
                                     title="Clique para adicionar a conta."
                                     actionListener="#{planoDeContasWizardControlador.novaContaEquivalente}"/>

                    <p:commandButton value="Fechar"
                                     title="Clique para fechar a janela"
                                     process="@this"
                                     onstart="aguarde.show()"
                                     oncomplete="dialogoContaEquivalente.hide();aguarde.hide()"
                                     styleClass="icone_vermelho padrao mtop20"
                                     icon="ui-icon-close"/>

                    <p:dataTable id="tabelaContaE"
                                 value="#{planoDeContasWizardControlador.conta.contasEquivalentes}"
                                 var="ce"
                                 rowKey="#{ce.id}"
                                 rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                 paginator="true"
                                 rows="10"
                                 styleClass="mtop03"
                                 paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>CONTAS EQUIVALENTES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                 emptyMessage="Não foram localizados registros para serem apresentados."
                                 rowIndexVar="rowlx">
                        <p:column headerText="Ações">
                            <p:commandButton id="alterar"
                                             update=":Formulario3:painelContaE"
                                             styleClass="icone_azul mrig05"
                                             icon="ui-icon-pencil"
                                             onstart="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             title="Clique para alterar a conta"
                                             actionListener="#{planoDeContasWizardControlador.alterarContaEquivalentes(ce)}"/>

                            <p:commandButton id="Remove"
                                             update=":Formulario3:tabelaContaE"
                                             styleClass="icone_vermelho"
                                             icon="ui-icon-trash"
                                             title="Clique para remover a conta"
                                             onstart="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             onclick="if(!confirm('Deseja excluir esta Conta?')) return false;"
                                             actionListener="#{planoDeContasWizardControlador.removeContaEquivalentes(ce)}"/>
                        </p:column>

                        <p:column filterBy="#{ce.contaOrigem.planoDeContas.exercicio.ano}"
                                  sortBy="#{ce.contaOrigem.planoDeContas.exercicio.ano}"
                                  headerText="Exercício"
                                  style="text-align: center">
                            <h:outputText value="#{ce.contaOrigem.planoDeContas.exercicio.ano}"/>
                        </p:column>

                        <p:column filterBy="#{ce.contaOrigem}" sortBy="#{ce.contaOrigem}" headerText="Conta Origem">
                            <h:outputText value="#{ce.contaOrigem}"/>
                        </p:column>
                        <p:column headerText="Conta Destino">
                            <h:outputText value="#{ce.contaDestino}"/>
                        </p:column>
                        <p:column headerText="Vigência">
                            <h:outputText value="#{ce.vigencia}">
                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                            </h:outputText>
                        </p:column>
                        <p:column style="width: 70px;text-align: center"
                                  headerText="Natureza do Saldo">
                            <h:outputText value="#{ce.naturezaSaldo.descricao}"/>
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

    </ui:define>
</ui:composition>
</html>
