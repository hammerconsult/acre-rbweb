<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PT"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:fc="http://java.sun.com/jsf/composite/components/"
      xmlns:co="http://java.sun.com/jsf/composite/components/contabil"
      xmlns:p="http://primefaces.org/ui">
<script type="text/javascript">
    // INICIO FUNÇÃO DE MASCARA MAIUSCULA
    function minuscula(z) {
        v = z.value.toLowerCase();
        z.value = v;
    }

    //FIM DA FUNÇÃO MASCARA MAIUSCULA
</script>
<ui:composition id="compositon" template="/corpo.xhtml">
    <ui:define id="define" name="body">
        <p:messages showDetail="true"/>

        <h:form id="Formulario">
            <fc:cabecalhoPretty controlador="#{pessoaContabilControlador}"
                                origem="#{pessoaContabilControlador.caminhoPadrao}listar/"/>

            <p:tabView id="tabViewPrincipal">
                <p:tab title="Cadastro de Pessoa Física">
                    <h:panelGrid id="painelGrid" columns="2">
                        <fc:outputLabelObrigatorio value="Nome: " id="oNome"/>
                        <p:inputText title="Informe o nome."
                                     value="#{pessoaContabilControlador.selecionado.nome}"
                                     id="iNome"
                                     maxlength="70"
                                     size="70">
                            <p:ajax
                                update=":Formulario:tabViewPrincipal:tabViewGeral:PessoaContaCorrente :Formulario:tabViewPrincipal:tabViewGeral:msgContaCorrente"
                                event="blur"
                                listener="#{pessoaContabilControlador.setaPessoaFisicaContaCorrenteBancaria()}"/>
                        </p:inputText>

                        <h:outputText value="Nome Tratamento/Social:" id="oNomeTratamento"/>
                        <p:inputText title="Digite o nome de tratamento da Pessoa"
                                     value="#{pessoaContabilControlador.selecionado.nomeTratamento}"
                                     id="iNomeTratamento" maxlength="70" size="70" onkeypress="mascara(this, soNomes)"/>

                        <fc:outputLabelObrigatorio value="Data de Nascimento: " id="oDataNascimento"/>
                        <p:calendar onkeypress="mascara(this, mdata)"
                                    maxlength="10"
                                    value="#{pessoaContabilControlador.selecionado.dataNascimento}"
                                    id="iDataNascimento"
                                    maxdate="new Date()"
                                    title="Informe a data de nascimento."
                                    pattern="dd/MM/yyyy"
                                    locale="pt_BR"
                                    navigator="true"/>

                        <h:outputText value="Sexo:" id="oSexo"/>
                        <h:selectOneMenu title="Informe o sexo."
                                         value="#{pessoaContabilControlador.selecionado.sexo}"
                                         id="iSexo">
                            <f:selectItems id="selectIte" value="#{pessoaContabilControlador.sexo}"/>
                            <p:ajax event="change" update="@form" process="@form"/>
                        </h:selectOneMenu>

                        <h:outputText value="Pai:" id="oPai"/>
                        <p:inputText title="Informe o nome do pai."
                                     value="#{pessoaContabilControlador.selecionado.pai}"
                                     id="iPai"
                                     maxlength="70"
                                     size="70"/>

                        <h:outputText value="Mãe:" id="oMae"/>
                        <p:inputText title="Informe o nome da mãe."
                                     value="#{pessoaContabilControlador.selecionado.mae}"
                                     id="iMae"
                                     maxlength="70"
                                     size="70"/>

                        <fc:outputLabelObrigatorio value="CPF: " id="oCPF"/>
                        <p:inputMask mask="999.999.999-99"
                                     readonly="#{!pessoaContabilControlador.isOperacaoNovo()}"
                                     title="Informe o CPF."
                                     value="#{pessoaContabilControlador.selecionado.cpf}"
                                     id="iCPF"
                                     maxlength="20"
                                     size="20">
                            <p:ajax event="blur" process="@this"
                                    update=":Formulario:tabViewPrincipal:tabViewGeral:PessoaContaCorrente :Formulario:tabViewPrincipal:tabViewGeral:msgContaCorrente"
                                    listener="#{pessoaContabilControlador.validaCpf}"/>
                        </p:inputMask>

                        <h:outputText value="E-mail:" id="oEmail"/>
                        <p:inputText title="Informe o email."
                                     style="text-transform: lowercase"
                                     onkeyup="minuscula(this)"
                                     value="#{pessoaContabilControlador.selecionado.email}"
                                     id="iEmail"
                                     maxlength="70"
                                     size="70"/>

                        <h:outputText value="Home Page:" id="oHomePage"/>
                        <p:inputText title="Informe a home page."
                                     value="#{pessoaContabilControlador.selecionado.homePage}"
                                     id="iHomePage"
                                     maxlength="70"
                                     size="70"/>

                        <h:outputText value="Raça/Cor:" id="oRacaCor"/>
                        <h:selectOneMenu title="Selecione uma Raça/Cor"
                                         value="#{pessoaContabilControlador.selecionado.racaCor}"
                                         id="iRacaCor">
                            <f:selectItems value="#{pessoaContabilControlador.racaCor}"/>
                        </h:selectOneMenu>

                        <h:outputText value="Tipo Sanguíneo:" id="oTipoSanguineo"/>
                        <h:selectOneMenu title="Selecione o tipo sanguíneo"
                                         value="#{pessoaContabilControlador.selecionado.tipoSanguineo}"
                                         id="iTipoSanguineo">
                            <f:selectItems value="#{pessoaContabilControlador.tipoSanguineo}"/>
                        </h:selectOneMenu>

                        <h:outputText value="Doador Sanguíneo:" id="oDoador"/>
                        <p:selectBooleanCheckbox title="Marque se é doador sanguíneo."
                                                 value="#{pessoaContabilControlador.selecionado.doadorSangue}"
                                                 id="iDoador"/>

                        <h:outputText value="Estado Civil:" id="oEstadoCivil"/>
                        <h:selectOneMenu title="Selecione um estado civil"
                                         value="#{pessoaContabilControlador.selecionado.estadoCivil}"
                                         id="iEstadoCivil">
                            <f:selectItems value="#{pessoaContabilControlador.estadoCivil}"/>
                            <p:ajax event="change" update="@form" process="@form"/>
                        </h:selectOneMenu>

                        <h:outputText value="Nível de Escolaridade:" id="mNivelEscolaridade"/>
                        <h:selectOneMenu title="Selecione um nivel de escolaridade."
                                         value="#{pessoaContabilControlador.selecionado.nivelEscolaridade}"
                                         id="iNivelEscolaridade"
                                         converter="#{pessoaContabilControlador.converterNivelEscolaridade}">
                            <f:selectItems value="#{pessoaContabilControlador.nivelEscolaridade}"/>
                        </h:selectOneMenu>

                        <h:outputText id="oSecretariaRequerente" value="Secretaria / Requerente: "/>
                        <p:autoComplete queryDelay="1000"
                                        value="#{pessoaContabilControlador.unidadeOrganizacionalSelecionada}"
                                        id="iSecretariaRequerente"
                                        size="70"
                                        var="uni"
                                        itemLabel="#{uni}"
                                        itemValue="#{uni.id}"
                                        completeMethod="#{pessoaContabilControlador.completaHierarquiaOrganizacional}"
                                        converter="#{pessoaContabilControlador.converterHierarquiaOrganizacional}"
                                        title="Informe a Secretária / Requerente">
                        </p:autoComplete>

                        <h:outputText value="Observação: "/>
                        <h:panelGrid columns="2">
                            <p:inputTextarea id="observacao"
                                             title="Informe as observações."
                                             value="#{pessoaContabilControlador.selecionado.observacao}"
                                             style="width: 500px; margin-left: -4px"
                                             cols="70"
                                             maxlength="3000"
                                             autoResize="true"
                                             counterTemplate="{0} Caracteres Restantes."
                                             counter="counter"/>
                            <h:outputText id="counter"/>
                        </h:panelGrid>

                        <h:outputText value="Naturalidade:" id="oNaturalidade"/>
                        <h:panelGrid columns="2">
                            <p:autoComplete queryDelay="1000" value="#{pessoaContabilControlador.selecionado.naturalidade}"
                                            title="Digite o nome da Cidade ao qual a pessoa é natural"
                                            completeMethod="#{pessoaContabilControlador.completaNaturalidade}"
                                            id="iNaturalidade"
                                            style="margin-left: -4px"
                                            converter="#{pessoaContabilControlador.converterNaturalidade}"
                                            var="naturalidade"
                                            itemLabel="#{naturalidade}"
                                            itemValue="#{naturalidade.id}"
                                            size="70">
                            </p:autoComplete>

                            <p:commandButton icon="ui-icon-circle-plus"
                                             onclick="window.open('#{request.contextPath}/municipio/novo/?sessao=true', '_blank')"
                                             update="@this"
                                             styleClass="mrig05"
                                             title="Clique para inserir um novo registro."
                                             process="@this"/>
                        </h:panelGrid>

                        <h:outputText value="Nacionalidade:" id="oNacionalidade"/>
                        <h:panelGrid columns="2">
                            <h:selectOneMenu title="Selecione um nacionalidade"
                                             value="#{pessoaContabilControlador.selecionado.nacionalidade}"
                                             id="iNacionalidade"
                                             converter="#{pessoaContabilControlador.converterNacionalidade}"
                                             style="width: 100%; margin-left: -4px">
                                <f:selectItems value="#{pessoaContabilControlador.nacionalidades}"/>
                            </h:selectOneMenu>

                            <p:commandButton icon="ui-icon-circle-plus"
                                             onclick="window.open('#{request.contextPath}/municipio/novo/?sessao=true', '_blank')"
                                             update="@this"
                                             styleClass="mrig05"
                                             title="Clique para inserir um novo registro."
                                             process="@this"/>
                        </h:panelGrid>

                        <h:outputText value="Ano de Chegada: " id="oAnoChegada"/>
                        <h:panelGrid columns="3">
                            <p:inputText title="Digite o ano de chegada da Pessoa"
                                         value="#{pessoaContabilControlador.selecionado.anoChegada}"
                                         id="iAnoChegada"
                                         style="margin-left: -3px"
                                         maxlength="4"
                                         size="5"/>
                            <h:outputText value=" (Estrangeiros)"/>
                        </h:panelGrid>

                        <h:outputText value="Bloqueado: " id="oBloqueado"/>
                        <p:selectBooleanCheckbox value="#{pessoaContabilControlador.selecionado.bloqueado}" id="iBloqueado">
                            <p:ajax update=":Formulario:tabViewPrincipal:iMotivoBloqueio" event="change"/>
                        </p:selectBooleanCheckbox>

                        <h:outputText value="Motivo do Bloqueio: " id="oMotivoBloqueio"/>
                        <p:inputTextarea value="#{pessoaContabilControlador.selecionado.motivo}"
                                         disabled="#{pessoaContabilControlador.selecionado.bloqueado eq false}"
                                         required="#{pessoaContabilControlador.selecionado.bloqueado eq true}"
                                         cols="70"
                                         rows="3"
                                         id="iMotivoBloqueio"
                                         title="Informe o motivo do bloqueio"/>

                    </h:panelGrid>

                    <p:tabView id="tabViewGeral" styleClass="mtop10">

                        <p:tab title="Classe de Pessoa" id="tabClasse">
                            <h:panelGrid columns="2" id="pClasseCredor">
                                <fc:outputLabelObrigatorio value="Classe de Pessoa: " id="oClasseCredor"/>
                                <h:panelGroup>
                                    <p:autoComplete queryDelay="1000"
                                                    value="#{pessoaContabilControlador.classeCredorSelecionada.classeCredor}"
                                                    id="iClasseCredorSelecionado"
                                                    size="70"
                                                    var="cc"
                                                    styleClass="mrig05"
                                                    itemLabel="#{cc}"
                                                    itemValue="#{cc.id}"
                                                    completeMethod="#{pessoaContabilControlador.completaClasseCredor}"
                                                    converter="#{pessoaContabilControlador.converterClasseCredor}"
                                                    title="Informe a classe de pessoa."
                                                    maxResults="10"/>

                                    <p:commandButton icon="ui-icon-circle-plus"
                                                     onclick="window.open('#{request.contextPath}/classe-credor/novo/?sessao=true', '_blank')"
                                                     update="@this"
                                                     styleClass="mrig05"
                                                     title="Clique para inserir um novo registro."
                                                     process="@this"/>
                                </h:panelGroup>

                                <fc:outputLabelObrigatorio value="Operação: "/>
                                <h:selectOneMenu title="Informe a operação para classe de pessoa."
                                                 id="operacao"
                                                 value="#{pessoaContabilControlador.classeCredorSelecionada.operacaoClasseCredor}">
                                    <f:selectItems value="#{pessoaContabilControlador.listaOperacao}"/>
                                </h:selectOneMenu>

                                <fc:outputLabelObrigatorio value="Início de Vigência: "/>
                                <p:calendar value="#{pessoaContabilControlador.classeCredorSelecionada.dataInicioVigencia}"
                                            id="iInicioVigencia"
                                            onkeypress="mascara(this, mdata)"
                                            title="Informe a data de início de vigência."
                                            pattern="dd/MM/yyyy"
                                            locale="pt_BR"/>
                            </h:panelGrid>

                            <p:commandButton value="Adicionar"
                                             icon="ui-icon-circle-plus"
                                             onstart="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             styleClass="botao_verde icone_branco padrao mtop10"
                                             actionListener="#{pessoaContabilControlador.adicionaClassePessoa()}"
                                             id="bAdicionarClasseCredor"
                                             title="Clique para adicionar esta classe de pessoa na lista."
                                             update=":Formulario:tabViewPrincipal:tabViewGeral:tabelaClasse :Formulario:tabViewPrincipal:tabViewGeral:pClasseCredor"/>

                            <p:dataTable id="tabelaClasse"
                                         var="obj"
                                         value="#{pessoaContabilControlador.selecionado.classeCredorPessoas}"
                                         rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                         paginator="true"
                                         styleClass="mtop02"
                                         rows="10"
                                         paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>CLASSES DA PESSOA&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                         emptyMessage="Não foram localizados registros para serem apresentados."
                                         rowIndexVar="rowlx">
                                <p:column headerText="Encerrar Vigência" style="text-align: center; width: 7%">
                                    <p:commandButton icon="ui-icon-calendar-select"
                                                     disabled="#{!pessoaContabilControlador.podeEditar(obj)}"
                                                     oncomplete="confirmEncerrar.show();aguarde.hide()"
                                                     onstart="aguarde.show()"
                                                     actionListener="#{pessoaContabilControlador.setaClasseCredor(obj)}"
                                                     title="Clique para encerrar a vigência."
                                                     update=":formDialogEncerrar"/>
                                </p:column>
                                <p:column headerText="Ação" style="width: 5%; text-align: center">
                                    <p:commandButton id="cbRemoverClasseCredor" icon="ui-icon-trash"
                                                     update=":Formulario:tabViewPrincipal:tabViewGeral:tabelaClasse"
                                                     title="Clique para remover este registro."
                                                     process="@this"
                                                     onstart="aguarde.show()"
                                                     oncomplete="aguarde.hide()"
                                                     onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                     actionListener="#{pessoaContabilControlador.removeClasse(obj)}"
                                                     disabled="#{!pessoaContabilControlador.podeEditar(obj)}">
                                    </p:commandButton>
                                </p:column>
                                <p:column headerText="Início de Vigência" styleClass="alinhamentoCentralizado">
                                    <h:outputText value="#{obj.dataInicioVigencia}">
                                        <f:convertDateTime type="date"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Fim de Vigência" styleClass="alinhamentoCentralizado">
                                    <h:outputText value="#{obj.dataFimVigencia}">
                                        <f:convertDateTime type="date"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Classe de Pessoa" styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{obj.classeCredor}"/>
                                </p:column>
                                <p:column headerText="Tipo de Classe" styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{obj.classeCredor.tipoClasseCredor.descricao}"/>
                                </p:column>
                                <p:column headerText="Operação" styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{obj.operacaoClasseCredor.descricao}"/>
                                </p:column>
                            </p:dataTable>
                        </p:tab>

                        <p:tab title="RG" id="pRg">
                            <h:panelGrid columns="2">
                                <fc:outputLabelObrigatorio id="oNumeroRG" value="Número: "/>
                                <p:inputText value="#{pessoaContabilControlador.rg.numero}"
                                             title="Informe o número do rg."
                                             id="iNumeroRg"/>

                                <fc:outputLabelObrigatorio id="oDataEmissaoRg" value="Data de Emissão: "/>
                                <p:calendar onkeypress="mascara(this, mdata)"
                                            maxlength="10"
                                            id="iDataEmissaoRg"
                                            pattern="dd/MM/yyyy"
                                            value="#{pessoaContabilControlador.rg.dataemissao}"
                                            title="Informe a data de emissão do rg."
                                            locale="pt_BR"
                                            navigator="true"/>

                                <fc:outputLabelObrigatorio id="oOrgaoEmissorRg" value="Órgão Emissor: "/>
                                <p:inputText id="iOrgaoEmissorRg"
                                             value="#{pessoaContabilControlador.rg.orgaoEmissao}"
                                             title="Informe o órgão emissor do rg."/>

                                <h:outputText id="oEstadoRg" value="Estado:"/>
                                <h:panelGrid columns="4">
                                    <h:selectOneMenu id="iEstadoRg" value="#{pessoaContabilControlador.rg.uf}"
                                                     style="margin-left: -4px"
                                                     converter="#{pessoaContabilControlador.converterUf}"
                                                     title="Selecione o Estado">
                                        <f:selectItems value="#{pessoaContabilControlador.estados}" id="estados"/>
                                    </h:selectOneMenu>

                                    <p:commandButton icon="ui-icon-circle-plus"
                                                     onclick="window.open('#{request.contextPath}/estado/novo/?sessao=true', '_blank')"
                                                     update="@this"
                                                     styleClass="mrig05"
                                                     title="Clique para inserir um novo registro."
                                                     process="@this"/>
                                </h:panelGrid>
                            </h:panelGrid>
                        </p:tab>

                        <p:tab id="pTitulo" title="Título de Eleitor">
                            <h:panelGrid columns="2">
                                <h:outputText value="Número:"/>
                                <p:inputText id="inputTituloNumero"
                                             title="Informe o número do título de eleitor."
                                             value="#{pessoaContabilControlador.tituloEleitor.numero}"/>

                                <h:outputText value="Zona Eleitoral:"/>
                                <p:inputText id="inputZona"
                                             title="Informe a zona eleitoral."
                                             value="#{pessoaContabilControlador.tituloEleitor.zona}"/>

                                <h:outputText value="Sessão Eleitoral:"/>
                                <p:inputText id="inputSessao"
                                             title="Informe a sessão eleitoral."
                                             value="#{pessoaContabilControlador.tituloEleitor.sessao}"/>

                                <h:outputText value="Data de Emissão:"/>
                                <p:calendar onkeypress="mascara(this, mdata)"
                                            title="Informe a data de emissão"
                                            maxlength="10" id="inputDataE" pattern="dd/MM/yyyy"
                                            value="#{pessoaContabilControlador.tituloEleitor.dataEmissao}"
                                            locale="pt_BR" navigator="true"/>

                                <h:outputText value="Cidade:"/>
                                <h:panelGrid columns="2">
                                    <p:autoComplete queryDelay="1000"
                                                    value="#{pessoaContabilControlador.tituloEleitor.cidade}"
                                                    title="Digite o nome da Cidade ao qual a pessoa é natural"
                                                    completeMethod="#{pessoaContabilControlador.completaNaturalidade}"
                                                    id="inputCidade"
                                                    style="margin-left: -4px"
                                                    converter="#{pessoaContabilControlador.converterCidadeTitulo}"
                                                    var="uf"
                                                    itemLabel="#{uf}"
                                                    itemValue="#{uf.id}"
                                                    size="40">
                                    </p:autoComplete>

                                    <p:commandButton icon="ui-icon-circle-plus"
                                                     onclick="window.open('#{request.contextPath}/municipio/novo/?sessao=true', '_blank')"
                                                     update="@this"
                                                     styleClass="mrig05"
                                                     title="Clique para inserir um novo registro."
                                                     process="@this"/>
                                </h:panelGrid>
                            </h:panelGrid>
                        </p:tab>

                        <p:tab id="pHabilitacao" title="CNH">
                            <h:panelGrid columns="2" id="gridHabi">
                                <fc:outputLabelObrigatorio value="Número: "/>
                                <p:inputText id="numeroHabilitacao"
                                             title="Informe o número da CNH."
                                             value="#{pessoaContabilControlador.habilitacao.numero}"/>

                                <h:outputLabel value="Categoria: "/>
                                <h:selectOneMenu id="categoria"
                                                 title="selecione a categoria da CNH."
                                                 value="#{pessoaContabilControlador.habilitacao.categoria}">
                                    <f:selectItems value="#{pessoaContabilControlador.listaCategoria}"/>
                                </h:selectOneMenu>

                                <h:outputLabel value="Validade: "/>
                                <p:calendar onkeypress="mascara(this, mdata)"
                                            maxlength="10"
                                            id="validade"
                                            pattern="dd/MM/yyyy"
                                            value="#{pessoaContabilControlador.habilitacao.validade}"
                                            title="Informe a data de validade da CNH."
                                            locale="pt_BR" navigator="true"/>
                            </h:panelGrid>

                            <p:commandButton id="cbAdicionarCNH"
                                             value="Adicionar"
                                             icon="ui-icon-circle-plus"
                                             onstart="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             styleClass="padrao mtop10"
                                             title="Clique para adicionar um registro."
                                             update="tableHabi gridHabi"
                                             actionListener="#{pessoaContabilControlador.adicionarHabilitacao}"/>

                            <p:dataTable id="tableHabi"
                                         value="#{pessoaContabilControlador.habilitacoes}"
                                         var="h"
                                         rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                         paginator="true"
                                         styleClass="mtop03"
                                         rows="10"
                                         paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>CARTEIRAS NACIONAIS DE HABILITAÇÃO&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                         emptyMessage="Não foram localizados registros para serem apresentados."
                                         rowIndexVar="rowlx">

                                <p:column headerText="Ação" style="text-align: center;width: 5%">
                                    <p:commandButton id="cbRemoverCNH"
                                                     icon="ui-icon-trash"
                                                     title="Clique para remover este registro."
                                                     process="@this"
                                                     onstart="aguarde.show()"
                                                     oncomplete="aguarde.hide()"
                                                     onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                     update=":Formulario:tabViewPrincipal:tabViewGeral:tableHabi"
                                                     actionListener="#{pessoaContabilControlador.removeHabilitacao}">
                                        <f:attribute name="removeHabilitacao" id="removeHabilitacao" value="#{h}"/>
                                    </p:commandButton>
                                </p:column>
                                <p:column headerText="Número" styleClass="alinhamentoDireita">
                                    <h:outputText value="#{h.numero}"/>
                                </p:column>
                                <p:column headerText="Categoria" styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{h.categoria}"/>
                                </p:column>
                                <p:column headerText="Validade" styleClass="alinhamentoCentralizado">
                                    <h:outputText value="#{h.validade}">
                                        <f:convertDateTime pattern="dd/MM/yyyy"/>
                                    </h:outputText>
                                </p:column>
                            </p:dataTable>
                        </p:tab>

                        <p:tab id="pCarteiraTrabalho" title="Carteira de Trabalho">

                            <h:panelGrid columns="2" id="gridCarteiraT">
                                <h:outputText value="Número: "/>
                                <p:inputText id="numeroCarteiraTrabalho"
                                             title="Informe o número da carteira de trabalho."
                                             value="#{pessoaContabilControlador.carteiraTrabalho.numero}"/>

                                <h:outputText value="Série:"/>
                                <p:inputText id="inputSerie"
                                             title="Informe a série da carteira de trabalho."
                                             value="#{pessoaContabilControlador.carteiraTrabalho.serie}"/>

                                <h:outputText value="Data de Emissão: "/>
                                <p:calendar onkeypress="mascara(this, mdata)"
                                            maxlength="10"
                                            id="dataEmissaoCarteira"
                                            pattern="dd/MM/yyyy"
                                            title="Informe a data de emissão."
                                            value="#{pessoaContabilControlador.carteiraTrabalho.dataEmissao}"
                                            locale="pt_BR" navigator="true"/>

                                <fc:outputLabelObrigatorio value="PIS/PASEP: "/>
                                <p:inputText id="pisPasep"
                                             title="Informe o número do PIS/PASEP."
                                             maxlength="11"
                                             value="#{pessoaContabilControlador.carteiraTrabalho.pisPasep}">
                                    <p:ajax listener="#{pessoaContabilControlador.pisValido()}"
                                            update="@this"
                                            event="blur"/>
                                </p:inputText>

                                <h:outputText id="oOrgaoExpedidorCarteiraTrabalho" value="Órgão Expedidor: "/>
                                <p:inputText id="iOrgaoExpedidorCarteiraTrabalho"
                                             title="Informe o órgão expedidor"
                                             value="#{pessoaContabilControlador.carteiraTrabalho.orgaoExpedidor}"/>

                                <h:outputText value="Estado:"/>
                                <h:panelGrid columns="2">
                                    <h:selectOneMenu id="ufs" value="#{pessoaContabilControlador.carteiraTrabalho.uf}"
                                                     title="selecione um estado"
                                                     style="margin-left: -4px"
                                                     converter="#{pessoaContabilControlador.converterUf}">
                                        <f:selectItems value="#{pessoaContabilControlador.uf}" id="uf"/>
                                    </h:selectOneMenu>

                                    <p:commandButton icon="ui-icon-circle-plus"
                                                     onclick="window.open('#{request.contextPath}/estado/novo/?sessao=true', '_blank')"
                                                     update="@this"
                                                     styleClass="mrig05"
                                                     title="Clique para inserir um novo registro."
                                                     process="@this"/>
                                </h:panelGrid>

                                <p:commandButton value="Adicionar"
                                                 id="cbAdicionarCarteiraTrab"
                                                 title="clique para adicionar o registro na lista."
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 update=":Formulario:tabViewPrincipal:tabViewGeral:outTrab :Formulario:tabViewPrincipal:tabViewGeral:gridCarteiraT"
                                                 icon="ui-icon-circle-plus"
                                                 styleClass="padrao motp10"
                                                 actionListener="#{pessoaContabilControlador.adicionarCarteiraTrabalho}"/>
                            </h:panelGrid>
                            <p:outputPanel id="outTrab">
                                <p:dataTable id="tableCarteiraTrab"
                                             value="#{pessoaContabilControlador.carteiraTrabalhos}"
                                             var="t"
                                             rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                             paginator="true"
                                             styleClass="mtop01"
                                             rows="10"
                                             paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>CARTEIRAS DE TRABALHO&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                             emptyMessage="Não foram localizados registros para serem apresentados."
                                             rowIndexVar="rowlx">

                                    <p:column headerText="Ação" style="width: 10%; text-align: center">
                                        <p:commandButton id="cbRemoverCarteiraTrab" icon="ui-icon-trash"
                                                         title="Clique para remover este registro."
                                                         process="@this"
                                                         onstart="aguarde.show()"
                                                         oncomplete="aguarde.hide()"
                                                         onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                         update=":Formulario:tabViewPrincipal:tabViewGeral:outTrab"
                                                         actionListener="#{pessoaContabilControlador.removeTrabalho}">
                                            <f:attribute name="removeTrabalho" id="removeTrabalho" value="#{t}"/>
                                        </p:commandButton>
                                    </p:column>
                                    <p:column headerText="Número" styleClass="alinhamentoDireita">
                                        <h:outputText value="#{t.numero}"/>
                                    </p:column>
                                    <p:column headerText="Série" styleClass="alinhamentoDireita">
                                        <h:outputText value="#{t.serie}"/>
                                    </p:column>
                                    <p:column headerText="Data de Emissão" styleClass="alinhamentoCentralizado">
                                        <h:outputText value="#{t.dataEmissao}">
                                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="PIS/PASEP" styleClass="alinhamentoDireita">
                                        <h:outputText value="#{t.pisPasep}"/>
                                    </p:column>
                                    <p:column headerText="Estado" styleClass="alinhamentoEsquerda">
                                        <h:outputText value="#{t.uf}"/>
                                    </p:column>
                                </p:dataTable>
                            </p:outputPanel>
                        </p:tab>

                        <p:tab id="pMilitar" title="Situação Militar"
                               disabled="#{pessoaContabilControlador.selecionado.sexo eq 'FEMININO'}">

                            <h:panelGrid columns="2">
                                <h:outputText value="Tipo de Situação Militar:"/>
                                <h:selectOneMenu id="situacaoMilitar"
                                                 title="selecione a situação militar"
                                                 value="#{pessoaContabilControlador.situacaoMilitar.tipoSituacaoMilitar}">
                                    <f:selectItems value="#{pessoaContabilControlador.tipoSituacao}"
                                                   id="tipoSituacaoMilitar"/>
                                </h:selectOneMenu>

                                <h:outputText value="Certificado Militar:"/>
                                <p:inputText value="#{pessoaContabilControlador.situacaoMilitar.certificadoMilitar}"
                                             title="Informe o certificado militar"
                                             id="certificadoMilitar"/>

                                <h:outputText value="Série do Certificado Militar:"/>
                                <p:inputText id="serieCertificadoMilitar"
                                             title="Informe a série do certificado militar"
                                             value="#{pessoaContabilControlador.situacaoMilitar.serieCertificadoMilitar}"/>

                                <h:outputText value="Categoria do Situação Militar:"/>
                                <h:selectOneMenu id="categoriaCertificadoMilitar"
                                                 title="selecione a categoria militar"
                                                 value="#{pessoaContabilControlador.situacaoMilitar.categoriaCertificadoMilitar}">
                                    <f:selectItems value="#{pessoaContabilControlador.categoria}" id="situacaoCategoria"/>
                                </h:selectOneMenu>

                                <h:outputText value="Data de Emissão: "/>
                                <p:calendar onkeypress="mascara(this, mdata)" maxlength="10"
                                            title="Informe a data de emissão"
                                            id="dataEmissaoMilitar"
                                            pattern="dd/MM/yyyy"
                                            value="#{pessoaContabilControlador.situacaoMilitar.dataEmissao}"
                                            locale="pt_BR"
                                            navigator="true"/>

                                <h:outputText value="Órgão Emissor:"/>
                                <p:inputText id="orgaoEmissorMilitar"
                                             title="Informe o órgão emissor"
                                             value="#{pessoaContabilControlador.situacaoMilitar.orgaoEmissao}"/>
                            </h:panelGrid>
                        </p:tab>

                        <p:tab title="Certidão de Nascimento" id="pCertidaoNascimento">
                            <h:panelGrid columns="2">
                                <h:outputText id="oNomeCartorioNascimento" value="Nome do Cartório: "/>
                                <p:inputText value="#{pessoaContabilControlador.certidaoNascimento.nomeCartorio}"
                                             id="iNomeCartorioNascimento"
                                             label="nomeCartorio"
                                             title="Informe o nome do cartório"
                                             maxlength="100"
                                             size="100"/>

                                <h:outputText id="oLivroNascimento" value="Número do Livro: "/>
                                <p:inputText value="#{pessoaContabilControlador.certidaoNascimento.numeroLivro}"
                                             title="Informe o número do livro"
                                             id="iLivroNascimento"
                                             label="livroNascimento"/>

                                <h:outputText id="oFolhaNascimento" value="Número da Folha:"/>
                                <p:inputText value="#{pessoaContabilControlador.certidaoNascimento.numeroFolha}"
                                             title="Informe o número da folha"
                                             id="iFolhaNascimento"/>

                                <h:outputText id="oRegistroNascimento" value="Número do Registro:"/>
                                <p:inputText value="#{pessoaContabilControlador.certidaoNascimento.numeroRegistro}"
                                             title="Informe o número do registro"
                                             id="iRegistroNascimento" label="registroNascimento"/>
                            </h:panelGrid>
                        </p:tab>

                        <p:tab title="Certidão de Casamento" id="pCertidaoCasamento"
                               disabled="#{pessoaContabilControlador.selecionado.estadoCivil eq 'SOLTEIRO'}">
                            <h:panelGrid columns="2">
                                <h:outputText id="oNomeCartorioCasamento" value="Nome do Cartório:"/>
                                <p:inputText value="#{pessoaContabilControlador.certidaoCasamento.nomeCartorio}"
                                             title="Informe o nome do cartório"
                                             id="iNomeCartorioCasamento"
                                             maxlength="100" size="100"/>

                                <h:outputText id="oLivroCasamento" value="Número do Livro:"/>
                                <p:inputText value="#{pessoaContabilControlador.certidaoCasamento.numeroLivro}"
                                             title="Informe o número do livro"
                                             id="iLivroCasamento"/>

                                <h:outputText id="oFolhaCasamento" value="Número da Folha:"/>
                                <p:inputText value="#{pessoaContabilControlador.certidaoCasamento.numeroFolha}"
                                             title="Informe o número da folha"
                                             id="iFolhaCasamento"/>

                                <h:outputText id="oRegistroCasamento" value="Número do Registro:"/>
                                <p:inputText value="#{pessoaContabilControlador.certidaoCasamento.numeroRegistro}"
                                             title="Informe o número do registro"
                                             id="iRegistroCasamento"/>

                                <h:outputText id="oNomeConjuge" value="Nome do Cônjuge :"/>
                                <p:inputText value="#{pessoaContabilControlador.certidaoCasamento.nomeConjuge}"
                                             id="iNomeConjuge"
                                             title="Informe o nome do cônjugue"
                                             maxlength="100" size="100"/>

                            </h:panelGrid>
                        </p:tab>

                        <p:tab title="Telefone" id="pTelefones">
                            <script type="text/javascript">
                                function validarTelefone(elem) {
                                    if (elem.value.toString().length &lt; 14) {
                                        elem.value = '';
                                    }
                                }
                            </script>
                            <h:panelGrid columns="2" id="gridFone">
                                <fc:outputLabelObrigatorio value="Telefone: "/>
                                <p:inputText onkeydown="mascara(this, mtel)"
                                             maxlength="15"
                                             onblur="validarTelefone(this)"
                                             id="inputFone"
                                             title="Informe o número do telefone"
                                             value="#{pessoaContabilControlador.telefone.telefone}"/>

                                <h:outputText value="Tipo de Telefone: "/>
                                <h:selectOneMenu value="#{pessoaContabilControlador.telefone.tipoFone}"
                                                 id="tipoFone"
                                                 style="width: 125px"
                                                 title="Informe o tipo do telefone">
                                    <f:selectItems value="#{pessoaContabilControlador.tiposFone}"/>
                                    <p:ajax event="change" update=":Formulario"
                                            process=":Formulario:tabViewPrincipal:tabViewGeral:tipoFone :Formulario:tabViewPrincipal:tabViewGeral:inputFone"/>
                                </h:selectOneMenu>

                                <h:outputText id="oPessoaContato" value="Pessoa p/ Contato:"/>
                                <p:inputText id="iPessoaContato"
                                             size="70" maxlength="70"
                                             title="Informe uma Pessoa para contato."
                                             value="#{pessoaContabilControlador.telefone.pessoaContato}"/>

                                <h:outputText value="Telefone Principal: "/>
                                <p:selectBooleanCheckbox disabled="#{pessoaContabilControlador.liberaTelefonePrincipal()}"
                                                         id="fonePrincipal"
                                                         value="#{pessoaContabilControlador.telefone.principal}"/>
                            </h:panelGrid>

                            <p:commandButton value="Adicionar"
                                             id="cbAdicionarTel"
                                             icon="ui-icon-circle-plus"
                                             onstart="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             update="gridFone fones"
                                             actionListener="#{pessoaContabilControlador.adicionarTelefonePF}"
                                             title="cllique para adicionar este telefone."
                                             styleClass="padrao mtop10"/>

                            <p:dataTable id="fones" value="#{pessoaContabilControlador.selecionado.telefones}"
                                         var="fone"
                                         rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                         paginator="true"
                                         styleClass="mtop03"
                                         rows="10"
                                         paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>TELEFONES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                         emptyMessage="Não foram localizados registros para serem apresentados."
                                         rowIndexVar="rowlx">

                                <p:column headerText="Ações" style="width: 8%;text-align: center">
                                    <p:commandButton id="cbAlterarTel"
                                                     icon="ui-icon-pencil"
                                                     onstart="aguarde.show()"
                                                     oncomplete="aguarde.hide()"
                                                     styleClass="mrig05"
                                                     update=":Formulario:tabViewPrincipal:tabViewGeral:gridFone"
                                                     title="clique para alterar o registro"
                                                     actionListener="#{pessoaContabilControlador.setaTelefone}">
                                        <f:attribute name="alteraFone" id="alteraFone" value="#{fone}"/>
                                    </p:commandButton>

                                    <p:commandButton id="cbRemoverTel" icon="ui-icon-trash"
                                                     styleClass="icone_vermelho"
                                                     title="Clique para remover este registro."
                                                     process="@this"
                                                     onstart="aguarde.show()"
                                                     oncomplete="aguarde.hide()"
                                                     onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                     update=":Formulario:tabViewPrincipal:tabViewGeral:gridFone :Formulario:tabViewPrincipal:tabViewGeral:fones"
                                                     actionListener="#{pessoaContabilControlador.removeFone}">
                                        <f:attribute name="vfone" id="vfone" value="#{fone}"/>
                                    </p:commandButton>
                                </p:column>
                                <p:column headerText="Telefone" styleClass="alinhamentoDireita">
                                    <h:outputText value="#{fone.telefone}"/>
                                </p:column>
                                <p:column headerText="Tipo de Telefone" styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{fone.tipoFone.tipoFone}"/>
                                </p:column>
                                <p:column headerText="Pessoa p/ Contato" styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{fone.pessoaContato}"/>
                                </p:column>
                                <p:column headerText="Principal" styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{fone.principal ? 'Principal' : ''}"/>
                                </p:column>
                            </p:dataTable>
                        </p:tab>

                        <p:tab title="Endereço" id="pEnderecos">
                            <h:panelGrid columns="2" id="gridEndereco2">
                                <fc:outputLabelObrigatorio value="CEP: "/>
                                <h:panelGroup>
                                    <p:autoComplete queryDelay="1000" value="#{pessoaContabilControlador.endereco.cep}"
                                                    completeMethod="#{pessoaContabilControlador.completaCEP}"
                                                    var="ce"
                                                    title="Informe um cep para pesquisar ou insira um cep válido."
                                                    id="cepNumero"
                                                    maxlength="8"
                                                    styleClass="mrig05"
                                                    itemLabel="#{ce}"
                                                    itemValue="#{ce}"
                                                    size="25">
                                        <p:ajax event="itemSelect" process="@this" update="gridEndereco2"
                                                listener="#{pessoaContabilControlador.atualizaLogradouros}"/>

                                    </p:autoComplete>

                                    <p:commandButton id="cbPesquisaEnd"
                                                     title="clique para pesquisar"
                                                     icon="ui-icon-lupa"
                                                     styleClass="icone-25"
                                                     actionListener="#{pessoaContabilControlador.atualizaLogradouros}"
                                                     update="gridEndereco2"
                                                     process="gridEndereco2"/>
                                </h:panelGroup>

                                <fc:outputLabelObrigatorio id="oEstado" value="UF: "/>
                                <h:selectOneMenu value="#{pessoaContabilControlador.endereco.uf}">
                                    <f:selectItems value="#{pessoaTributarioControlador.listaUF}"
                                                   var="uf" itemLabel="#{uf.nome}" itemValue="#{uf.sigla}"/>
                                </h:selectOneMenu>

                                <fc:outputLabelObrigatorio value="Cidade: "/>
                                <p:inputText id="iCidade"
                                             title="informe uma Cidade"
                                             value="#{pessoaContabilControlador.endereco.localidade}"
                                             size="25"/>

                                <fc:outputLabelObrigatorio value="Bairro: "/>
                                <p:inputText id="iBairro"
                                             title="informe um Bairro"
                                             value="#{pessoaContabilControlador.endereco.bairro}"
                                             size="25"/>

                                <fc:outputLabelObrigatorio value="Logradouro: "/>
                                <p:inputText id="iLogradouro"
                                             title="informe um Logradouro"
                                             value="#{pessoaContabilControlador.endereco.logradouro}"
                                             size="25"/>


                                <h:outputText value="Complemento: "/>
                                <p:inputText id="itComplementoEnd"
                                             title="informe um complemento"
                                             value="#{pessoaContabilControlador.endereco.complemento}"
                                             size="25"/>

                                <h:outputText value="Número: "/>
                                <p:inputText id="itNumeroEnd"
                                             title="informe um número"
                                             value="#{pessoaContabilControlador.endereco.numero}"
                                             size="25"/>

                                <h:outputText value="Tipo de Endereco: " id="oTipoEndereco"/>
                                <h:selectOneMenu id="iTipoEndereco"
                                                 title="selecione um tipo de endereço"
                                                 value="#{pessoaContabilControlador.endereco.tipoEndereco}">
                                    <f:selectItems value="#{pessoaContabilControlador.tiposEnderecos}"/>
                                </h:selectOneMenu>

                                <h:outputText value="Endereço Principal: "/>
                                <p:selectBooleanCheckbox id="endPrincipal"
                                                         value="#{pessoaContabilControlador.endereco.principal}"
                                                         disabled="#{pessoaContabilControlador.liberaEnderecoPrincipal()}"/>

                                <p:commandButton value="Adicionar"
                                                 id="cbAdicionarEndereco"
                                                 title="Clique para adicionar um endereço."
                                                 icon="ui-icon-circle-plus"
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 styleClass="mtop10 padrao"
                                                 update="endersD gridEndereco2"
                                                 actionListener="#{pessoaContabilControlador.adicionarEndereco}"/>
                            </h:panelGrid>

                            <p:dataTable id="endersD"
                                         var="ender"
                                         value="#{pessoaContabilControlador.selecionado.enderecos}"
                                         rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                         paginator="true"
                                         styleClass="mtop01"
                                         rows="10"
                                         paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>ENDEREÇOS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                         emptyMessage="Não foram localizados registros para serem apresentados."
                                         rowIndexVar="rowlx">

                                <p:column headerText="Ações" style="width: 8%; text-align: center">
                                    <p:commandButton id="cbAlterarTel"
                                                     icon="ui-icon-pencil"
                                                     onstart="aguarde.show()"
                                                     oncomplete="aguarde.hide()"
                                                     styleClass="mrig05"
                                                     update=":Formulario:tabViewPrincipal:tabViewGeral:gridEndereco2"
                                                     title="clique para alterar o registro."
                                                     actionListener="#{pessoaContabilControlador.editaEndereco}">
                                        <f:attribute name="endereco" id="endereco" value="#{ender}"/>
                                    </p:commandButton>

                                    <p:commandButton id="cbRemoverEnd"
                                                     icon="ui-icon-trash"
                                                     update=":Formulario:tabViewPrincipal:tabViewGeral:endersD :Formulario:tabViewPrincipal:tabViewGeral:gridEndereco2"
                                                     title="Clique para remover este registro."
                                                     process="@this"
                                                     onstart="aguarde.show()"
                                                     oncomplete="aguarde.hide()"
                                                     onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                     actionListener="#{pessoaContabilControlador.removeEndereco}">
                                        <f:attribute name="vendereco" id="vendereco" value="#{ender}"/>
                                    </p:commandButton>
                                </p:column>
                                <p:column headerText="Endereço" styleClass="alinhamentoEsquerda">
                                    <h:outputText
                                        value="#{ender.logradouro}, #{ender.numero}, #{ender.bairro}, #{ender.localidade} - #{ender.uf}, #{ender.cep}"/>
                                </p:column>
                                <p:column headerText="Tipo de Endereço" style="text-align: left; width: 20%">
                                    <h:outputText value="#{ender.tipoEndereco.descricao}"/>
                                </p:column>
                                <p:column headerText="Principal" style="text-align: left; width: 20%">
                                    <h:outputText value="#{ender.principal ? 'Principal' : ''}"/>
                                </p:column>
                            </p:dataTable>
                        </p:tab>

                        <p:tab title="Conta Corrente Bancária" id="pContaCorrente">
                            <p:outputPanel id="outPutContaB">
                                <p:commandButton icon="ui-icon-plus" value="Novo" styleClass="operacao mrig05"
                                                 rendered="#{pessoaContabilControlador.contaCorrenteBancPessoa eq null}"
                                                 actionListener="#{pessoaContabilControlador.instanciarContaBancariaPessoa()}"
                                                 onstart="aguarde.show();"
                                                 oncomplete="aguarde.hide();"
                                                 process=":Formulario:tabViewPrincipal:tabViewGeral:outPutContaB"
                                                 update=":Formulario:tabViewPrincipal:tabViewGeral:outPutContaB"/>
                                <p:panel id="panelConta"
                                         rendered="#{pessoaContabilControlador.contaCorrenteBancPessoa ne null}">
                                    <p:outputPanel id="msgContaCorrente" styleClass="mtop05">
                                        <co:mensagem
                                            mensagem="Para inserir uma Conta Corrente Bancária existente, é necessário que a Pessoa: #{pessoaContabilControlador.selecionado}, esteja salva no sistema."/>
                                    </p:outputPanel>

                                    <h:panelGrid columns="2" cellpadding="2">
                                        <h:outputText value="Conta Corrente Bancária"/>
                                        <p:selectOneRadio
                                            value="#{pessoaContabilControlador.mudaPanelContaCorrenteBancaria}">
                                            <f:selectItem itemLabel="Inserir/Editar Conta" itemValue="novaConta"/>
                                            <f:selectItem itemLabel="Selecionar Conta" itemValue="contaExistente"
                                                          itemDisabled="#{pessoaContabilControlador.selecionado.id eq null}"/>
                                            <p:ajax event="change"
                                                    update=":Formulario:tabViewPrincipal:tabViewGeral:panelContaCorrente"
                                                    listener="#{pessoaContabilControlador.limparContaCorrenteBancaria}"/>
                                        </p:selectOneRadio>

                                    </h:panelGrid>

                                    <p:panel id="panelContaCorrente">
                                        <h:panelGrid columns="2" id="gridConta1"
                                                     rendered="#{pessoaContabilControlador.mudaPanelContaCorrenteBancaria eq 'novaConta'}">
                                            <fc:outputLabelObrigatorio value="Banco: "/>
                                            <p:autoComplete queryDelay="1000" id="banco"
                                                            title="Informe o banco"
                                                            size="70"
                                                            value="#{pessoaContabilControlador.banco}"
                                                            completeMethod="#{pessoaContabilControlador.completarBancos}"
                                                            var="bc"
                                                            itemLabel="#{bc}"
                                                            itemValue="#{bc.id}"
                                                            forceSelection="true"
                                                            converter="#{bancoControlador.converterGenerico}">
                                                <p:ajax event="itemSelect"
                                                        onstart="aguarde.show()"
                                                        listener="#{pessoaContabilControlador.limparAgencia}"
                                                        oncomplete="aguarde.hide()"
                                                        update="agencia modalidade"/>
                                                <p:ajax event="change"
                                                        onstart="aguarde.show()"
                                                        listener="#{pessoaContabilControlador.limparAgencia}"
                                                        oncomplete="aguarde.hide()"
                                                        update="agencia modalidade"/>
                                            </p:autoComplete>

                                            <fc:outputLabelObrigatorio value="Agência: "/>
                                            <h:panelGrid columns="2">
                                                <p:autoComplete queryDelay="1000" id="agencia"
                                                                title="Informe a Agência Bancária"
                                                                size="70"
                                                                style="margin-left: -4px"
                                                                disabled="#{pessoaContabilControlador.banco eq null}"
                                                                value="#{pessoaContabilControlador.contaCorrenteBancaria.agencia}"
                                                                completeMethod="#{pessoaContabilControlador.completarAgencias}"
                                                                var="a" itemLabel="#{a}" itemValue="#{a.id}"
                                                                forceSelection="true"
                                                                converter="#{pessoaContabilControlador.converterAgencia}"/>

                                                <p:commandButton icon="ui-icon-circle-plus"
                                                                 onclick="window.open('#{request.contextPath}/agencia/novo/?sessao=true', '_blank')"
                                                                 update="@this"
                                                                 styleClass="mrig05"
                                                                 title="Clique para inserir um novo registro."
                                                                 process="@this"/>
                                            </h:panelGrid>
                                            <fc:outputLabelObrigatorio value="Tipo da Conta: "/>
                                            <h:selectOneMenu title="Informe o Tipo da Conta"
                                                             value="#{pessoaContabilControlador.contaCorrenteBancaria.modalidadeConta}"
                                                             id="modalidade">
                                                <f:selectItems value="#{pessoaContabilControlador.modalidades}"/>
                                                <p:ajax event="change" update="NumeroDaConta"/>
                                            </h:selectOneMenu>
                                            <fc:outputLabelObrigatorio value="Número da Conta: "/>
                                            <h:panelGrid columns="6">
                                                <p:inputText title="Informe o número Conta Corrente"
                                                             value="#{pessoaContabilControlador.contaCorrenteBancaria.numeroConta}"
                                                             id="NumeroDaConta"
                                                             size="20"
                                                             maxlength="#{pessoaContabilControlador.maxLengthNumeroConta()}"
                                                             style="margin-left: -3px"/>

                                                <h:outputText value=" - "/>
                                                <p:inputText title="Informe o Dígito Verificador"
                                                             value="#{pessoaContabilControlador.contaCorrenteBancaria.digitoVerificador}"
                                                             id="digitoVerificador"
                                                             size="3"
                                                             maxlength="3"/>
                                                <h:outputText value="Dígito Verificador" style="color: silver"/>
                                            </h:panelGrid>
                                            <h:outputText value="Situação: " style="margin-right: 65px"/>
                                            <h:selectOneMenu title="Informe a Situação da Conta Corrente"
                                                             value="#{pessoaContabilControlador.contaCorrenteBancaria.situacao}"
                                                             id="situacao">
                                                <f:selectItems value="#{pessoaContabilControlador.situacaoConta}"/>
                                                <p:ajax event="change" update="contaPrincipal1" process="@this"/>
                                            </h:selectOneMenu>

                                            <h:outputText value="Conta Principal: "/>
                                            <p:selectBooleanCheckbox id="contaPrincipal1"
                                                                     value="#{pessoaContabilControlador.contaCorrenteBancPessoa.principal}"
                                                                     disabled="#{pessoaContabilControlador.liberaContaPrincipal() and
                                                                 pessoaContabilControlador.contaCorrenteBancaria.situacao.isAtivo()}"/>
                                        </h:panelGrid>


                                        <h:panelGrid columns="2" id="gridConta2"
                                                     rendered="#{pessoaContabilControlador.mudaPanelContaCorrenteBancaria eq 'contaExistente'}">

                                            <fc:outputLabelObrigatorio value="Pessoa: "/>
                                            <p:autoComplete queryDelay="1000" id="PessoaContaCorrente"
                                                            title="Selecione o registro desejado"
                                                            value="#{pessoaContabilControlador.pessoaFiltro}"
                                                            completeMethod="#{pessoaContabilControlador.completarPessoa}"
                                                            var="p"
                                                            size="70"
                                                            itemLabel="#{p.nome}   #{p.cpf_Cnpj} "
                                                            itemValue="#{p.id}"
                                                            converter="#{pessoaContabilControlador.converterGenerico}"
                                                            forceSelection="true"
                                                            maxResults="10">
                                                <p:ajax event="itemSelect" update="panelBancario" process="@this"/>
                                            </p:autoComplete>

                                            <fc:outputLabelObrigatorio value="Conta Corrente Bancária: "/>
                                            <h:panelGrid columns="4" id="panelBancario">
                                                <p:autoComplete queryDelay="1000" size="70"
                                                                title="Digite uma conta corrente bancária"
                                                                style="margin-left: -3px"
                                                                value="#{pessoaContabilControlador.contaCorrenteBancaria}"
                                                                completeMethod="#{pessoaContabilControlador.completaContaCorrenteBancarias}"
                                                                converter="#{pessoaContabilControlador.converterContaCorrenteBancaria}"
                                                                var="contaBancaria"
                                                                itemLabel="#{contaBancaria}"
                                                                itemValue="#{contaBancaria.id}"
                                                                dropdown="true"/>

                                                <p:commandButton id="bt_informacao"
                                                                 icon="ui-icon-info"
                                                                 styleClass="trintaLarguraTrintaAltura mrig05"/>

                                                <p:overlayPanel for="bt_informacao"
                                                                style="border : solid black 1px;"
                                                                showEvent="mouseover"
                                                                hideEvent="mouseout">
                                                    <h:outputText
                                                        value="Lista todas as contas ativas filtrando por Banco, Agência, Número e Pessoa(listando todas as contas da pessoa selecionada)."
                                                        escape="false"/>
                                                </p:overlayPanel>
                                            </h:panelGrid>

                                            <h:outputText value="Conta Principal: "/>
                                            <p:selectBooleanCheckbox id="contaPrincipal"
                                                                     value="#{pessoaContabilControlador.contaCorrenteBancPessoa.principal}"
                                                                     disabled="#{pessoaContabilControlador.liberaContaPrincipal()}"/>
                                        </h:panelGrid>

                                        <p:commandButton id="adicionarContaCorrenteBancaria"
                                                         styleClass="padrao mtop10"
                                                         title="Clique para adicionar o registro."
                                                         icon="ui-icon-circle-plus"
                                                         onstart="aguarde.show()"
                                                         oncomplete="aguarde.hide()"
                                                         value="Adicionar"
                                                         actionListener="#{pessoaContabilControlador.adicionarContaBancariaPessoaFisica}"
                                                         process=":Formulario:tabViewPrincipal:tabViewGeral:outPutContaB"
                                                         update=":Formulario:tabViewPrincipal:tabViewGeral:outPutContaB :Formulario:tabViewPrincipal:tabViewGeral:tableContas"/>

                                        <p:commandButton id="cancelarContaCorrenteBancaria"
                                                         styleClass="padrao mtop10 mlef05"
                                                         title="Clique para cancelar o registro."
                                                         icon="ui-icon-cancel"
                                                         onstart="aguarde.show()"
                                                         oncomplete="aguarde.hide()"
                                                         value="Cancelar"
                                                         process="@this"
                                                         actionListener="#{pessoaContabilControlador.cancelarContaBancariaPessoaFisica}"
                                                         update=":Formulario:tabViewPrincipal:tabViewGeral:outPutContaB"/>

                                    </p:panel>
                                </p:panel>
                            </p:outputPanel>

                            <p:dataTable id="tableContas"
                                         value="#{pessoaContabilControlador.selecionado.contaCorrenteBancPessoas}"
                                         var="c"
                                         rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                         paginator="true"
                                         styleClass="mtop03"
                                         rows="10"
                                         paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>CONTAS CORRENTES BANCÁRIAS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                         emptyMessage="Não foram localizados registros para serem apresentados."
                                         rowIndexVar="rowlx">

                                <p:column headerText="Ação" style="width: 7%; text-align: center">
                                    <p:commandButton id="cbAlterarConta"
                                                     icon="ui-icon-pencil"
                                                     styleClass="mrig05"
                                                     onstart="aguarde.show()"
                                                     oncomplete="aguarde.hide()"
                                                     update=":Formulario:tabViewPrincipal:tabViewGeral:outPutContaB :Formulario:tabViewPrincipal:tabViewGeral:gridConta2 :Formulario:tabViewPrincipal:tabViewGeral:tableContas"
                                                     process="@this"
                                                     title="Clique para alterar este registro."
                                                     actionListener="#{pessoaContabilControlador.editarContaCorrenteBancaria(c)}">
                                    </p:commandButton>
                                    <p:commandButton id="cbRemoverContaBancaria"
                                                     icon="ui-icon-trash"
                                                     title="Clique para remover este registro."
                                                     process="@this"
                                                     onstart="aguarde.show()"
                                                     oncomplete="aguarde.hide()"
                                                     onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                     actionListener="#{pessoaContabilControlador.removeContaCorrenteBancPF}"
                                                     update=":Formulario:tabViewPrincipal:tabViewGeral:gridConta1 :Formulario:tabViewPrincipal:tabViewGeral:gridConta2 :Formulario:tabViewPrincipal:tabViewGeral:tableContas">
                                        <f:attribute value="#{c}" name="objeto"/>
                                    </p:commandButton>
                                </p:column>
                                <p:column headerText="Conta Corrente Bancária" styleClass="alinhamentoEsquerda">
                                    <h:outputText
                                        value="#{c.contaCorrenteBancaria}"/>
                                </p:column>
                                <p:column headerText="Tipo de Conta" styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{c.contaCorrenteBancaria.modalidadeConta.descricao}"/>
                                </p:column>
                                <p:column headerText="Conta Principal" styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{c.principal ? 'Principal' : ''}"/>
                                </p:column>
                                <p:column headerText="Situação" styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{c.contaCorrenteBancaria.situacao.descricao}"/>
                                </p:column>
                            </p:dataTable>
                        </p:tab>

                        <p:tab title="Documentos Anexos" id="pDocumentosAnexos">
                            <fc:filesUploadWP selecionado="#{pessoaContabilControlador.selecionado}" anexoNovaAba="true"/>
                        </p:tab>
                    </p:tabView>
                </p:tab>
                <p:tab title="Solicitações" rendered="#{pessoaContabilControlador.operacaoNovo}">
                    <p:dataTable id="tableSolicitacoesPendentes"
                                 value="#{pessoaContabilControlador.solicitacoesPendentes}"
                                 var="sp"
                                 rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                 paginator="true"
                                 styleClass="mtop05"
                                 rows="10"
                                 paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>SOLICITAÇÕES PENDENTES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                 emptyMessage="Não foram localizados registros para serem apresentados."
                                 rowIndexVar="rowlx">
                        <p:column headerText="Cadastrar" style="text-align: center; width: 5%">
                            <p:commandButton icon="ui-icon-blue-document-copy"
                                             title="Clique para alterar este registro."
                                             styleClass="icone-25"
                                             onstart="aguarde.show()"
                                             process="@this"
                                             disabled="#{!pessoaContabilControlador.isDamPago(sp.key)}"
                                             actionListener="#{pessoaContabilControlador.redirecionarParaVerOrEditar(sp.idPessoa, 'editar')}"/>
                        </p:column>
                        <p:column headerText="Data Expiração" styleClass="alinhamentoCentralizado">
                            <h:outputText value="#{sp.dataExpiracao}">
                                <f:convertDateTime pattern="dd/MM/yyyy HH:mm"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Nome Completo" styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{sp.nomeRazaoSocial}"/>
                        </p:column>
                        <p:column headerText="CPF" styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{sp.cpfCnpj}"/>
                        </p:column>
                        <p:column headerText="Endereço" styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{sp.enderecoCorreio}"/>
                        </p:column>
                    </p:dataTable>
                </p:tab>
            </p:tabView>

            <fc:rodapePretty controlador="#{pessoaContabilControlador}"/>
        </h:form>

        <p:dialog widgetVar="dialogImprimirFicha"
                  modal="true"
                  closable="false"
                  resizable="false"
                  showHeader="false"
                  dynamic="true"
                  position="center"
                  style="position: fixed !important;">
            <h:form id="formImprimirFichaPessoa">
                <center>
                    <p:panel style="margin: 0px" styleClass="mtop05 mbot05" id="panelFichaPes"
                             header="Ficha da Pessoa ">

                        <br/>
                        <h:outputText value="Deseja imprimir a ficha da pessoa"/>

                        <br/><br/><br/>
                        <h:panelGrid columns="2">
                            <p:commandButton value="SIM"
                                             icon="ui-icon-print"
                                             style="height: 30px"
                                             onclick="aguarde.show(); redirecionar();"
                                             oncomplete="aguarde.hide()"
                                             styleClass="padrao mrig05"
                                             actionListener="#{pessoaContabilControlador.geraFichaPessoa()}"
                                             title="Clique para imprimir a ficha da pessoa"/>

                            <p:commandButton value="NÃO"
                                             icon="ui-icon-cancel"
                                             styleClass="padrao"
                                             title="Clique para cancelar a impressão."
                                             actionListener="#{pessoaContabilControlador.cancelaImprimirFicha()}"/>

                            <p:remoteCommand name="redirecionar"
                                             actionListener="#{pessoaContabilControlador.cancelaImprimirFicha()}"
                                             onstart="dialogImprimirFicha.hide()"/>
                        </h:panelGrid>
                    </p:panel>
                </center>
            </h:form>
        </p:dialog>


        <p:dialog id="dialogconfirmEncerrar"
                  widgetVar="confirmEncerrar"
                  closable="false"
                  showHeader="false"
                  resizable="false"
                  position="center"
                  style="position: fixed !important;"
                  dynamic="true"
                  modal="true">

            <h:form id="formDialogEncerrar">
                <center>
                    <p:panel header="Encerrar Vigência" styleClass="mtop05">
                        <h:panelGrid columns="2" cellpadding="2" styleClass="mtop10">
                            <h:outputText value="Início de Vigência: "/>
                            <p:calendar value="#{pessoaContabilControlador.classeCredorSelecionada.dataInicioVigencia}"
                                        navigator="true"
                                        pattern="dd/MM/yyyy"
                                        onkeyup="mascara(this, mdata)"
                                        title="Informe a data para alterar o início de vigência.">
                                <p:ajax event="dateSelect" update=":formDialogEncerrar"/>
                            </p:calendar>

                            <h:outputText value="Fim de Vigência: "/>
                            <p:calendar value="#{pessoaContabilControlador.classeCredorSelecionada.dataFimVigencia}"
                                        validator="#{pessoaContabilControlador.validaDataEncerraVigencia}"
                                        navigator="true"
                                        id="fimVigencia"
                                        pattern="dd/MM/yyyy"
                                        onkeyup="mascara(this, mdata)"
                                        title="Informe a data para encerrar a vigência.">
                                <p:ajax event="dateSelect" update=":formDialogEncerrar"/>
                            </p:calendar>
                        </h:panelGrid>

                        <p:commandButton id="confirm"
                                         value="Confirmar"
                                         icon="ui-icon-check"
                                         styleClass="padrao mtop20"
                                         disabled="#{pessoaContabilControlador.classeCredorSelecionada.dataFimVigencia eq null}"
                                         update=":Formulario:tabViewPrincipal:tabViewGeral:tabelaClasse"
                                         onstart="aguarde.show()"
                                         oncomplete="aguarde.hide();confirmEncerrar.hide()"
                                         actionListener="#{pessoaContabilControlador.encerrarVigencia}"
                                         title="Clique para confirmar a operação."/>

                        <p:commandButton id="fechar"
                                         value="Fechar"
                                         update=":Formulario:tabViewPrincipal:tabViewGeral:tabelaClasse"
                                         icon="ui-icon-close"
                                         onstart="aguade.show()"
                                         oncomplete="confirmEncerrar.hide();aguarde.hide()"
                                         styleClass="padrao mlef05 mtop20"
                                         actionListener="#{pessoaContabilControlador.cancelaEncerrarVigencia}"
                                         title="Clique para fechar a janela."/>
                    </p:panel>
                </center>
            </h:form>
        </p:dialog>

    </ui:define>
</ui:composition>
</html>
