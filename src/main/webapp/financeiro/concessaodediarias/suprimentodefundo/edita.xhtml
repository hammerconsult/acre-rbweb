<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PT"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:fc="http://java.sun.com/jsf/composite/components"
      xmlns:co="http://java.sun.com/jsf/composite/components/contabil"
      xmlns:p="http://primefaces.org/ui">
<ui:composition template="/corpo.xhtml">
    <ui:define name="body">
        <script type="text/javascript">
            function cleanCampos(arg) {
                var componente = document.getElementById(arg);
                if (componente.value.toString().trim().length == 0 || componente.value == '' || componente.value == 'undefined') {
                    var idPanel = arg.replace(':pessoa_input', ':cc_input');
                    var panel = document.getElementById(idPanel);
                    panel.style.display = 'none';
                    var idPane2 = arg.replace(':pessoa_input', ':contaBanc_input');
                    var pane2 = document.getElementById(idPane2);
                    pane2.style.display = 'none';

                }
            }

            window.onload = function () {
                limpaCampos(':Formulario:pessoa_input');
            }

            function cleanCamposBanco(arg) {
                var componente = document.getElementById(arg);
                if (componente.value.toString().trim().length == 0 || componente.value == '' || componente.value == 'undefined') {
                    var idPanel = arg.replace(':contaBanc_input', ':panelBanco');
                    var panel = document.getElementById(idPanel);
                    panel.style.display = 'none';
                }
            }

            window.onload = function () {
                limpaCampos(':Formulario:contaBanc_input');
            }

            function limpaCampos(arg) {
                var componente = document.getElementById(arg);
                if (componente.value.toString().trim().length == 0 || componente.value == '' || componente.value == 'undefined') {
                    var idPanel = arg.replace(':pessoa_input', ':cc_input');
                    var panel = document.getElementById(idPanel);
                    panel.value = '';
                    panel.disabled = true;
                }
            }

            window.onload = function () {
                limpaCampos(':Formulario:contaBanc_input');
            }

        </script>

        <h:form id="Formulario">
            <fc:cabecalhoPretty id="cabecalhoPretty"
                                controlador="#{suprimentoFundoControlador}"
                                origem="#{suprimentoFundoControlador.caminhoPadrao}listar/"/>

            <p:panel header="Suprimento de Fundos">
                <p:tabView id="tabView" styleClass="mtop05">
                    <p:tab id="tab1" title="Suprimento de Fundos">

                        <h:panelGrid columns="2" cellpadding="2" id="gridGeral">
                            <h:outputText value="Número: "/>
                            <h:outputText value="Gerado Automaticamente."
                                          title="Código do Suprimento de Fundo"
                                          styleClass="negrito"/>

                            <h:outputText value="Data: "/>
                            <h:outputText value="#{suprimentoFundoControlador.selecionado.dataLancamento}"
                                          styleClass="negrito">
                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                            </h:outputText>

                            <h:outputText value="Unidade Organizacional: "/>
                            <h:outputText value="#{suprimentoFundoControlador.selecionado.unidadeOrganizacional}"
                                          styleClass="negrito"/>

                            <h:outputText value="Situação do Suprimento: "/>
                            <h:outputText value="#{suprimentoFundoControlador.selecionado.situacaoDiaria.descricao}"
                                          styleClass="negrito"/>

                            <h:outputText value="Situação: "/>
                            <h:outputText value="#{suprimentoFundoControlador.selecionado.situacao.descricao}"
                                          styleClass="negrito"/>

                            <fc:outputLabelObrigatorio for="elementoDespesa" value="Elemento de Despesa: "/>
                            <co:consultar-despesa-orcamentaria
                                value="#{suprimentoFundoControlador.selecionado.despesaORC}"
                                disabled="#{suprimentoFundoControlador.operacaoEditar}"
                                tiposContaDespesa="#{suprimentoFundoControlador.tipoContaDespesaSuprimentoFundo}"
                                recuperarSomenteUnidadeLogada="true"
                                process=":Formulario:tabView:completaFonte @this"
                                update="@this :Formulario:tabView:completaFonte :Formulario:tabView:painelDesdob"
                                id="elementoDespesa"/>

                            <fc:outputLabelObrigatorio value="Conta de Destinação de Recurso: "/>
                            <h:panelGrid columns="4" id="gridFonteDespesaOrc">
                                <p:autoComplete queryDelay="1000"
                                                id="completaFonte"
                                                size="70"
                                                completeMethod="#{suprimentoFundoControlador.completaFonteDespesaORC}"
                                                converter="#{propostaConcessaoDiariaControlador.converterFonteDespesaORC}"
                                                value="#{suprimentoFundoControlador.selecionado.fonteDespesaORC}"
                                                disabled="#{suprimentoFundoControlador.operacaoEditar}"
                                                title="Informe a Fonte de Recursos da Conta de Despesa selecionada."
                                                var="fonte" forceSelection="true"
                                                style="margin-left: -4px"
                                                itemValue="#{fonte.id}"
                                                itemLabel="#{fonte.provisaoPPAFonte.destinacaoDeRecursos}">
                                    <p:ajax event="itemSelect" process="@this"
                                            listener="#{suprimentoFundoControlador.recuperarSaldoFonteDespesaOrc()}"
                                            update=":Formulario:tabView:painelDesdob :Formulario:tabView:idSaldoFonteDespesaORC"/>
                                </p:autoComplete>
                                <co:botao_informacao
                                    descricao="A Conta de Destinação de Recurso é filtrado pelo Elemento de Despesa selecionado&lt;br> e pela Fonte de Recursos vinculada a Conta de Destinação de Recurso que permite Suprimento de Fundo."/>

                                <h:outputText value="Saldo: " styleClass="negrito mlef05"/>
                                <h:outputText value="#{suprimentoFundoControlador.saldoFonteDespesaORC}"
                                              styleClass="negrito" id="idSaldoFonteDespesaORC">
                                    <f:convertNumber pattern="###,##0.00"/>
                                </h:outputText>
                            </h:panelGrid>

                            <fc:outputLabelObrigatorio for="pessoa" value="Agente Suprido: "/>
                            <h:panelGrid columns="2">
                                <p:autoComplete queryDelay="1000" title="Informe um Agente Suprido"
                                                value="#{suprimentoFundoControlador.selecionado.pessoaFisica}"
                                                id="pessoa"
                                                size="70"
                                                styleClass="mrig02"
                                                style="margin-left: -4px"
                                                var="p"
                                                itemValue="#{p.id}"
                                                itemLabel="#{p} - #{p.situacaoCadastralPessoa}"
                                                completeMethod="#{suprimentoFundoControlador.completaPessoaFisica}"
                                                converter="#{pessoaContabilControlador.converterGenerico}"
                                                disabled="#{suprimentoFundoControlador.operacaoEditar}"
                                                onkeyup="limpaCampos(this.id)">
                                    <p:ajax event="itemSelect"
                                            onstart="aguarde.show()"
                                            oncomplete="aguarde.hide();setaFoco('Formulario:tabView:cc_input')"
                                            update=":Formulario:tabView:cc :Formulario:tabView:contaBanc"/>
                                </p:autoComplete>

                                <co:botao_informacao
                                    descricao="O Agente Suprido é filtrado pelas pessoas que possui classe credor &lt;b>Suprimento de Fundos&lt;/b>&lt;br>
                                         e ser um &lt;b>Servidor Ativo do Município.&lt;/b>"/>
                            </h:panelGrid>

                            <fc:outputLabelObrigatorio for="cc" value="Classe: "/>
                            <p:autoComplete queryDelay="1000"
                                            id="cc"
                                            size="70"
                                            title="Informe a classe de pessoa."
                                            disabled="#{suprimentoFundoControlador.selecionado.pessoaFisica eq null or suprimentoFundoControlador.operacaoEditar}"
                                            value="#{suprimentoFundoControlador.selecionado.classeCredor}"
                                            maxResults="10"
                                            completeMethod="#{suprimentoFundoControlador.completaClasseCredor}"
                                            converter="#{classeCredorControlador.converterGenerico}"
                                            forceSelection="true"
                                            var="classe"
                                            itemValue="#{classe.id}"
                                            itemLabel="#{classe}">
                            </p:autoComplete>

                            <fc:outputLabelObrigatorio for="contaBanc" value="Conta Bancária: "/>
                            <h:panelGrid columns="1" cellpadding="0">
                                <p:autoComplete queryDelay="1000" id="contaBanc"
                                                value="#{suprimentoFundoControlador.selecionado.contaCorrenteBanc}"
                                                disabled="#{suprimentoFundoControlador.selecionado.pessoaFisica eq null or suprimentoFundoControlador.selecionado.situacao eq 'DEFERIDO'}"
                                                title="selecione uma Conta Bancária"
                                                completeMethod="#{suprimentoFundoControlador.completaContaCorrente}"
                                                converter="#{propostaConcessaoDiariaControlador.converterContaCorrente}"
                                                var="cc"
                                                style="margin-left: -3px"
                                                itemLabel="#{cc}"
                                                itemValue="#{cc.id}"
                                                size="70"
                                                maxResults="10"
                                                onkeyup="cleanCamposBanco(this.id)">
                                    <p:ajax event="itemSelect" update=":Formulario:tabView:panelBanco"/>
                                </p:autoComplete>

                                <p:outputPanel id="panelBanco">
                                    <h:panelGrid columns="6"
                                                 rendered="#{suprimentoFundoControlador.selecionado.contaCorrenteBanc.id ne null}">
                                        <h:outputText value="Banco: "/>
                                        <h:outputText
                                            value="#{suprimentoFundoControlador.selecionado.contaCorrenteBanc.contaCorrenteBancaria.agencia.banco.numeroBanco}"
                                            styleClass="negrito"/>

                                        <h:outputText value="Agência: "/>
                                        <h:outputText
                                            value="#{suprimentoFundoControlador.selecionado.contaCorrenteBanc.contaCorrenteBancaria.agencia.numeroAgencia} - #{suprimentoFundoControlador.selecionado.contaCorrenteBanc.contaCorrenteBancaria.agencia.digitoVerificador}"
                                            styleClass="negrito"/>

                                        <h:outputText value="Conta: "/>
                                        <h:outputText
                                            value="#{suprimentoFundoControlador.selecionado.contaCorrenteBanc.contaCorrenteBancaria.numeroConta} - #{suprimentoFundoControlador.selecionado.contaCorrenteBanc.contaCorrenteBancaria.digitoVerificador}"
                                            styleClass="negrito"/>
                                    </h:panelGrid>
                                </p:outputPanel>
                            </h:panelGrid>

                            <h:outputText value="Objetivo: "/>
                            <h:panelGrid columns="2">
                                <p:inputTextarea title="Informe o objetivo do Suprimento de Fundos"
                                                 value="#{suprimentoFundoControlador.selecionado.objetivo}"
                                                 id="objetivo" cols="70" maxlength="3000"
                                                 disabled="#{suprimentoFundoControlador.selecionado.situacao eq 'DEFERIDO'}"
                                                 style="margin-left: -3px"
                                                 autoResize="true" counterTemplate="{0} Caracteres Restantes."
                                                 counter="counterObjt"/>
                                <h:outputText id="counterObjt"/>
                            </h:panelGrid>

                            <h:outputText value="Observação: "/>
                            <h:panelGrid columns="2">
                                <p:inputTextarea title="Informe observacões do Suprimento de Fundos"
                                                 value="#{suprimentoFundoControlador.selecionado.observacao}"
                                                 style="margin-left: -3px"
                                                 id="observacao" cols="70" maxlength="255"
                                                 counterTemplate="{0} Caracteres Restantes."
                                                 counter="counter"/>
                                <h:outputText id="counter"/>
                            </h:panelGrid>


                            <fc:outputLabelObrigatorio value="Valor: "/>
                            <p:outputPanel id="panelValor">
                                <fc:inputMoeda title="Informe o valor"
                                               disable="#{suprimentoFundoControlador.operacaoEditar}"
                                               value="#{suprimentoFundoControlador.selecionado.valor}"
                                               id="valorAdi"/>
                            </p:outputPanel>
                        </h:panelGrid>
                    </p:tab>

                    <p:tab id="tabDetalhamento" title="Detalhamento">
                        <p:outputPanel id="painelDesdob">
                            <p:commandButton value="Novo"
                                             icon="ui-icon-circle-plus"
                                             actionListener="#{suprimentoFundoControlador.novoDesdobramento()}"
                                             rendered="#{suprimentoFundoControlador.desdobramento eq null}"
                                             update=":Formulario:tabView:painelDesdob"
                                             process="@this"
                                             id="btnNovoDesdobramento"
                                             onstart="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             styleClass="mtop10 padrao"
                                             disabled="#{suprimentoFundoControlador.getBloquearNovoDesdobramento()}"
                                             title="Clique para adicionar um novo desdobramento."/>

                            <h:panelGrid columns="2" id="panelGridDesdobramento"
                                         rendered="#{suprimentoFundoControlador.desdobramento ne null}">
                                <fc:outputLabelObrigatorio for="contaDesdobramento" value="Conta de Despesa: "/>
                                <h:panelGrid columns="2" cellpadding="0" cellspacing="0">
                                    <p:autoComplete queryDelay="1000"
                                                    id="contaDesdobramento"
                                                    size="70"
                                                    title="Selecione a conta de despesa desdobrada filtrando pelo tipo da conta de despesa selecionada no empenho."
                                                    completeMethod="#{suprimentoFundoControlador.completarDesdobramento}"
                                                    converter="#{planoDeContasWizardControlador.converterConta}"
                                                    value="#{suprimentoFundoControlador.desdobramento.conta}"
                                                    var="cd"
                                                    styleClass="mrig03"
                                                    maxlength="50"
                                                    dropdown="true"
                                                    panelStyle="max-height: 250px"
                                                    itemValue="#{cd.id}"
                                                    itemLabel="#{cd}"/>
                                </h:panelGrid>

                                <fc:outputLabelObrigatorio value="Valor: "/>
                                <p:outputPanel id="valorConta">
                                    <fc:inputMoeda value="#{suprimentoFundoControlador.desdobramento.valor}"
                                                   title="Informe o Valor da Conta de Despesa"/>
                                </p:outputPanel>
                            </h:panelGrid>

                            <p:commandButton id="btnAddConta"
                                             icon="ui-icon-check"
                                             onstart="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             styleClass="mtop10 padrao"
                                             rendered="#{suprimentoFundoControlador.desdobramento ne null and suprimentoFundoControlador.operacaoNovo}"
                                             actionListener="#{suprimentoFundoControlador.adicionarDesdobramento()}"
                                             title="Clique para adicionar este registro."
                                             update=":Formulario:tabView:painelDesdob panelValor"
                                             process=":Formulario:tabView:painelDesdob @this"
                                             value="Adicionar"/>

                            <p:commandButton value="Cancelar"
                                             icon="ui-icon-cancel"
                                             actionListener="#{suprimentoFundoControlador.cancelarDesdobramento()}"
                                             rendered="#{suprimentoFundoControlador.desdobramento ne null and suprimentoFundoControlador.operacaoNovo}"
                                             update=":Formulario:tabView:painelDesdob"
                                             process="@this"
                                             id="btnCancelarDesdobramento"
                                             onstart="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             styleClass="mlef05 mtop10 padrao"
                                             title="Clique para cancelar esta operação."/>


                            <p:dataTable id="tabelaDesdobramento"
                                         value="#{suprimentoFundoControlador.selecionado.desdobramentos}"
                                         var="des"
                                         styleClass="mtop02"
                                         rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                         paginator="true"
                                         rows="10"
                                         paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>DETALHAMENTOS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                         emptyMessage="Não foram localizados registros para serem apresentados."
                                         rowIndexVar="rowlx">
                                <p:column headerText="Ação" style="width: 8%;text-align: center">
                                    <p:commandButton icon="ui-icon-pencil"
                                                     onstart="aguarde.show()"
                                                     oncomplete="aguarde.hide()"
                                                     styleClass="mrig05"
                                                     disabled="#{suprimentoFundoControlador.operacaoEditar}"
                                                     actionListener="#{suprimentoFundoControlador.editarDesdobramento(des)}"
                                                     title="Clique para alterar este registro."
                                                     id="btEditarContaDesdobrada"
                                                     process="@this :Formulario:tabView:painelDesdob"
                                                     update=":Formulario:tabView:painelDesdob"/>

                                    <p:commandButton id="btnExcluirConta"
                                                     update=":Formulario:tabView:tabelaDesdobramento :Formulario:tabView:painelDesdob"
                                                     process="@this"
                                                     actionListener="#{suprimentoFundoControlador.removerDesdobramento(des)}"
                                                     title="Clique para remover este registro."
                                                     icon="ui-icon-trash"
                                                     onstart="aguarde.show()"
                                                     oncomplete="aguarde.hide()"
                                                     onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                     disabled="#{suprimentoFundoControlador.operacaoEditar}"/>
                                </p:column>
                                <p:column headerText="Conta de Despesa" styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{des.conta}"/>
                                </p:column>
                                <p:column headerText="Valor" styleClass="alinhamentoDireita">
                                    <h:outputText value="#{des.valor}">
                                        <f:convertNumber type="currency"/>
                                    </h:outputText>
                                    <f:facet name="footer">
                                        <div align="right">
                                            <h:outputText id="totalDesd"
                                                          value="#{suprimentoFundoControlador.selecionado.valorTotalDesdobramentos}"
                                                          converter="moneyConverter"/>
                                        </div>
                                    </f:facet>
                                </p:column>
                                <p:column headerText="Saldo" styleClass="alinhamentoDireita">
                                    <h:outputText value="#{des.saldo}">
                                        <f:convertNumber type="currency"/>
                                    </h:outputText>
                                    <f:facet name="footer">
                                        <div align="right">
                                            <h:outputText id="saldoTotalDesd"
                                                          value="#{suprimentoFundoControlador.selecionado.saldoTotalDesdobramentos}"
                                                          converter="moneyConverter"/>
                                        </div>
                                    </f:facet>
                                </p:column>
                            </p:dataTable>
                        </p:outputPanel>
                    </p:tab>


                    <p:tab id="tab2" title="Prestação de Contas">
                        <p:panel id="panelLancamento">
                            <h:panelGrid columns="2">
                                <h:outputText value="Atividades Desenvolvidas: "/>
                                <h:panelGrid columns="2">
                                    <p:inputTextarea id="atividDesenvolvidas"
                                                     value="#{suprimentoFundoControlador.selecionado.descricaoAtividades}"
                                                     rows="8" cols="70"
                                                     counterTemplate="{0} Caracteres restantes."
                                                     counter="counterAtiv"
                                                     maxlength="3000"
                                                     title="Informe as Atividades Desenvolvidas"/>
                                    <h:outputText id="counterAtiv"/>
                                </h:panelGrid>
                            </h:panelGrid>

                            <co:titulo-panel titulo="Demonstrativo de Gastos" styleClass="mtop20"/>
                            <h:panelGrid id="gridDemostrativo" columns="2">
                                <h:outputText value="Nome/Razão Social: "/>
                                <p:inputText id="razaosocial"
                                             value="#{suprimentoFundoControlador.diariaPrestacaoContaselecionada.razaosocial}"
                                             size="70" title="Informe o Nome ou Razão Social"/>

                                <fc:outputLabelObrigatorio value="N° do Documento: "/>
                                <p:inputText id="numeroNota"
                                             value="#{suprimentoFundoControlador.diariaPrestacaoContaselecionada.numeroNota}"
                                             title="Informe o Número do Documento"/>

                                <h:outputText value="Série do Documento:" style="margin-right: 25px"/>
                                <p:inputText id="serieDocumento"
                                             value="#{suprimentoFundoControlador.diariaPrestacaoContaselecionada.serieDocumento}"
                                             title="Informe a Série do Documento"/>

                                <fc:outputLabelObrigatorio value="CPF/CNPJ: "/>
                                <p:inputText id="cpfcnpj"
                                             value="#{suprimentoFundoControlador.diariaPrestacaoContaselecionada.cpfCnpj}"
                                             title="Informe o CPF ou CNPJ"/>

                                <h:outputText value="Data da Nota:"/>
                                <p:calendar id="dataPrestacao"
                                            value="#{suprimentoFundoControlador.diariaPrestacaoContaselecionada.dataValor}"
                                            locale="pt_BR" pattern="dd/MM/yyyy" navigator="true"
                                            onkeyup="mascara(this, mdata)"
                                            title="Informe a Data da Nota"/>

                                <fc:outputLabelObrigatorio value="Valor: "/>
                                <fc:inputMoeda id="valorPrestacao"
                                               value="#{suprimentoFundoControlador.diariaPrestacaoContaselecionada.valor}"
                                               title="Informe um Valor"/>
                            </h:panelGrid>

                            <p:commandButton icon="ui-icon-circle-plus"
                                             value="Adicionar"
                                             styleClass="padrao mtop10"
                                             onstart="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             process=":Formulario:tabView:panelLancamento :Formulario:tabView:tabelaLancamento"
                                             actionListener="#{suprimentoFundoControlador.adicionaDiariaPrestacao}"
                                             update=":Formulario:tabView:panelLancamento :Formulario:tabView:tabelaLancamento"
                                             title="Clique para adicionar este registro."/>

                            <p:dataTable id="tabelaLancamento"
                                         value="#{suprimentoFundoControlador.selecionado.diariaPrestacaoContas}"
                                         var="l"
                                         styleClass="mtop02"
                                         rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                         paginator="true"
                                         rows="10"
                                         paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>DEMONSTRATIVOS DE GASTOS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                         emptyMessage="Não foram localizados registros para serem apresentados."
                                         rowIndexVar="rowlx">
                                <p:column headerText="Ações" style="text-align: center; width: 8%">
                                    <p:commandButton icon="ui-icon-pencil"
                                                     actionListener="#{suprimentoFundoControlador.editarDocumento(l)}"
                                                     update=":Formulario:tabView:tabelaLancamento :Formulario:tabView:gridDemostrativo"
                                                     styleClass="mrig05"
                                                     onstart="aguarde.show()"
                                                     oncomplete="aguarde.hide()"
                                                     process="@this"
                                                     disabled="#{suprimentoFundoControlador.selecionado.aprovado}"
                                                     title="Clique para alterar este registro.">
                                        <f:attribute name="objeto" value="#{l}"/>
                                    </p:commandButton>
                                    <p:commandButton icon="ui-icon-trash"
                                                     actionListener="#{suprimentoFundoControlador.removerDocumento(l)}"
                                                     update=":Formulario:tabView:tabelaLancamento"
                                                     onstart="aguarde.show()"
                                                     oncomplete="aguarde.hide()"
                                                     process="@this"
                                                     disabled="#{suprimentoFundoControlador.selecionado.aprovado}"
                                                     onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                     title="Clique para remover este registro.">
                                        <f:attribute name="objeto" value="#{l}"/>
                                    </p:commandButton>
                                </p:column>
                                <p:column headerText="Nome/Razão Social" styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{l.razaosocial}"/>
                                </p:column>
                                <p:column headerText="N° do Documento" styleClass="alinhamentoDireita">
                                    <h:outputText value="#{l.numeroNota}"/>
                                </p:column>
                                <p:column headerText="Série do Documento" styleClass="alinhamentoDireita">
                                    <h:outputText value="#{l.serieDocumento}"/>
                                </p:column>
                                <p:column headerText="CPF/CNPJ" styleClass="alinhamentoDireita">
                                    <h:outputText value="#{l.cpfCnpj}"/>
                                </p:column>
                                <p:column headerText="Data da Nota" styleClass="alinhamentoCentralizado">
                                    <h:outputText value="#{l.dataValor}">
                                        <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Valor (R$)" styleClass="alinhamentoDireita">
                                    <h:outputText value="#{l.valor}" converter="moneyConverter"/>
                                </p:column>
                                <f:facet name="footer">
                                    <div style="text-align: right">
                                        <h:outputText value="Total: " styleClass="mlef05"/>
                                        <h:outputText value="#{suprimentoFundoControlador.somaNotasFiscais}"
                                                      converter="moneyConverter"/>
                                    </div>
                                </f:facet>
                            </p:dataTable>
                        </p:panel>
                    </p:tab>

                    <p:tab title="Execução Orçamentária">
                        <p:tabView id="tabViewExcucao">
                            <p:tab id="tabEmpenho" title="Empenho">

                                <p:dataTable id="tabelaEmpenho"
                                             value="#{suprimentoFundoControlador.listaEmpenhos}"
                                             var="e"
                                             rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                             paginator="true"
                                             styleClass="mtop05"
                                             rows="10"
                                             paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>EMPENHOS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                             emptyMessage="Não foram localizados registros para serem apresentados."
                                             rowIndexVar="rowlx">
                                    <p:column headerText="Data" styleClass="alinhamentoCentralizado">
                                        <h:outputText value="#{e.dataEmpenho}">
                                            <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="Número" styleClass="alinhamentoDireita">
                                        <h:outputText value="#{e.numero}"/>
                                    </p:column>
                                    <p:column headerText="Valor (R$)" styleClass="alinhamentoDireita">
                                        <h:outputText value="#{e.valor}"
                                                      converter="moneyConverter"/>
                                    </p:column>
                                    <f:facet name="footer">
                                        <div style="text-align: right">
                                            <h:outputText value="Total: " styleClass="mlef05"/>
                                            <h:outputText value="#{suprimentoFundoControlador.somaEmpenhos}"
                                                          converter="moneyConverter"/>
                                        </div>
                                    </f:facet>
                                </p:dataTable>
                            </p:tab>

                            <p:tab id="tabEmpenhoEstorno" title="Estorno de Empenho">
                                <p:dataTable id="tabelaEmpenhoEstorno"
                                             value="#{suprimentoFundoControlador.listaEmpenhoEstorno}"
                                             var="e"
                                             rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                             paginator="true"
                                             styleClass="mtop05"
                                             rows="10"
                                             paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>ESTORNOS DE EMPENHOS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                             emptyMessage="Não foram localizados registros para serem apresentados."
                                             rowIndexVar="rowlx">
                                    <p:column headerText="Data" styleClass="alinhamentoCentralizado">
                                        <h:outputText value="#{e.dataEstorno}">
                                            <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="Número" styleClass="alinhamentoDireita">
                                        <h:outputText value="#{e.numero}"/>
                                    </p:column>
                                    <p:column headerText="Valor (R$) " styleClass="alinhamentoDireita">
                                        <h:outputText value="#{e.valor}"
                                                      converter="moneyConverter"/>
                                    </p:column>
                                    <f:facet name="footer">
                                        <div style="text-align: right">
                                            <h:outputText value="Total: " styleClass="mlef05"/>
                                            <h:outputText value="#{suprimentoFundoControlador.somaEstornoEmpenhos}"
                                                          converter="moneyConverter"/>
                                        </div>
                                    </f:facet>
                                </p:dataTable>
                            </p:tab>

                            <p:tab id="tabLiquidacao" title="Liquidação">
                                <p:dataTable id="tabelaLiquidacao"
                                             value="#{suprimentoFundoControlador.listaLiquidacao}"
                                             var="l"
                                             rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                             paginator="true"
                                             styleClass="mtop05"
                                             rows="10"
                                             paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>LIQUIDAÇÕES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                             emptyMessage="Não foram localizados registros para serem apresentados."
                                             rowIndexVar="rowlx">
                                    <p:column headerText="Data" styleClass="alinhamentoCentralizado">
                                        <h:outputText value="#{l.dataLiquidacao}">
                                            <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="Número" styleClass="alinhamentoDireita">
                                        <h:outputText value="#{l.numero}"/>
                                    </p:column>
                                    <p:column headerText="Valor (R$) " styleClass="alinhamentoDireita">
                                        <h:outputText value="#{l.valor}"
                                                      converter="moneyConverter"/>
                                    </p:column>
                                    <f:facet name="footer">
                                        <div style="text-align: right">
                                            <h:outputText value="Total: " styleClass="mlef05"/>
                                            <h:outputText value="#{suprimentoFundoControlador.somaLiquidacoes}"
                                                          converter="moneyConverter"/>
                                        </div>
                                    </f:facet>
                                </p:dataTable>
                            </p:tab>

                            <p:tab id="tabLiquidacaoEstorno" title="Estorno de Liquidação">
                                <p:dataTable id="tabelaLiquidacaoEstorno"
                                             value="#{suprimentoFundoControlador.listaLiquidacaoEstorno}"
                                             var="l"
                                             rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                             paginator="true"
                                             styleClass="mtop05"
                                             rows="10"
                                             paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>ESTORNOS DE LIQUIDAÇÕES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                             emptyMessage="Não foram localizados registros para serem apresentados."
                                             rowIndexVar="rowlx">
                                    <p:column headerText="Data de Estorno" styleClass="alinhamentoCentralizado">
                                        <h:outputText value="#{l.dataEstorno}">
                                            <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="Número" styleClass="alinhamentoDireita">
                                        <h:outputText value="#{l.numero}"/>
                                    </p:column>
                                    <p:column headerText="Valor (R$) " styleClass="alinhamentoDireita">
                                        <h:outputText value="#{l.valor}"
                                                      converter="moneyConverter"/>
                                    </p:column>
                                    <f:facet name="footer">
                                        <div style="text-align: right">
                                            <h:outputText value="Total: " styleClass="mlef05"/>
                                            <h:outputText value="#{suprimentoFundoControlador.somaEstornoLiquidacoes}"
                                                          converter="moneyConverter"/>
                                        </div>
                                    </f:facet>
                                </p:dataTable>
                            </p:tab>

                            <p:tab id="tabPagamento" title="Pagamento">
                                <p:dataTable id="tabelaPagamento"
                                             value="#{suprimentoFundoControlador.listaPagamento}"
                                             var="p"
                                             rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                             paginator="true"
                                             styleClass="mtop05"
                                             rows="10"
                                             paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>PAGAMENTOS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                             emptyMessage="Não foram localizados registros para serem apresentados."
                                             rowIndexVar="rowlx">
                                    <p:column headerText="Data" styleClass="alinhamentoCentralizado">
                                        <h:outputText value="#{p.dataPagamento}">
                                            <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="Número" styleClass="alinhamentoDireita">
                                        <h:outputText value="#{p.numeroPagamento}"/>
                                    </p:column>
                                    <p:column headerText="Valor (R$) " styleClass="alinhamentoDireita">
                                        <h:outputText value="#{p.valor}"
                                                      converter="moneyConverter"/>
                                    </p:column>
                                    <f:facet name="footer">
                                        <div style="text-align: right">
                                            <h:outputText value="Total: " styleClass="mlef05"/>
                                            <h:outputText value="#{suprimentoFundoControlador.somaPagamentos}"
                                                          converter="moneyConverter"/>
                                        </div>
                                    </f:facet>
                                </p:dataTable>
                            </p:tab>

                            <p:tab id="tabPagamentoEstorno" title="Estorno de Pagamento">
                                <p:dataTable id="tabelaPagamentoEstorno"
                                             value="#{suprimentoFundoControlador.listaPagamentoEstorno}"
                                             var="p"
                                             rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                             paginator="true"
                                             styleClass="mtop05"
                                             rows="10"
                                             paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>ESTORNOS DE PAGAMENTOS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                             emptyMessage="Não foram localizados registros para serem apresentados."
                                             rowIndexVar="rowlx">
                                    <p:column headerText="Data de Estorno" styleClass="alinhamentoCentralizado">
                                        <h:outputText value="#{p.dataEstorno}">
                                            <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="Número" styleClass="alinhamentoDireita">
                                        <h:outputText value="#{p.numero}"/>
                                    </p:column>
                                    <p:column headerText="Valor (R$) " styleClass="alinhamentoDireita">
                                        <h:outputText value="#{p.valor}"
                                                      converter="moneyConverter"/>
                                    </p:column>
                                    <f:facet name="footer">
                                        <div style="text-align: right">
                                            <h:outputText value="Total: " styleClass="mlef05"/>
                                            <h:outputText value="#{suprimentoFundoControlador.somaEstornoPagamentos}"
                                                          converter="moneyConverter"/>
                                        </div>
                                    </f:facet>
                                </p:dataTable>
                            </p:tab>

                            <p:tab id="tabBaixa" title="Baixa">
                                <p:dataTable id="tabelaBaixa"
                                             value="#{suprimentoFundoControlador.listaDiariaContabilizacaoBaixaNormal}"
                                             var="dc"
                                             rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                             paginator="true"
                                             styleClass="mtop05"
                                             rows="10"
                                             paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>BAIXAS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                             emptyMessage="Não foram localizados registros para serem apresentados."
                                             rowIndexVar="rowlx">
                                    <p:column headerText="Data" styleClass="alinhamentoCentralizado">
                                        <h:outputText value="#{dc.dataDiaria}">
                                            <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="Número " styleClass="alinhamentoDireita">
                                        <h:outputText value="#{dc.numero}"/>
                                    </p:column>
                                    <p:column headerText="Valor (R$) " styleClass="alinhamentoDireita">
                                        <h:outputText value="#{dc.valor}"
                                                      converter="moneyConverter"/>
                                    </p:column>
                                    <f:facet name="footer">
                                        <div style="text-align: right">
                                            <h:outputText value="Total: " styleClass="mlef05"/>
                                            <h:outputText value="#{suprimentoFundoControlador.somaBaixasNormal}"
                                                          converter="moneyConverter"/>
                                        </div>
                                    </f:facet>
                                </p:dataTable>
                            </p:tab>

                            <p:tab id="tabBaixaEstorno" title="Estorno da Baixa">
                                <p:dataTable id="tabelaBaixaEstorno"
                                             value="#{suprimentoFundoControlador.listaDiariaContabilizacaoBaixaEstorno}"
                                             var="dc"
                                             rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                             paginator="true"
                                             styleClass="mtop05"
                                             rows="10"
                                             paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>ESTORNOS DE BAIXAS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                             emptyMessage="Não foram localizados registros para serem apresentados."
                                             rowIndexVar="rowlx">
                                    <p:column headerText="Data do Estorno" styleClass="alinhamentoCentralizado">
                                        <h:outputText value="#{dc.dataDiaria}">
                                            <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="Número " styleClass="alinhamentoDireita">
                                        <h:outputText value="#{dc.numero}"/>
                                    </p:column>
                                    <p:column headerText="Valor (R$) " styleClass="alinhamentoDireita">
                                        <h:outputText value="#{dc.valor}"
                                                      converter="moneyConverter"/>
                                    </p:column>
                                    <f:facet name="footer">
                                        <div style="text-align: right">
                                            <h:outputText value="Total: " styleClass="mlef05"/>
                                            <h:outputText value="#{suprimentoFundoControlador.somaBaixasEstorno}"
                                                          converter="moneyConverter"/>
                                        </div>
                                    </f:facet>
                                </p:dataTable>
                            </p:tab>

                            <p:tab id="tabInscricao" title="Inscrição">
                                <p:dataTable id="tabelaInscricao"
                                             value="#{suprimentoFundoControlador.listaDiariaContabilizacaoInscricaoNormal}"
                                             var="dc"
                                             rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                             paginator="true"
                                             styleClass="mtop05"
                                             rows="10"
                                             paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>INSCRIÇÕES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                             emptyMessage="Não foram localizados registros para serem apresentados."
                                             rowIndexVar="rowlx">
                                    <p:column headerText="Data da Inscrição" styleClass="alinhamentoCentralizado">
                                        <h:outputText value="#{dc.dataDiaria}">
                                            <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="Número " styleClass="alinhamentoDireita">
                                        <h:outputText value="#{dc.numero}"/>
                                    </p:column>
                                    <p:column headerText="Valor (R$) " styleClass="alinhamentoDireita">
                                        <h:outputText value="#{dc.valor}"
                                                      converter="moneyConverter"/>
                                    </p:column>
                                    <f:facet name="footer">
                                        <div style="text-align: right">
                                            <h:outputText value="Total: " styleClass="mlef05"/>
                                            <h:outputText value="#{suprimentoFundoControlador.somaInscricoesNormal}"
                                                          converter="moneyConverter"/>
                                        </div>
                                    </f:facet>
                                </p:dataTable>
                            </p:tab>

                            <p:tab id="tabInscricaoEstorno" title="Estorno da Inscrição">
                                <p:dataTable id="tabelaInscricaoEstorno"
                                             value="#{suprimentoFundoControlador.listaDiariaContabilizacaoInscricaoEstorno}"
                                             var="dc"
                                             rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                             paginator="true"
                                             styleClass="mtop05"
                                             rows="10"
                                             paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>ESTORNOS DE INSCRIÇÕES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                             emptyMessage="Não foram localizados registros para serem apresentados."
                                             rowIndexVar="rowlx">
                                    <p:column headerText="Data do Estorno" styleClass="alinhamentoCentralizado">
                                        <h:outputText value="#{dc.dataDiaria}">
                                            <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="Número" styleClass="alinhamentoDireita">
                                        <h:outputText value="#{dc.numero}"/>
                                    </p:column>
                                    <p:column headerText="Valor (R$) " styleClass="alinhamentoDireita">
                                        <h:outputText value="#{dc.valor}"
                                                      converter="moneyConverter"/>
                                    </p:column>
                                    <f:facet name="footer">
                                        <div style="text-align: right">
                                            <h:outputText value="Total: " styleClass="mlef05"/>
                                            <h:outputText value="#{suprimentoFundoControlador.somaInscricoesEstorno}"
                                                          converter="moneyConverter"/>
                                        </div>
                                    </f:facet>
                                </p:dataTable>
                            </p:tab>

                            <p:tab id="tabApropriacao" title="Apropriação">
                                <p:dataTable id="tabelaApropriacao"
                                             value="#{suprimentoFundoControlador.listaDiariaContabilizacaoApropriacaoNormal}"
                                             var="aprop"
                                             rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                             paginator="true"
                                             styleClass="mtop05"
                                             rows="10"
                                             paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>APROPRIAÇÕES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                             emptyMessage="Não foram localizados registros para serem apresentados."
                                             rowIndexVar="rowlx">
                                    <p:column headerText="Data" styleClass="alinhamentoCentralizado">
                                        <h:outputText value="#{aprop.dataDiaria}">
                                            <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="Número" styleClass="alinhamentoDireita">
                                        <h:outputText value="#{aprop.numero}"/>
                                    </p:column>
                                    <p:column headerText="Valor (R$)" styleClass="alinhamentoDireita">
                                        <h:outputText value="#{aprop.valor}" converter="moneyConverter"/>
                                    </p:column>
                                    <f:facet name="footer">
                                        <div style="text-align: right">
                                            <h:outputText value="Total: " styleClass="mlef05"/>
                                            <h:outputText value="#{suprimentoFundoControlador.somaApropriacaoNormal}"
                                                          converter="moneyConverter"/>
                                        </div>
                                    </f:facet>
                                </p:dataTable>
                            </p:tab>

                            <p:tab id="tabEstApropriação" title="Estorno da Apropriação">
                                <p:dataTable id="tabelaEstApropriação"
                                             value="#{suprimentoFundoControlador.listaDiariaContabilizacaoApropriacaoEstorno}"
                                             var="estAprop"
                                             rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                             paginator="true"
                                             styleClass="mtop05"
                                             rows="10"
                                             paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>ESTORNOS DE APROPRIAÇÕES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                             emptyMessage="Não foram localizados registros para serem apresentados."
                                             rowIndexVar="rowlx">
                                    <p:column headerText="Data" styleClass="alinhamentoCentralizado">
                                        <h:outputText value="#{estAprop.dataDiaria}">
                                            <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="Número" styleClass="alinhamentoDireita">
                                        <h:outputText value="#{estAprop.numero}"/>
                                    </p:column>
                                    <p:column headerText="Valor (R$)" styleClass="alinhamentoDireita">
                                        <h:outputText value="#{estAprop.valor}" converter="moneyConverter"/>
                                    </p:column>
                                    <f:facet name="footer">
                                        <div style="text-align: right">
                                            <h:outputText value="Total: " styleClass="mlef05"/>
                                            <h:outputText value="#{suprimentoFundoControlador.somaApropriacaoEstorno}"
                                                          converter="moneyConverter"/>
                                        </div>
                                    </f:facet>
                                </p:dataTable>
                            </p:tab>
                        </p:tabView>

                    </p:tab>
                </p:tabView>
            </p:panel>

            <fc:rodapePretty controlador="#{suprimentoFundoControlador}"/>

            <p:commandButton value="Deferir"
                             title="Clique para deferir a diária."
                             icon="ui-icon-deferir"
                             onstart="aguarde.show()"
                             oncomplete="aguarde.hide();geraSol.show()"
                             styleClass="mtop10 mlef03 mrig03"
                             process="@this"
                             style="height: 30px;"
                             disabled="#{suprimentoFundoControlador.selecionado.aprovado or suprimentoFundoControlador.selecionado.empenhado}"
                             rendered="#{suprimentoFundoControlador.renderizarBotaoDeferir()}"/>

            <p:commandButton value="Indeferir"
                             title="Clique para indeferir a diária."
                             icon="ui-icon-deferir"
                             onstart="aguarde.show()"
                             oncomplete="aguarde.hide()"
                             styleClass="mtop10 mlef03"
                             style="height: 30px;"
                             onclick="if(!confirm('Deseja indeferir essa diária?')) return false;"
                             actionListener="#{suprimentoFundoControlador.indeferirDiaria()}"
                             rendered="#{suprimentoFundoControlador.renderizarBotaoIndeferir()}"/>

            <fc:botaoTargetBlank label="Nota de Suprimento de Fundos"
                                 title="Clique para imprimir o relatório de Suprimento de Fundos."
                                 styleClass="trintaAltura mlef05 mtop10"
                                 rendered="#{suprimentoFundoControlador.operacaoEditar}"
                                 actionListener="#{suprimentoFundoControlador.geraRelatorioSuprimentoFundo(suprimentoFundoControlador.selecionado)}"/>

            <fc:botaoTargetBlank label="Relatório de Prestação de Contas"
                                 title="Clique para imprimir o relatório de Prestação de Contas."
                                 styleClass="trintaAltura mlef05 mtop10"
                                 rendered="#{suprimentoFundoControlador.operacaoEditar}"
                                 actionListener="#{suprimentoFundoControlador.geraRelatorioPrestacaoContas(suprimentoFundoControlador.selecionado)}"/>

        </h:form>

        <p:dialog widgetVar="geraSol"
                  modal="true"
                  id="dialogGerarSol"
                  style="position: fixed !important;"
                  dynamic="true"
                  position="center"
                  resizable="false"
                  showHeader="false"
                  closable="false">

            <h:form id="formGerarSol">
                <p:panel id="panelSolicitacao" header="Gerar Solicitação de Empenho" styleClass="mtop05 mbot05">
                    <p:outputPanel>
                        <h:panelGrid columns="2" id="gridGerarSolicitacaoEmp">
                            <fc:outputLabelObrigatorio value="Ato Legal: "/>
                            <h:panelGrid columns="2">
                                <p:autoComplete queryDelay="1000"
                                                size="70"
                                                maxResults="10"
                                                id="completaAtoLegal"
                                                title="Selecione um ato legal."
                                                value="#{suprimentoFundoControlador.selecionado.atoLegal}"
                                                completeMethod="#{suprimentoFundoControlador.completaAtoLegal}"
                                                var="atoLegal"
                                                style="margin-left: -4px"
                                                itemLabel="#{atoLegal}"
                                                itemValue="#{atoLegal.id}"
                                                converter="#{atoLegalControlador.converterGenerico}"/>

                                <p:commandButton icon="ui-icon-circle-plus"
                                                 onclick="window.open('#{request.contextPath}/atolegal/novo/?sessao=true', '_blank')"
                                                 update="@this"
                                                 title="Clique para inserir um novo registro"
                                                 process="@this"/>
                            </h:panelGrid>

                            <fc:outputLabelObrigatorio value="Responsável: "/>
                            <p:autoComplete queryDelay="1000"
                                            size="70"
                                            maxResults="10"
                                            id="completaResp"
                                            title="Selecione a pessoa responsável."
                                            value="#{suprimentoFundoControlador.selecionado.responsavel}"
                                            completeMethod="#{suprimentoFundoControlador.completarPessoasFisicasAtivas}"
                                            var="p"
                                            itemValue="#{p.id}"
                                            itemLabel="#{p}"
                                            converter="#{pessoaContabilControlador.converterGenerico}"/>
                        </h:panelGrid>

                        <p:commandButton id="btnGeraSol"
                                         value="Confirmar"
                                         onstart="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         styleClass="padrao mtop20 mrig05"
                                         icon="ui-icon-check"
                                         title="Clique para confirmar a solicitação de empenho."
                                         actionListener="#{suprimentoFundoControlador.deferirDiariaComSolicitacaoEmpenho()}"/>

                        <p:commandButton id="btnCancelar"
                                         value="Cancelar"
                                         onstart="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         styleClass="padrao mtop20"
                                         icon="ui-icon-cancel"
                                         title="Clique para cancelar a solicitação de empenho."
                                         actionListener="#{suprimentoFundoControlador.cancelarSolicitacaoEmpenho()}"/>

                        <p:remoteCommand name="geraSolicitacao"
                                         actionListener="#{suprimentoFundoControlador.cancelarSolicitacaoEmpenho()}"
                                         onstart="geraSol.hide()"/>
                    </p:outputPanel>
                </p:panel>
            </h:form>
        </p:dialog>

    </ui:define>
</ui:composition>
</html>
