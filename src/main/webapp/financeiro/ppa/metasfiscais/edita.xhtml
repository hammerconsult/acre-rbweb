<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PT"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:fc="http://java.sun.com/jsf/composite/components"
      xmlns:p="http://primefaces.org/ui"
    >

<ui:composition template="/corpo.xhtml">
    <ui:define name="body">
        <h:form id="Formulario">
            <p:messages showDetail="true"/>
            <fc:cabecalhoPretty id="cabecalhoEdita"
                                controlador="#{metasFiscaisControlador}"
                                origem="#{metasFiscaisControlador.caminhoPadrao}listar/"/>

            <p:panel header="Cadastro de Metas Fiscais">
                <h:panelGrid columns="2">
                    <fc:outputLabelObrigatorio value="LDO: "/>
                    <h:selectOneMenu value="#{metasFiscaisControlador.selecionado.ldo}"
                                     title="Selecione a LDO"
                                     converter="#{lDOControlador.converterGenerico}"
                                     id="ldo">
                        <f:selectItems value="#{metasFiscaisControlador.ldos}"/>
                    </h:selectOneMenu>

                    <fc:outputLabelObrigatorio value="Exercício: "/>
                    <p:inputMask id="exercicio"
                                 mask="9999"
                                 converter="#{exercicioControlador.converterExercicio}"
                                 value="#{metasFiscaisControlador.selecionado.exercicio}"
                                 maxlength="4"
                                 title="Informe o exercício.">
                        <p:ajax event="blur" process="@this"/>
                        <p:ajax event="change"
                                onstart="aguarde.show()"
                                oncomplete="aguarde.hide();"/>
                    </p:inputMask>

                    <h:outputText value="Tipo de Meta: " style="margin-right: 95px"/>
                    <h:selectOneMenu value="#{metasFiscaisControlador.selecionado.tipoMetasFiscais}"
                                     title="Selecione o tipo de Metas Fiscais"
                                     id="tipo">
                        <f:selectItems value="#{metasFiscaisControlador.listaTipoMetasFiscais}"/>
                    </h:selectOneMenu>

                    <fc:outputLabelObrigatorio value="Receita Total: "/>
                    <p:inputText value="#{metasFiscaisControlador.selecionado.receitaTotal}"
                                 onclick="this.select();"
                                 onfocus="this.select();"
                                 style="text-align: right"
                                 onkeydown="mascaraMonetaria(this);"
                                 converter="moneyConverter"/>


                    <fc:outputLabelObrigatorio value="Despesa Total: "/>
                    <p:inputText value="#{metasFiscaisControlador.selecionado.despesaTotal}"
                                 onclick="this.select();"
                                 onfocus="this.select();"
                                 style="text-align: right"
                                 onkeydown="mascaraMonetaria(this);"
                                 converter="moneyConverter"/>

                    <fc:outputLabelObrigatorio value="Receita Primária: "/>
                    <p:inputText value="#{metasFiscaisControlador.selecionado.receitaPrimaria}"
                                 onclick="this.select();"
                                 onfocus="this.select();"
                                 style="text-align: right"
                                 onkeydown="mascaraMonetaria(this);"
                                 converter="moneyConverter"/>

                    <fc:outputLabelObrigatorio value="Despesa Primária: "/>
                    <p:inputText value="#{metasFiscaisControlador.selecionado.despesaPrimaria}"
                                 onclick="this.select();"
                                 onfocus="this.select();"
                                 style="text-align: right"
                                 onkeydown="mascaraMonetaria(this);"
                                 converter="moneyConverter"/>

                    <fc:outputLabelObrigatorio value="Resultado Nominal: "/>
                    <p:inputText value="#{metasFiscaisControlador.selecionado.resultadoNominal}"
                                 onclick="this.select();"
                                 onfocus="this.select();"
                                 style="text-align: right"
                                 onkeydown="mascaraMonetaria(this);"
                                 converter="moneyConverter"/>

                    <fc:outputLabelObrigatorio value="Dívida Pública Consolidada: "/>
                    <p:inputText value="#{metasFiscaisControlador.selecionado.dividaPublicaConsolidada}"
                                 onclick="this.select();"
                                 onfocus="this.select();"
                                 style="text-align: right"
                                 onkeydown="mascaraMonetaria(this);"
                                 converter="moneyConverter"/>

                    <fc:outputLabelObrigatorio value="Dívida Consolidada Líquida: "/>
                    <p:inputText value="#{metasFiscaisControlador.selecionado.dividaPublicaLiquida}"
                                 onclick="this.select();"
                                 onfocus="this.select();"
                                 style="text-align: right"
                                 onkeydown="mascaraMonetaria(this);"
                                 converter="moneyConverter"/>


                    <fc:outputLabelObrigatorio value="Fonte de Informação: "/>
                    <h:panelGrid columns="2">
                        <p:inputTextarea id="fonteInfo" title="Informe a Fonte de Informação"
                                         style="margin-left: -4px"
                                         counter="counter"
                                         counterTemplate="{0} Caracteres Restante"
                                         autoResize="true"
                                         value="#{metasFiscaisControlador.selecionado.fonteInformacao}"
                                         maxlength="255"
                                         cols="70"/>
                        <h:outputText id="counter"/>
                    </h:panelGrid>
                </h:panelGrid>


            </p:panel>
            <fc:rodapePretty id="rodapeEdita" controlador="#{metasFiscaisControlador}"/>
        </h:form>
    </ui:define>
</ui:composition>
</html>
