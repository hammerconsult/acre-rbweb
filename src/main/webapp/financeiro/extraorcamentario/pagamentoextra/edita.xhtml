<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PT"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:fc="http://java.sun.com/jsf/composite/components"
      xmlns:co="http://java.sun.com/jsf/composite/components/contabil"
      xmlns:p="http://primefaces.org/ui"
>
<ui:composition template="/corpo.xhtml">
    <ui:define name="body">
        <script type="text/javascript">
            function keyLimparContaBancariaPessoa(campoOrigem) {
                var split = campoOrigem.id.toString().split(':');
                var idOrigem = split[split.length - 1];

                if (campoOrigem.value.toString().trim().length == 0 || campoOrigem.value == '' || campoOrigem.value == 'undefined') {
                    limparConta();
                }
            }
        </script>


        <h:form id="Formulario">
            <p:remoteCommand name="limparConta"
                             actionListener="#{pagamentoExtraControlador.setaNullContaCorrente()}"
                             update=":Formulario:tabView:pessoa :Formulario:tabView:contaBancariaPessoa"/>

            <p:remoteCommand name="limparContaFinanceira"
                             process="@this"
                             update=":Formulario:tabView:autoCompleteContaFinanceira:detalhes
                                     :Formulario:tabView:panelIntegracaoBancaria">

                <f:setPropertyActionListener value="#{null}"
                                             target="#{pagamentoExtraControlador.contaBancariaEntidade}"/>

                <f:setPropertyActionListener value="#{null}"
                                             target="#{pagamentoExtraControlador.selecionado.subConta}"/>
            </p:remoteCommand>

            <p:remoteCommand name="limparFonte"
                             process="@this"
                             update=":Formulario:tabView:contaDestinacao :Formulario:tabView:btSelecionarReceita">
                <f:setPropertyActionListener value="#{null}"
                                             target="#{pagamentoExtraControlador.selecionado.contaDeDestinacao}"/>

                <f:setPropertyActionListener value="#{null}"
                                             target="#{pagamentoExtraControlador.selecionado.subConta}"/>
            </p:remoteCommand>

            <fc:cabecalhoPretty controlador="#{pagamentoExtraControlador}"
                                origem="#{pagamentoExtraControlador.caminhoPadrao}listar/"/>

            <p:tabView id="tabView" styleClass="mtop05" activeIndex="#{pagamentoExtraControlador.indiceAba}">
                <p:tab id="tabDespesa" title="Despesa Extraorçamentária">
                    <h:panelGrid columns="2" cellpadding="2">
                        <h:outputText value="Número: "/>
                        <p:inputText readonly="true"
                                     disabled="#{pagamentoExtraControlador.selecionado.id ne null}"
                                     title="Número gerado automaticamente pelo sistema ao salvar"
                                     size="21"
                                     value="#{pagamentoExtraControlador.selecionado.numero}" id="numero">
                            <p:watermark for="numero" value="Gerado automaticamente"/>
                        </p:inputText>

                        <h:outputText value="Previsto Para: " style="margin-right: 85px"/>
                        <p:calendar title="Informe a data de previsão do Pagamento" id="previstoPara"
                                    locale="pt_BR" pattern="dd/MM/yyyy"
                                    navigator="true"
                                    size="21"
                                    disabled="true"
                                    value="#{pagamentoExtraControlador.selecionado.previstoPara}"/>

                        <h:outputText value="Data do Pagamento: "
                                      rendered="#{pagamentoExtraControlador.selecionado.dataPagto ne null}"/>
                        <h:outputText value="#{pagamentoExtraControlador.selecionado.dataPagto}"
                                      rendered="#{pagamentoExtraControlador.selecionado.dataPagto ne null}"
                                      styleClass="negrito">
                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                        </h:outputText>

                        <h:outputText value="Data de Conciliação: "/>
                        <co:data-conciliacao
                            dataConciliacao="#{pagamentoExtraControlador.selecionado.dataConciliacao}"/>

                        <h:outputText value="Unidade Organizacional: "/>
                        <fc:codigo-descricao-hierarquia tipoHierarquia="ORCAMENTARIA"
                                                        dataMovimento="#{pagamentoExtraControlador.selecionado.previstoPara}"
                                                        unidadeOrganizacional="#{pagamentoExtraControlador.selecionado.unidadeOrganizacional}"/>

                        <h:outputText value="Situação: "/>
                        <h:outputText value="#{pagamentoExtraControlador.selecionado.status.descricao}"
                                      styleClass="negrito"/>

                        <fc:outputLabelObrigatorio value="Conta Extraorçamentária: "/>
                        <p:autoComplete queryDelay="1000"
                                        id="contaExtraorcamentaria"
                                        title="Informe a conta extraorçamentária."
                                        value="#{pagamentoExtraControlador.selecionado.contaExtraorcamentaria}"
                                        converter="#{planoDeContasWizardControlador.converterConta}"
                                        completeMethod="#{pagamentoExtraControlador.completarContasExtraorcamentarias}"
                                        disabled="#{pagamentoExtraControlador.verificarEdicao or !empty pagamentoExtraControlador.selecionado.pagamentoReceitaExtras}"
                                        maxResults="10"
                                        size="70"
                                        var="ce"
                                        itemValue="#{ce.id}"
                                        itemLabel="#{ce}"
                                        forceSelection="true">
                            <p:ajax event="itemSelect"
                                    update=":Formulario:tabView:eventoContabil :Formulario:tabView:tipoContaExtra :Formulario:tabView:labelTipoConta"
                                    onstart="aguarde.show()"
                                    oncomplete="aguarde.hide();setaFoco('Formulario:tabView:pessoa_input')"
                                    listener="#{pagamentoExtraControlador.atribuirEventoContabil()}"/>
                        </p:autoComplete>

                        <p:outputPanel id="labelTipoConta">
                            <h:outputText value="Tipo de Conta Extra: "
                                          rendered="#{pagamentoExtraControlador.selecionado.contaExtraorcamentaria.id ne null}"/>
                        </p:outputPanel>
                        <p:outputPanel id="tipoContaExtra">
                            <h:outputText
                                value="#{pagamentoExtraControlador.selecionado.contaExtraorcamentaria.tipoContaExtraorcamentaria.descricao}"
                                rendered="#{pagamentoExtraControlador.selecionado.contaExtraorcamentaria.id ne null}"
                                styleClass="negrito"/>
                        </p:outputPanel>

                        <fc:outputLabelObrigatorio for="eventoContabil" value="Evento Contábil: "/>
                        <p:outputPanel id="eventoContabil">
                            <co:visualizarEventoContabil
                                evento="#{pagamentoExtraControlador.selecionado.eventoContabil}"
                                parametroEvento="#{pagamentoExtraControlador.getParametroEvento()}"/>
                        </p:outputPanel>

                        <fc:outputLabelObrigatorio value="Pessoa: "/>
                        <h:panelGrid columns="2" cellpadding="0" cellspacing="0">
                            <p:autoComplete queryDelay="1000"
                                            id="pessoa"
                                            title="Informe a Pessoa"
                                            value="#{pagamentoExtraControlador.selecionado.fornecedor}"
                                            converter="#{pessoaContabilControlador.converterGenerico}"
                                            disabled="#{pagamentoExtraControlador.verificarEdicao or !empty pagamentoExtraControlador.selecionado.pagamentoReceitaExtras}"
                                            completeMethod="#{pagamentoExtraControlador.completarFornecedores}"
                                            maxResults="10"
                                            styleClass="mrig05"
                                            size="70" var="fo"
                                            itemValue="#{fo.id}"
                                            itemLabel="#{fo.nomeAutoComplete}"
                                            onkeyup="keyUpLimparEsconderDesabilidarCampo(this, 'classeCredor_input', true, false, true);
                        keyLimparContaBancariaPessoa(this);">
                                <p:ajax
                                    update=":Formulario:tabView:classeCredor :Formulario:tabView:btnVisualizarContas :Formulario:tabView:compCamposPessoa"
                                    event="itemSelect"
                                    onstart="aguarde.show()"
                                    oncomplete="aguarde.hide();setaFoco('Formulario:tabView:classeCredor_input')"
                                    process="@this"
                                    listener="#{pagamentoExtraControlador.atribuirPessoa}"/>
                            </p:autoComplete>

                            <p:outputPanel id="compCamposPessoa">
                                <fc:visualizarCampos objeto="#{pagamentoExtraControlador.selecionado.fornecedor}"
                                />
                            </p:outputPanel>
                        </h:panelGrid>

                        <fc:outputLabelObrigatorio value="Classe: "/>
                        <p:autoComplete queryDelay="1000"
                                        id="classeCredor"
                                        size="70"
                                        title="Informe a Classe"
                                        disabled="#{pagamentoExtraControlador.selecionado.fornecedor.id eq null or pagamentoExtraControlador.verificarEdicao  or !empty pagamentoExtraControlador.selecionado.pagamentoReceitaExtras}"
                                        value="#{pagamentoExtraControlador.selecionado.classeCredor}"
                                        completeMethod="#{pagamentoExtraControlador.completarClassesCredor}"
                                        converter="#{classeCredorControlador.converterGenerico}"
                                        var="classe"
                                        itemValue="#{classe.id}"
                                        itemLabel="#{classe}">
                            <p:ajax
                                update=":Formulario:tabView:contaBancariaPessoa :Formulario:tabView:btnremoveConta :Formulario:tabView:tipoOperacao"
                                event="itemSelect"
                                onstart="aguarde.show()"
                                oncomplete="aguarde.hide();setaFoco('Formulario:tabView:autoCompleteContaFinanceira_input')"
                                process="@this"
                                listener="#{pagamentoExtraControlador.setarContaCorrentePessoa}"/>
                        </p:autoComplete>
                    </h:panelGrid>

                    <p:outputPanel id="panelInformacoes2">
                        <p:panel id="panelIntegracaoBancaria" styleClass="mtop05 semBorda">

                            <co:titulo-panel titulo="Integração Bancária"/>
                            <h:panelGrid columns="2">

                                <h:outputText value="Conta Bancária: "/>
                                <co:auto-complete-conta-bancaria
                                    id="autoCompleteContaBancaria"
                                    mostrarTipoConta="true"
                                    contaBancaria="#{pagamentoExtraControlador.contaBancariaEntidade}"
                                    disabled="#{pagamentoExtraControlador.verificarEdicao or !empty pagamentoExtraControlador.selecionado.pagamentoReceitaExtras}"
                                    unidadeOrganizacional="#{pagamentoExtraControlador.selecionado.unidadeOrganizacional}"
                                    keyUp="if(keyUpCampoVazio(this)){limparContaFinanceira();}"
                                    processItemSelect="@this"
                                    updateItemSelect=":Formulario:tabView:autoCompleteContaFinanceira
                                                      :Formulario:tabView:tipoOperacao
                                                      :Formulario:tabView:panelIntegracaoBancaria"/>

                                <fc:outputLabelObrigatorio value="Conta Financeira: "/>
                                <co:auto-complete-conta-financeira
                                    id="autoCompleteContaFinanceira"
                                    contaFinanceira="#{pagamentoExtraControlador.selecionado.subConta}"
                                    contaBancaria="#{pagamentoExtraControlador.contaBancariaEntidade}"
                                    disabled="#{pagamentoExtraControlador.verificarEdicao or !empty pagamentoExtraControlador.selecionado.pagamentoReceitaExtras}"
                                    unidadeOrganizacional="#{pagamentoExtraControlador.selecionado.unidadeOrganizacional}"
                                    contaDeDestinacao="#{pagamentoExtraControlador.selecionado.contaDeDestinacao}"
                                    keyUp="if(keyUpCampoVazio(this)){limparFonte();}"
                                    processItemSelect="@this"
                                    updateItemSelect=":Formulario:tabView:autoCompleteContaBancaria:detalhes :Formulario:tabView:contaDestinacao :Formulario:tabView:tipoOperacao"
                                    listenerItemSelect="#{pagamentoExtraControlador.setarContaBancaria()}"/>

                                <fc:outputLabelObrigatorio value="Conta de Destinação de Recurso: "/>
                                <h:selectOneMenu id="contaDestinacao"
                                                 value="#{pagamentoExtraControlador.selecionado.contaDeDestinacao}"
                                                 title="Selecione a Conta de Destinação de Recurso."
                                                 disabled="#{pagamentoExtraControlador.selecionado.subConta eq null or pagamentoExtraControlador.verificarEdicao or !empty pagamentoExtraControlador.selecionado.pagamentoReceitaExtras}"
                                                 converter="#{planoDeContasWizardControlador.converterConta}">
                                    <f:selectItems value="#{pagamentoExtraControlador.contasDeDestinacaoPorSubConta}"/>
                                    <p:ajax event="change"
                                            listener="#{pagamentoExtraControlador.atualizarFonteComContaDeDestinacao()}"
                                            update=":Formulario:tabView:autoCompleteContaFinanceira:detalhes saldo btSelecionarReceita :Formulario:tabView:tipoOperacao"
                                            process="@this"/>
                                </h:selectOneMenu>

                                <h:outputText value="Conta Bancária Pessoa: " style="margin-right: 30px"/>
                                <h:panelGrid columns="4" cellpadding="0" id="contaBancariaPessoa">
                                    <p:inputText value="#{pagamentoExtraControlador.selecionado.contaCorrenteBancaria}"
                                                 size="60"
                                                 disabled="true"
                                                 rendered="#{pagamentoExtraControlador.selecionado.contaCorrenteBancaria ne null}"
                                                 styleClass="negrito"
                                                 style="margin-left: -3px"
                                                 id="inputContaBancaria2"/>

                                    <p:commandButton icon="ui-icon-search"
                                                     id="btnVisualizarContas"
                                                     disabled="#{pagamentoExtraControlador.selecionado.fornecedor.id eq null or pagamentoExtraControlador.habilitarCampos}"
                                                     update=":Formulario-dialogContas"
                                                     process="@this"
                                                     title="Clique para visualizar as contas bancárias do credor (pessoa) selecionada."
                                                     oncomplete="dialogContas.show();aguarde.hide()"
                                                     onstart="aguarde.show()"/>

                                    <p:commandButton icon="ui-icon-trash"
                                                     id="btnremoveConta"
                                                     disabled="#{pagamentoExtraControlador.selecionado.fornecedor.id eq null or pagamentoExtraControlador.selecionado.contaCorrenteBancaria.id eq null or pagamentoExtraControlador.habilitarCampos}"
                                                     update=":Formulario:tabView:contaBancariaPessoa btnremoveConta :Formulario:tabView:tipoOperacao tipoDoc"
                                                     process="@this"
                                                     styleClass="mlef02"
                                                     actionListener="#{pagamentoExtraControlador.removeContaBancPessoa}"
                                                     onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                     title="Clique para remover a conta bancária do credor (pessoa) selecionada."
                                                     oncomplete="aguarde.hide()"
                                                     onstart="aguarde.show()"/>
                                </h:panelGrid>

                                <fc:outputLabelObrigatorio value="Finalidade do Pagamento: "/>
                                <h:panelGrid columns="3">
                                    <p:autoComplete queryDelay="1000" id="finalidadePag"
                                                    value="#{pagamentoExtraControlador.selecionado.finalidadePagamento}"
                                                    completeMethod="#{pagamentoExtraControlador.completarFinalidadesDePagamento}"
                                                    disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                                    converter="#{finalidadePagamentoControlador.converterGenerico}"
                                                    var="pag"
                                                    itemLabel="#{pag}"
                                                    itemValue="#{pag.id}"
                                                    size="70"
                                                    maxResults="10"
                                                    style="margin-left: -3px"
                                                    title="Selecione uma Finalidade do Pagamento."/>

                                    <p:commandButton icon="ui-icon-search"
                                                     id="btnVisualizarFinalidade"
                                                     update=":Formulario-dialogFinalidade"
                                                     process="@this"
                                                     onstart="aguarde.show()"
                                                     onclick="dialogFinalidade.show();"
                                                     oncomplete="aguarde.hide()"
                                                     disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                                     title="Clique para visualizar as Finalidades de Pagamento"/>

                                    <p:commandButton icon="ui-icon-circle-plus"
                                                     disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                                     onclick="window.open('#{request.contextPath}/finalidade-pagamento/novo/?sessao=true', '_blank')"
                                                     update="@this"
                                                     title="Clique para inserir um novo registro."
                                                     process="@this"/>
                                </h:panelGrid>

                                <fc:outputLabelObrigatorio value="Tipo de Operação: "/>
                                <h:selectOneMenu id="tipoOperacao"
                                                 value="#{pagamentoExtraControlador.selecionado.tipoOperacaoPagto}"
                                                 disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                                 title="selecione um Tipo de Operação">
                                    <f:selectItems value="#{pagamentoExtraControlador.tipoOperacao}"/>
                                    <p:ajax event="change"
                                            onstart="aguarde.show()"
                                            oncomplete="aguarde.hide()"
                                            process=":Formulario:tabView:panelInformacoes2"
                                            update=":Formulario:tabView:panelInformacoes2"/>
                                </h:selectOneMenu>

                                <fc:outputLabelObrigatorio value="Tipo de Documento: "/>
                                <h:selectOneMenu id="tipoDoc"
                                                 value="#{pagamentoExtraControlador.selecionado.tipoDocumento}"
                                                 disabled="#{pagamentoExtraControlador.habilitarCampos or pagamentoExtraControlador.desabilitarTipoDocumentoParaGuias()}"
                                                 title="selecione um tipo de documento do pagamento.">
                                    <f:selectItems value="#{pagamentoExtraControlador.tipoDocumento}"/>
                                    <p:ajax update=":Formulario:tabView:tabGuias :Formulario:tabView:tabConvenio :Formulario:tabView:guiaDarfSimples :Formulario:tabView:valoresPagamento
                                                    :Formulario:tabView:guiaGPS :Formulario:tabView:guiaDarf :Formulario:tabView:guiaGRU :Formulario:tabView:msgGuias
                                                    :Formulario:tabView:panelInformacoes2"
                                            onstart="aguarde.show()"
                                            oncomplete="aguarde.hide()"
                                            process="@this"
                                            listener="#{pagamentoExtraControlador.novaGuiaPagamento}"
                                            event="change"/>
                                </h:selectOneMenu>

                                <p:outputPanel id="outPutId"
                                               rendered="#{pagamentoExtraControlador.selecionado.tipoDocumento.isDepju()}">
                                    <fc:outputLabelObrigatorio value="ID / Identificador: "
                                                               rendered="#{pagamentoExtraControlador.selecionado.tipoDocumento.isDepju()}"/>
                                </p:outputPanel>
                                <h:panelGrid columns="2"
                                             id="panelId"
                                             rendered="#{pagamentoExtraControlador.selecionado.tipoDocumento.isDepju()}">
                                    <p:inputText value="#{pagamentoExtraControlador.selecionado.identificadorDeposito}"
                                                 maxlength="20"
                                                 disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                                 size="20"/>
                                    <co:botao_informacao
                                        descricao="Campo para compor o arquivo OBN600, no número ID / Identificador do depósito judicial ou em garantia."/>
                                </h:panelGrid>

                                <h:outputText value="Ordem Bancária: "
                                              rendered="#{pagamentoExtraControlador.selecionado.numeroPagamento ne null}"/>
                                <h:outputText value="#{pagamentoExtraControlador.selecionado.numeroPagamento}"
                                              rendered="#{pagamentoExtraControlador.selecionado.numeroPagamento ne null}"
                                              styleClass="negrito"/>
                            </h:panelGrid>
                        </p:panel>
                        <hr class="mtop02 mbot10"/>
                    </p:outputPanel>

                    <h:panelGrid columns="2" cellpadding="2">
                        <fc:outputLabelObrigatorio value="Histórico: "/>
                        <h:panelGrid columns="2">
                            <p:inputTextarea title="Informe o Histórico"
                                             disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                             value="#{pagamentoExtraControlador.selecionado.complementoHistorico}"
                                             id="complementoHistorico" rows="3"
                                             style="margin-left: -4px"
                                             cols="70" maxlength="3000"
                                             autoResize="true" counterTemplate="{0} Caracteres Restantes."
                                             counter="counter"/>
                            <h:outputText id="counter"/>
                        </h:panelGrid>

                        <h:outputText value="Valor: "/>
                        <h:outputText title="Informe o valor do Pagamento Extraorçamentário"
                                      value="#{pagamentoExtraControlador.selecionado.valor}"
                                      id="valor"
                                      styleClass="negrito"
                                      converter="moneyConverter"/>

                        <h:outputText value="Saldo: " rendered="#{pagamentoExtraControlador.selecionado.id ne null}"/>
                        <h:outputText value="#{pagamentoExtraControlador.selecionado.saldo}"
                                      rendered="#{pagamentoExtraControlador.selecionado.id ne null}"
                                      styleClass="negrito"
                                      converter="moneyConverter"/>

                        <h:outputText value="Saldo Conta Extraorçamentária: "/>
                        <h:outputText styleClass="negrito"
                                      value="#{pagamentoExtraControlador.saldoContaExtra}"
                                      id="saldo"
                                      converter="moneyConverter"/>
                    </h:panelGrid>

                    <h:panelGrid columns="2" cellpadding="0">
                        <p:commandButton value="Selecionar Receita Extra"
                                         styleClass="padrao mtop10"
                                         id="btSelecionarReceita"
                                         onstart="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         title="Clique para selecionar uma ou mais Receitas Extraorçamentárias."
                                         disabled="#{pagamentoExtraControlador.selecionado.fonteDeRecursos.id eq null or pagamentoExtraControlador.verificarEdicao}"
                                         actionListener="#{pagamentoExtraControlador.carregarReceitasExtras()}"
                                         process="@this complementoHistorico panelId"
                                         update=":Formulario_dialog btSelecionarReceita"
                                         icon="ui-icon-circle-plus"/>
                    </h:panelGrid>

                    <p:dataTable id="tableRecExtra"
                                 value="#{pagamentoExtraControlador.selecionado.pagamentoReceitaExtras}"
                                 var="re"
                                 rowStyleClass="#{re.pagamentoEstornoRecExtra eq null ? (empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura') : 'linhaFundoVermelho'}"
                                 paginator="true"
                                 rows="10"
                                 paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>RECEITAS EXTRAORÇAMENTÁRIAS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                 emptyMessage="Não foram localizados registros para serem apresentados."
                                 rowIndexVar="rowlx">

                        <p:column headerText="Ações" style="text-align: center; width: 90px">
                            <p:commandButton icon="ui-icon-trash"
                                             actionListener="#{pagamentoExtraControlador.removerReceitaExtra(re)}"
                                             disabled="#{pagamentoExtraControlador.verificarEdicao}"
                                             title="Clique para remover este registro."
                                             onstart="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             process="@this"
                                             update=":Formulario:tabView:tableRecExtra :Formulario:tabView:valor :Formulario:tabView:saldo :Formulario:tabView:valoresPagamento :Formulario:tabView"
                                             onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"/>

                            <fc:botaoTargetBlank icon="ui-icon-print"
                                                 styleClass="ui-button-icon-left ui-icon"
                                                 imprimeNoDialog="true" update="@this"
                                                 style="width: 28px!important;min-width: 28px!important;height: 25px!important;min-height: 25px!important;"
                                                 actionListener="#{receitaExtraControlador.gerarNotaOrcamentaria(false, re.receitaExtra)}"
                                                 title="Clique para gerar a nota de receita extraorçamentária."/>
                        </p:column>
                        <p:column headerText="Número" styleClass="alinhamentoDireita">
                            <h:commandLink target="_blank"
                                           styleClass="thumbnail"
                                           title="Clique para visualizar esta receita extra."
                                           actionListener="#{utilBeanContabil.redirecionarParaReceitaExtra(re.receitaExtra)}">
                                <h:outputText value="#{re.receitaExtra.numero}"/>
                            </h:commandLink>
                        </p:column>
                        <p:column headerText="Data" styleClass="alinhamentoCentralizado">
                            <h:outputText value="#{re.receitaExtra.dataReceita}">
                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Pagamento" styleClass="alinhamentoCentralizado">
                            <h:commandLink target="_blank"
                                           styleClass="thumbnail"
                                           rendered="#{re.receitaExtra.retencaoPgto ne null}"
                                           title="Clique para visualizar este pagamento."
                                           actionListener="#{utilBeanContabil.redirecionarParaPagamento(re.receitaExtra.retencaoPgto.pagamento)}">
                                <h:outputText value="#{re.receitaExtra.retencaoPgto.pagamento.numeroPagamento}"/>
                            </h:commandLink>
                        </p:column>
                        <p:column headerText="Conta Extraorçamentária" styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{re.receitaExtra.contaExtraorcamentaria}"/>
                        </p:column>
                        <p:column headerText="Conta Financeira" styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{re.receitaExtra.subConta}"/>
                        </p:column>
                        <p:column headerText="Pessoa" styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{re.receitaExtra.pessoa}"/>
                        </p:column>
                        <p:column headerText="Saldo (R$)" styleClass="alinhamentoDireita">
                            <h:outputText value="#{re.receitaExtra.saldo}">
                                <f:convertNumber type="currency"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Valor (R$)" styleClass="alinhamentoDireita">
                            <h:outputText value="#{re.receitaExtra.valor}">
                                <f:convertNumber type="currency"/>
                            </h:outputText>
                        </p:column>
                        <f:facet name="footer">
                            <div align="right" class="negrito">
                                <h:outputText value="Total: "/>
                                <h:outputText value="#{pagamentoExtraControlador.somaReceitaExtras}"
                                              converter="moneyConverter"/>
                            </div>
                        </f:facet>
                    </p:dataTable>
                </p:tab>


                <p:tab title="Guias">
                    <p:outputPanel id="msgGuias">
                        <co:mensagem
                            mensagem="Selecione o campo 'Tipo de Documento' na aba principal, para habilitar as funcionalidades das Guias."
                            rendered="#{!pagamentoExtraControlador.renderizarGuias() and pagamentoExtraControlador.selecionado.id eq null}"/>
                    </p:outputPanel>

                    <p:outputPanel id="tabGuias">
                        <p:commandButton value="Novo"
                                         icon="ui-icon-circle-plus"
                                         rendered="#{pagamentoExtraControlador.mostrarPainelGuiaFatura() and pagamentoExtraControlador.guiaPagamentoExtra eq null}"
                                         disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                         actionListener="#{pagamentoExtraControlador.novaGuiaPagamento()}"
                                         update=":Formulario:tabView:tabGuias"
                                         process="@this"
                                         id="btnNovoGuiaFatura"
                                         onstart="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         styleClass="padrao"
                                         title="Clique para adicionar uma nova guia."/>

                        <h:panelGrid columns="2"
                                     rendered="#{pagamentoExtraControlador.mostrarPainelGuiaFatura() and pagamentoExtraControlador.guiaPagamentoExtra ne null}">
                            <h:outputText value="Situação: "/>
                            <h:outputText
                                value="#{pagamentoExtraControlador.guiaPagamentoExtra.situacaoGuiaPagamento.descricao}"
                                styleClass="negrito"/>

                            <fc:outputLabelObrigatorio value="Código de Barra: "/>
                            <h:panelGroup>
                                <p:inputMask size="60"
                                             maxlength="54"
                                             mask="99999.99999 99999.999999 99999.999999 9 99999999999999"
                                             title="Informe o código de barras(somente números)."
                                             value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaFatura.codigoBarra}"
                                             id="codigoBarra">
                                    <p:watermark value="Digite somente números." for="codigoBarra"/>
                                    <p:ajax process="@this"
                                            onstart="aguarde.show()"
                                            oncomplete="aguarde.hide()"
                                            update="codigoBarra panelValorNomial :Formulario:tabView:totalGuiaFatura"
                                            event="blur"
                                            listener="#{pagamentoExtraControlador.getValorGuiaFatura}"/>
                                </p:inputMask>
                                <co:botao_informacao id="btInfo"
                                                     styleClass="mlef05"
                                                     descricao="&lt;b>#&lt;/b> Guias de fatura não devem iniciar com o dígito 8. (Código de barras iniciado com '8', pertence a guias do tipo convênio).&lt;br/>
                                                                &lt;b>#&lt;/b> Os três primeiros dígitos do códido de barras devem pertencer a um banco cadastrado no sistema."/>
                            </h:panelGroup>

                            <fc:outputLabelObrigatorio value="Data de Vencimento: "/>
                            <p:calendar id="dtVencimento"
                                        locale="pt_BR"
                                        pattern="dd/MM/yyyy"
                                        showOn="button"
                                        title="Informe a data do vencimento."
                                        onkeyup="mascara(this, mdata)"
                                        disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                        value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaFatura.dataVencimento}"/>

                            <fc:outputLabelObrigatorio value="Valor Nominal: "/>
                            <p:outputPanel id="panelValorNomial">
                                <p:inputText title="Informe o valor Nominal"
                                             value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaFatura.valorNominal}"
                                             id="valorNominal"
                                             onkeypress="mascara(this, monetario)"
                                             styleClass="alinhamentoDireita"
                                             converter="moneyConverter"
                                             disabled="#{pagamentoExtraControlador.habilitarCampos}">
                                    <p:ajax update=":Formulario:tabView:totalGuiaFatura"
                                            event="blur"
                                            onstart="aguarde.show()"
                                            oncomplete="aguarde.hide()"
                                            process="@this"/>
                                </p:inputText>
                            </p:outputPanel>


                            <fc:outputLabelObrigatorio value="Descontos: "/>
                            <p:inputText title="Informe o valor Descontos"
                                         value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaFatura.valorDescontos}"
                                         id="valorDescontos"
                                         onkeypress="mascara(this, monetario)"
                                         styleClass="alinhamentoDireita"
                                         converter="moneyConverter"
                                         disabled="#{pagamentoExtraControlador.habilitarCampos}">
                                <p:ajax update=":Formulario:tabView:totalGuiaFatura"
                                        event="blur"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        process="@this"/>
                            </p:inputText>

                            <fc:outputLabelObrigatorio value="Juros: "/>
                            <p:inputText title="Informe o valor de Juros"
                                         value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaFatura.valorJuros}"
                                         onkeypress="mascara(this, monetario)"
                                         styleClass="alinhamentoDireita"
                                         converter="moneyConverter"
                                         disabled="#{pagamentoExtraControlador.habilitarCampos}">
                                <p:ajax update=":Formulario:tabView:totalGuiaFatura"
                                        event="blur"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        process="@this"/>
                            </p:inputText>

                            <h:outputText value="Valor Total da Guia: "/>
                            <p:outputPanel id="totalGuiaFatura">
                                <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoExtra.valorTotalPorGuia}"
                                              styleClass="negrito">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:outputPanel>
                        </h:panelGrid>

                        <p:commandButton disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                         rendered="#{pagamentoExtraControlador.mostrarPainelGuiaFatura() and pagamentoExtraControlador.guiaPagamentoExtra ne null}"
                                         title="Clique para adicionar uma guia de fatura na lista."
                                         value="Adicionar"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         actionListener="#{pagamentoExtraControlador.adicionarGuiaFatura}"
                                         update=":Formulario:tabView:tabGuias :Formulario:tabView:panelInformacoes2 :Formulario:tabView:valoresPagamento"
                                         icon="ui-icon-circle-plus"
                                         styleClass="mtop10 padrao"/>

                        <p:commandButton
                            rendered="#{pagamentoExtraControlador.mostrarPainelGuiaFatura() and pagamentoExtraControlador.guiaPagamentoExtra ne null}"
                            title="Clique para cancelar."
                            value="Cancelar"
                            onclick="aguarde.show()"
                            oncomplete="aguarde.hide()"
                            actionListener="#{pagamentoExtraControlador.cancelarGuiaPagamento()}"
                            update=":Formulario:tabView:tabGuias"
                            icon="ui-icon-cancel"
                            styleClass="mtop10 mlef05 padrao"/>


                        <p:dataTable id="tableGuia"
                                     value="#{pagamentoExtraControlador.selecionado.guiaPagamentoExtras}"
                                     rendered="#{pagamentoExtraControlador.mostrarPainelGuiaFatura()}"
                                     var="fatura"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop03"
                                     paginator="true"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>GUIAS DE FATURA&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100">
                            <p:column headerText="Ações" style="text-align: center; width: 10%">
                                <p:commandButton id="btEditarFatura"
                                                 icon="ui-icon-pencil"
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="@this :Formulario:tabView:panelInformacoes2"
                                                 styleClass="mrig05"
                                                 title="Clique para editar este registro."
                                                 disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                                 actionListener="#{pagamentoExtraControlador.editarGuiaPagamento(fatura)}"
                                                 update=":Formulario:tabView:tabGuias :Formulario:tabView:valoresPagamento :Formulario:tabView:panelInformacoes2"/>

                                <p:commandButton icon="ui-icon-trash"
                                                 title="Clique para remover este registro."
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="@this"
                                                 disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                                 actionListener="#{pagamentoExtraControlador.removerGuiaPagamento(fatura)}"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 update="tableGuia :Formulario:tabView:tipoDoc :Formulario:tabView:valoresPagamento"/>

                                <p:commandButton id="btImprimirFatura"
                                                 icon="ui-icon-print"
                                                 onstart="aguarde.show()"
                                                 styleClass="mlef05"
                                                 oncomplete="aguarde.hide();dialogImprimirGuia.show()"
                                                 actionListener="#{pagamentoExtraControlador.prepararGuiaParaImprimir(fatura)}"
                                                 rendered="#{pagamentoExtraControlador.podeImprimirGuia(fatura)}"
                                                 update=":formDialogGuia"/>
                            </p:column>
                            <p:column headerText="Situação" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{fatura.situacaoGuiaPagamento.descricao}"/>
                            </p:column>
                            <p:column headerText="Autenticação" styleClass="alinhamentoDireita">
                                <h:outputText value="#{fatura.numeroAutenticacao}"
                                              rendered="#{fatura.numeroAutenticacao ne null}"/>
                                <h:outputText value="Não Autenticado" rendered="#{fatura.numeroAutenticacao eq null}"/>
                            </p:column>
                            <p:column headerText="Código de Barras" styleClass="alinhamentoDireita">
                                <h:outputText value="#{fatura.guiaFatura.codigoBarra}"/>
                            </p:column>
                            <p:column headerText="Data de Vencimento" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{fatura.guiaFatura.dataVencimento}">
                                    <f:convertDateTime type="date"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Valor Nominal (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{fatura.guiaFatura.valorNominal}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Valor de Desconto (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{fatura.guiaFatura.valorDescontos}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Valor do Juros (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{fatura.guiaFatura.valorJuros}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Total (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{fatura.valorTotalPorGuia}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                                <f:facet name="footer">
                                    <h:outputText value="Total: " styleClass="negrito"/>
                                    <h:outputText
                                        value="#{pagamentoExtraControlador.guiaPagamentoExtra.valorTotalGuiasPagamento}"
                                        styleClass="negrito"
                                        converter="moneyConverter"/>
                                </f:facet>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>

                    <p:outputPanel id="tabConvenio">
                        <p:commandButton value="Novo"
                                         icon="ui-icon-circle-plus"
                                         rendered="#{pagamentoExtraControlador.mostrarPainelGuiaConvenio() and pagamentoExtraControlador.guiaPagamentoExtra eq null}"
                                         disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                         actionListener="#{pagamentoExtraControlador.novaGuiaPagamento()}"
                                         update=":Formulario:tabView:tabConvenio"
                                         process="@this"
                                         id="btnNovoGuiaConvenio"
                                         onstart="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         styleClass="padrao"
                                         title="Clique para adicionar uma nova guia."/>

                        <h:panelGrid columns="2"
                                     rendered="#{pagamentoExtraControlador.mostrarPainelGuiaConvenio() and pagamentoExtraControlador.guiaPagamentoExtra ne null}">
                            <h:outputText value="Situação: "/>
                            <h:outputText
                                value="#{pagamentoExtraControlador.guiaPagamentoExtra.situacaoGuiaPagamento.descricao}"
                                styleClass="negrito"/>

                            <fc:outputLabelObrigatorio value="Código de Barras: "/>
                            <h:panelGroup>
                                <p:inputMask
                                    value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaConvenio.codigoBarra}"
                                    disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                    size="60"
                                    mask="99999999999.9 99999999999.9 99999999999.9 99999999999.9"
                                    maxlength="55"
                                    title="Digite somente números."
                                    id="codigoBarraConv">
                                    <p:watermark value="Digite somente números." for="codigoBarraConv"/>
                                    <p:ajax update="valorConvenio"
                                            event="blur"
                                            process="@this"
                                            onstart="aguarde.show()"
                                            oncomplete="aguarde.hide()"
                                            listener="#{pagamentoExtraControlador.getValorGuiaConvenio}"/>
                                </p:inputMask>
                                <co:botao_informacao id="btInfoConvenio"
                                                     styleClass="mlef05"
                                                     descricao="&lt;b>#&lt;/b> Guias de Convênio devem iniciar com o dígito 8.&lt;br/>"/>
                            </h:panelGroup>

                            <h:outputText value="Valor: "/>
                            <p:outputPanel id="valorConvenio">
                                <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaConvenio.valor}"
                                              styleClass="negrito">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:outputPanel>
                        </h:panelGrid>

                        <p:commandButton disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                         rendered="#{pagamentoExtraControlador.mostrarPainelGuiaConvenio() and pagamentoExtraControlador.guiaPagamentoExtra ne null}"
                                         title="Clique para adicionar uma guia de convênio na lista."
                                         value="Adicionar"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         actionListener="#{pagamentoExtraControlador.adicionarGuiaConvenio}"
                                         update="tableGuia :Formulario:tabView:tabConvenio :Formulario:tabView:panelInformacoes2 :Formulario:tabView:valoresPagamento"
                                         icon="ui-icon-circle-plus"
                                         styleClass="mtop10 padrao"/>

                        <p:commandButton
                            rendered="#{pagamentoExtraControlador.mostrarPainelGuiaConvenio() and pagamentoExtraControlador.guiaPagamentoExtra ne null}"
                            title="Clique para cancelar."
                            value="Cancelar"
                            onclick="aguarde.show()"
                            oncomplete="aguarde.hide()"
                            actionListener="#{pagamentoExtraControlador.cancelarGuiaPagamento()}"
                            update=":Formulario:tabView:tabConvenio"
                            icon="ui-icon-cancel"
                            styleClass="mtop10 mlef05 padrao"/>

                        <p:dataTable id="tableGuiaConvenio"
                                     value="#{pagamentoExtraControlador.selecionado.guiaPagamentoExtras}"
                                     rendered="#{pagamentoExtraControlador.mostrarPainelGuiaConvenio()}"
                                     var="convenio"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop03"
                                     paginator="true"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>GUIAS DE CONVÊNIO&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100">
                            <p:column headerText="Ações" style="text-align: center; width: 10%">
                                <p:commandButton id="btEditarConvenio"
                                                 icon="ui-icon-pencil"
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="@this :Formulario:tabView:panelInformacoes2"
                                                 styleClass="mrig05"
                                                 title="Clique para editar este registro."
                                                 disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                                 actionListener="#{pagamentoExtraControlador.editarGuiaPagamento(convenio)}"
                                                 update=":Formulario:tabView:tabConvenio :Formulario:tabView:valoresPagamento :Formulario:tabView:panelInformacoes2"/>

                                <p:commandButton icon="ui-icon-trash"
                                                 title="Clique para remover este registro."
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="@this"
                                                 disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                                 actionListener="#{pagamentoExtraControlador.removerGuiaPagamento(convenio)}"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 update="tableGuiaConvenio :Formulario:tabView:tipoDoc :Formulario:tabView:valoresPagamento"/>

                                <p:commandButton id="btImprimirConvenio"
                                                 icon="ui-icon-print"
                                                 onstart="aguarde.show()"
                                                 styleClass="mlef05"
                                                 oncomplete="aguarde.hide();dialogImprimirGuia.show()"
                                                 actionListener="#{pagamentoExtraControlador.prepararGuiaParaImprimir(convenio)}"
                                                 rendered="#{pagamentoExtraControlador.podeImprimirGuia(convenio)}"
                                                 update=":formDialogGuia"/>
                            </p:column>
                            <p:column headerText="Situação" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{convenio.situacaoGuiaPagamento.descricao}"/>
                            </p:column>
                            <p:column headerText="Autenticação" styleClass="alinhamentoDireita">
                                <h:outputText value="#{convenio.numeroAutenticacao}"
                                              rendered="#{convenio.numeroAutenticacao ne null}"/>
                                <h:outputText value="Não Autenticado"
                                              rendered="#{convenio.numeroAutenticacao eq null}"/>
                            </p:column>
                            <p:column headerText="Código de Barras" styleClass="alinhamentoDireita">
                                <h:outputText value="#{convenio.guiaConvenio.codigoBarra}"/>
                            </p:column>
                            <p:column headerText="Total (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{convenio.guiaConvenio.valor}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                                <f:facet name="footer">
                                    <h:outputText value="Total: " styleClass="negrito"/>
                                    <h:outputText
                                        value="#{pagamentoExtraControlador.guiaPagamentoExtra.valorTotalGuiasPagamento}"
                                        styleClass="negrito"
                                        converter="moneyConverter"/>
                                </f:facet>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>

                    <p:outputPanel id="guiaGPS">
                        <p:commandButton value="Novo"
                                         icon="ui-icon-circle-plus"
                                         rendered="#{pagamentoExtraControlador.mostrarPainelGuiaGPS() and pagamentoExtraControlador.guiaPagamentoExtra eq null}"
                                         disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                         actionListener="#{pagamentoExtraControlador.novaGuiaPagamento()}"
                                         update=":Formulario:tabView:guiaGPS"
                                         process="@this"
                                         id="btnNovoGuiaGPS"
                                         onstart="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         styleClass="padrao"
                                         title="Clique para adicionar uma nova guia."/>

                        <h:panelGrid columns="2"
                                     rendered="#{pagamentoExtraControlador.mostrarPainelGuiaGPS() and pagamentoExtraControlador.guiaPagamentoExtra ne null}">

                            <h:outputText value="Situação: "/>
                            <h:outputText
                                value="#{pagamentoExtraControlador.guiaPagamentoExtra.situacaoGuiaPagamento.descricao}"
                                styleClass="negrito"/>

                            <fc:outputLabelObrigatorio value="Pessoa: "/>
                            <h:panelGroup>
                                <p:autoComplete queryDelay="1000"
                                                id="pessoaGps" size="70"
                                                title="Informe a pessoa."
                                                value="#{pagamentoExtraControlador.guiaPagamentoExtra.pessoa}"
                                                completeMethod="#{pagamentoExtraControlador.completarFornecedores}"
                                                converter="#{pessoaContabilControlador.converterGenerico}"
                                                disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                                maxResults="10"
                                                styleClass="mrig05"
                                                var="pessoaGps"
                                                itemValue="#{pessoaGps.id}"
                                                itemLabel="#{pessoaGps.nomeAutoComplete}">
                                    <p:ajax event="itemSelect"
                                            update="compCamposPessoaGuia tipoIdentificacaoGuia gridCodigoIdentificacao"
                                            listener="#{pagamentoExtraControlador.definirNullTipoIdentificacaoGuia()}"
                                            onstart="aguarde.show()"
                                            oncomplete="aguarde.hide()"/>
                                </p:autoComplete>

                                <p:outputPanel id="compCamposPessoaGuia">
                                    <fc:visualizarCampos
                                        objeto="#{pagamentoExtraControlador.guiaPagamentoExtra.pessoa}"/>
                                </p:outputPanel>
                            </h:panelGroup>

                            <fc:outputLabelObrigatorio value="Tipo de Identificação: "/>
                            <h:selectOneRadio id="tipoIdentificacaoGuia"
                                              value="#{pagamentoExtraControlador.guiaPagamentoExtra.tipoIdentificacaoGuia}">
                                <f:selectItems value="#{pagamentoExtraControlador.tiposIdentificacaoGuia}"/>
                                <p:ajax event="valueChange"
                                        update="gridCodigoIdentificacao"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        listener="#{pagamentoExtraControlador.atribuirCodigoIdentificacao()}"/>
                            </h:selectOneRadio>

                            <fc:outputLabelObrigatorio value="Código de Identificação: "/>
                            <h:panelGrid columns="1" id="gridCodigoIdentificacao">
                                <p:inputText value="#{pagamentoExtraControlador.guiaPagamentoExtra.codigoIdentificacao}"
                                             rendered="#{pagamentoExtraControlador.guiaPagamentoExtra.tipoIdentificacaoGuia eq 'CEI'}"
                                             disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                             title="Informe o código de Identificaçao CEI."
                                             maxlength="14"/>

                                <h:outputText
                                    value="#{pagamentoExtraControlador.guiaPagamentoExtra.codigoIdentificacao}"
                                    rendered="#{pagamentoExtraControlador.guiaPagamentoExtra.tipoIdentificacaoGuia ne 'CEI'}"
                                    styleClass="negrito"/>
                            </h:panelGrid>

                            <fc:outputLabelObrigatorio value="Data de Pagamento: "/>
                            <p:calendar id="dtPagamentoGps"
                                        locale="pt_BR"
                                        pattern="dd/MM/yyyy"
                                        title="Informe a data de pagamento."
                                        onkeypress="mascara(this, mdata)"
                                        disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                        value="#{pagamentoExtraControlador.guiaPagamentoExtra.dataPagamento}"/>

                            <fc:outputLabelObrigatorio value="Código da Receita Tributo: "/>
                            <p:inputText
                                value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaGPS.codigoReceitaTributo}"
                                disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                title="Informe o código da receita do tributo."
                                maxlength="6"
                                id="codigoReceita"/>

                            <fc:outputLabelObrigatorio value="Código Identificador do Tributo: "/>
                            <p:inputText
                                value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaGPS.codigoIdentificacaoTributo}"
                                disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                title="Informe o código identificador do tributo."
                                maxlength="2"
                                id="codigoTributo"/>

                            <fc:outputLabelObrigatorio value="Competência: "/>
                            <p:calendar id="dtCompetencia"
                                        locale="pt_BR"
                                        pattern="dd/MM/yyyy"
                                        title="Informe o mês de competência."
                                        onkeypress="mascara(this, mdata)"
                                        disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                        value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaGPS.periodoCompetencia}"/>

                            <fc:outputLabelObrigatorio value="Valor Previsto INSS: "/>
                            <p:inputText title="Informe o valor previsto do INSS."
                                         update=":Formulario:tabView:totalGuiaGps"
                                         onkeydown="mascaraMonetaria(this)"
                                         styleClass="alinhamentoDireita"
                                         converter="moneyConverter"
                                         disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                         value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaGPS.valorPrevistoINSS}"
                                         id="valorPrevisto">
                                <p:ajax update=":Formulario:tabView:totalGuiaGps"
                                        event="blur"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        process="@this"/>
                            </p:inputText>

                            <fc:outputLabelObrigatorio value="Valor de Outras Entidades: "/>
                            <p:inputText title="Informe o valor de outras entidades"
                                         value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaGPS.valorOutrasEntidades}"
                                         onkeydown="mascaraMonetaria(this)"
                                         styleClass="alinhamentoDireita"
                                         converter="moneyConverter"
                                         disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                         id="valorOutraEnt">
                                <p:ajax update=":Formulario:tabView:totalGuiaGps"
                                        event="blur"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        process="@this"/>
                            </p:inputText>

                            <fc:outputLabelObrigatorio value="Atualização Monetária: "/>
                            <p:inputText title="Informe o valor para a atualização monetária."
                                         update=":Formulario:tabView:totalGuiaGps"
                                         value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaGPS.atualizacaoMonetaria}"
                                         onkeydown="mascaraMonetaria(this)"
                                         styleClass="alinhamentoDireita"
                                         converter="moneyConverter"
                                         disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                         id="atualizacaoMonetaria">
                                <p:ajax update=":Formulario:tabView:totalGuiaGps"
                                        event="blur"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        process="@this"/>
                            </p:inputText>

                            <h:outputText value="Valor Total da Guia: "/>
                            <p:outputPanel id="totalGuiaGps">
                                <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoExtra.valorTotalPorGuia}"
                                              styleClass="negrito">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:outputPanel>
                        </h:panelGrid>

                        <p:commandButton disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                         rendered="#{pagamentoExtraControlador.mostrarPainelGuiaGPS() and pagamentoExtraControlador.guiaPagamentoExtra ne null}"
                                         title="Clique para adicionar uma guia de GPS na lista."
                                         value="Adicionar"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         actionListener="#{pagamentoExtraControlador.adicionarGuiaGPS}"
                                         update=":Formulario:tabView:guiaGPS :Formulario:tabView:panelInformacoes2 :Formulario:tabView:valoresPagamento"
                                         icon="ui-icon-circle-plus"
                                         styleClass="mtop10 padrao"/>

                        <p:commandButton
                            rendered="#{pagamentoExtraControlador.mostrarPainelGuiaGPS() and pagamentoExtraControlador.guiaPagamentoExtra ne null}"
                            title="Clique para cancelar."
                            value="Cancelar"
                            onclick="aguarde.show()"
                            oncomplete="aguarde.hide()"
                            actionListener="#{pagamentoExtraControlador.cancelarGuiaPagamento()}"
                            update=":Formulario:tabView:guiaGPS"
                            icon="ui-icon-cancel"
                            styleClass="mtop10 mlef05 padrao"/>

                        <p:dataTable id="tableGPS"
                                     value="#{pagamentoExtraControlador.selecionado.guiaPagamentoExtras}"
                                     rendered="#{pagamentoExtraControlador.mostrarPainelGuiaGPS()}"
                                     var="gps"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop03"
                                     paginator="true"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>GUIAS DE GPS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100">
                            <p:column headerText="Ações" style="text-align: center; width: 10%">
                                <p:commandButton id="btEditarGps"
                                                 icon="ui-icon-pencil"
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="@this :Formulario:tabView:panelInformacoes2"
                                                 styleClass="mrig05"
                                                 title="Clique para editar este registro."
                                                 disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                                 actionListener="#{pagamentoExtraControlador.editarGuiaPagamento(gps)}"
                                                 update=":Formulario:tabView:guiaGPS :Formulario:tabView:panelInformacoes2 :Formulario:tabView:valoresPagamento"/>

                                <p:commandButton icon="ui-icon-trash"
                                                 title="Clique para remover este registro."
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="@this"
                                                 disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                                 actionListener="#{pagamentoExtraControlador.removerGuiaPagamento(gps)}"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 update=":Formulario:tabView:guiaGPS :Formulario:tabView:tipoDoc :Formulario:tabView:valoresPagamento"/>

                                <p:commandButton id="btImprimirGPS"
                                                 icon="ui-icon-print"
                                                 onstart="aguarde.show()"
                                                 styleClass="mlef05"
                                                 oncomplete="aguarde.hide();dialogImprimirGuia.show()"
                                                 actionListener="#{pagamentoExtraControlador.prepararGuiaParaImprimir(gps)}"
                                                 rendered="#{pagamentoExtraControlador.podeImprimirGuia(gps)}"
                                                 update=":formDialogGuia"/>
                            </p:column>
                            <p:column headerText="Situação" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{gps.situacaoGuiaPagamento.descricao}"/>
                            </p:column>
                            <p:column headerText="Pessoa" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{gps.codigoIdentificacao} - #{gps.pessoa.nome}"/>
                            </p:column>
                            <p:column headerText="Autenticação" styleClass="alinhamentoDireita">
                                <h:outputText value="#{gps.numeroAutenticacao}"
                                              rendered="#{gps.numeroAutenticacao ne null}"/>
                                <h:outputText value="Não Autenticado" rendered="#{gps.numeroAutenticacao eq null}"/>
                            </p:column>
                            <p:column headerText="Receita Tributo" styleClass="alinhamentoDireita">
                                <h:outputText value="#{gps.guiaGPS.codigoReceitaTributo}"/>
                            </p:column>
                            <p:column headerText="Identificador" styleClass="alinhamentoDireita">
                                <h:outputText value="#{gps.guiaGPS.codigoIdentificacaoTributo}"/>
                            </p:column>
                            <p:column headerText="Pagamento" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{gps.dataPagamento}">
                                    <f:convertDateTime type="date"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Competência" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{gps.guiaGPS.periodoCompetencia}">
                                    <f:convertDateTime type="date"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Valor Previsto INSS (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{gps.guiaGPS.valorPrevistoINSS}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Valor Outras Entidades (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{gps.guiaGPS.valorOutrasEntidades}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Atualização Monetária (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{gps.guiaGPS.atualizacaoMonetaria}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Total (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{gps.valorTotalPorGuia}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                                <f:facet name="footer">
                                    <h:outputText value="Total: " styleClass="negrito"/>
                                    <h:outputText
                                        value="#{pagamentoExtraControlador.guiaPagamentoExtra.valorTotalGuiasPagamento}"
                                        styleClass="negrito"
                                        converter="moneyConverter"/>
                                </f:facet>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>


                    <p:outputPanel id="guiaDarf">
                        <p:commandButton value="Novo"
                                         icon="ui-icon-circle-plus"
                                         rendered="#{pagamentoExtraControlador.mostrarPainelGuiaDARF() and pagamentoExtraControlador.guiaPagamentoExtra eq null}"
                                         disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                         actionListener="#{pagamentoExtraControlador.novaGuiaPagamento()}"
                                         update=":Formulario:tabView:guiaDarf"
                                         process="@this"
                                         id="btnNovoGuiaDarf"
                                         onstart="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         styleClass="padrao"
                                         title="Clique para adicionar uma nova guia."/>

                        <h:panelGrid columns="2"
                                     rendered="#{pagamentoExtraControlador.mostrarPainelGuiaDARF() and pagamentoExtraControlador.guiaPagamentoExtra ne null}">
                            <h:outputText value="Situação: "/>
                            <h:outputText
                                value="#{pagamentoExtraControlador.guiaPagamentoExtra.situacaoGuiaPagamento.descricao}"
                                styleClass="negrito"/>

                            <fc:outputLabelObrigatorio value="Pessoa: "/>
                            <h:panelGroup>
                                <p:autoComplete queryDelay="1000" id="pessoaDarf" size="70"
                                                title="Informe a pessoa."
                                                value="#{pagamentoExtraControlador.guiaPagamentoExtra.pessoa}"
                                                completeMethod="#{pagamentoExtraControlador.completarFornecedores}"
                                                converter="#{pessoaContabilControlador.converterGenerico}"
                                                disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                                maxResults="10"
                                                styleClass="mrig05"
                                                var="pessoaGuia"
                                                itemValue="#{pessoaGuia.id}"
                                                itemLabel="#{pessoaGuia.nomeAutoComplete}">
                                    <p:ajax event="itemSelect"
                                            update="compCamposPessoaGuiaDarf tipoIdentificacaoGuiaDarf gridCodigoIdentificacaoDarf"
                                            listener="#{pagamentoExtraControlador.definirNullTipoIdentificacaoGuia()}"
                                            onstart="aguarde.show()"
                                            oncomplete="aguarde.hide()"/>
                                </p:autoComplete>

                                <p:outputPanel id="compCamposPessoaGuiaDarf">
                                    <fc:visualizarCampos objeto="#{pagamentoExtraControlador.guiaPagamentoExtra.pessoa}"
                                    />
                                </p:outputPanel>
                            </h:panelGroup>

                            <fc:outputLabelObrigatorio value="Tipo de Identificação: "/>
                            <h:selectOneRadio id="tipoIdentificacaoGuiaDarf"
                                              value="#{pagamentoExtraControlador.guiaPagamentoExtra.tipoIdentificacaoGuia}">
                                <f:selectItems value="#{pagamentoExtraControlador.tiposIdentificacaoGuia}"/>
                                <p:ajax event="valueChange" update="gridCodigoIdentificacaoDarf"
                                        onstart="aguarde.show()" oncomplete="aguarde.hide()"
                                        listener="#{pagamentoExtraControlador.atribuirCodigoIdentificacao()}"/>
                            </h:selectOneRadio>

                            <fc:outputLabelObrigatorio value="Codigo de Identificação: "/>
                            <h:panelGrid columns="1" id="gridCodigoIdentificacaoDarf">
                                <p:inputText value="#{pagamentoExtraControlador.guiaPagamentoExtra.codigoIdentificacao}"
                                             rendered="#{pagamentoExtraControlador.guiaPagamentoExtra.tipoIdentificacaoGuia eq 'CEI'}"
                                             disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                             title="Informe o código de Identificaçao CEI."
                                             maxlength="14"/>

                                <h:outputText
                                    value="#{pagamentoExtraControlador.guiaPagamentoExtra.codigoIdentificacao}"
                                    rendered="#{pagamentoExtraControlador.guiaPagamentoExtra.tipoIdentificacaoGuia ne 'CEI'}"
                                    styleClass="negrito"/>
                            </h:panelGrid>

                            <fc:outputLabelObrigatorio value="Data de Pagamento: "/>
                            <p:calendar id="dtPagamentoDarf"
                                        locale="pt_BR"
                                        pattern="dd/MM/yyyy"
                                        title="Informe a data de pagamento."
                                        onkeypress="mascara(this, mdata)"
                                        disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                        value="#{pagamentoExtraControlador.guiaPagamentoExtra.dataPagamento}"/>

                            <fc:outputLabelObrigatorio value="Código da Receita Tributo: "/>
                            <p:inputText
                                value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaDARF.codigoReceitaTributo}"
                                disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                id="codigoReceitaDarf"
                                title="Informe o código da receita do tributo."
                                maxlength="6"/>

                            <fc:outputLabelObrigatorio value="Código Identificador do Tributo: "/>
                            <p:inputText
                                value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaDARF.codigoIdentificacaoTributo}"
                                title="Informe o código identificador do tributo."
                                disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                maxlength="2"/>

                            <fc:outputLabelObrigatorio value="Número de Referência: "/>
                            <p:inputText
                                value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaDARF.numeroReferencia}"
                                disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                title="Informe o número de referência."
                                maxlength="17"/>

                            <fc:outputLabelObrigatorio value="Período de Apuração: "/>
                            <p:calendar id="dtApuracao"
                                        locale="pt_BR"
                                        pattern="dd/MM/yyyy"
                                        title="Informe o período de apuração."
                                        onkeypress="mascara(this, mdata)"
                                        disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                        value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaDARF.periodoApuracao}"/>

                            <fc:outputLabelObrigatorio value="Data de Vencimento: "/>
                            <p:calendar id="dtVenc"
                                        locale="pt_BR"
                                        pattern="dd/MM/yyyy"
                                        title="Informe a data de vencimento."
                                        onkeypress="mascara(this, mdata)"
                                        disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                        value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaDARF.dataVencimento}"/>

                            <fc:outputLabelObrigatorio value="Valor Principal: "/>
                            <p:inputText title="Informe o valor principal."
                                         value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaDARF.valorPrincipal}"
                                         onkeydown="mascaraMonetaria(this)"
                                         styleClass="alinhamentoDireita"
                                         converter="moneyConverter"
                                         disabled="#{pagamentoExtraControlador.habilitarCampos}">
                                <p:ajax update=":Formulario:tabView:totalGuiaDarf"
                                        event="blur"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        process="@this"/>
                            </p:inputText>

                            <fc:outputLabelObrigatorio value="Valor de Multa: "/>
                            <p:inputText title="Informe o valor de multa"
                                         value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaDARF.valorMulta}"
                                         id="valorMulta"
                                         onkeydown="mascaraMonetaria(this)"
                                         styleClass="alinhamentoDireita"
                                         converter="moneyConverter"
                                         disabled="#{pagamentoExtraControlador.habilitarCampos}">
                                <p:ajax update=":Formulario:tabView:totalGuiaDarf"
                                        event="blur"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        process="@this"/>
                            </p:inputText>

                            <fc:outputLabelObrigatorio value="Valor de Juros: "/>
                            <p:inputText title="Informe o valor de juros."
                                         value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaDARF.valorJuros}"
                                         id="valorJuros"
                                         onkeydown="mascaraMonetaria(this)"
                                         styleClass="alinhamentoDireita"
                                         converter="moneyConverter"
                                         disabled="#{pagamentoExtraControlador.habilitarCampos}">
                                <p:ajax update=":Formulario:tabView:totalGuiaDarf"
                                        event="blur"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        process="@this"/>
                            </p:inputText>

                            <h:outputText value="Valor Total da Guia: "/>
                            <p:outputPanel id="totalGuiaDarf">
                                <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoExtra.valorTotalPorGuia}"
                                              styleClass="negrito">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:outputPanel>
                        </h:panelGrid>

                        <p:commandButton disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                         rendered="#{pagamentoExtraControlador.mostrarPainelGuiaDARF() and pagamentoExtraControlador.guiaPagamentoExtra ne null}"
                                         title="Clique para adicionar uma guia de DARF na lista."
                                         value="Adicionar"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         actionListener="#{pagamentoExtraControlador.adicionarGuiaDARF}"
                                         update=":Formulario:tabView:guiaDarf :Formulario:tabView:panelInformacoes2 :Formulario:tabView:valoresPagamento"
                                         icon="ui-icon-circle-plus"
                                         styleClass="mtop10 padrao"/>

                        <p:commandButton
                            rendered="#{pagamentoExtraControlador.mostrarPainelGuiaDARF() and pagamentoExtraControlador.guiaPagamentoExtra ne null}"
                            title="Clique para cancelar."
                            value="Cancelar"
                            onclick="aguarde.show()"
                            oncomplete="aguarde.hide()"
                            actionListener="#{pagamentoExtraControlador.cancelarGuiaPagamento()}"
                            update=":Formulario:tabView:guiaDarf"
                            icon="ui-icon-cancel"
                            styleClass="mtop10 mlef05 padrao"/>

                        <p:dataTable id="tableDARF"
                                     value="#{pagamentoExtraControlador.selecionado.guiaPagamentoExtras}"
                                     rendered="#{pagamentoExtraControlador.mostrarPainelGuiaDARF()}"
                                     var="darf"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop03"
                                     paginator="true"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>GUIAS DE DARF&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100">
                            <p:column headerText="Ações" style="text-align: center; width: 10%">
                                <p:commandButton id="btEditarDarf"
                                                 icon="ui-icon-pencil"
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="@this :Formulario:tabView:panelInformacoes2"
                                                 styleClass="mrig05"
                                                 title="Clique para editar este registro."
                                                 disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                                 actionListener="#{pagamentoExtraControlador.editarGuiaPagamento(darf)}"
                                                 update=":Formulario:tabView:guiaDarf :Formulario:tabView:valoresPagamento :Formulario:tabView:panelInformacoes2"/>

                                <p:commandButton icon="ui-icon-trash"
                                                 title="Clique para remover este registro."
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="@this"
                                                 disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                                 actionListener="#{pagamentoExtraControlador.removerGuiaPagamento(darf)}"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 update=":Formulario:tabView:tipoDoc :Formulario:tabView:guiaDarf :Formulario:tabView:valoresPagamento"/>

                                <p:commandButton id="btImprimirDarf"
                                                 icon="ui-icon-print"
                                                 onstart="aguarde.show()"
                                                 styleClass="mlef05"
                                                 oncomplete="aguarde.hide();dialogImprimirGuia.show()"
                                                 actionListener="#{pagamentoExtraControlador.prepararGuiaParaImprimir(darf)}"
                                                 rendered="#{pagamentoExtraControlador.podeImprimirGuia(darf)}"
                                                 update=":formDialogGuia"/>
                            </p:column>
                            <p:column headerText="Situação" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{darf.situacaoGuiaPagamento.descricao}"/>
                            </p:column>
                            <p:column headerText="Pessoa" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{darf.codigoIdentificacao} - #{darf.pessoa.nome}"/>
                            </p:column>
                            <p:column headerText="Autenticação" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darf.numeroAutenticacao}"
                                              rendered="#{darf.numeroAutenticacao ne null}"/>
                                <h:outputText value="Não Autenticado" rendered="#{darf.numeroAutenticacao eq null}"/>
                            </p:column>
                            <p:column headerText="Receita Tributo" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darf.guiaDARF.codigoReceitaTributo}"/>
                            </p:column>
                            <p:column headerText="Identificador" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darf.guiaDARF.codigoIdentificacaoTributo}"/>
                            </p:column>
                            <p:column headerText="Referência" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darf.guiaDARF.numeroReferencia}"/>
                            </p:column>
                            <p:column headerText="Pagamento" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{darf.dataPagamento}">
                                    <f:convertDateTime type="date"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Apuração" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{darf.guiaDARF.periodoApuracao}">
                                    <f:convertDateTime type="date"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Vencimento" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{darf.guiaDARF.dataVencimento}">
                                    <f:convertDateTime type="date"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Valor Principal (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darf.guiaDARF.valorPrincipal}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Multas (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darf.guiaDARF.valorMulta}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Juros (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darf.guiaDARF.valorJuros}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Total (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darf.valorTotalPorGuia}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                                <f:facet name="footer">
                                    <h:outputText value="Total: " styleClass="negrito"/>
                                    <h:outputText
                                        value="#{pagamentoExtraControlador.guiaPagamentoExtra.valorTotalGuiasPagamento}"
                                        styleClass="negrito"
                                        converter="moneyConverter"/>
                                </f:facet>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>

                    <p:outputPanel id="guiaDarfSimples">
                        <p:commandButton value="Novo"
                                         icon="ui-icon-circle-plus"
                                         rendered="#{pagamentoExtraControlador.mostrarPainelGuiaDARFSimples() and pagamentoExtraControlador.guiaPagamentoExtra eq null}"
                                         disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                         actionListener="#{pagamentoExtraControlador.novaGuiaPagamento()}"
                                         update=":Formulario:tabView:guiaDarfSimples"
                                         process="@this"
                                         id="btnNovoGuiaDarfSimples"
                                         onstart="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         styleClass="padrao"
                                         title="Clique para adicionar uma nova guia."/>

                        <h:panelGrid columns="2"
                                     rendered="#{pagamentoExtraControlador.mostrarPainelGuiaDARFSimples() and pagamentoExtraControlador.guiaPagamentoExtra ne null}">
                            <h:outputText value="Situação: "/>
                            <h:outputText
                                value="#{pagamentoExtraControlador.guiaPagamentoExtra.situacaoGuiaPagamento.descricao}"
                                styleClass="negrito"/>

                            <fc:outputLabelObrigatorio value="Pessoa: "/>
                            <h:panelGroup>
                                <p:autoComplete queryDelay="1000" id="pessoaDarfSimples" size="70"
                                                title="Informe a pessoa."
                                                value="#{pagamentoExtraControlador.guiaPagamentoExtra.pessoa}"
                                                completeMethod="#{pagamentoExtraControlador.completarFornecedores}"
                                                converter="#{pessoaContabilControlador.converterGenerico}"
                                                disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                                maxResults="10"
                                                styleClass="mrig05"
                                                var="pessoaGuia"
                                                itemValue="#{pessoaGuia.id}"
                                                itemLabel="#{pessoaGuia.nomeAutoComplete}">
                                    <p:ajax event="itemSelect"
                                            update="compCamposPessoaGuiaDarfSimples tipoIdentificacaoGuiaDarfSimples gridCodigoIdentificacaoDarfSimples"
                                            listener="#{pagamentoExtraControlador.definirNullTipoIdentificacaoGuia()}"
                                            onstart="aguarde.show()"
                                            oncomplete="aguarde.hide()"/>
                                </p:autoComplete>

                                <p:outputPanel id="compCamposPessoaGuiaDarfSimples">
                                    <fc:visualizarCampos objeto="#{pagamentoExtraControlador.guiaPagamentoExtra.pessoa}"
                                    />
                                </p:outputPanel>
                            </h:panelGroup>

                            <fc:outputLabelObrigatorio value="Tipo de Identificação: "/>
                            <h:selectOneRadio id="tipoIdentificacaoGuiaDarfSimples"
                                              value="#{pagamentoExtraControlador.guiaPagamentoExtra.tipoIdentificacaoGuia}">
                                <f:selectItems value="#{pagamentoExtraControlador.tiposIdentificacaoGuia}"/>
                                <p:ajax event="valueChange" update="gridCodigoIdentificacaoDarfSimples"
                                        onstart="aguarde.show()" oncomplete="aguarde.hide()"
                                        listener="#{pagamentoExtraControlador.atribuirCodigoIdentificacao()}"/>
                            </h:selectOneRadio>

                            <fc:outputLabelObrigatorio value="Codigo de Identificação: "/>
                            <h:panelGrid columns="1" id="gridCodigoIdentificacaoDarfSimples">
                                <p:inputText value="#{pagamentoExtraControlador.guiaPagamentoExtra.codigoIdentificacao}"
                                             rendered="#{pagamentoExtraControlador.guiaPagamentoExtra.tipoIdentificacaoGuia eq 'CEI'}"
                                             disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                             title="Informe o código de Identificaçao CEI."
                                             maxlength="14"/>

                                <h:outputText
                                    value="#{pagamentoExtraControlador.guiaPagamentoExtra.codigoIdentificacao}"
                                    rendered="#{pagamentoExtraControlador.guiaPagamentoExtra.tipoIdentificacaoGuia ne 'CEI'}"
                                    styleClass="negrito"/>
                            </h:panelGrid>

                            <fc:outputLabelObrigatorio value="Data de Pagamento: "/>
                            <p:calendar id="dtPagamentoDarfS"
                                        locale="pt_BR"
                                        pattern="dd/MM/yyyy"
                                        title="Informe a data de pagamento."
                                        onkeypress="mascara(this, mdata)"
                                        disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                        value="#{pagamentoExtraControlador.guiaPagamentoExtra.dataPagamento}"/>

                            <fc:outputLabelObrigatorio value="Código da Receita Tributo: "/>
                            <p:inputText
                                value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaDARFSimples.codigoReceitaTributo}"
                                disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                id="codigoReceitaDarfSimples"
                                title="Informe o código da receita do tributo."
                                maxlength="6"/>

                            <fc:outputLabelObrigatorio value="Código Identificador do Tributo: "/>
                            <p:inputText
                                value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaDARFSimples.codigoIdentificacaoTributo}"
                                disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                title="Informe o código identificador do tributo."
                                maxlength="2"/>

                            <fc:outputLabelObrigatorio value="Período de Apuração: "/>
                            <p:calendar locale="pt_BR"
                                        pattern="dd/MM/yyyy"
                                        title="Informe o período de apuração."
                                        onkeypress="mascara(this, mdata)"
                                        disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                        value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaDARFSimples.periodoApuracao}"/>


                            <fc:outputLabelObrigatorio value="Valor da Receita Bruta: "/>
                            <p:inputText title="Informe o valor da receita bruta."
                                         disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                         value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaDARFSimples.valorReceitaBruta}"
                                         onkeydown="mascaraMonetaria(this)"
                                         styleClass="alinhamentoDireita"
                                         converter="moneyConverter"/>

                            <fc:outputLabelObrigatorio value="Percentual da Receita Bruta: "/>
                            <p:inputText title="Informe o percentual da receita bruta."
                                         converter="percentualConverter"
                                         styleClass="alinhamentoDireita"
                                         disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                         value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaDARFSimples.percentualReceitaBruta}"/>

                            <fc:outputLabelObrigatorio value="Valor Principal: "/>
                            <p:inputText title="Informe o valor principal."
                                         value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaDARFSimples.valorPrincipal}"
                                         id="valorPrincipal"
                                         onkeydown="mascaraMonetaria(this)"
                                         styleClass="alinhamentoDireita"
                                         converter="moneyConverter"
                                         disabled="#{pagamentoExtraControlador.habilitarCampos}">
                                <p:ajax update=":Formulario:tabView:totalGuiaDarfSimples"
                                        event="blur"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        process="@this"/>
                            </p:inputText>

                            <fc:outputLabelObrigatorio value="Valor de Multa: "/>
                            <p:inputText title="Informe o valor de multa"
                                         value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaDARFSimples.valorMulta}"
                                         onkeydown="mascaraMonetaria(this)"
                                         styleClass="alinhamentoDireita"
                                         id="valorMultaDarfS"
                                         converter="moneyConverter"
                                         disabled="#{pagamentoExtraControlador.habilitarCampos}">
                                <p:ajax update=":Formulario:tabView:totalGuiaDarfSimples"
                                        event="blur"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        process="@this"/>
                            </p:inputText>

                            <fc:outputLabelObrigatorio value="Valor de Juros: "/>
                            <p:inputText title="Informe o valor de juros."
                                         value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaDARFSimples.valorJuros}"
                                         onkeydown="mascaraMonetaria(this)"
                                         styleClass="alinhamentoDireita"
                                         converter="moneyConverter"
                                         disabled="#{pagamentoExtraControlador.habilitarCampos}">
                                <p:ajax update=":Formulario:tabView:totalGuiaDarfSimples"
                                        event="blur"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        process="@this"/>
                            </p:inputText>

                            <h:outputText value="Valor Total da Guia: "/>
                            <p:outputPanel id="totalGuiaDarfSimples">
                                <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoExtra.valorTotalPorGuia}"
                                              styleClass="negrito">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:outputPanel>
                        </h:panelGrid>

                        <p:commandButton disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                         rendered="#{pagamentoExtraControlador.mostrarPainelGuiaDARFSimples() and pagamentoExtraControlador.guiaPagamentoExtra ne null}"
                                         title="Clique para adicionar uma guia de DARF na lista."
                                         value="Adicionar"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         actionListener="#{pagamentoExtraControlador.adicionarGuiaDARFSimples}"
                                         update=":Formulario:tabView:guiaDarfSimples :Formulario:tabView:panelInformacoes2 :Formulario:tabView:valoresPagamento"
                                         icon="ui-icon-circle-plus"
                                         styleClass="mtop10 padrao"/>

                        <p:commandButton
                            rendered="#{pagamentoExtraControlador.mostrarPainelGuiaDARFSimples() and pagamentoExtraControlador.guiaPagamentoExtra ne null}"
                            title="Clique para cancelar."
                            value="Cancelar"
                            onclick="aguarde.show()"
                            oncomplete="aguarde.hide()"
                            actionListener="#{pagamentoExtraControlador.cancelarGuiaPagamento()}"
                            update=":Formulario:tabView:guiaDarfSimples"
                            icon="ui-icon-cancel"
                            styleClass="mtop10 mlef05 padrao"/>

                        <p:dataTable id="tableDARFSimples"
                                     value="#{pagamentoExtraControlador.selecionado.guiaPagamentoExtras}"
                                     rendered="#{pagamentoExtraControlador.mostrarPainelGuiaDARFSimples()}"
                                     var="darfSimples"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop03"
                                     paginator="true"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>GUIAS DE DARF SIMPLES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100">
                            <p:column headerText="Ações" style="text-align: center; width: 10%">
                                <p:commandButton id="btEditarDarfSimples"
                                                 icon="ui-icon-pencil"
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="@this :Formulario:tabView:panelInformacoes2"
                                                 styleClass="mrig05"
                                                 title="Clique para editar este registro."
                                                 disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                                 actionListener="#{pagamentoExtraControlador.editarGuiaPagamento(darfSimples)}"
                                                 update=":Formulario:tabView:guiaDarfSimples :Formulario:tabView:valoresPagamento :Formulario:tabView:panelInformacoes2"/>

                                <p:commandButton icon="ui-icon-trash"
                                                 title="Clique para remover este registro."
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="@this"
                                                 disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                                 actionListener="#{pagamentoExtraControlador.removerGuiaPagamento(darfSimples)}"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 update=":Formulario:tabView:guiaDarfSimples :Formulario:tabView:tipoDoc :Formulario:tabView:valoresPagamento"/>

                                <p:commandButton id="btImprimirDARFSimples"
                                                 icon="ui-icon-print"
                                                 onstart="aguarde.show()"
                                                 styleClass="mlef05"
                                                 oncomplete="aguarde.hide();dialogImprimirGuia.show()"
                                                 actionListener="#{pagamentoExtraControlador.prepararGuiaParaImprimir(darfSimples)}"
                                                 rendered="#{pagamentoExtraControlador.podeImprimirGuia(darfSimples)}"
                                                 update=":formDialogGuia"/>
                            </p:column>
                            <p:column headerText="Situação" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{darfSimples.situacaoGuiaPagamento.descricao}"/>
                            </p:column>
                            <p:column headerText="Pessoa" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{darfSimples.codigoIdentificacao} - #{darfSimples.pessoa.nome}"/>
                            </p:column>
                            <p:column headerText="Autenticação" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darfSimples.numeroAutenticacao}"
                                              rendered="#{darfSimples.numeroAutenticacao ne null}"/>
                                <h:outputText value="Não Autenticado"
                                              rendered="#{darfSimples.numeroAutenticacao eq null}"/>
                            </p:column>
                            <p:column headerText="Receita Tributo" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darfSimples.guiaDARFSimples.codigoReceitaTributo}"/>
                            </p:column>
                            <p:column headerText="Identificador" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darfSimples.guiaDARFSimples.codigoIdentificacaoTributo}"/>
                            </p:column>
                            <p:column headerText="Pagamento" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{darfSimples.dataPagamento}">
                                    <f:convertDateTime type="date"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Apuração" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{darfSimples.guiaDARFSimples.periodoApuracao}">
                                    <f:convertDateTime type="date"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Receita Bruta (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darfSimples.guiaDARFSimples.valorReceitaBruta}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Percentual (%)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darfSimples.guiaDARFSimples.percentualReceitaBruta}"
                                              converter="percentualConverter"/>
                            </p:column>
                            <p:column headerText="Valor Principal (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darfSimples.guiaDARFSimples.valorPrincipal}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Multas (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darfSimples.guiaDARFSimples.valorMulta}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Juros (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darfSimples.guiaDARFSimples.valorJuros}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Total (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{darfSimples.valorTotalPorGuia}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                                <f:facet name="footer">
                                    <h:outputText value="Total: " styleClass="negrito"/>
                                    <h:outputText
                                        value="#{pagamentoExtraControlador.guiaPagamentoExtra.valorTotalGuiasPagamento}"
                                        styleClass="negrito"
                                        converter="moneyConverter"/>
                                </f:facet>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>

                    <p:outputPanel id="guiaGRU">
                        <p:commandButton value="Novo"
                                         icon="ui-icon-circle-plus"
                                         rendered="#{pagamentoExtraControlador.mostrarPainelGuiaGRU() and pagamentoExtraControlador.guiaPagamentoExtra eq null}"
                                         disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                         actionListener="#{pagamentoExtraControlador.novaGuiaPagamento()}"
                                         update=":Formulario:tabView:guiaGRU"
                                         process="@this"
                                         id="btnNovoGuiaGRU"
                                         onstart="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         styleClass="padrao"
                                         title="Clique para adicionar uma nova guia."/>

                        <h:panelGrid columns="2"
                                     rendered="#{pagamentoExtraControlador.mostrarPainelGuiaGRU() and pagamentoExtraControlador.guiaPagamentoExtra ne null}">

                            <h:outputText value="Situação: "/>
                            <h:outputText
                                value="#{pagamentoExtraControlador.guiaPagamentoExtra.situacaoGuiaPagamento.descricao}"
                                styleClass="negrito"/>

                            <fc:outputLabelObrigatorio value="Código de Barra: "/>
                            <h:panelGroup>
                                <p:inputMask
                                    value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaGRU.codigoBarra}"
                                    disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                    size="60"
                                    mask="99999999999.9 99999999999.9 99999999999.9 99999999999.9"
                                    maxlength="55"
                                    title="Digite somente números."
                                    id="codigoBarraGRU">
                                    <p:watermark value="Digite somente números." for="codigoBarraGRU"/>
                                    <p:ajax update="valorPrincipalGRU"
                                            event="blur"
                                            process="@this"
                                            onstart="aguarde.show()"
                                            oncomplete="aguarde.hide()"
                                            listener="#{pagamentoExtraControlador.getValorGuiaGRU()}"/>
                                </p:inputMask>
                            </h:panelGroup>

                            <fc:outputLabelObrigatorio value="Código de Reconhecimento: "/>
                            <p:inputText
                                value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaGRU.codigoRecolhimento}"
                                disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                id="codReconhecimentoGRU"
                                title="Informe o código de reconhecimento."
                                maxlength="7"/>

                            <fc:outputLabelObrigatorio value="Número de Referência: "/>
                            <p:inputText
                                value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaGRU.numeroReferencia}"
                                disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                id="numReferenciaGRU"
                                title="Informe o número de referência."
                                maxlength="20"/>

                            <fc:outputLabelObrigatorio value="Competência: "/>
                            <p:calendar id="dtPagamentoGRU"
                                        locale="pt_BR"
                                        pattern="MM/yyyy"
                                        title="Informe a competencia."
                                        onkeypress="mascara(this, mdataMesAno)"
                                        disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                        value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaGRU.competencia}"/>

                            <fc:outputLabelObrigatorio value="Vencimento: "/>
                            <p:calendar locale="pt_BR"
                                        pattern="dd/MM/yyyy"
                                        title="Informe o vencimento."
                                        onkeypress="mascara(this, mdata)"
                                        disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                        value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaGRU.vencimento}"/>

                            <fc:outputLabelObrigatorio value="Pessoa: "/>
                            <h:panelGroup>
                                <p:autoComplete queryDelay="1000" id="pessoaGRU" size="70"
                                                title="Informe a pessoa."
                                                value="#{pagamentoExtraControlador.guiaPagamentoExtra.pessoa}"
                                                completeMethod="#{pagamentoExtraControlador.completarFornecedores}"
                                                converter="#{pessoaContabilControlador.converterGenerico}"
                                                disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                                maxResults="10"
                                                styleClass="mrig05"
                                                var="pessoaGuia"
                                                itemValue="#{pessoaGuia.id}"
                                                itemLabel="#{pessoaGuia.nomeAutoComplete}">
                                    <p:ajax event="itemSelect"
                                            update="compCamposPessoaGuiaGRU"
                                            listener="#{pagamentoExtraControlador.definirNullTipoIdentificacaoGuia()}"
                                            onstart="aguarde.show()"
                                            oncomplete="aguarde.hide()"/>
                                </p:autoComplete>

                                <p:outputPanel id="compCamposPessoaGuiaGRU">
                                    <fc:visualizarCampos
                                        objeto="#{pagamentoExtraControlador.guiaPagamentoExtra.pessoa}"/>
                                </p:outputPanel>
                            </h:panelGroup>

                            <fc:outputLabelObrigatorio value="UG/Gestão: "/>
                            <p:inputText
                                value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaGRU.ugGestao}"
                                disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                title="Informe a UG/Gestão."
                                maxlength="12"/>

                            <fc:outputLabelObrigatorio value="Valor Principal: "/>
                            <p:inputText title="Informe o valor principal."
                                         value="#{pagamentoExtraControlador.guiaPagamentoExtra.guiaGRU.valorPrincipal}"
                                         id="valorPrincipalGRU"
                                         onkeydown="mascaraMonetaria(this)"
                                         styleClass="alinhamentoDireita"
                                         converter="moneyConverter"
                                         disabled="#{pagamentoExtraControlador.habilitarCampos}">
                                <p:ajax update=":Formulario:tabView:totalGuiaGRU"
                                        event="blur"
                                        onstart="aguarde.show()"
                                        oncomplete="aguarde.hide()"
                                        process="@this"/>
                            </p:inputText>

                            <h:outputText value="Valor Total da Guia: "/>
                            <p:outputPanel id="totalGuiaGRU">
                                <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoExtra.valorTotalPorGuia}"
                                              styleClass="negrito">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                            </p:outputPanel>

                        </h:panelGrid>

                        <p:commandButton disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                         rendered="#{pagamentoExtraControlador.mostrarPainelGuiaGRU() and pagamentoExtraControlador.guiaPagamentoExtra ne null}"
                                         title="Clique para adicionar uma guia GRU na lista."
                                         value="Adicionar"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         actionListener="#{pagamentoExtraControlador.adicionarGuiaGRU}"
                                         update=":Formulario:tabView:guiaGRU :Formulario:tabView:panelInformacoes2 :Formulario:tabView:valoresPagamento"
                                         icon="ui-icon-circle-plus"
                                         styleClass="mtop10 padrao"/>

                        <p:commandButton
                            rendered="#{pagamentoExtraControlador.mostrarPainelGuiaGRU() and pagamentoExtraControlador.guiaPagamentoExtra ne null}"
                            title="Clique para cancelar."
                            value="Cancelar"
                            onclick="aguarde.show()"
                            oncomplete="aguarde.hide()"
                            actionListener="#{pagamentoExtraControlador.cancelarGuiaPagamento()}"
                            update=":Formulario:tabView:guiaGRU"
                            icon="ui-icon-cancel"
                            styleClass="mtop10 mlef05 padrao"/>

                        <p:dataTable id="tableGRU"
                                     value="#{pagamentoExtraControlador.selecionado.guiaPagamentoExtras}"
                                     rendered="#{pagamentoExtraControlador.mostrarPainelGuiaGRU()}"
                                     var="guia"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop03"
                                     paginator="true"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>GUIAS GRU&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100">
                            <p:column headerText="Ações" style="text-align: center; width: 10%">
                                <p:commandButton id="btEditarGRU"
                                                 icon="ui-icon-pencil"
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="@this :Formulario:tabView:panelInformacoes2"
                                                 styleClass="mrig05"
                                                 title="Clique para editar este registro."
                                                 disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                                 actionListener="#{pagamentoExtraControlador.editarGuiaPagamento(guia)}"
                                                 update=":Formulario:tabView:guiaGRU :Formulario:tabView:panelInformacoes2 :Formulario:tabView:valoresPagamento"/>

                                <p:commandButton icon="ui-icon-trash"
                                                 title="Clique para remover este registro."
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 styleClass="mrig05"
                                                 process="@this"
                                                 disabled="#{pagamentoExtraControlador.habilitarCampos}"
                                                 actionListener="#{pagamentoExtraControlador.removerGuiaPagamento(guia)}"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 update=":Formulario:tabView:guiaGRU :Formulario:tabView:tipoDoc :Formulario:tabView:valoresPagamento"/>

                                <p:commandButton id="btImprimirGRU"
                                                 icon="ui-icon-print"
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide();dialogImprimirGuia.show()"
                                                 actionListener="#{pagamentoExtraControlador.prepararGuiaParaImprimir(guia)}"
                                                 rendered="#{pagamentoExtraControlador.podeImprimirGuia(guia)}"
                                                 update=":formDialogGuia"/>
                            </p:column>
                            <p:column headerText="Situação" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{guia.situacaoGuiaPagamento.descricao}"/>
                            </p:column>
                            <p:column headerText="Autenticação" styleClass="alinhamentoDireita">
                                <h:outputText value="#{guia.numeroAutenticacao}"
                                              rendered="#{guia.numeroAutenticacao ne null}"/>
                                <h:outputText value="Não Autenticado"
                                              rendered="#{guia.numeroAutenticacao eq null}"/>
                            </p:column>
                            <p:column headerText="Código de Barras" styleClass="alinhamentoDireita">
                                <h:outputText value="#{guia.guiaGRU.codigoBarra}"/>
                            </p:column>
                            <p:column headerText="Código de Reconhecimento" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{guia.guiaGRU.codigoRecolhimento}"/>
                            </p:column>
                            <p:column headerText="Número de Referência" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{guia.guiaGRU.numeroReferencia}"/>
                            </p:column>
                            <p:column headerText="Competência" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{guia.guiaGRU.competencia}">
                                    <f:convertDateTime pattern="MM/yyyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Vencimento" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{guia.guiaGRU.vencimento}">
                                    <f:convertDateTime type="date"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Pessoa" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{guia.pessoa.cpf_Cnpj} - #{guia.pessoa.nome}"/>
                            </p:column>
                            <p:column headerText="UG/Gestão" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{guia.guiaGRU.ugGestao}"/>
                            </p:column>
                            <p:column headerText="Valor Principal (R$)" styleClass="alinhamentoDireita">
                                <h:outputText value="#{guia.guiaGRU.valorPrincipal}">
                                    <f:convertNumber type="currency"/>
                                </h:outputText>
                                <f:facet name="footer">
                                    <h:outputText value="Total: " styleClass="negrito"/>
                                    <h:outputText
                                        value="#{pagamentoExtraControlador.selecionado.valorTotalGuiasPagamento}"
                                        styleClass="negrito"
                                        converter="moneyConverter"/>
                                </f:facet>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>

                    <p:outputPanel id="valoresPagamento">
                        <h:panelGrid columns="15" styleClass="mtop05 mtop05"
                                     rendered="#{pagamentoExtraControlador.renderizarGuias()}">
                            <h:outputText value="Valor do Pagamento: "/>
                            <h:outputText value="#{pagamentoExtraControlador.selecionado.valor}"
                                          converter="moneyConverter"
                                          styleClass="negrito mrig05"/>
                            <h:outputText value="|" styleClass="verdenegrito mrig05"/>

                            <h:outputText value="Valor Total das Guias: "/>
                            <h:outputText
                                value="#{pagamentoExtraControlador.guiaPagamentoExtra.valorTotalGuiasPagamento}"
                                styleClass="negrito mrig05"
                                converter="moneyConverter"/>
                            <h:outputText value="|" styleClass="verdenegrito mrig05"/>

                            <h:outputText value="Diferença: "/>
                            <h:outputText
                                value="#{pagamentoExtraControlador.guiaPagamentoExtra.calcularDiferencaPagamentoComGuia}"
                                converter="moneyConverter"
                                styleClass="#{pagamentoExtraControlador.guiaPagamentoExtra.possuiDiferencaValorPagamentoComGuia() ? 'alinhamentoCentralizado vermelhonegrito' : 'alinhamentoCentralizado verdenegrito'}"/>
                        </h:panelGrid>
                        <hr class="mtop05"/>
                    </p:outputPanel>

                </p:tab>

            </p:tabView>

            <h:panelGrid columns="7" cellpadding="0" cellspacing="0">
                <fc:rodapePretty controlador="#{pagamentoExtraControlador}"/>

                <fc:botaoTargetBlank label="Imprimir Nota"
                                     actionListener="#{pagamentoExtraControlador.gerarNotaOrcamentaria(false)}"
                                     rendered="#{!pagamentoExtraControlador.isAberto()}"
                                     imprimeNoDialog="true" update="@this"
                                     styleClass="mtop10 mlef05"
                                     style="height: 30px"
                                     icon="ui-icon-print"
                                     title="Clique para gerar a nota de despesa extraorçamentária."/>

                <p:commandButton value="Download Nota"
                                 title="Clique para fazer o download da nota de despesa extraorçamentária."
                                 ajax="false"
                                 icon="ui-icon-arrowthick-1-s"
                                 rendered="#{!pagamentoExtraControlador.isAberto()}"
                                 styleClass="mtop10 mrig05">
                    <p:fileDownload value="#{pagamentoExtraControlador.gerarNotaOrcamentaria(true)}"/>
                </p:commandButton>

                <p:commandButton title="Clique para deferir a despesa extraorçamentária."
                                 id="pagar"
                                 value="Deferir"
                                 onclick="atualizarPagamento.show()"
                                 styleClass="mtop10 mlef05"
                                 icon="ui-icon-deferir"
                                 style="height: 30px;"
                                 update=":formDeferir"
                                 actionListener="#{pagamentoExtraControlador.prepararDespesaParaDeferir()}"
                                 rendered="#{pagamentoExtraControlador.mostrarBotaoDeferir()}"/>

                <p:commandButton title="Clique para indeferir esta despesa extraorçamentária"
                                 id="indeferir"
                                 value="Indeferir"
                                 oncomplete="aguarde.hide()"
                                 icon="ui-icon-deferir"
                                 styleClass="mtop10 mlef03"
                                 actionListener="#{pagamentoExtraControlador.indeferirPagamento}"
                                 rendered="#{pagamentoExtraControlador.podeIndeferirPagamento()}"
                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                 style="height: 30px;"
                />

                <co:rodape-conciliar controlador="#{pagamentoExtraControlador}"
                                     mostrarBtBaixar="#{pagamentoExtraControlador.mostrarBotaoBaixar()}"
                                     mostrarBtEstornoBaixa="#{pagamentoExtraControlador.mostrarBotaoEstornarBaixar()}"/>
            </h:panelGrid>
        </h:form>

        <p:dialog widgetVar="dialogImprimirNota"
                  modal="true"
                  closable="false"
                  resizable="false"
                  dynamic="true"
                  showHeader="false"
                  position="center"
                  style="position: fixed !important;">
            <h:form id="formImprimirNotaEmpenho">
                <center>
                    <p:panel id="panelImprimirNota" header="Nota de Despesa Extra" styleClass="mtop05 mbot05">
                        <h:panelGrid columns="2">
                            <h:outputText value="Deseja Imprimir a Nota da Despesa Extra?"/>

                            <br/><br/><br/>
                            <h:panelGrid columns="4">
                                <fc:botaoTargetBlank label="Imprimir Nota"
                                                     actionListener="#{pagamentoExtraControlador.gerarNotaOrcamentaria(false)}"
                                                     imprimeNoDialog="true" update="@this"
                                                     styleClass="mlef05"
                                                     style="margin-top: -5px;height: 30px"
                                                     icon="ui-icon-print"
                                                     title="Clique para imprimir a nota de despesa extraorçamentária."/>

                                <p:commandButton value="NÃO"
                                                 onstart="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 title="Clique cancelar a impressão da nota de despesa extraorçamentária."
                                                 icon="ui-icon-cancel"
                                                 styleClass="padrao"
                                                 process="@this"
                                                 actionListener="#{pagamentoExtraControlador.redireciona()}"/>

                            </h:panelGrid>
                        </h:panelGrid>
                    </p:panel>
                </center>
            </h:form>
        </p:dialog>


        <p:dialog widgetVar="dialogDeferir"
                  modal="true"
                  closable="false"
                  resizable="false"
                  position="center"
                  showHeader="false"
                  onShow="atualizarPagamento.hide()"
                  dynamic="true"
                  style="position: fixed !important;">
            <h:form id="formDeferir">
                <center>
                    <p:panel id="panelDeferir" header="Deferir Despesa Extraorçamentária" styleClass="mtop05 mbot05">
                        <br/>
                        <h:outputText value="Deseja Deferir(Pagar) a Despesa Extraorçamentária?"/>

                        <br/><br/>
                        <h:panelGrid columns="2">
                            <h:outputText value="Data do Pagamento: "/>
                            <p:calendar id="dtPagamento"
                                        locale="pt_BR"
                                        pattern="dd/MM/yyyy"
                                        disabled="true"
                                        navigator="true"
                                        size="12"
                                        title="Informe a data do Pagamento"
                                        onkeypress="mascara(this, mdata)"
                                        value="#{pagamentoExtraControlador.selecionado.dataPagto}"/>
                        </h:panelGrid>

                        <h:panelGrid columns="4" styleClass="mtop20 mtop10">
                            <p:commandButton id="botaoSimEfetiva"
                                             value="SIM"
                                             styleClass="padrao"
                                             onstart="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             title="Clique para deferir a despesa extraçamentária."
                                             action="#{pagamentoExtraControlador.deferirPagamentoExtra()}"
                                             icon="ui-icon-check"/>

                            <p:commandButton id="botaoNaoEfetiva"
                                             value="NÃO"
                                             onstart="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             styleClass="padrao left05"
                                             title="Clique para cancelar o deferimento da despesa extraorçamentária."
                                             icon="ui-icon-cancel"
                                             actionListener="#{pagamentoExtraControlador.cancelaEfetivarPgto()}"/>
                        </h:panelGrid>
                    </p:panel>
                </center>
            </h:form>
        </p:dialog>


        <p:dialog widgetVar="dialogMsgBloqueio"
                  modal="true"
                  closable="false"
                  resizable="false"
                  position="center"
                  showHeader="false"
                  dynamic="true"
                  style="position: fixed !important;">
            <h:form id="formMsgBloqueio">
                <center>
                    <p:panel id="panelMgsBloqueio" styleClass="mtop05 mbot05">
                        <div class="alert alert-error">
                            <h:outputText
                                value="A Despesa Extra:  #{pagamentoExtraControlador.selecionado} está sendo deferida por outro usuário. Caso o problema persistir, selecione novamente a despesa."/>
                        </div>
                        <h:panelGrid columns="2">
                            <p:commandButton id="btMsgBloqueio"
                                             value="Confirmar"
                                             onstart="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             styleClass="padrao mtop10"
                                             title="Clique para redirecionar para lista."
                                             icon="ui-icon-check"
                                             actionListener="#{pagamentoExtraControlador.cancelaEfetivarPgto()}"/>
                        </h:panelGrid>
                    </p:panel>
                </center>
            </h:form>
        </p:dialog>

        <p:dialog widgetVar="dialog"
                  id="dialogReceitaExtra"
                  modal="true"
                  resizable="false"
                  showHeader="false"
                  closable="false"
                  dynamic="true"
                  style="position: fixed !important;"
                  position="center">
            <h:form id="Formulario_dialog">
                <p:panel id="panelDialogReceita" styleClass="mtop05">
                    <h:panelGrid columns="2">
                        <h:outputText value="Data Inicial: "/>
                        <p:calendar id="dataInicialFiltro"
                                    pattern="dd/MM/yyyy"
                                    title="Informe a data inicial."
                                    onkeyup="mascara(this, mdata)" size="11"
                                    autocomplete="false"  navigator="true"
                                    value="#{pagamentoExtraControlador.dataInicialFiltroReceita}">
                            <p:ajax event="dateSelect" process="@this"/>
                            <p:ajax event="valueChange" process="@this"/>
                        </p:calendar>

                        <h:outputText value="Data Final: "/>
                        <p:calendar id="dataFinalFiltro"
                                    pattern="dd/MM/yyyy"
                                    title="Informe a data final."
                                    onkeyup="mascara(this, mdata)" size="11"
                                    autocomplete="false"  navigator="true"
                                    value="#{pagamentoExtraControlador.dataFinalFiltroReceita}">
                            <p:ajax event="dateSelect" process="@this"/>
                            <p:ajax event="valueChange" process="@this"/>
                        </p:calendar>
                    </h:panelGrid>
                    <p:commandButton value="Buscar"
                                     id="pesquisar"
                                     icon="ui-icon-search"
                                     onclick="aguarde.show()"
                                     oncomplete="aguarde.hide()"
                                     process="@this"
                                     update=":Formulario_dialog:rec"
                                     title="Clique para pesquisar"
                                     style="height: 30px"
                                     styleClass="prioritario mrig05 pesquisar"
                                     actionListener="#{pagamentoExtraControlador.carregarReceitasExtras()}"/>

                    <p:commandButton value="Limpar Filtros"
                                     icon="ui-icon-document"
                                     onclick="aguarde.show()"
                                     oncomplete="aguarde.hide();"
                                     process="@this"
                                     update=":Formulario_dialog:dataInicialFiltro :Formulario_dialog:dataFinalFiltro"
                                     style="height: 30px"
                                     styleClass="botao_cinza mrig05"
                                     actionListener="#{pagamentoExtraControlador.limparDatasFiltros()}"/>

                    <p:dataTable id="rec"
                                 value="#{pagamentoExtraControlador.listaReceitaExtras}"
                                 selection="#{pagamentoExtraControlador.listaRecSelecionadas}"
                                 rowKey="#{rec.id}"
                                 var="rec"
                                 rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                 paginator="true"
                                 style="max-height: 400px; overflow-y: scroll; border : solid #92B8D3 1px; margin-top: 10px;"
                                 rows="10"
                                 paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>RECEITAS EXTRAORÇAMENTÁRIAS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                 emptyMessage="Não foram localizados registros para serem apresentados."
                                 rowIndexVar="rowlx">

                        <p:column selectionMode="multiple" style="width: 5%; text-align: center;"/>
                        <p:column headerText="Receita"
                                  filterBy="#{rec.numero}"
                                  filterMatchMode="contains"
                                  styleClass="alinhamentoCentralizado">
                            <h:outputText value="#{rec.numero}"/>
                        </p:column>
                        <p:column headerText="Pagamento"
                                  filterBy="#{rec.retencaoPgto.pagamento.numeroPagamento}"
                                  filterMatchMode="contains"
                                  styleClass="alinhamentoCentralizado">
                            <h:outputText value="#{rec.retencaoPgto.pagamento.numeroPagamento}"/>
                        </p:column>
                        <p:column headerText="Data"
                                  filterBy="#{rec.dataReceita}"
                                  styleClass="alinhamentoCentralizado"
                                  filterMatchMode="contains">
                            <h:outputText value="#{rec.dataReceita}">
                                <f:convertDateTime parent="dd/MM/yyyy"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Conta Extraorçamentária"
                                  styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{rec.contaExtraorcamentaria}"/>
                        </p:column>
                        <p:column headerText="Conta Financeira"
                                  styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{rec.subConta.toStringAutoCompleteContaFinanceira()}"/>
                        </p:column>
                        <p:column headerText="Fonte de Recurso"
                                  styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{rec.fonteDeRecursos}"/>
                        </p:column>
                        <p:column headerText="Valor (R$)"
                                  styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{rec.valor}">
                                <f:convertNumber type="currency"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Saldo (R$)"
                                  styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{rec.saldo}">
                                <f:convertNumber type="currency"/>
                            </h:outputText>
                        </p:column>
                    </p:dataTable>

                    <br/>
                    <p:commandButton value="Confirmar"
                                     update=":Formulario:tabView:valor :Formulario:tabView:tableRecExtra :Formulario:tabView:tabGuias
                                     :Formulario:tabView:tabConvenio :Formulario:tabView:guiaDarfSimples :Formulario:tabView:valoresPagamento
                                     :Formulario:tabView:guiaGPS :Formulario:tabView:guiaDarf
                                     :Formulario:tabView"
                                     process=":Formulario:tabView:complementoHistorico :Formulario_dialog"
                                     styleClass="padrao"
                                     onstart="aguarde.show()"
                                     oncomplete="dialog.hide();aguarde.hide()"
                                     title="Clique para confirmar a(s) receita(s) extraorçamentária(s) selecionada(s)."
                                     icon="ui-icon-check"
                                     actionListener="#{pagamentoExtraControlador.adicionarReceitasExtras}"/>

                    <p:commandButton value="Fechar"
                                     icon="ui-icon-circle-close"
                                     title="Clique para fecha a janela."
                                     process="@this"
                                     onstart="aguarde.show()"
                                     oncomplete="aguarde.hide()"
                                     onclick="dialog.hide()"
                                     styleClass="padrao mlef05"/>

                </p:panel>
            </h:form>
        </p:dialog>

        <p:dialog widgetVar="dialogContas"
                  modal="true"
                  dynamic="true"
                  position="center"
                  resizable="false"
                  style="position: fixed !important;">

            <h:form id="Formulario-dialogContas">
                <p:outputPanel id="panelDialogContas">
                    <h:panelGrid columns="2">
                        <h:outputText
                            value="Conta(s) Bancária(s) da Pessoa da Despesa Extra: #{pagamentoExtraControlador.selecionado.fornecedor}"
                            styleClass="azulnegrito"
                            style="font-size: 14px; font-style: italic;"/>
                    </h:panelGrid>
                    <p:separator styleClass="mrig05 mlef05 mtop10"/>

                    <p:dataTable id="tableContas"
                                 rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                 paginator="true"
                                 rows="8"
                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                 rowIndexVar="rowlx"
                                 value="#{pagamentoExtraControlador.contaBancariaPessoaDespesaExtra()}"
                                 var="con"
                                 emptyMessage="Não foram localizados registros para serem apresentados.">
                        <p:column headerText="Selecionar" styleClass="alinhamentoCentralizado">
                            <p:commandButton icon="ui-icon-check"
                                             styleClass="botao-transparente"
                                             disabled="#{con.contaCorrenteBancaria.id eq pagamentoExtraControlador.selecionado.contaCorrenteBancaria.id}"
                                             actionListener="#{pagamentoExtraControlador.selecionarContaBancaria(con)}"
                                             title="Clique para Selecionar a Conta Bancária."
                                             onstart="aguarde.show()"
                                             oncomplete="dialogContas.hide();aguarde.hide()"
                                             process="@this"
                                             update=":Formulario:tabView:panelInformacoes2 :Formulario:tabView:tipoOperacao"/>
                        </p:column>
                        <p:column headerText="Número da Conta"
                                  filterBy="#{con.contaCorrenteBancaria.numeroConta}"
                                  filterMatchMode="contains"
                                  styleClass="alinhamentoEsquerda">
                            <h:outputText
                                value="#{con.contaCorrenteBancaria.numeroConta} - #{con.contaCorrenteBancaria.digitoVerificador}"/>
                        </p:column>
                        <p:column headerText="Agência"
                                  filterBy="#{con.contaCorrenteBancaria.agencia}"
                                  filterMatchMode="contains"
                                  styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{con.contaCorrenteBancaria.agencia}"/>
                        </p:column>
                        <p:column headerText="Banco"
                                  filterBy="#{con.contaCorrenteBancaria.agencia.banco}"
                                  filterMatchMode="contains"
                                  styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{con.contaCorrenteBancaria.agencia.banco}"/>
                        </p:column>
                        <p:column headerText="Situação" styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{con.contaCorrenteBancaria.situacao.descricao}"/>
                        </p:column>
                        <p:column headerText="Modalidade" styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{con.contaCorrenteBancaria.modalidadeConta.descricao}"/>
                        </p:column>
                    </p:dataTable>
                </p:outputPanel>
            </h:form>
        </p:dialog>

        <p:dialog widgetVar="dialogFinalidade"
                  modal="true"
                  closable="true"
                  resizable="true"
                  dynamic="true"
                  width="900"
                  height="500"
                  position="center"
                  style="position: fixed !important;"
        >
            <h:form id="Formulario-dialogFinalidade">
                <p:panel>
                    <fc:pesquisaGenerico
                        selecionar="#{pagamentoExtraControlador.setarFinalidade}"
                        updateSelecionarTabela=":Formulario"
                        id="componentePesquisaFinalidade"
                        nomeDaClasse="FinalidadePagamento"
                        guardarNaSessao="false"
                        actionSelecionar="#{pagamentoExtraControlador.actionSelecionar()}"
                        novo="#{pessoaTributarioControlador.novaPessoaFisica()}"
                        caminhoAtual="listatributario"
                        caminhoControlador="#{pessoaTributarioControlador.caminho}"
                        mostrarBotaoNovo="false"
                        mostrarBotaoImprimirRelatorioTabela="false"
                        mostrarHistorico="false"
                        pesquisaNoEnter="false"
                        iconmSelecionar="check-icon.png"
                        mostrarBotaoImprimirRelatorioUnicoRegistro="false"
                        pretty="true"
                        dialog="true"
                        mostrarBotaoEditarConfiguracaoRelatorio="false"/>
                </p:panel>
            </h:form>
        </p:dialog>
        <p:dialog widgetVar="dialogImprimirGuia"
                  modal="true"
                  closable="false"
                  resizable="false"
                  height="550"
                  width="420"
                  header="#{pagamentoExtraControlador.headerDialogGuia()}"
                  dynamic="true"
                  position="center"
                  style="position: fixed !important;">
            <h:form id="formDialogGuia">
                <p:panel styleClass="mtop05 mbot05">
                    <div align="center">
                        <img src="#{pagamentoExtraControlador.guiaPagamentoItem.imagem}"
                             title="Imagem"/>
                    </div>
                    <div class="alert-success mtop05 " align="left" style="font-size: 13px">
                        <h:outputText value="Pagamento Realizado"/>
                    </div>
                    <h:panelGrid columns="1" styleClass="mtop05">
                        <h:outputText value="Valor do Pagamento"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.valorPago}"
                                      styleClass="negrito">
                            <f:convertNumber type="currency"/>
                        </h:outputText>
                        <br/>
                        <h:outputText value="de"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.pessoaPagamento}"
                                      styleClass="negrito"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.banco}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoExtraControlador.renderizarGpsDarfDarfSimples()}"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.agencia}"
                                      styleClass="negrito"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.contaCorrente}"
                                      styleClass="negrito"/>
                        <br/>
                        <h:outputText value="para"/>
                        <h:outputText value="Código de Barras"
                                      rendered="#{pagamentoExtraControlador.renderizarGuiaComCodigoBarras()}"/>
                        <h:outputText value="Pessoa"
                                      rendered="#{!pagamentoExtraControlador.renderizarGuiaComCodigoBarras()}"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.codigoBarrasOrPessoa}"
                                      styleClass="negrito"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.tipoCodigoIdentificador}: "
                                      rendered="#{!pagamentoExtraControlador.renderizarGuiaComCodigoBarras() and !pagamentoExtraControlador.mostrarPainelGuiaGRU()}"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.codigoIndentificador}"
                                      rendered="#{!pagamentoExtraControlador.renderizarGuiaComCodigoBarras() and !pagamentoExtraControlador.mostrarPainelGuiaGRU()}"
                                      styleClass="negrito"/>
                        <h:outputText value="Situação"
                                      rendered="#{pagamentoExtraControlador.renderizarGpsDarfDarfSimples()}"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.situacao}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoExtraControlador.renderizarGpsDarfDarfSimples()}"/>
                        <h:outputText value="Data de pagamento da Guia"
                                      rendered="#{pagamentoExtraControlador.renderizarGuiaNaoConvenio()}"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.dataPagamentoGuia}"
                                      rendered="#{pagamentoExtraControlador.renderizarGuiaNaoConvenio()}"
                                      styleClass="negrito">
                            <f:convertDateTime type="date" pattern="dd/MM/yyyy"/>
                        </h:outputText>
                        <h:outputText value="Código da Receita Tributo"
                                      rendered="#{pagamentoExtraControlador.renderizarGpsDarfDarfSimples()}"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.codigoReceita}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoExtraControlador.renderizarGpsDarfDarfSimples()}"/>
                        <h:outputText value="Código Identificador do Tributo"
                                      rendered="#{pagamentoExtraControlador.renderizarGpsDarfDarfSimples()}"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.codigoIdentificacaoTributo}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoExtraControlador.renderizarGpsDarfDarfSimples()}"/>
                        <h:outputText value="Valor Principal"
                                      rendered="#{pagamentoExtraControlador.renderizarDarfDarfSimples() or pagamentoExtraControlador.mostrarPainelGuiaGRU()}"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.valorGuia}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoExtraControlador.renderizarDarfDarfSimples() or pagamentoExtraControlador.mostrarPainelGuiaGRU()}">
                            <f:convertNumber type="currency"/>
                        </h:outputText>
                        <h:outputText value="Valor da Multa"
                                      rendered="#{pagamentoExtraControlador.renderizarDarfDarfSimples()}"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.valorMulta}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoExtraControlador.renderizarDarfDarfSimples()}">
                            <f:convertNumber type="currency"/>
                        </h:outputText>
                        <h:outputText value="Valor do Juros"
                                      rendered="#{pagamentoExtraControlador.renderizarDarfDarfSimples()}"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.valorJuros}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoExtraControlador.renderizarDarfDarfSimples()}">
                            <f:convertNumber type="currency"/>
                        </h:outputText>
                        <h:outputText value="Competência"
                                      rendered="#{pagamentoExtraControlador.renderizarCamposGuiaGps()}"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.competencia}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoExtraControlador.renderizarCamposGuiaGps()}">
                            <f:convertDateTime type="date" pattern="dd/MM/yyyy"/>
                        </h:outputText>
                        <h:outputText value="Valor Previsto INSS"
                                      rendered="#{pagamentoExtraControlador.renderizarCamposGuiaGps()}"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.valorGuia}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoExtraControlador.renderizarCamposGuiaGps()}">
                            <f:convertNumber type="currency"/>
                        </h:outputText>
                        <h:outputText value="Valor de Outras Entidades"
                                      rendered="#{pagamentoExtraControlador.renderizarCamposGuiaGps()}"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.valorOutra}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoExtraControlador.renderizarCamposGuiaGps()}">
                            <f:convertNumber type="currency"/>
                        </h:outputText>
                        <h:outputText value="Atualização Monetária"
                                      rendered="#{pagamentoExtraControlador.renderizarCamposGuiaGps()}"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.atualizacaoMonetaria}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoExtraControlador.renderizarCamposGuiaGps()}">
                            <f:convertNumber type="currency"/>
                        </h:outputText>
                        <h:outputText value="Total"
                                      rendered="#{pagamentoExtraControlador.renderizarCamposGuiaGps()}"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.total}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoExtraControlador.renderizarCamposGuiaGps()}">
                            <f:convertNumber type="currency"/>
                        </h:outputText>
                        <h:outputText value="Período de Apuração"
                                      rendered="#{pagamentoExtraControlador.renderizarDarfDarfSimples()}"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.periodoApuracao}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoExtraControlador.renderizarDarfDarfSimples()}">
                            <f:convertDateTime type="date" pattern="dd/MM/yyyy"/>
                        </h:outputText>
                        <h:outputText value="Número de Referência"
                                      rendered="#{pagamentoExtraControlador.renderizarCamposGuiaDarf()}"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.numeroReferencia}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoExtraControlador.renderizarCamposGuiaDarf()}"/>
                        <h:outputText value="Data de Vencimento"
                                      rendered="#{pagamentoExtraControlador.renderizarCamposGuiaDarf()}"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.dataVencimento}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoExtraControlador.renderizarCamposGuiaDarf()}">
                            <f:convertDateTime type="date" pattern="dd/MM/yyyy"/>
                        </h:outputText>
                        <h:outputText value="Valor da Receita Bruta"
                                      rendered="#{pagamentoExtraControlador.renderizarCamposGuiaDarfSimples()}"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.valorReceitaBruta}"
                                      styleClass="negrito"
                                      rendered="#{pagamentoExtraControlador.renderizarCamposGuiaDarfSimples()}">
                            <f:convertNumber type="currency"/>
                        </h:outputText>
                        <h:outputText value="Percentual da Receita Bruta"
                                      rendered="#{pagamentoExtraControlador.renderizarCamposGuiaDarfSimples()}"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.percentualReceitaBruta}"
                                      styleClass="negrito"
                                      converter="percentualConverter"
                                      rendered="#{pagamentoExtraControlador.renderizarCamposGuiaDarfSimples()}">
                        </h:outputText>
                        <hr class="mtop02 mbot05" style="width: 100%"/>
                        <h:outputText value="Ordem Bancária"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.numeroPagamento}"
                                      styleClass="negrito"/>
                        <h:outputText value="Autenticação"/>
                        <h:outputText value="#{pagamentoExtraControlador.guiaPagamentoItem.autenticacao}"
                                      styleClass="negrito"/>
                    </h:panelGrid>
                </p:panel>
                <fc:botaoTargetBlank
                    actionListener="#{pagamentoExtraControlador.imprimirGuiaPagamento(pagamentoExtraControlador.guiaPagamentoItem)}"
                    styleClass="padrao mrig05 mtop05"
                    imprimeNoDialog="true"
                    label="Imprimir"/>
                <p:commandButton id="btCancelarGuia"
                                 value="Fechar"
                                 icon="ui-icon-close"
                                 styleClass="padrao mtop05"
                                 actionListener="#{pagamentoExtraControlador.setarNullGuiaPagamentoItem()}"
                                 onstart="aguarde.show()"
                                 oncomplete="aguarde.hide();dialogImprimirGuia.hide()"
                                 title="Clique para fechar a janela."/>

            </h:form>
        </p:dialog>

        <fc:aguarde widgetVar="atualizarPagamento"
                    texto="Por favor aguarde, preparando despesa extra para deferir..."
                    gif="/resources/images/ajaxloading.gif"/>


    </ui:define>
</ui:composition>
</html>
