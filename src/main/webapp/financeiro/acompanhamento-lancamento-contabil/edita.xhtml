<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PT"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:fc="http://java.sun.com/jsf/composite/components"
      xmlns:co="http://java.sun.com/jsf/composite/components/contabil"
      xmlns:p="http://primefaces.org/ui"
>
<ui:composition template="/corpo.xhtml">
    <ui:define name="body">
        <h:form id="Formulario">
            <p:panel header="Acompanhamento de Lançamento Contábil">
                <table>
                    <tr valign="top">
                        <td style="width: 52%;height: 100%!important;">
                            <p:outputPanel id="panelFiltros">
                                <co:titulo-panel titulo="Filtros" separator="true"/>
                                <h:panelGrid columns="2" id="gridFiltro">
                                    <fc:outputLabelObrigatorio for="dataInicial" value="Data Inicial: "/>
                                    <p:calendar id="dataInicial"
                                                value="#{acompanhamentoLancamentoContabilControlador.selecionado.dataInicial}"
                                                onkeyup="mascara(this, mdata)"
                                                size="10"
                                                autocomplete="off"
                                                pattern="dd/MM/yyyy" locale="pt_BR" navigator="true">
                                        <p:ajax event="valueChange" update="@this" process="@this"/>
                                        <p:ajax event="dateSelect" update="@this" process="@this"/>
                                    </p:calendar>

                                    <fc:outputLabelObrigatorio for="dataFinal" value="Data Final: "/>
                                    <p:calendar id="dataFinal"
                                                value="#{acompanhamentoLancamentoContabilControlador.selecionado.dataFinal}"
                                                onkeyup="mascara(this, mdata)"
                                                size="10"
                                                autocomplete="off"
                                                pattern="dd/MM/yyyy" locale="pt_BR" navigator="true">
                                        <p:ajax event="valueChange" update="@this" process="@this"/>
                                        <p:ajax event="dateSelect" update="@this" process="@this"/>
                                    </p:calendar>

                                    <fc:outputLabelObrigatorio for="tipoEvento" styleAsterisco="color: blue !important"
                                                               value="Tipo de Evento Contábil: "/>
                                    <h:selectOneMenu id="tipoEvento"
                                                     value="#{acompanhamentoLancamentoContabilControlador.selecionado.tipoEventoContabil}">
                                        <f:selectItems
                                            value="#{acompanhamentoLancamentoContabilControlador.tiposEventos}"/>
                                        <p:ajax event="valueChange"
                                                update=":Formulario:panelFiltros :Formulario:panelOrdenacao :Formulario:panelLancamentos"
                                                process="@this :Formulario:panelOrdenacao :Formulario:panelFiltros"
                                                onstart="aguarde.show()"
                                                oncomplete="aguarde.hide()"
                                                listener="#{acompanhamentoLancamentoContabilControlador.limparFiltrosMenosTipoEData()}"/>
                                    </h:selectOneMenu>

                                    <h:outputLabel for="eve" value="Evento Contábil: "/>
                                    <p:autoComplete queryDelay="1000"
                                                    id="eve"
                                                    title="Selecione o tipo de evento"
                                                    value="#{acompanhamentoLancamentoContabilControlador.selecionado.eventoContabil}"
                                                    styleClass="autoCompleteWp"
                                                    completeMethod="#{acompanhamentoLancamentoContabilControlador.completarEventoContabil}"
                                                    converter="#{eventoContabilControlador.converterGenerico}"
                                                    onfocus="this.select();"
                                                    onclick="this.select();"
                                                    panelStyle="max-height: 250px;max-width: 700px"
                                                    dropdown="true"
                                                    var="objeto"
                                                    itemValue="#{objeto.id}"
                                                    itemLabel="#{objeto}"
                                                    maxResults="30"
                                                    size="70"/>

                                    <h:outputLabel for="numero" value="Número: "/>
                                    <p:inputText title="Informe o número do filtro"
                                                 id="numero"
                                                 maxlength="70" size="20"
                                                 value="#{acompanhamentoLancamentoContabilControlador.selecionado.numero}"/>

                                    <fc:outputLabelObrigatorio for="idParametroEvento"
                                                               styleAsterisco="color: blue !important"
                                                               value="Identificador TCE: "/>
                                    <p:inputText title="Informe o id do parâmetro evento."
                                                 id="idParametroEvento"
                                                 onkeypress="somenteNumeros(event, this, false, true, true)"
                                                 maxlength="70" size="20"
                                                 value="#{acompanhamentoLancamentoContabilControlador.selecionado.idParametroEvento}"/>

                                    <h:outputLabel for="fornecedor" value="Credor: "
                                                   rendered="#{acompanhamentoLancamentoContabilControlador.mostrarCredor()}"/>
                                    <p:autoComplete queryDelay="1000"
                                                    id="fornecedor" size="70"
                                                    title="Informe a pessoa."
                                                    value="#{acompanhamentoLancamentoContabilControlador.selecionado.credor}"
                                                    completeMethod="#{acompanhamentoLancamentoContabilControlador.completarFornecedor}"
                                                    converter="#{pessoaContabilControlador.converterGenerico}"
                                                    rendered="#{acompanhamentoLancamentoContabilControlador.mostrarCredor()}"
                                                    maxResults="10"
                                                    styleClass="mrig05"
                                                    var="fo"
                                                    itemValue="#{fo.id}"
                                                    itemLabel="#{fo.nomeAutoComplete}">
                                        <p:ajax event="itemSelect"
                                                update=":Formulario"
                                                process="@this"
                                                onstart="aguarde.show()"
                                                oncomplete="aguarde.hide()"/>
                                    </p:autoComplete>

                                    <h:outputLabel for="classeCredor" value="Classe: "
                                                   rendered="#{acompanhamentoLancamentoContabilControlador.mostrarCredor()}"/>
                                    <h:selectOneMenu
                                        value="#{acompanhamentoLancamentoContabilControlador.selecionado.classeCredor}"
                                        rendered="#{acompanhamentoLancamentoContabilControlador.mostrarCredor()}"
                                        id="classeCredor"
                                        title="Informe a Classe da Pessoa."
                                        converter="#{classeCredorControlador.converterGenerico}">
                                        <f:selectItems
                                            value="#{acompanhamentoLancamentoContabilControlador.classesCredor}"
                                            var="cc"
                                            itemValue="#{cc.id}"
                                            itemLabel="#{cc}"/>
                                    </h:selectOneMenu>

                                    <h:outputText value="Conta Bancária: "
                                                  rendered="#{acompanhamentoLancamentoContabilControlador.mostrarFinanceiro()}"/>
                                    <p:autoComplete queryDelay="1000"
                                                    id="cbentidade"
                                                    rendered="#{acompanhamentoLancamentoContabilControlador.mostrarFinanceiro()}"
                                                    size="70"
                                                    title="Informe uma Conta Bancária Entidade"
                                                    value="#{acompanhamentoLancamentoContabilControlador.selecionado.contaBancariaEntidade}"
                                                    completeMethod="#{acompanhamentoLancamentoContabilControlador.completarContaBancariaEntidade}"
                                                    converter="#{transferenciaContaFinanceiraControlador.converterContaBancaria}"
                                                    var="cbe"
                                                    itemValue="#{cbe.id}"
                                                    itemLabel="#{cbe.toStringAutoComplete()}"
                                                    maxResults="10">
                                        <p:ajax event="itemSelect"
                                                update=":Formulario:panelContaFinanceira"
                                                process="@this"
                                                onstart="aguarde.show()"
                                                oncomplete="aguarde.hide()"
                                                listener="#{acompanhamentoLancamentoContabilControlador.atribuirNullContaFinanceira()}"/>
                                    </p:autoComplete>

                                    <h:outputText value="Conta Financeira: "
                                                  rendered="#{acompanhamentoLancamentoContabilControlador.mostrarFinanceiro()}"/>
                                    <p:outputPanel id="panelContaFinanceira"
                                                   rendered="#{acompanhamentoLancamentoContabilControlador.mostrarFinanceiro()}">
                                        <p:autoComplete queryDelay="1000"
                                                        id="contaFinanceira"
                                                        forceSelection="true"
                                                        size="70"
                                                        title="Informe uma Conta Financeira"
                                                        value="#{acompanhamentoLancamentoContabilControlador.selecionado.contaFinanceira}"
                                                        completeMethod="#{acompanhamentoLancamentoContabilControlador.completarContaFinanceira}"
                                                        converter="#{transferenciaContaFinanceiraControlador.converterContaFinanceira}"
                                                        var="sub" itemValue="#{sub.id}"
                                                        itemLabel="#{sub.toStringAutoCompleteContaFinanceira()}"
                                                        maxResults="10">
                                            <p:ajax event="itemSelect"
                                                    update=":Formulario"
                                                    onstart="aguarde.show()"
                                                    oncomplete="aguarde.hide()"
                                                    process="@this"
                                                    listener="#{acompanhamentoLancamentoContabilControlador.definirContaBancaria()}"/>
                                        </p:autoComplete>
                                    </p:outputPanel>

                                    <h:outputLabel value="Operação: " for="operacao"
                                                   rendered="#{acompanhamentoLancamentoContabilControlador.mostrarReceita()}"/>
                                    <h:selectOneMenu id="operacao"
                                                     rendered="#{acompanhamentoLancamentoContabilControlador.mostrarReceita()}"
                                                     value="#{acompanhamentoLancamentoContabilControlador.selecionado.operacaoReceita}"
                                                     title="Selecione uma operação.">
                                        <p:ajax event="change"
                                                update=":Formulario"
                                                process="@this"
                                                onstart="aguarde.show()"
                                                oncomplete="aguarde.hide()"/>
                                        <f:selectItems
                                            value="#{acompanhamentoLancamentoContabilControlador.operacoesReceitaRealizada}"/>
                                    </h:selectOneMenu>

                                    <h:outputLabel value="Conta de Receita: "
                                                   rendered="#{acompanhamentoLancamentoContabilControlador.mostrarReceita()}"/>
                                    <p:autoComplete queryDelay="1000"
                                                    id="contaDeReceita"
                                                    rendered="#{acompanhamentoLancamentoContabilControlador.mostrarReceita()}"
                                                    size="70"
                                                    title="Selecione uma conta de receita."
                                                    completeMethod="#{acompanhamentoLancamentoContabilControlador.completarContaReceita}"
                                                    converter="#{receitaLOAWizardControlador.converterContaDeReceita}"
                                                    value="#{acompanhamentoLancamentoContabilControlador.selecionado.contaReceita}"
                                                    var="contaReceita"
                                                    itemValue="#{contaReceita.id}"
                                                    maxResults="10"
                                                    itemLabel="#{contaReceita}"/>

                                    <h:outputLabel value="Conta de Despesa: "
                                                   rendered="#{acompanhamentoLancamentoContabilControlador.mostrarDespesa()}"/>
                                    <p:autoComplete queryDelay="1000"
                                                    id="contaDeDespesa"
                                                    completeMethod="#{acompanhamentoLancamentoContabilControlador.completarContaDespesa}"
                                                    rendered="#{acompanhamentoLancamentoContabilControlador.mostrarDespesa()}"
                                                    value="#{acompanhamentoLancamentoContabilControlador.selecionado.contaDespesa}"
                                                    var="cont"
                                                    styleClass="mrig05"
                                                    maxResults="10"
                                                    itemLabel="#{cont}"
                                                    itemValue="#{cont.id}"
                                                    converter="#{provisaoPPAWizardControlador.converterContaDeDespesa}"
                                                    size="70"
                                                    title="Selecione a Conta de Despesa"/>

                                    <h:outputLabel value="Conta Extraorçamentária: "
                                                   rendered="#{acompanhamentoLancamentoContabilControlador.mostrarExtraOrcamentario()}"/>
                                    <p:autoComplete queryDelay="1000"
                                                    id="contaExtraorcamentaria"
                                                    rendered="#{acompanhamentoLancamentoContabilControlador.mostrarExtraOrcamentario()}"
                                                    title="Informe a conta extraorçamentária."
                                                    value="#{acompanhamentoLancamentoContabilControlador.selecionado.contaExtraorcamentaria}"
                                                    converter="#{planoDeContasWizardControlador.converterConta}"
                                                    completeMethod="#{acompanhamentoLancamentoContabilControlador.completarContaExtraorcamentaria}"
                                                    maxResults="10"
                                                    size="70"
                                                    var="ce"
                                                    itemValue="#{ce.id}"
                                                    itemLabel="#{ce}"/>

                                    <h:outputLabel for="fonteRecurso" value="Fonte de Recurso: "
                                                   rendered="#{acompanhamentoLancamentoContabilControlador.mostrarFonte()}"/>
                                    <p:autoComplete queryDelay="1000"
                                                    size="70"
                                                    id="fonteRecurso"
                                                    title="Selecione a fonte de recursos."
                                                    rendered="#{acompanhamentoLancamentoContabilControlador.mostrarFonte()}"
                                                    value="#{acompanhamentoLancamentoContabilControlador.selecionado.fonteDeRecursos}"
                                                    completeMethod="#{acompanhamentoLancamentoContabilControlador.completarFonteDeRecursos}"
                                                    var="fonte"
                                                    itemLabel="#{fonte}"
                                                    itemValue="#{fonte.id}"
                                                    converter="#{planoDeContasWizardControlador.converterFonteDeRecursos}"/>

                                    <h:outputLabel value="Operação Bens Móveis"
                                                   rendered="#{acompanhamentoLancamentoContabilControlador.mostrarBensMoveis()}"/>
                                    <h:selectOneMenu
                                        rendered="#{acompanhamentoLancamentoContabilControlador.mostrarBensMoveis()}"
                                        value="#{acompanhamentoLancamentoContabilControlador.selecionado.tipoOperacaoBensMoveis}">
                                        <f:selectItems
                                            value="#{acompanhamentoLancamentoContabilControlador.operacoesBensMoveis}"/>
                                    </h:selectOneMenu>

                                    <h:outputLabel value="Operação Bens Imóveis"
                                                   rendered="#{acompanhamentoLancamentoContabilControlador.mostrarBensImoveis()}"/>
                                    <h:selectOneMenu
                                        rendered="#{acompanhamentoLancamentoContabilControlador.mostrarBensImoveis()}"
                                        value="#{acompanhamentoLancamentoContabilControlador.selecionado.tipoOperacaoBensImoveis}">
                                        <f:selectItems
                                            value="#{acompanhamentoLancamentoContabilControlador.operacoesBensImoveis}"/>
                                    </h:selectOneMenu>

                                    <h:outputLabel value="Operação Bens Intangíveis"
                                                   rendered="#{acompanhamentoLancamentoContabilControlador.mostrarBensIntangiveis()}"/>
                                    <h:selectOneMenu
                                        rendered="#{acompanhamentoLancamentoContabilControlador.mostrarBensIntangiveis()}"
                                        value="#{acompanhamentoLancamentoContabilControlador.selecionado.tipoOperacaoBensIntangiveis}">
                                        <f:selectItems
                                            value="#{acompanhamentoLancamentoContabilControlador.operacoesBensIntangiveis}"/>
                                    </h:selectOneMenu>

                                    <h:outputLabel for="grupoBem" value="Grupo Patrimonial: "
                                                   rendered="#{acompanhamentoLancamentoContabilControlador.mostrarGrupoBem()}"/>
                                    <p:autoComplete queryDelay="1000"
                                                    size="70"
                                                    id="grupoBem"
                                                    title="Selecione a grupo patrimonial."
                                                    value="#{acompanhamentoLancamentoContabilControlador.selecionado.grupoBem}"
                                                    completeMethod="#{acompanhamentoLancamentoContabilControlador.completarGrupoPatrimonial}"
                                                    var="grPatrimonial"
                                                    itemLabel="#{grPatrimonial}"
                                                    itemValue="#{grPatrimonial.id}"
                                                    converter="#{grupoBemControlador.converterGenerico}"
                                                    rendered="#{acompanhamentoLancamentoContabilControlador.mostrarGrupoBem()}"/>

                                    <h:outputLabel value="Operação Bens Estoque"
                                                   rendered="#{acompanhamentoLancamentoContabilControlador.mostrarBensEstoque()}"/>
                                    <h:selectOneMenu
                                        rendered="#{acompanhamentoLancamentoContabilControlador.mostrarBensEstoque()}"
                                        value="#{acompanhamentoLancamentoContabilControlador.selecionado.tipoOperacaoBensEstoque}">
                                        <f:selectItems
                                            value="#{acompanhamentoLancamentoContabilControlador.operacoesBensEstoque}"/>
                                    </h:selectOneMenu>

                                    <h:outputLabel value="Tipo de Estoque"
                                                   rendered="#{acompanhamentoLancamentoContabilControlador.mostrarBensEstoque()}"/>
                                    <h:selectOneMenu
                                        value="#{acompanhamentoLancamentoContabilControlador.selecionado.tipoEstoque}"
                                        rendered="#{acompanhamentoLancamentoContabilControlador.mostrarBensEstoque()}">
                                        <f:selectItems
                                            value="#{acompanhamentoLancamentoContabilControlador.tipoEstoque}"/>
                                    </h:selectOneMenu>

                                    <h:outputLabel for="grupoMaterial" value="Grupo Material: "
                                                   rendered="#{acompanhamentoLancamentoContabilControlador.mostrarBensEstoque()}"/>
                                    <p:autoComplete queryDelay="1000"
                                                    size="70"
                                                    id="grupoMaterial"
                                                    title="Selecione um grupo material."
                                                    rendered="#{acompanhamentoLancamentoContabilControlador.mostrarBensEstoque()}"
                                                    value="#{acompanhamentoLancamentoContabilControlador.selecionado.grupoMaterial}"
                                                    completeMethod="#{acompanhamentoLancamentoContabilControlador.completarGrupoMaterial}"
                                                    var="grMaterial"
                                                    maxResults="10"
                                                    itemLabel="#{grMaterial}"
                                                    itemValue="#{grMaterial.id}"
                                                    converter="#{grupoMaterialControlador.converterGenerico}"/>

                                    <h:outputLabel value="Operação da Dívida Pública"
                                                   rendered="#{acompanhamentoLancamentoContabilControlador.mostrarDividaPublica()}"/>
                                    <h:selectOneMenu
                                        value="#{acompanhamentoLancamentoContabilControlador.selecionado.operacaoMovimentoDividaPublica}"
                                        rendered="#{acompanhamentoLancamentoContabilControlador.mostrarDividaPublica()}">
                                        <f:selectItems
                                            value="#{acompanhamentoLancamentoContabilControlador.operacoesDividaPublica}"/>
                                    </h:selectOneMenu>

                                    <h:outputLabel for="complementoHistorico" value="Histórico: "/>
                                    <h:panelGrid columns="2">
                                        <p:inputTextarea id="complementoHistorico" title="Informe o Histórico"
                                                         value="#{acompanhamentoLancamentoContabilControlador.selecionado.historico}"
                                                         cols="70" maxlength="3000"
                                                         style="margin-left: -3px"
                                                         autoResize="true" counterTemplate="{0} Caracteres Restantes."
                                                         counter="counter"/>
                                        <h:outputText id="counter"/>
                                    </h:panelGrid>

                                    <h:outputLabel for="valor" value="Valor: "/>
                                    <p:inputText title="Informe o Valor do filtro"
                                                 id="valor"
                                                 maxlength="70" size="20"
                                                 style="text-align: right"
                                                 onkeydown="mascaraMonetaria(this);"
                                                 converter="moneyConverter"
                                                 value="#{acompanhamentoLancamentoContabilControlador.selecionado.valor}"/>

                                    <h:outputText value="Mostrar somente contabilização: "/>
                                    <p:selectBooleanCheckbox
                                        value="#{acompanhamentoLancamentoContabilControlador.selecionado.mostrarContabilizacao}">
                                        <p:ajax event="change" onstart="aguarde.show()" oncomplete="aguarde.hide()"
                                                process=":Formulario" update=":Formulario"/>
                                    </p:selectBooleanCheckbox>

                                    <h:outputLabel value="Contas de Débitos: "
                                                   rendered="#{acompanhamentoLancamentoContabilControlador.selecionado.mostrarContabilizacao}"/>
                                    <co:auto-complete-multiple-conta-contabil
                                        idAutocomplete="idAutoContaDebitos"
                                        renderizarAutoComplete="#{acompanhamentoLancamentoContabilControlador.selecionado.mostrarContabilizacao}"
                                        contasContabeis="#{acompanhamentoLancamentoContabilControlador.selecionado.contasDebitos}"/>

                                    <h:outputLabel value="Contas de Créditos: "
                                                   rendered="#{acompanhamentoLancamentoContabilControlador.selecionado.mostrarContabilizacao}"/>
                                    <co:auto-complete-multiple-conta-contabil
                                        idAutocomplete="idAutoContaCreditos"
                                        renderizarAutoComplete="#{acompanhamentoLancamentoContabilControlador.selecionado.mostrarContabilizacao}"
                                        contasContabeis="#{acompanhamentoLancamentoContabilControlador.selecionado.contasCreditos}"/>

                                    <h:outputLabel value="Fontes de Débitos: "
                                                   rendered="#{acompanhamentoLancamentoContabilControlador.selecionado.mostrarContabilizacao}"/>
                                    <co:auto-complete-multiple-fonte-de-recursos
                                        idAutocomplete="idAutoFonteDebitos"
                                        renderizarAutoComplete="#{acompanhamentoLancamentoContabilControlador.selecionado.mostrarContabilizacao}"
                                        fontes="#{acompanhamentoLancamentoContabilControlador.selecionado.fontesDebitos}"/>

                                    <h:outputLabel value="Fontes de Créditos: "
                                                   rendered="#{acompanhamentoLancamentoContabilControlador.selecionado.mostrarContabilizacao}"/>
                                    <co:auto-complete-multiple-fonte-de-recursos
                                        idAutocomplete="idAutoFonteCreditos"
                                        renderizarAutoComplete="#{acompanhamentoLancamentoContabilControlador.selecionado.mostrarContabilizacao}"
                                        fontes="#{acompanhamentoLancamentoContabilControlador.selecionado.fontesCreditos}"/>
                                </h:panelGrid>
                            </p:outputPanel>
                        </td>

                        <td style="width: 7%;">

                        </td>

                        <td style="width: 30%;height: 100%!important;">
                            <p:outputPanel id="panelOrdenacao">
                                <co:titulo-panel titulo="Ordenação/Quantidade Registro" separator="true"/>
                                <table class="table alert alert-block">
                                    <tr style="vertical-align: top">
                                        <td>
                                            <h:outputLabel value="Ordenar Por" styleClass="negrito"
                                                           style="font-size: 12px"/>
                                            <p:selectOneRadio
                                                layout="pageDirection"
                                                value="#{acompanhamentoLancamentoContabilControlador.selecionado.campoOrdenar.campo}">
                                                <f:selectItems
                                                    value="#{acompanhamentoLancamentoContabilControlador.camposOrdenador}"/>
                                            </p:selectOneRadio>
                                        </td>

                                        <td>
                                            <h:outputLabel value="Tipo" styleClass="negrito" style="font-size: 12px"/>
                                            <p:selectOneRadio
                                                layout="pageDirection"
                                                value="#{acompanhamentoLancamentoContabilControlador.selecionado.campoOrdenar.tipoOrdem}">
                                                <f:selectItems
                                                    value="#{acompanhamentoLancamentoContabilControlador.tiposOrdenacao}"/>
                                            </p:selectOneRadio>
                                        </td>

                                        <td>
                                            <h:outputLabel value="Quantidade" styleClass="negrito"
                                                           style="font-size: 12px"/>
                                            <p:selectOneRadio
                                                layout="pageDirection"
                                                value="#{acompanhamentoLancamentoContabilControlador.selecionado.quantidadeDeRegistros}">
                                                <f:selectItems
                                                    value="#{acompanhamentoLancamentoContabilControlador.quantidadeRegistro}"/>
                                            </p:selectOneRadio>
                                        </td>
                                    </tr>
                                </table>

                                <hr/>
                                <p:commandButton value="Pesquisar"
                                                 id="cbPesquisar"
                                                 styleClass="mtop10 mrig05 prioritario"
                                                 style="height: 30px;"
                                                 icon="ui-icon-search"
                                                 title="Clique para recuperar os lançamentos"
                                                 actionListener="#{acompanhamentoLancamentoContabilControlador.recuperarLancamentos()}"
                                                 process="@this :Formulario:panelOrdenacao :Formulario:panelFiltros"
                                                 onclick="aguarde.show()"
                                                 update=":Formulario:panelLancamentos :Formulario:panelOrdenacao"
                                                 oncomplete="aguarde.hide()"
                                />
                                <p:commandButton value="Limpar"
                                                 id="cbLimpar"
                                                 style="height: 30px;"
                                                 styleClass="mtop10"
                                                 icon="ui-icon-atualizar"
                                                 onclick="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 update=":Formulario:panelOrdenacao :Formulario:panelFiltros :Formulario:panelLancamentos"
                                                 process="@this"
                                                 title="Clique para limpar os filtros."
                                                 actionListener="#{acompanhamentoLancamentoContabilControlador.limparFiltros()}"

                                />
                            </p:outputPanel>
                        </td>
                    </tr>
                </table>

                <fc:pesquisaUnidadeOrganizacional tipoHierarquia="ORCAMENTARIA"
                                                  listaDeHierarquias="#{acompanhamentoLancamentoContabilControlador.selecionado.hierarquias}"
                                                  habilitaUnidadeGestora="false"/>
                <hr/>
                <p:outputPanel id="panelLancamentos">
                    <co:titulo-panel titulo="Lançamentos Contábeis" separator="true"/>
                    <table class="table table-condensed" style="margin-top: -12px">
                        <tr class="alert alert-info">
                            <th class="alinhamentoCentralizado">
                                Lançamentos
                            </th>
                            <th class="alinhamentoEsquerda">
                                Evento Contábil
                            </th>
                            <th class="alinhamentoEsquerda">
                                Tipo de Evento Contábil
                            </th>
                            <th class="alinhamentoEsquerda">
                                Tipo de Balancete
                            </th>
                            <th class="alinhamentoEsquerda">
                                Tipo de Laçamento
                            </th>
                        </tr>
                        <c:forEach items="#{acompanhamentoLancamentoContabilControlador.selecionado.eventos}"
                                   varStatus="index"
                                   var="evento">
                            <tr>
                                <td class="alinhamentoCentralizado">
                                    <a id="lancamentos" data-toggle="collapse" href="#linha#{index.index}">
                                        <i class="icon-th-list"/>
                                    </a>
                                </td>
                                <td class="alinhamentoEsquerda">
                                    <h:outputText value="#{evento.eventosReprocessar.eventoContabil.toString()}"/>
                                </td>
                                <td class="alinhamentoEsquerda">
                                    <h:outputText
                                        value="#{evento.eventosReprocessar.eventoContabil.tipoEventoContabil.descricao}"/>
                                </td>
                                <td class="alinhamentoEsquerda">
                                    <h:outputText
                                        value="#{evento.eventosReprocessar.eventoContabil.tipoBalancete.descricao}"/>
                                </td>
                                <td class="alinhamentoEsquerda">
                                    <h:outputText
                                        value="#{evento.eventosReprocessar.eventoContabil.tipoLancamento.descricao}"/>
                                </td>
                            </tr>

                            <tr>
                                <td colspan="5">
                                    <div id="linha#{index.index}" class="collapse out">
                                        <p:scrollPanel id="tabelaConsultas#{index.index}" mode="native"
                                                       styleClass="mtop10 mbot10 mrig10"
                                                       style="max-height: 300px">
                                            <div class="alert alert-info" align="center">
                                                <h:outputText
                                                    value="#{evento.eventosReprocessar.tipoEventoContabil.descricao}"
                                                    style="font-size: 12px"
                                                    styleClass="maiusculo"/>
                                            </div>
                                            <table class="table table-condensend">
                                                <tr>
                                                    <th class="alinhamentoCentralizado">
                                                        Visualizar
                                                    </th>
                                                    <c:forEach items="#{evento.relatorioPesquisaGenerico.target}"
                                                               var="atributo">
                                                        <th style="max-width: 90%; text-align: #{atributo.alinhamento.valor}"
                                                            class="alinhamentoEsquerda">
                                                            #{atributo.label}
                                                        </th>
                                                    </c:forEach>
                                                </tr>
                                                <c:forEach items="#{evento.eventosReprocessar.objetosParaReprocessar}"
                                                           var="lanc">
                                                    <tr>
                                                        <td class="alinhamentoCentralizado">
                                                            <p:commandButton styleClass="mtop10 mrig05 prioritario"
                                                                             icon="ui-icon-clipboard"
                                                                             title="Clique para recuperar os lançamentos"
                                                                             actionListener="#{acompanhamentoLancamentoContabilControlador.visualizarLancamento(lanc)}"
                                                                             onclick="aguarde.show()"
                                                                             update="@this"
                                                                             oncomplete="aguarde.hide();novoVisualizar()"/>
                                                        </td>
                                                        <c:forEach
                                                            items="#{evento.relatorioPesquisaGenerico.target}"
                                                            var="atributoValue">
                                                            <td class="alinhamentoEsquerda">
                                                                <h:outputText
                                                                    value="#{visualizarCamposControlador.preencherCampo(lanc, atributoValue)}"
                                                                    escape="false"/>
                                                            </td>
                                                        </c:forEach>
                                                    </tr>
                                                </c:forEach>
                                            </table>
                                        </p:scrollPanel>
                                    </div>
                                </td>
                            </tr>
                        </c:forEach>
                    </table>
                </p:outputPanel>
            </p:panel>

            <p:remoteCommand name="novoVisualizar"
                             update=":formVisualizarLancamento"
                             oncomplete="dialogVisualizarLancamento.show()"
                             actionListener="#{visualizarCamposControlador.novo(acompanhamentoLancamentoContabilControlador.entidadeContabil)}"/>
        </h:form>


        <p:dialog widgetVar="dialogVisualizarLancamento"
                  modal="true"
                  closable="true"
                  resizable="false"
                  width="1100"
                  height="470"
                  dynamic="true"
                  showHeader="true"
                  position="center"
                  style="position: fixed !important;">
            <h:form id="formVisualizarLancamento">
                <div align="center">
                    <p:panel id="panelVisualizarLancamento"
                             header="Visualizar Contabilização"
                             styleClass="mtop05 mbot05">

                        <h:panelGrid columns="2"
                                     width="100%"
                                     columnClasses="none, negrito"
                                     rowClasses="none, linha-selecionada">
                            <c:forEach items="#{visualizarCamposControlador.relatorioPesquisaGenerico.target}"
                                       var="atributo" varStatus="variavel">

                                <h:outputText value="#{atributo.label}: "/>
                                <h:outputText
                                    value="#{visualizarCamposControlador.preencherCampo(visualizarCamposControlador.objeto, atributo)}"
                                    escape="false"/>
                            </c:forEach>
                        </h:panelGrid>

                        <p:separator/>
                        <p:dataTable value="#{acompanhamentoLancamentoContabilControlador.lancamentoContabils}"
                                     rendered="#{!acompanhamentoLancamentoContabilControlador.selecionado.mostrarContabilizacao}"
                                     var="lancamentoContabil"
                                     id="tabelaLancamentosContabeis"
                                     rowKey="#{lancamentoContabil.id}"
                                     rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                     paginator="true"
                                     rows="5"
                                     styleClass="mtop03"
                                     paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>LANÇAMENTOS CONTÁBEIS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                     emptyMessage="Não foram localizados registros para serem apresentados."
                                     rowIndexVar="rowlx">

                            <p:column headerText="Data"
                                      sortBy="#{lancamentoContabil.dataLancamento}"
                                      filterBy="#{lancamentoContabil.dataLancamento}"
                                      filterMatchMode="contains"
                                      styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{lancamentoContabil.dataLancamento}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Complemento Histórico"
                                      sortBy="#{lancamentoContabil.complementoHistorico}"
                                      filterBy="#{lancamentoContabil.complementoHistorico}"
                                      filterMatchMode="contains"
                                      styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{lancamentoContabil.complementoHistorico}"/>
                            </p:column>
                            <p:column headerText="Conta Crédito"
                                      sortBy="#{lancamentoContabil.contaCredito}"
                                      filterBy="#{lancamentoContabil.contaCredito}"
                                      filterMatchMode="contains"
                                      styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{lancamentoContabil.contaCredito}"/>
                            </p:column>
                            <p:column headerText="Conta Contábil"
                                      sortBy="#{lancamentoContabil.contaDebito}"
                                      filterBy="#{lancamentoContabil.contaDebito}"
                                      filterMatchMode="contains"
                                      styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{lancamentoContabil.contaDebito}"/>
                            </p:column>
                            <p:column headerText="Valor"
                                      sortBy="#{lancamentoContabil.valor}"
                                      filterBy="#{lancamentoContabil.valor}"
                                      filterMatchMode="contains"
                                      styleClass="alinhamentoDireita">
                                <h:outputText value="#{lancamentoContabil.valor}" converter="moneyConverter"/>
                            </p:column>
                        </p:dataTable>
                    </p:panel>
                </div>
            </h:form>
        </p:dialog>
    </ui:define>
</ui:composition>
</html>
