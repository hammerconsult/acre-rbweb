<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PT"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:fc="http://java.sun.com/jsf/composite/components"
      xmlns:p="http://primefaces.org/ui"
>
<ui:composition template="/corpo.xhtml">
    <ui:define name="body">
        <style type="text/css">
            .verificaDebito .ui-state-disabled {
                opacity: 1 !important;
            }
        </style>

        <h:form id="Formulario">
            <fc:cabecalhoPretty origem="#{permissaoTransportePrettyControlador.caminhoPadrao}listar/"
                                mostrarBotaoNovo="${false}"
                                auditavel="${true}"
                                controlador="#{permissaoTransportePrettyControlador}"/>
            <p:panel id="panelGeral"
                     header="Permissão de Transporte #{permissaoTransportePrettyControlador.selecionado.tipoPermissaoRBTrans.descricao}">
                <p:tabView id="tabViewGeral" activeIndex="#{permissaoTransportePrettyControlador.abaAtiva}">
                    <p:tab id="tabDados" title="Dados do Permissionário">
                        <table>
                            <tr>
                                <td style="width: 80%">
                                    <p:outputPanel>
                                        <h:panelGrid columns="2">
                                            <h:outputLabel value="Número da Permissão:" styleClass="negrito"/>
                                            <h:outputText
                                                value="#{permissaoTransportePrettyControlador.selecionado.numero}"/>
                                            <h:outputLabel value="Transporte:" styleClass="negrito"/>
                                            <h:outputText
                                                value="#{permissaoTransportePrettyControlador.selecionado.tipoPermissaoRBTrans.descricao}"/>
                                            <h:outputLabel value="Permissionário:" styleClass="negrito"/>
                                            <h:outputText
                                                value="#{permissaoTransportePrettyControlador.selecionado.identificacaoPermissionario}"/>
                                            <h:outputLabel value="Nome Reduzido:" styleClass="negrito"/>
                                            <p:outputPanel id="oPanelNomeReduzido">
                                                <h:outputText
                                                    value="#{permissaoTransportePrettyControlador.permissionario.nomeReduzido}"/>
                                                <p:spacer width="8"/>
                                                <p:commandButton icon="ui-icon-pencil"
                                                                 onclick="editarPermissionario.show()"/>
                                            </p:outputPanel>
                                            <h:outputLabel value="Tipo de Autonomo:" styleClass="negrito"/>
                                            <h:outputText
                                                value="#{permissaoTransportePrettyControlador.permissionario.cadastroEconomico.tipoAutonomo}"/>
                                            <h:outputLabel value="Data de Abertura:" styleClass="negrito"/>
                                            <h:outputLabel
                                                value="#{permissaoTransportePrettyControlador.permissionario.cadastroEconomico.abertura}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputLabel>
                                            <h:outputLabel value="CPF:" styleClass="negrito"
                                                           rendered="#{permissaoTransportePrettyControlador.permissionario.cadastroEconomico.pessoa.pessoaFisica}"/>
                                            <h:outputText
                                                rendered="#{permissaoTransportePrettyControlador.permissionario.cadastroEconomico.pessoa.pessoaFisica}"
                                                value="#{permissaoTransportePrettyControlador.permissionario.cadastroEconomico.pessoa.cpf_Cnpj}"
                                                mask="999.999.999-99"/>
                                            <h:outputLabel value="CNPJ:" styleClass="negrito"
                                                           rendered="#{permissaoTransportePrettyControlador.permissionario.cadastroEconomico.pessoa.pessoaJuridica}"/>
                                            <h:outputText
                                                rendered="#{permissaoTransportePrettyControlador.permissionario.cadastroEconomico.pessoa.pessoaJuridica}"
                                                value="#{permissaoTransportePrettyControlador.permissionario.cadastroEconomico.pessoa.cpf_Cnpj}"
                                                mask="99.999.999/9999-99"/>
                                            <h:outputLabel value="RG:" styleClass="negrito"
                                                           rendered="#{permissaoTransportePrettyControlador.permissionario.cadastroEconomico.pessoa.pessoaFisica}"/>
                                            <h:outputText
                                                rendered="#{permissaoTransportePrettyControlador.permissionario.cadastroEconomico.pessoa.pessoaFisica}"
                                                value="#{permissaoTransportePrettyControlador.rgPermissionario}"/>
                                            <h:outputLabel value="Número da CNH:" styleClass="negrito"
                                                           rendered="#{permissaoTransportePrettyControlador.permissionario.cadastroEconomico.pessoa.pessoaFisica}"/>
                                            <h:outputText
                                                rendered="#{permissaoTransportePrettyControlador.permissionario.cadastroEconomico.pessoa.pessoaFisica}"
                                                value="#{permissaoTransportePrettyControlador.cnhPermissionario.numero}"/>
                                            <h:outputLabel value="Categoria da CNH:" styleClass="negrito"
                                                           rendered="#{permissaoTransportePrettyControlador.permissionario.cadastroEconomico.pessoa.pessoaFisica}"/>
                                            <h:outputText
                                                rendered="#{permissaoTransportePrettyControlador.permissionario.cadastroEconomico.pessoa.pessoaFisica}"
                                                value="#{permissaoTransportePrettyControlador.cnhPermissionario.categoria}"/>
                                            <h:outputLabel value="Validade da CNH:" styleClass="negrito"
                                                           rendered="#{permissaoTransportePrettyControlador.permissionario.cadastroEconomico.pessoa.pessoaFisica}"/>
                                            <h:outputText
                                                rendered="#{permissaoTransportePrettyControlador.permissionario.cadastroEconomico.pessoa.pessoaFisica}"
                                                value="#{permissaoTransportePrettyControlador.cnhPermissionario.validade}">
                                                <f:convertDateTime pattern="dd/MM/yyy"/>
                                            </h:outputText>
                                            <h:outputLabel value="Ponto de Táxi:" styleClass="negrito"
                                                           rendered="#{!permissaoTransportePrettyControlador.selecionado.frete}"/>
                                            <p:outputPanel id="oPanelPontoTaxi"
                                                           rendered="#{!permissaoTransportePrettyControlador.selecionado.frete}">
                                                <h:outputText
                                                    value="#{permissaoTransportePrettyControlador.selecionado.pontoTaxi.localizacao}"/>
                                                <p:spacer width="5"/>
                                                <p:commandButton icon="ui-icon-pencil"
                                                                 update=":formularioDialogEditarPontoTaxi"
                                                                 onclick="editarPontoTaxi.show()"/>
                                            </p:outputPanel>

                                            <h:outputLabel value="Restrição:" styleClass="negrito"/>
                                            <h:outputText
                                                value="#{permissaoTransportePrettyControlador.selecionado.restricao}"/>
                                        </h:panelGrid>
                                    </p:outputPanel>
                                </td>
                                <td>
                                    <h:panelGroup style="width: 100%;text-align: center">
                                        <p:outputPanel
                                            rendered="#{permissaoTransportePrettyControlador.permissionario.cadastroEconomico.pessoa.arquivo.id eq null}">
                                            <img src="#{request.contextPath}/css/images/semfoto2.jpg"
                                                 id="maSemFoto"
                                                 height="210"
                                                 width="210"
                                                 class="img-circle"
                                                 alt="Foto do Motorista"/>
                                        </p:outputPanel>
                                        <p:outputPanel
                                            rendered="#{permissaoTransportePrettyControlador.permissionario.cadastroEconomico.pessoa.arquivo.id ne null}">
                                            <img
                                                src="#{request.contextPath}/arquivos/#{permissaoTransportePrettyControlador.permissionario.cadastroEconomico.pessoa.arquivo.nome}?id=#{permissaoTransportePrettyControlador.permissionario.cadastroEconomico.pessoa.arquivo.id}"
                                                id="maFotoUpload"
                                                class="img-circle"
                                                height="210"
                                                width="210"
                                                alt="/css/images/semfoto2.jpg"/>
                                        </p:outputPanel>
                                    </h:panelGroup>
                                </td>
                            </tr>
                        </table>
                        <br/>

                        <p:tabView id="tabViewInfos">
                            <p:tab id="tabEnderecos"
                                   title="Endereço(s)">
                                <p:dataTable paginator="true"
                                             id="tableEnderecos"
                                             value="#{permissaoTransportePrettyControlador.enderecosPermissionario}"
                                             rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                             rowIndexVar="rowIx"
                                             styleClass="mtop05"
                                             emptyMessage="Não foram localizados registros para serem apresentados"
                                             rows="10"
                                             paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>ENDEREÇOS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                             rowsPerPageTemplate="10,25,50,100"
                                             var="end">

                                    <p:column headerText="Logradouro" styleClass="alinhamentoEsquerda">
                                        <h:outputText value="#{end.logradouro}"/>
                                    </p:column>
                                    <p:column headerText="Nº" style="width: 80px!important;"
                                              styleClass="alinhamentoCentralizado">
                                        <h:outputText value="#{end.numero}"/>
                                    </p:column>
                                    <p:column headerText="Bairro" styleClass="alinhamentoEsquerda">
                                        <h:outputText value="#{end.bairro}"/>
                                    </p:column>
                                    <p:column headerText="UF" style="width: 100px!important;"
                                              styleClass="alinhamentoCentralizado">
                                        <h:outputText value="#{end.uf}"/>
                                    </p:column>
                                    <p:column headerText="Cep" style="width: 80px!important;"
                                              styleClass="alinhamentoEsquerda">
                                        <h:outputText value="#{end.cep}"/>
                                    </p:column>
                                    <p:column headerText="Principal" style="width: 80px!important;"
                                              styleClass="alinhamentoCentralizado">
                                        <h:outputText value="#{utilBean.converterBooleanSimOuNao(end.principal)}"/>
                                    </p:column>
                                </p:dataTable>
                            </p:tab>

                            <p:tab title="Telefone(s)">
                                <p:dataTable paginator="true"
                                             id="tableTelefones"
                                             value="#{permissaoTransportePrettyControlador.telefonesPermissionario}"
                                             rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                             rowIndexVar="rowIx"
                                             styleClass="mtop05"
                                             emptyMessage="Não foram localizados registros para serem apresentados"
                                             rows="10"
                                             paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>TELEFONES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                             rowsPerPageTemplate="10,25,50,100"
                                             var="fone">

                                    <p:column headerText="Telefone" styleClass="alinhamentoEsquerda">
                                        <h:outputText value="#{fone.telefone}"/>
                                    </p:column>
                                    <p:column headerText="Tipo" style="width: 90px!important;"
                                              styleClass="alinhamentoEsquerda">
                                        <h:outputText value="#{fone.tipoFone.tipoFone}"/>
                                    </p:column>
                                    <p:column headerText="Principal" style="width: 80px!important;"
                                              styleClass="alinhamentoCentralizado">
                                        <h:outputText value="#{utilBean.converterBooleanSimOuNao(fone.principal)}"/>
                                    </p:column>
                                </p:dataTable>
                            </p:tab>
                        </p:tabView>
                    </p:tab>
                    <p:tab id="tabVencimento" title="Validade da Permissão ">
                        <h:panelGrid columns="2" id="panelVencimento">
                            <h:outputText value="Débitos de Renovação de Permissão: " styleClass="negrito"/>
                            <h:outputText
                                value="#{permissaoTransportePrettyControlador.debitoRenovacaoPago ? 'Verificado':'Pendente'}"
                                style="color: #{permissaoTransportePrettyControlador.debitoRenovacaoPago ? 'green' : 'red'}"
                                styleClass="negrito"/>
                            <h:outputText value="Verificação de Documentação: " styleClass="negrito"/>
                            <p:selectOneRadio
                                disabled="#{!permissaoTransportePrettyControlador.habilitarDocumentos}"
                                value="#{permissaoTransportePrettyControlador.selecionado.documentosApresentados}">
                                <f:selectItem itemLabel="Pendente" itemValue="false"/>
                                <f:selectItem itemLabel="Verificado" itemValue="true"/>
                                <p:ajax event="change" onstart="aguarde.show()"
                                        listener="#{permissaoTransportePrettyControlador.confirmarDocumentos()}"
                                        oncomplete="aguarde.hide()"/>
                            </p:selectOneRadio>
                            <h:outputText value="Validade da Permissão: " styleClass="negrito"
                                          rendered="#{permissaoTransportePrettyControlador.renderizarVencimento}"/>
                            <h:outputText
                                value="#{permissaoTransportePrettyControlador.recuperarCredencialDeMaiorVencimento()}"
                                rendered="#{permissaoTransportePrettyControlador.renderizarVencimento}">
                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                            </h:outputText>

                        </h:panelGrid>
                    </p:tab>

                    <p:tab id="tabVeiculo"
                           title="Veículo">
                        <p:outputPanel id="painel-geral-veiculo">
                            <p:outputPanel id="painel-detalhes-veiculo">
                                <h:panelGrid columns="2">
                                    <h:panelGrid columns="3">
                                        <fc:outputLabelObrigatorio value="Placa:" for="placa"/>
                                        <p:inputText id="placa"
                                                     value="#{permissaoTransportePrettyControlador.veiculoPermissionario.veiculoTransporte.placa}"
                                                     onblur="this.value = this.value.toUpperCase();"
                                                     maxlength="7"
                                                     size="8">
                                            <p:ajax process="@this" event="blur"/>
                                        </p:inputText>
                                        <p:spacer/>

                                        <fc:outputLabelObrigatorio value="Espécie:" for="especie"/>
                                        <p:inputText id="especie"
                                                     value="#{permissaoTransportePrettyControlador.veiculoPermissionario.veiculoTransporte.especie}"
                                                     maxlength="20">
                                            <p:ajax process="@this" event="blur"/>
                                        </p:inputText>
                                        <p:spacer/>
                                        <fc:outputLabelObrigatorio value="Marca:" for="marca"/>
                                        <p:autoComplete queryDelay="1000" id="marca"
                                                        forceSelection="true"
                                                        maxResults="10"
                                                        value="#{permissaoTransportePrettyControlador.marcaVeiculo}"
                                                        completeMethod="#{permissaoTransportePrettyControlador.completaMarca}"
                                                        converter="#{marcaControlador.converterGenerico}"
                                                        var="marca"
                                                        itemLabel="#{marca.descricao} "
                                                        itemValue="#{marca.id}">
                                            <p:ajax event="itemSelect"
                                                    process="@this"
                                                    listener="#{permissaoTransportePrettyControlador.verificarModeloVeiculo()}"
                                                    update=":Formulario:tabViewGeral:painel-detalhes-veiculo"/>
                                        </p:autoComplete>
                                        <p:commandButton icon="ui-icon-circle-plus"
                                                         actionListener="#{permissaoTransportePrettyControlador.navegaNovaMarca()}"/>
                                        <h:outputLabel value="Tipo do Veículo:"/>
                                        <p:autoComplete queryDelay="1000" id="tipoVeiculo"
                                                        forceSelection="true"
                                                        value="#{permissaoTransportePrettyControlador.veiculoPermissionario.veiculoTransporte.tipoVeiculo}"
                                                        completeMethod="#{permissaoTransportePrettyControlador.completaTipoVeiculo}"
                                                        converter="#{tipoVeiculoControlador.converterGenerico}"
                                                        var="tipo"
                                                        itemLabel="#{tipo.descricao}"
                                                        itemValue="#{tipo.id}"
                                                        maxResults="10">
                                            <p:ajax update=":Formulario:tabViewGeral:painel-detalhes-veiculo"
                                                    event="itemSelect"/>
                                        </p:autoComplete>
                                        <p:commandButton icon="ui-icon-circle-plus"
                                                         actionListener="#{permissaoTransportePrettyControlador.navegaNovoTipoVeiculo}"/>
                                        <h:outputText value="CAP/POT/CL:" for="cpc"/>
                                        <p:inputText id="cpc"
                                                     maxlength="70"
                                                     styleClass="maiusculo"
                                                     value="#{permissaoTransportePrettyControlador.veiculoPermissionario.veiculoTransporte.cappotcl}"
                                                     style="margin-right: 10px;">
                                            <p:ajax process="@this" event="blur"/>
                                        </p:inputText>
                                        <p:spacer/>
                                        <fc:outputLabelObrigatorio value="Cor Predominante:" for="cor"/>
                                        <p:autoComplete queryDelay="1000" id="cor"
                                                        forceSelection="true"
                                                        maxResults="10"
                                                        value="#{permissaoTransportePrettyControlador.veiculoPermissionario.veiculoTransporte.cor}"
                                                        completeMethod="#{permissaoTransportePrettyControlador.completaCor}"
                                                        converter="#{corControlador.converterGenerico}"
                                                        var="cor"
                                                        itemLabel="#{cor.descricao}"
                                                        itemValue="#{cor.id}">
                                            <p:ajax update=":Formulario:tabViewGeral:painel-detalhes-veiculo"
                                                    event="itemSelect"/>
                                        </p:autoComplete>
                                        <p:commandButton icon="ui-icon-circle-plus"
                                                         actionListener="#{permissaoTransportePrettyControlador.navegaNovaCor}"/>
                                        <fc:outputLabelObrigatorio value="Ano de Fabricação:" for="anofabricacao"/>
                                        <p:inputMask id="anofabricacao"
                                                     value="#{permissaoTransportePrettyControlador.veiculoPermissionario.veiculoTransporte.anoFabricacao}"
                                                     mask="9999"
                                                     style="margin-right: 10px;">
                                            <p:ajax process="@this" event="blur"/>
                                        </p:inputMask>
                                        <p:spacer/>
                                    </h:panelGrid>
                                    <h:panelGrid columns="3">
                                        <fc:outputLabelObrigatorio value="Nota Fiscal:"/>
                                        <p:inputText id="notafiscal" styleClass="maiusculo"
                                                     maxlength="70"
                                                     value="#{permissaoTransportePrettyControlador.veiculoPermissionario.veiculoTransporte.notaFiscal}">
                                            <p:ajax process="@this" event="blur"/>
                                        </p:inputText>
                                        <p:spacer/>
                                        <fc:outputLabelObrigatorio value="Município Emplac.:" for="muniEmplac"/>
                                        <p:autoComplete queryDelay="1000" id="muniEmplac"
                                                        forceSelection="true"
                                                        value="#{permissaoTransportePrettyControlador.veiculoPermissionario.veiculoTransporte.cidade}"
                                                        completeMethod="#{permissaoTransportePrettyControlador.completaCidade}"
                                                        converter="#{permissaoTransportePrettyControlador.converterCidade}"
                                                        styleClass="margem-direita-cinco-pixels"
                                                        var="cidade"
                                                        itemLabel="#{cidade.nome} "
                                                        itemValue="#{cidade.id}"
                                                        size="20"
                                                        maxResults="10">
                                            <p:ajax event="itemSelect" process="@this" update="ufMuniEmplac"/>
                                        </p:autoComplete>
                                        <p:inputText id="ufMuniEmplac"
                                                     readonly="true"
                                                     value="#{permissaoTransportePrettyControlador.veiculoPermissionario.veiculoTransporte.cidade.uf.uf}"
                                                     size="2">
                                        </p:inputText>
                                        <fc:outputLabelObrigatorio value="Modelo:" for="modelo"/>
                                        <p:autoComplete queryDelay="1000" id="modelo"
                                                        maxResults="10"
                                                        value="#{permissaoTransportePrettyControlador.veiculoPermissionario.veiculoTransporte.modelo}"
                                                        completeMethod="#{permissaoTransportePrettyControlador.completaModelo}"
                                                        converter="#{modeloControlador.converterGenerico}"
                                                        var="modelo"
                                                        disabled="#{permissaoTransportePrettyControlador.marcaVeiculo.id eq null}"
                                                        itemLabel="#{modelo.descricao}"
                                                        itemValue="#{modelo.id}">
                                            <p:ajax process="@this" event="itemSelect"/>
                                        </p:autoComplete>
                                        <p:commandButton icon="ui-icon-circle-plus"
                                                         actionListener="#{permissaoTransportePrettyControlador.navegaNovoModelo()}"/>
                                        <fc:outputLabelObrigatorio value="Chassi:" for="chassi"/>
                                        <p:inputText id="chassi"
                                                     value="#{permissaoTransportePrettyControlador.veiculoPermissionario.veiculoTransporte.chassi}"
                                                     style="margin-right: 10px;"
                                                     styleClass="maiusculo">
                                            <p:ajax process="@this" event="blur"/>
                                        </p:inputText>
                                        <p:spacer/>
                                        <fc:outputLabelObrigatorio value="Combustível:" for="combustivel"/>
                                        <p:autoComplete queryDelay="1000" id="combustivel"
                                                        styleClass="maiusculo"
                                                        forceSelection="true"
                                                        value="#{permissaoTransportePrettyControlador.veiculoPermissionario.veiculoTransporte.combustivel}"
                                                        completeMethod="#{permissaoTransportePrettyControlador.completaCombustivel}"
                                                        converter="#{combustivelControlador.converterGenerico}"
                                                        var="comb"
                                                        itemLabel="#{comb.descricao} "
                                                        itemValue="#{comb.id}"
                                                        maxResults="10">
                                            <p:ajax update=":Formulario:tabViewGeral:painel-detalhes-veiculo"
                                                    event="itemSelect"
                                                    process="@this"/>
                                        </p:autoComplete>
                                        <p:commandButton icon="ui-icon-circle-plus"
                                                         actionListener="#{permissaoTransportePrettyControlador.navegaNovoCombustivel}"/>
                                        <h:outputLabel value="Categoria do Veículo:"
                                                       rendered="#{!permissaoTransportePrettyControlador.selecionado.motoTaxi}"/>
                                        <h:selectOneMenu
                                            value="#{permissaoTransportePrettyControlador.veiculoPermissionario.categoriaVeiculo}"
                                            rendered="#{!permissaoTransportePrettyControlador.selecionado.motoTaxi}">
                                            <f:selectItems
                                                value="#{permissaoTransportePrettyControlador.categoriasVeiculo}"/>
                                            <p:ajax process="@this" event="blur"/>
                                        </h:selectOneMenu>
                                        <p:spacer
                                            rendered="#{!permissaoTransportePrettyControlador.selecionado.motoTaxi}"/>
                                        <fc:outputLabelObrigatorio value="Ano do Modelo:" for="anomodelo"/>
                                        <p:inputMask id="anomodelo"
                                                     value="#{permissaoTransportePrettyControlador.veiculoPermissionario.veiculoTransporte.anoModelo}"
                                                     mask="9999">
                                            <p:ajax process="@this" event="blur"/>
                                        </p:inputMask>
                                        <p:spacer/>
                                    </h:panelGrid>
                                </h:panelGrid>
                                <br/>
                            </p:outputPanel>
                        </p:outputPanel>
                        <p:commandButton
                            rendered="#{permissaoTransportePrettyControlador.veiculoPermissionario.id eq null}"
                            value="Adicionar Veículo"
                            styleClass="operacao prioritario"
                            icon="ui-icon-arrowstop-1-s"
                            update="tabelaVeiculos painel-geral-veiculo"
                            onclick="confirmaCadastroVeiculo.show()"/>
                        <p:commandButton style="background-color: #d9534f!important;
                                                color: #ffffff!important;
                                                border-color: #d9534f!important;"
                                         rendered="#{permissaoTransportePrettyControlador.permissaoInserirVeiculoEspecial
                                                   and permissaoTransportePrettyControlador.veiculoPermissionario.id eq null}"
                                         styleClass="operacao"
                                         value="Adicionar Veículo Gestor"
                                         onclick="confirmaCadastroVeiculoGestor.show()"/>
                        <p:commandButton
                            rendered="#{permissaoTransportePrettyControlador.veiculoPermissionario.id ne null}"
                            actionListener="#{permissaoTransportePrettyControlador.atualizarVeiculo}"
                            value="Salvar Veículo"
                            styleClass="operacao prioritario"
                            icon="ui-icon-arrowstop-1-s"
                            onclick="aguarde.show()"
                            process="@this"
                            oncomplete="aguarde.hide"/>
                        <p:commandButton
                            rendered="#{permissaoTransportePrettyControlador.veiculoPermissionario.id ne null}"
                            value="Cancelar"
                            onclick="aguarde.show()"
                            oncomplete="aguarde.hide()"
                            styleClass="operacao"
                            icon="ui-icon-closethick"
                            update="@form"
                            actionListener="#{permissaoTransportePrettyControlador.cancelarAtualizacaoVeiculo}"/>
                        <br/>
                        <br/>
                        <p:dataTable paginator="true"
                                     id="tabelaVeiculos"
                                     value="#{permissaoTransportePrettyControlador.selecionado.listaDeVeiculos}"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>VEÍCULOS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="veiculo">
                            <p:column>
                                <p:panel style="#{veiculo.finalVigencia ne null ? 'opacity: 0.4': '' }">
                                    <table>
                                        <tr>
                                            <td>
                                                <table>
                                                    <tr>
                                                        <td style="width: 20%">
                                                            <h:outputLabel value="Placa:" styleClass="negrito"/>
                                                        </td>
                                                        <td style="width: 20%">
                                                            <h:outputText value="#{veiculo.veiculoTransporte.placa}"/>
                                                        </td>
                                                        <td><h:outputLabel value="Nota Fiscal:" styleClass="negrito"/>
                                                        </td>
                                                        <td><h:outputText
                                                            value="#{veiculo.veiculoTransporte.notaFiscal}"/></td>
                                                    </tr>
                                                    <tr>
                                                        <td><h:outputLabel value="Espécie:" styleClass="negrito"/></td>
                                                        <td><h:outputText value="#{veiculo.veiculoTransporte.especie}"/>
                                                        </td>
                                                        <td><h:outputLabel value="Município Emplac.:"
                                                                           styleClass="negrito"/></td>
                                                        <td><h:outputText
                                                            value="#{veiculo.veiculoTransporte.cidade} - #{veiculo.veiculoTransporte.cidade.uf}"/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td><h:outputLabel value="Marca:" styleClass="negrito"/></td>
                                                        <td><h:outputText
                                                            value="#{veiculo.veiculoTransporte.modelo.marca}"/></td>
                                                        <td><h:outputLabel value="Modelo:" styleClass="negrito"/></td>
                                                        <td><h:outputText value="#{veiculo.veiculoTransporte.modelo}"/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td><h:outputLabel value="Tipo do Veículo:"
                                                                           styleClass="negrito"/></td>
                                                        <td><h:outputText
                                                            value="#{veiculo.veiculoTransporte.tipoVeiculo}"/></td>
                                                        <td><h:outputLabel value="Chassi:" styleClass="negrito"/></td>
                                                        <td><h:outputText value="#{veiculo.veiculoTransporte.chassi}"/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td><h:outputLabel value="CAP/POT/CL:" styleClass="negrito"/>
                                                        </td>
                                                        <td><h:outputText
                                                            value="#{veiculo.veiculoTransporte.cappotcl}"/></td>
                                                        <td><h:outputLabel value="Combustível:" styleClass="negrito"/>
                                                        </td>
                                                        <td><h:outputText
                                                            value="#{veiculo.veiculoTransporte.combustivel}"/></td>
                                                    </tr>
                                                    <tr>
                                                        <td><h:outputLabel value="Cor Predominante:"
                                                                           styleClass="negrito"/></td>
                                                        <td><h:outputText
                                                            value="#{veiculo.veiculoTransporte.cor.descricao}"/>
                                                        </td>
                                                        <td><h:outputLabel value="Categoria do Veículo:"
                                                                           styleClass="negrito"
                                                                           rendered="#{!permissaoTransportePrettyControlador.selecionado.motoTaxi}"/>
                                                        </td>
                                                        <td><h:outputText value="#{veiculo.categoriaVeiculo.descricao}"
                                                                          rendered="#{!permissaoTransportePrettyControlador.selecionado.motoTaxi}"/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td><h:outputLabel value="Ano de Fabricação:"
                                                                           styleClass="negrito"/></td>
                                                        <td><h:outputText
                                                            value="#{veiculo.veiculoTransporte.anoFabricacao}"
                                                            mask="9999"/></td>
                                                        <td><h:outputLabel value="Ano do Modelo:" styleClass="negrito"/>
                                                        </td>
                                                        <td><h:outputText
                                                            value="#{veiculo.veiculoTransporte.anoModelo}"/></td>
                                                    </tr>
                                                </table>
                                            </td>
                                            <td style="width: 10%">
                                                <p:commandButton title="Clique para baixar o veículo"
                                                                 rendered="#{veiculo.finalVigencia eq null and veiculo.baixaVeiculoPermissionario eq null}"
                                                                 actionListener="#{permissaoTransportePrettyControlador.preparaBaixaVeiculo(veiculo)}"
                                                                 value="Baixar Veículo"
                                                                 styleClass="operacao"
                                                                 style="width: 100%"
                                                                 icon="ui-icon-circle-arrow-s"
                                                                 onclick="confirmBaixaVeiculo.show()"/>
                                                <p:commandButton
                                                    title="Clique para baixar o veículo atual e inserir veículo outro veículo"
                                                    rendered="#{veiculo.finalVigencia eq null and veiculo.baixaVeiculoPermissionario eq null}"
                                                    actionListener="#{permissaoTransportePrettyControlador.preparaBaixaInsercaoVeiculo(veiculo)}"
                                                    style="width: 100%"
                                                    value="Baixar e Inserir"
                                                    styleClass="operacao"
                                                    icon="ui-icon-arrowthick-2-n-s"
                                                    onclick="confirmaBaixaInsercao.show()"/>
                                                <p:outputPanel
                                                    rendered="#{veiculo.finalVigencia ne null or veiculo.baixaVeiculoPermissionario ne null}">
                                                    <table>
                                                        <tr>
                                                            <td style="width: 45%"><h:outputLabel value="Baixado em:"
                                                                                                  styleClass="negrito"/>
                                                            </td>
                                                            <td><h:outputText
                                                                value="#{veiculo.finalVigencia ne null ? veiculo.finalVigencia : veiculo.baixaVeiculoPermissionario.realizadaEm}">
                                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                                            </h:outputText></td>
                                                        </tr>
                                                        <tr>
                                                            <td><h:outputLabel value="Usuário:" styleClass="negrito"/>
                                                            </td>
                                                            <td>
                                                                <h:outputText
                                                                    value="#{veiculo.baixaVeiculoPermissionario.usuarioSistema.login}"/>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </p:outputPanel>
                                            </td>
                                        </tr>
                                    </table>
                                </p:panel>
                            </p:column>
                            <p:column style="text-align: center; width: 3%">
                                <h:panelGrid columns="1">
                                    <p:spacer height="3"/>
                                    <p:commandButton id="btnEditarVeiculo"
                                                     disabled="#{veiculo.finalVigencia ne null or veiculo.baixaVeiculoPermissionario ne null}"
                                                     onclick="aguarde.show()"
                                                     oncomplete="aguarde.hide()"
                                                     icon="ui-icon-pencil"
                                                     title="Editar Veículo"
                                                     actionListener="#{permissaoTransportePrettyControlador.atribuiVeiculoPermissionarioParaEditar(veiculo)}"
                                                     update="@form"/>

                                    <p:spacer rendered="#{veiculo.baixaVeiculoPermissionario eq null}" height="3"/>
                                    <p:commandButton id="btnReativarVeiculo"
                                                     disabled="#{(veiculo.finalVigencia ne null
                                                               and veiculo.baixaVeiculoPermissionario ne null)
                                                               or !permissaoTransportePrettyControlador.permissaoReativarVeiculoEspecial
                                                               or permissaoTransportePrettyControlador.selecionado.veiculoVigente ne null}"
                                                     icon="ui-icon-refresh"
                                                     title="Reativar Veículo"
                                                     onclick="confirmReativacaoVeiculo.show()"
                                                     actionListener="#{permissaoTransportePrettyControlador.atribuiVeiculoPermissionarioParaEditar(veiculo)}"/>
                                    <p:spacer height="3"/>
                                </h:panelGrid>
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                    <!--==================================================MOTORISTA======================================================-->
                    <p:tab id="motorista-auxiliar-tab"
                           title="Motorista(s) Auxiliar(es)">
                        <p:panel id="painel-geral-motorista-auxiliar">
                            <table>
                                <tr>
                                    <td style="width: 80%">
                                        <p:outputPanel>
                                            <h:panelGrid columns="3">
                                                <fc:outputLabelObrigatorio value="Motorista Auxiliar:"
                                                                           for="motorista-auxiliar"/>
                                                <p:autoComplete queryDelay="1000" id="motorista-auxiliar"
                                                                title="Digite o nome do motorista auxiliar"
                                                                value="#{permissaoTransportePrettyControlador.motoristaAuxiliar.cadastroEconomico}"
                                                                completeMethod="#{permissaoTransportePrettyControlador.completaMotorista}"
                                                                var="ce"
                                                                itemLabel="#{ce.inscricaoCadastral} #{ce.pessoa.nome} #{ce.pessoa.cpf_Cnpj}"
                                                                itemValue="#{ce.id}"
                                                                maxResults="10"
                                                                size="100"
                                                                converter="#{cadastroEconomicoControlador.converterGenerico}">
                                                    <p:ajax event="itemSelect"
                                                            update=":Formulario:tabViewGeral:painel-geral-motorista-auxiliar"
                                                            listener="#{permissaoTransportePrettyControlador.carregaDependenciasMotoristaAuxiliar()}"/>
                                                </p:autoComplete>
                                                <p:commandButton icon="ui-icon-circle-plus"
                                                                 actionListener="#{permissaoTransportePrettyControlador.navegaNovoMotorista()}"/>
                                                <fc:outputLabelObrigatorio value="Nome Reduzido:"
                                                                           for="motorista-auxiliar-nome-reduzido"/>
                                                <p:inputText id="motorista-auxiliar-nome-reduzido"
                                                             value="#{permissaoTransportePrettyControlador.motoristaAuxiliar.nomeReduzidoMotorista}"/>
                                                <p:spacer/>
                                                <h:outputLabel value="R.G.:" for="motorista-auxiliar-rg"/>
                                                <h:outputText id="motorista-auxiliar-rg"
                                                              value="#{permissaoTransportePrettyControlador.rgMotoristaAuxiliar.toStringNumeroOrgaoEmissor}"/>
                                                <p:spacer/>
                                                <h:outputLabel value="C.P.F.:" for="motorista-auxiliar-cpf"/>
                                                <h:outputText id="motorista-auxiliar-cpf"
                                                              mask="999.999.999-99"
                                                              value="#{permissaoTransportePrettyControlador.motoristaAuxiliar.pessoaFisica.cpf}"/>
                                                <p:spacer/>
                                                <h:outputLabel value="Sindicato:" for="motorista-auxiliar-sindicato"/>
                                                <p:inputText id="motorista-auxiliar-sindicato"
                                                             value="#{permissaoTransportePrettyControlador.motoristaAuxiliar.sindicato}"/>
                                                <p:spacer/>
                                                <h:outputLabel value="Pasta:" for="motorista-auxiliar-pasta"/>
                                                <p:inputText id="motorista-auxiliar-pasta"
                                                             value="#{permissaoTransportePrettyControlador.motoristaAuxiliar.pasta}"/>
                                            </h:panelGrid>
                                        </p:outputPanel>
                                    </td>
                                    <td>
                                        <h:panelGroup style="width: 100%;text-align: center">
                                            <p:outputPanel
                                                rendered="#{permissaoTransportePrettyControlador.motoristaAuxiliar.cadastroEconomico.pessoa.arquivo.id eq null}">
                                                <img src="#{request.contextPath}/css/images/semfoto2.jpg"
                                                     id="maSemFoto"
                                                     height="210"
                                                     width="210"
                                                     class="img-circle"
                                                     alt="Foto do Motorista"/>
                                            </p:outputPanel>
                                            <p:outputPanel
                                                rendered="#{permissaoTransportePrettyControlador.motoristaAuxiliar.cadastroEconomico.pessoa.arquivo.id ne null}">
                                                <img
                                                    src="#{request.contextPath}/arquivos/#{permissaoTransportePrettyControlador.motoristaAuxiliar.cadastroEconomico.pessoa.arquivo.nome}?id=#{permissaoTransportePrettyControlador.motoristaAuxiliar.cadastroEconomico.pessoa.arquivo.id}"
                                                    id="maFotoUpload"
                                                    class="img-circle"
                                                    height="210"
                                                    width="210"
                                                    alt="/css/images/semfoto2.jpg"/>
                                            </p:outputPanel>
                                        </h:panelGroup>
                                    </td>
                                </tr>
                            </table>

                            <br/>
                            <p:tabView id="tabmotorista">
                                <p:tab title="Endereço(s)">
                                    <p:dataTable paginator="true"
                                                 id="tabelaEnderecoMotoristasAuxiliares"
                                                 value="#{permissaoTransportePrettyControlador.enderecosMotoristaAuxiliar}"
                                                 rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                                 rowIndexVar="rowIx"
                                                 styleClass="mtop05"
                                                 emptyMessage="Não foram localizados registros para serem apresentados"
                                                 rows="10"
                                                 paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>ENDEREÇOS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                 currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                                 rowsPerPageTemplate="10,25,50,100"
                                                 var="end">

                                        <p:column headerText="Logradouro" styleClass="alinhamentoEsquerda">
                                            <h:outputText value="#{end.logradouro}"/>
                                        </p:column>
                                        <p:column headerText="Nº" style="width: 80px!important;"
                                                  styleClass="alinhamentoCentralizado">
                                            <h:outputText value="#{end.numero}"/>
                                        </p:column>
                                        <p:column headerText="Bairro" styleClass="alinhamentoEsquerda">
                                            <h:outputText value="#{end.bairro}"/>
                                        </p:column>
                                        <p:column headerText="UF" style="width: 100px!important;"
                                                  styleClass="alinhamentoCentralizado">
                                            <h:outputText value="#{end.uf}"/>
                                        </p:column>
                                        <p:column headerText="Cep" style="width: 80px!important;"
                                                  styleClass="alinhamentoEsquerda">
                                            <h:outputText value="#{end.cep}"/>
                                        </p:column>
                                        <p:column headerText="Principal" style="width: 80px!important;"
                                                  styleClass="alinhamentoCentralizado">
                                            <h:outputText value="#{utilBean.converterBooleanSimOuNao(end.principal)}"/>
                                        </p:column>
                                    </p:dataTable>

                                </p:tab>
                                <p:tab title="Telefone(s)">
                                    <p:dataTable paginator="true"
                                                 id="tabelaTelefoneMotoristasAuxiliares"
                                                 value="#{permissaoTransportePrettyControlador.telefonesMotoristaAuxiliar}"
                                                 rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                                 rowIndexVar="rowIx"
                                                 styleClass="mtop05"
                                                 emptyMessage="Não foram localizados registros para serem apresentados"
                                                 rows="10"
                                                 paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>TELEFONES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                 currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                                 rowsPerPageTemplate="10,25,50,100"
                                                 var="fone">

                                        <p:column headerText="Telefone" styleClass="alinhamentoEsquerda">
                                            <h:outputText value="#{fone.telefone}"/>
                                        </p:column>
                                        <p:column headerText="Tipo" style="width: 90px!important;"
                                                  styleClass="alinhamentoCentralizado">
                                            <h:outputText value="#{fone.tipoFone.tipoFone}"/>
                                        </p:column>
                                        <p:column headerText="Principal"
                                                  style="width: 80px!important;" styleClass="alinhamentoCentralizado">
                                            <h:outputText value="#{utilBean.converterBooleanSimOuNao(fone.principal)}"/>
                                        </p:column>
                                    </p:dataTable>
                                </p:tab>
                            </p:tabView>
                        </p:panel>
                        <br/>
                        <p:commandButton value="Adicionar Motorista"
                                         styleClass="operacao prioritario"
                                         icon="ui-icon-arrowstop-1-s"
                                         onclick="confirmaCadastroMotorista.show()"
                                         rendered="#{permissaoTransportePrettyControlador.motoristaAuxiliar.id eq null}"/>
                        <p:commandButton
                            rendered="#{permissaoTransportePrettyControlador.motoristaAuxiliar.id ne null}"
                            actionListener="#{permissaoTransportePrettyControlador.atualizarMotorista}"
                            value="Salvar Motorista"
                            styleClass="operacao prioritario"
                            icon="ui-icon-arrowstop-1-s"
                            update="tabelaVeiculos painel-geral-veiculo"
                            onclick="aguarde.show()"
                            oncomplete="aguarde.hide"/>
                        <p:commandButton
                            rendered="#{permissaoTransportePrettyControlador.motoristaAuxiliar.id ne null}"
                            value="Cancelar"
                            oncomplete="aguarde.hide()"
                            onclick="aguarde.show()"
                            styleClass="operacao"
                            icon="ui-icon-closethick"
                            update="painel-geral-motorista-auxiliar"
                            actionListener="#{permissaoTransportePrettyControlador.cancelarAtualizacaoMotorista}"/>

                        <p:commandButton style="background-color: #d9534f!important;
                                                color: #ffffff!important;
                                                border-color: #d9534f!important;"
                                         rendered="#{permissaoTransportePrettyControlador.permissaoInserirMotoristaEspecial}"
                                         styleClass="operacao"
                                         title="Adicionar Veículo(PERFIL GESTOR)"
                                         value="Adicionar Motorista Gestor"
                                         onclick="confirmaCadastroMotoristaGestor.show()"/>
                        <br/>
                        <br/>
                        <p:dataTable paginator="true"
                                     id="tabelaMotoristasAuxiliares"
                                     value="#{permissaoTransportePrettyControlador.selecionado.motoristasAuxiliares}"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>MOTORISTAS AUXILIARES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="motoAux">
                            <p:column>
                                <p:panel style="#{motoAux.finalVigencia ne null ? 'opacity: 0.4': '' }">
                                    <table id="tabelaMotoristas">
                                        <tr style="width: 100%">
                                            <td style="width: 10%; text-align: center">

                                                <p:outputPanel
                                                    rendered="#{motoAux.cadastroEconomico.pessoa.arquivo.id eq null}">
                                                    <img src="#{request.contextPath}/css/images/semfoto2.jpg"
                                                         id="maSemFoto"
                                                         height="100"
                                                         width="100"
                                                         class="img-circle"
                                                         alt="Foto do Motorista"/>
                                                </p:outputPanel>
                                                <p:outputPanel
                                                    rendered="#{motoAux.cadastroEconomico.pessoa.arquivo.id ne null}">
                                                    <img
                                                        src="#{request.contextPath}/arquivos/#{motoAux.cadastroEconomico.pessoa.arquivo.nome}?id=#{motoAux.cadastroEconomico.pessoa.arquivo.id}"
                                                        id="maFotoUpload"
                                                        class="img-circle"
                                                        height="100"
                                                        width="100"
                                                        alt="/css/images/semfoto2.jpg"/>
                                                </p:outputPanel>
                                            </td>
                                            <td>
                                                <p:outputPanel>
                                                    <table>
                                                        <tr>
                                                            <td style="width: 8%">
                                                                <h:outputLabel value="Nome:" styleClass="negrito"/></td>
                                                            <td style="width: 35%">
                                                                <h:outputLabel value="#{motoAux.pessoaFisica.nome}"/>
                                                            </td>
                                                            <td>
                                                                <h:outputLabel value="CNH:" styleClass="negrito"/>
                                                            </td>
                                                            <td>
                                                                <h:outputLabel value="#{motoAux.pessoaFisica.CNH}"/>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <h:outputLabel value="Nome Resuzido:"
                                                                               styleClass="negrito"/>
                                                            </td>
                                                            <td>
                                                                <h:outputLabel
                                                                    value="#{motoAux.nomeReduzidoMotorista}"/>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td style="width: 5%">
                                                                <h:outputLabel value="C.M.C:" styleClass="negrito"/>
                                                            </td>
                                                            <td>
                                                                <h:outputLabel
                                                                    value="#{motoAux.cadastroEconomico.inscricaoCadastral}"/>
                                                            </td>
                                                            <td>
                                                                <h:outputLabel value="RG:" styleClass="negrito"/>
                                                            </td>
                                                            <td>
                                                                <h:outputLabel value="#{motoAux.pessoaFisica.rg}"/>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td style="width: 8%">
                                                                <h:outputLabel value="Data de Abertura:"
                                                                               styleClass="negrito"/></td>
                                                            <td>
                                                                <h:outputLabel value="#{motoAux.inicioVigencia}">
                                                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                                                </h:outputLabel>
                                                            </td>
                                                            <td>
                                                                <h:outputLabel value="CPF:" styleClass="negrito"/>
                                                            </td>
                                                            <td>
                                                                <h:outputLabel value="#{motoAux.pessoaFisica.cpf}"/>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td style="width: 8%">
                                                                <h:outputLabel value="Ativo:" styleClass="negrito"/>
                                                            </td>
                                                            <td>
                                                                <h:outputLabel
                                                                    value="#{motoAux.finalVigencia eq null ? 'SIM' : 'NÃO'}"/>
                                                            </td>
                                                            <td>
                                                                <h:outputLabel value="Endereço:" styleClass="negrito"/>
                                                            </td>
                                                            <td>
                                                                <h:outputLabel
                                                                    value="#{motoAux.pessoaFisica.enderecoPrincipal}"/>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td style="width: 8%">
                                                                <h:outputLabel value="Pasta:" styleClass="negrito"/>
                                                            </td>
                                                            <td>
                                                                <h:outputLabel
                                                                    value="#{motoAux.pasta}"/>
                                                            </td>
                                                            <td>
                                                                <h:outputLabel value=""/>
                                                            </td>
                                                            <td>
                                                                <h:outputLabel value=""/>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </p:outputPanel>
                                            </td>
                                            <td style="width: 15%; text-align: center">
                                                <p:commandButton id="baixaMotorista"
                                                                 title="Clique para baixar o motorista"
                                                                 value="Baixar Motorista"
                                                                 styleClass="operacao"
                                                                 onclick="confirmBaixaMotorista.show()"
                                                                 icon="ui-icon-circle-arrow-s"
                                                                 actionListener="#{permissaoTransportePrettyControlador.preparaBaixaMotorista(motoAux)}"
                                                                 rendered="#{motoAux.finalVigencia eq null}">
                                                </p:commandButton>
                                                <p:outputPanel style="text-align: left"
                                                               rendered="#{motoAux.finalVigencia ne null}">
                                                    <table>
                                                        <tr>
                                                            <td style="width: 45%"><h:outputLabel value="Baixado em:"
                                                                                                  styleClass="negrito"/>
                                                            </td>
                                                            <td><h:outputText value="#{motoAux.finalVigencia}">
                                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                                            </h:outputText></td>
                                                        </tr>
                                                        <tr>
                                                            <td><h:outputLabel value="Usuário:" styleClass="negrito"/>
                                                            </td>
                                                            <td>
                                                                <h:outputText
                                                                    value="#{motoAux.baixaMotoristaAuxiliar.usuarioSistema.login}"/>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </p:outputPanel>
                                            </td>
                                        </tr>

                                    </table>
                                </p:panel>
                            </p:column>
                            <p:column style="text-align: center; width: 3%">
                                <h:panelGrid columns="1">
                                    <p:spacer height="3"/>
                                    <p:commandButton id="btnEditarMotorista"
                                                     disabled="#{motoAux.finalVigencia ne null
                                                                 or motoAux.baixaMotoristaAuxiliar ne null}"
                                                     onclick="aguarde.show()"
                                                     oncomplete="aguarde.hide()"
                                                     icon="ui-icon-pencil"
                                                     title="Editar Motorista"
                                                     actionListener="#{permissaoTransportePrettyControlador.atribuirMotoristaParaEditar(motoAux)}"
                                                     update="@form"/>
                                    <p:spacer rendered="#{motoAux.baixaMotoristaAuxiliar eq null}" height="3"/>
                                    <p:commandButton id="btnReativarMotorista"
                                                     disabled="#{motoAux.finalVigencia eq null
                                                              or motoAux.baixaMotoristaAuxiliar eq null
                                                              or !permissaoTransportePrettyControlador.permissaoReativarMotoristaEspecial}"
                                                     icon="ui-icon-refresh"
                                                     title="Reativar Motorista"
                                                     onclick="confirmReativacaoMotorista.show()"
                                                     actionListener="#{permissaoTransportePrettyControlador.atribuirMotoristaParaEditar(motoAux)}"/>
                                    <p:spacer height="3"/>
                                </h:panelGrid>
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                    <!--==============================================FIM MOTORISTA======================================================-->
                    <!--==============================================INICIO DEBITOS=====================================================-->
                    <p:tab title="Débitos">
                        <p:dataTable paginator="true"
                                     id="tabelaDebitos"
                                     value="#{permissaoTransportePrettyControlador.debitos}"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>DÉBITOS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="debito">
                            <p:column>
                                <table>
                                    <tr>
                                        <td style="width: 90%">
                                            <p:outputPanel>
                                                <table style="width: 90%">
                                                    <tr>
                                                        <td style="width: 8%"><h:outputLabel styleClass="negrito"
                                                                                             value="Descrição:"/>
                                                        </td>
                                                        <td><h:outputText value="#{debito.descricao}"/></td>
                                                    </tr>
                                                    <tr>
                                                        <td><h:outputLabel styleClass="negrito" value="Situação:"/></td>
                                                        <td><h:outputText
                                                            value="#{debito.resultadoParcela.situacaoDescricaoEnum}"
                                                            styleClass="#{debito.resultadoParcela.isVencido(permissaoTransportePrettyControlador.sistemaControlador.dataOperacao) ? 'vermelhonegrito'  : ''}"/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td><h:outputLabel styleClass="negrito" value="Emissão:"/></td>
                                                        <td><h:outputText value="#{debito.resultadoParcela.emissao}">
                                                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                                                        </h:outputText></td>
                                                    </tr>
                                                    <tr>
                                                        <td><h:outputLabel styleClass="negrito" value="Vencimento:"/>
                                                        </td>
                                                        <td><h:outputText
                                                            value="#{debito.resultadoParcela.vencimentoToString}"/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td><h:outputLabel styleClass="negrito" value="Valor:"/></td>
                                                        <td><h:outputText value="#{debito.resultadoParcela.valorTotal}">
                                                            <f:convertNumber pattern="###,##0.00"/>
                                                        </h:outputText>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </p:outputPanel>
                                        </td>
                                        <td class="alinhamentocentralizado" style="width: 10%;">
                                            <fc:botaoTargetBlank styleClass="botao-transparente wp-botao-tabela"
                                                                 icon="ui-icon-print"
                                                                 actionListener="#{permissaoTransportePrettyControlador.emitirDAM(debito.resultadoParcela)}"/>
                                        </td>
                                    </tr>
                                </table>
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                    <!--==============================================FIM DEBITOS========================================================-->
                    <!--==============================================INICIO TERMOS======================================================-->
                    <p:tab title="Termos">
                        <p:dataTable paginator="true"
                                     id="tabelaTermos"
                                     value="#{permissaoTransportePrettyControlador.selecionado.listaTermos}"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>TERMOS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="termo">
                            <p:column>
                                <table>
                                    <tr>
                                        <td style="width: 120px" class="alinhamentoCentralizado">
                                            <h:outputText value="#{termo.dataTermo}" title="#{termo.id}">
                                                <f:convertDateTime pattern="dd/MM/yyyy 'às' HH:mm"/>
                                            </h:outputText>
                                        </td>
                                        <td class="alinhamentoEsquerda">
                                            <h:outputText styleClass="negrito" value="#{termo.descricao}"/>
                                        </td>
                                        <td class="alinhamentocentralizado" style="width: 50px;">
                                            <fc:botaoTargetBlank styleClass="botao-transparente wp-botao-tabela"
                                                                 icon="ui-icon-print"
                                                                 imprimeNoDialog="true"
                                                                 actionListener="#{permissaoTransportePrettyControlador.verificarSeJaExisteConteudoTermo(termo)}"/>
                                        </td>
                                    </tr>
                                </table>
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                    <!--==============================================FIM TERMOS=========================================================-->
                    <!--==============================================INICIO ANEXOS======================================================-->
                    <p:tab title="Anexos">
                        <p:panel id="anexos">
                            <p:fileUpload multiple="true"
                                          cancelLabel="Cancelar"
                                          invalidSizeMessage="Arquivo maior que 10 MB."
                                          label="Selecione..."
                                          id="botaoUpload"
                                          sizeLimit="15728640"
                                          update="anexos tabelaItem"
                                          fileUploadListener="#{permissaoTransportePrettyControlador.uploadArquivo}"/>
                            <br/>
                            <p:dataTable paginator="true"
                                         id="tabelaItem"
                                         value="#{permissaoTransportePrettyControlador.selecionado.detentorArquivoComposicao.arquivosComposicao}"
                                         rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                         rowIndexVar="rowIx"
                                         styleClass="mtop05"
                                         emptyMessage="Não foram localizados registros para serem apresentados"
                                         rows="10"
                                         paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>ANEXOS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                         rowsPerPageTemplate="10,25,50,100"
                                         var="arquivoComposicao">

                                <p:column headerText="Data do Upload" style="width: 120px">
                                    <h:outputText value="#{arquivoComposicao.dataUpload}">
                                        <f:convertDateTime pattern="dd/MM/yy 'às' HH:mm"/>
                                    </h:outputText>
                                </p:column>
                                <p:column rendered="#{arquivoComposicao.arquivo.id eq null}"
                                          headerText="Visualizar"
                                          styleClass="alinhamentoEsquerda">
                                    <p:commandButton id="downloadLink"
                                                     value="Download"
                                                     ajax="false"
                                                     icon="ui-icon-circle-arrow-s"
                                                     process="@form"
                                                     update="@this"
                                                     onstart="statusDialog.show();"
                                                     oncomplete="statusDialog.hide();">
                                        <p:fileDownload
                                            value="#{permissaoTransportePrettyControlador.assistenteDetentorArquivoComposicao.getStream(arquivoComposicao)}"/>
                                    </p:commandButton>
                                </p:column>
                                <p:column rendered="#{arquivoComposicao.arquivo.id ne null}" headerText="Download"
                                          styleClass="alinhamentoEsquerda">
                                    <a title="Download"
                                       href="${facesContext.externalContext.requestContextPath}/arquivos/#{arquivoComposicao.arquivo.nome}?id=#{arquivoComposicao.arquivo.id}">#{arquivoComposicao.arquivo.nome}</a>
                                </p:column>
                                <p:column rendered="false" headerText="" style="width: 5%; text-align: center">
                                    <p:commandButton icon="ui-icon-close"
                                                     update="tabelaItem"
                                                     process="@this"
                                                     actionListener="#{permissaoTransportePrettyControlador.assistenteDetentorArquivoComposicao.removerArquivo(arquivoComposicao)}"
                                                     onclick="if(!confirm('Tem certeza que deseja remover este arquivo')) {return false;} else {statusDialog.show();}"
                                                     oncomplete="statusDialog.hide()"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                    </p:tab>
                    <!--=================================================FIM ANEXOS======================================================-->

                </p:tabView>
            </p:panel>
            <fc:rodapeVisualizarPretty controlador="#{permissaoTransportePrettyControlador}" mostrarEditar="false"
                                       mostrarExcluir="false"/>
            <fc:botaoTargetBlank label="Imprimir"
                                 styleClass="mtop10 mlef05"
                                 style="height: 30px;"
                                 title="Clique para gerar o relatório"
                                 actionListener="#{relatorioDadosPermissionario.imprimirRelatorio(permissaoTransportePrettyControlador.selecionado)}"/>

            <p:commandButton value="Gerar Cálculo" icon="ui-icon-refresh" styleClass="operacao mtop10 mlef05"
                             onclick="aguarde.show()"
                             actionListener="#{permissaoTransportePrettyControlador.iniciarCamposCalculoSuporte()}"
                             rendered="#{permissaoTransportePrettyControlador.usuarioTemAutorizacaoParaGerarCalculo()}"
                             update=":formularioGerarCalculo"
                             oncomplete="aguarde.hide(); gerarCalculo.show()"/>
        </h:form>
        <p:dialog id="dialogConfirmaCadastroMotorista"
                  widgetVar="confirmaCadastroMotorista"
                  closable="false"
                  resizable="false"
                  width="600"
                  modal="true">
            <h:form id="formularioDialogConfirmaCadastroMotorista">
                <div class="alert centralizado">
                    Ao adicionar um motorista auxiliar, o sistema realiza a seguinte operação:
                    <ul>
                        <li>
                            Gera automaticamente os termos e os débitos referentes ao cadastro.
                        </li>
                    </ul>
                    <br/>Deseja executar o cadastro?
                    <br/>
                    <br/>
                    <p:commandButton styleClass="operacao prioritario"
                                     value="Sim"
                                     oncomplete="aguarde.hide()"
                                     actionListener="#{permissaoTransportePrettyControlador.adicionarMotoristaAuxiliar()}"
                                     onclick="confirmaCadastroMotorista.hide(); aguarde.show()"
                                     icon="ui-icon-check"/>
                    <p:commandButton styleClass="operacao"
                                     value="Não"
                                     icon="ui-icon-cancel"
                                     onclick="confirmaCadastroMotorista.hide()"/>
                </div>
            </h:form>
        </p:dialog>
        <p:dialog id="dialogConfirmaCadastroVeiculo"
                  widgetVar="confirmaCadastroVeiculo"
                  closable="false"
                  resizable="false"
                  width="600"
                  modal="true">
            <h:form id="formularioDialogConfirmaCadastroVeiculo">
                <div class="alert centralizado">
                    Ao adicionar um veículo, o sistema realiza as seguintes operações:
                    <ul>
                        <li>
                            Gera automaticamente os termos e os débitos referentes ao cadastro.
                        </li>
                        <li>
                            Baixa todas as credenciais da permissão.
                        </li>
                    </ul>
                    <br/>Deseja executar o cadastro?
                    <br/>
                    <br/>
                    <p:commandButton styleClass="operacao prioritario"
                                     value="Sim"
                                     oncomplete="aguarde.hide()"
                                     actionListener="#{permissaoTransportePrettyControlador.adicionarVeiculoVisualiza}"
                                     onclick="confirmaCadastroVeiculo.hide(), aguarde.show()"
                                     icon="ui-icon-check"/>
                    <p:commandButton styleClass="operacao"
                                     value="Não"
                                     icon="ui-icon-cancel"
                                     onclick="confirmaCadastroVeiculo.hide()"/>
                </div>
            </h:form>
        </p:dialog>
        <p:dialog id="dialogConfirmaBaixaVeiculo"
                  widgetVar="confirmBaixaVeiculo"
                  closable="false"
                  resizable="false"
                  width="600"
                  modal="true">
            <h:form id="formularioDialogConfirmaBaixaVeiculo">
                <div class="alert centralizado">
                    Ao baixar um veículo, o sistema realiza as seguintes operações:
                    <ul>
                        <li>
                            Gera automaticamente os termos e os débitos referentes à baixa.
                        </li>
                        <li>
                            Baixa todas as credenciais da permissão.
                        </li>
                    </ul>
                    <br/>Deseja executar a baixa?
                    <br/>
                    <br/>
                    <p:commandButton styleClass="operacao prioritario"
                                     value="Sim"
                                     oncomplete="aguarde.hide()"
                                     actionListener="#{permissaoTransportePrettyControlador.baixarVeiculo}"
                                     onclick="confirmBaixaVeiculo.hide(), aguarde.show()"
                                     icon="ui-icon-check"/>
                    <p:commandButton styleClass="operacao"
                                     value="Não"
                                     icon="ui-icon-cancel"
                                     onclick="confirmBaixaVeiculo.hide()"/>
                </div>
            </h:form>
        </p:dialog>
        <p:dialog id="dialogConfirmaBaixaMotorista"
                  widgetVar="confirmBaixaMotorista"
                  closable="false"
                  resizable="false"
                  width="600"
                  modal="true">
            <h:form id="formularioDialogConfirmaBaixaMotorista">
                <div class="alert centralizado">
                    Ao baixar um Motorista Auxiliar, o sistema realiza a seguinte operação:
                    <ul>
                        <li>
                            Gera automaticamente os termos e os débitos referentes à baixa.
                        </li>
                    </ul>
                    <br/>Deseja executar a baixa?
                    <br/>
                    <br/>
                    <p:commandButton styleClass="operacao prioritario"
                                     value="Sim"
                                     oncomplete="aguarde.hide()"
                                     actionListener="#{permissaoTransportePrettyControlador.baixarMotorista}"
                                     onclick="confirmBaixaMotorista.hide(), aguarde.show()"
                                     icon="ui-icon-check"/>
                    <p:commandButton styleClass="operacao"
                                     value="Não"
                                     icon="ui-icon-cancel"
                                     actionListener="#{permissaoTransportePrettyControlador.negaBaixaMotorista}"
                                     onclick="confirmBaixaMotorista.hide()"/>
                </div>
            </h:form>
        </p:dialog>
        <p:dialog id="dialogConfirmaReativacaoVeiculo"
                  widgetVar="confirmReativacaoVeiculo"
                  closable="false"
                  resizable="false"
                  width="600"
                  modal="true">
            <h:form id="formularioDialogConfirmaReativacaoVeiculo">
                <div class="alert centralizado">
                    O processo de reativação do veículo não gera nenhum débito, e somente pode ser revertido com o processo de baixa.
                    <ul>
                        <li>
                            Baixa todas as credenciais da permissão.
                        </li>
                    </ul>
                    <br/>Deseja executar a Reativação do Veículo?
                    <br/>
                    <br/>
                    <p:commandButton styleClass="operacao prioritario"
                                     value="Sim"
                                     actionListener="#{permissaoTransportePrettyControlador.reativarVeiculo}"
                                     onclick="confirmReativacaoVeiculo.hide(), aguarde.show()"
                                     icon="ui-icon-check"/>
                    <p:commandButton styleClass="operacao"
                                     value="Não"
                                     icon="ui-icon-cancel"
                                     actionListener="#{permissaoTransportePrettyControlador.negaReativacaoVeiculo}"
                                     onclick="confirmReativacaoVeiculo.hide()"/>
                </div>
            </h:form>
        </p:dialog>
        <p:dialog id="dialogConfirmaReativacaoMotorista"
                  widgetVar="confirmReativacaoMotorista"
                  closable="false"
                  resizable="false"
                  width="600"
                  modal="true">
            <h:form id="formularioDialogConfirmaReativacaoMotorista">
                <div class="alert centralizado">
                    O processo de reativação do Motorista não gera nenhum débito, e somente pode ser revertido com o processo de baixa.
                    <ul>
                        <li>
                            Baixa todas as credenciais da permissão.
                        </li>
                    </ul>
                    <br/>Deseja executar a Reativação do Motorista?
                    <br/>
                    <br/>
                    <p:commandButton styleClass="operacao prioritario"
                                     value="Sim"
                                     actionListener="#{permissaoTransportePrettyControlador.reativarMotorista}"
                                     onclick="confirmReativacaoMotorista.hide(), aguarde.show()"
                                     icon="ui-icon-check"/>
                    <p:commandButton styleClass="operacao"
                                     value="Não"
                                     icon="ui-icon-cancel"
                                     actionListener="#{permissaoTransportePrettyControlador.negaReativacaoMotorista}"
                                     onclick="confirmReativacaoMotorista.hide()"/>
                </div>
            </h:form>
        </p:dialog>
        <p:dialog id="dialogConfirmaCadastroVeiculoGestor"
                  widgetVar="confirmaCadastroVeiculoGestor"
                  closable="false"
                  resizable="false"
                  width="600"
                  modal="true">
            <h:form id="formularioDialogConfirmaCadastroVeiculoGestor">
                <div class="alert centralizado">
                    Ao adicionar um veículo com o PERFIL GESTOR, o veículo é inserido sem nenhum débito e não gera termos.
                    <ul>
                        <li>
                            Baixa todas as credenciais da permissão.
                        </li>
                    </ul>
                    <br/>Deseja executar o cadastro?
                    <br/>
                    <br/>
                    <p:commandButton styleClass="operacao prioritario"
                                     value="Sim"
                                     actionListener="#{permissaoTransportePrettyControlador.adicionarVeiculoGestor}"
                                     onclick="confirmaCadastroVeiculoGestor.hide(), aguarde.show()"
                                     oncomplete="aguarde.hide()"
                                     icon="ui-icon-check"/>
                    <p:commandButton styleClass="operacao"
                                     value="Não"
                                     icon="ui-icon-cancel"
                                     onclick="confirmaCadastroVeiculoGestor.hide()"/>
                </div>
            </h:form>
        </p:dialog>
        <p:dialog id="dialogConfirmaCadastroMotoristaGestor"
                  widgetVar="confirmaCadastroMotoristaGestor"
                  closable="false"
                  resizable="false"
                  width="600"
                  modal="true">
            <h:form id="formularioDialogConfirmaCadastroMotoristaGestor">
                <div class="alert centralizado">
                    Ao adicionar um Motorista com o PERFIL GESTOR, o motorista é inserido sem nenhum débito e não gera termos.
                    <ul>
                        <li>
                            Baixa todas as credenciais da permissão.
                        </li>
                    </ul>
                    <br/>Deseja executar o cadastro?
                    <br/>
                    <br/>
                    <p:commandButton styleClass="operacao prioritario"
                                     value="Sim"
                                     actionListener="#{permissaoTransportePrettyControlador.adicionarMotoristaGestor}"
                                     onclick="confirmaCadastroMotoristaGestor.hide(), aguarde.show()"
                                     oncomplete="aguarde.hide()"
                                     icon="ui-icon-check"/>
                    <p:commandButton styleClass="operacao"
                                     value="Não"
                                     icon="ui-icon-cancel"
                                     onclick="confirmaCadastroMotoristaGestor.hide()"/>
                </div>
            </h:form>
        </p:dialog>
        <p:dialog id="dialogEditarPemissionario"
                  widgetVar="editarPermissionario"
                  closable="false"
                  resizable="false"
                  header="Alteração de nome reduzido"
                  width="500"
                  modal="true">
            <h:form id="formularioDialogEditarPermissionario">
                <h:panelGrid columns="2">
                    <h:outputLabel value="Nome reduzido:"/>
                    <p:inputText size="60"
                                 maxlength="10"
                                 title="Informe um nome de no máximo 10 caracteres."
                                 styleClass="maiusculo"
                                 value="#{permissaoTransportePrettyControlador.permissionario.nomeReduzido}"/>
                </h:panelGrid>
                <br/>

                <div style="text-align: center">
                    <p:commandButton
                        actionListener="#{permissaoTransportePrettyControlador.atualizaPermissionario}"
                        value="Salvar"
                        update=":Formulario:tabViewGeral:oPanelNomeReduzido"
                        styleClass="operacao prioritario"
                        icon="ui-icon-disk"
                        onclick="editarPermissionario.hide(), aguarde.show()"
                        oncomplete="aguarde.hide()"/>
                    <p:commandButton
                        value="Cancelar"
                        onclick="editarPermissionario.hide()"
                        styleClass="operacao"
                        icon="ui-icon-closethick"/>
                </div>
            </h:form>
        </p:dialog>
        <p:dialog id="dialogEditarPontoTaxi"
                  widgetVar="editarPontoTaxi"
                  closable="false"
                  resizable="false"
                  header="Alteração do ponto de taxi"
                  width="650"
                  modal="true">
            <h:form id="formularioDialogEditarPontoTaxi">
                <h:panelGrid columns="2">
                    <h:outputLabel value="Ponto de Taxi Atual:"/>
                    <h:outputText value="#{permissaoTransportePrettyControlador.selecionado.pontoTaxi.localizacao}"
                                  styleClass="negrito"/>

                    <h:outputLabel value="Novo Ponto de Taxi:"/>
                    <h:panelGrid columns="2">
                        <p:autoComplete queryDelay="1000" id="ponto"
                                        maxResults="10"
                                        value="#{permissaoTransportePrettyControlador.pontoTaxi}"
                                        completeMethod="#{permissaoTransportePrettyControlador.completaPontoTaxi}"
                                        var="ponto"
                                        itemLabel="#{ponto.numero} #{ponto.localizacao}"
                                        itemValue="#{ponto.id}"
                                        size="70"
                                        converter="#{pontoTaxiControlador.converterGenerico}">
                            <p:ajax update="idTotalVagas idVagasDisponiveis"
                                    onstart="aguarde.show()"
                                    oncomplete="aguarde.hide()"
                                    event="itemSelect"/>
                        </p:autoComplete>
                        <p:commandButton icon="ui-icon-circle-plus"
                                         actionListener="#{permissaoTransportePrettyControlador.navegaNovoPontoTaxi()}"/>
                    </h:panelGrid>
                    <h:outputLabel value="Total de Vagas:"/>
                    <h:outputText value="#{permissaoTransportePrettyControlador.pontoTaxi.totalDeVagas}"
                                  id="idTotalVagas"
                                  styleClass="negrito"/>

                    <h:outputLabel value="Vagas Disponíveis:"/>
                    <h:outputText value="#{permissaoTransportePrettyControlador.buscarVagasDisponiveisDoPontoDeTaxi()}"
                                  id="idVagasDisponiveis"
                                  styleClass="negrito"/>
                </h:panelGrid>
                <br/>

                <div style="text-align: center">
                    <p:commandButton
                        actionListener="#{permissaoTransportePrettyControlador.salvarPermissao()}"
                        value="Salvar"
                        update=":Formulario:tabViewGeral:oPanelPontoTaxi"
                        styleClass="operacao prioritario mrig05"
                        icon="ui-icon-disk"
                        onclick="editarPontoTaxi.hide(), aguarde.show()"
                        oncomplete="aguarde.hide()"/>
                    <p:commandButton
                        value="Cancelar"
                        onclick="editarPontoTaxi.hide()"
                        styleClass="operacao"
                        icon="ui-icon-closethick"/>
                </div>
            </h:form>
        </p:dialog>
        <p:dialog id="dialogConfirmaBaixaInsercao"
                  widgetVar="confirmaBaixaInsercao"
                  closable="false"
                  resizable="false"
                  width="600"
                  modal="true">
            <h:form id="formularioDialogConfirmaBaixaInsercao">
                <div class="alert centralizado">
                    Ao realizar o procedimento de Baixa e Inserção o sistema realiza as seguintes operações:
                    <br/>
                    <ul>
                        <li>
                            Baixa o veículo atual gerando a taxa de baixa de veículo;
                        </li>
                        <li>
                            Baixa todas as credenciais da permissão
                        </li>
                        <li>
                            Insere o novo veículo gerando as taxas de inserção e de vistoria(Táxi) do veículo;
                        </li>
                        <li>
                            Gera o termo de Baixa e termo de Autorização de Baixa e Inserção de Veículo.
                        </li>
                    </ul>
                    <br/>Deseja realizar a Baixa e Inserção?
                    <br/>
                    <br/>
                    <p:commandButton styleClass="operacao prioritario"
                                     value="Sim"
                                     actionListener="#{permissaoTransportePrettyControlador.baixarAndInserirVeiculo}"
                                     onclick="confirmaBaixaInsercao.hide(), aguarde.show()"
                                     oncomplete="aguarde.hide()"
                                     icon="ui-icon-check"/>
                    <p:commandButton styleClass="operacao"
                                     value="Não"
                                     actionListener="#{permissaoTransportePrettyControlador.negaBaixaEinsercao}"
                                     icon="ui-icon-cancel"
                                     onclick="confirmaBaixaInsercao.hide(), aguarde.show()"
                                     oncomplete="aguarde.hide()"/>
                </div>
            </h:form>
        </p:dialog>
        <p:dialog id="dialogGerarCalculo"
                  widgetVar="gerarCalculo"
                  closable="false"
                  header="Gerar Cálculo para a Permissão - Suporte"
                  resizable="false"
                  width="500"
                  modal="true">
            <h:form id="formularioGerarCalculo">
                <h:panelGrid columns="2">
                    <fc:outputLabelObrigatorio value="Tipo de Débito:"/>
                    <h:selectOneMenu value="#{permissaoTransportePrettyControlador.tipoCalculoSuporte}">
                        <f:selectItems value="#{permissaoTransportePrettyControlador.tiposCalculo}"/>
                    </h:selectOneMenu>
                </h:panelGrid>
                <br/>

                <div class="centralizado">
                    <p:commandButton styleClass="operacao prioritario"
                                     value="Confirmar"
                                     actionListener="#{permissaoTransportePrettyControlador.gerarCalculoSuporte()}"
                                     onclick="gerarCalculo.hide(); aguarde.show()"
                                     oncomplete="aguarde.hide()"
                                     icon="ui-icon-check"/>
                    <p:commandButton styleClass="operacao"
                                     value="Fechar"
                                     icon="ui-icon-cancel"
                                     onclick="gerarCalculo.hide()"/>
                </div>
            </h:form>
        </p:dialog>
        <p:dialog widgetVar="confirmarDocumentos" closable="false" id="idconfirmarDocumentos"
                  modal="true" draggable="false"
                  header="Verificação de Documentos" height="80" width="400" resizable="false">
            <div class="alert alert-alert">
                <strong>Atenção!</strong> Todos os documentos verificados estão de acordo?
                <br/>

                <div align="center">
                    <h:panelGrid columns="2">
                        <p:commandButton value="Sim, Verificado!" styleClass="mtop10 mrig05 prioritario"
                                         update=":Formulario:tabViewGeral:panelVencimento"
                                         icon="ui-icon-check"
                                         onclick="confirmarDocumentos.hide(); aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         actionListener="#{permissaoTransportePrettyControlador.recuperarCredencialDeMaiorVencimento()}"
                        />
                        <p:commandButton value="Não, Pendente!" icon="ui-icon-cancel operacao"
                                         styleClass="mtop10" onclick="confirmarDocumentos.hide(); aguarde.show()"
                                         update=":Formulario:tabViewGeral:panelVencimento"
                                         oncomplete="aguarde.hide()"
                                         actionListener="#{permissaoTransportePrettyControlador.documentoNaoVerificado()}"/>
                    </h:panelGrid>
                </div>

            </div>
        </p:dialog>

        <p:dialog widgetVar="gerarNovoTermo" id="dialogGerarNovoTermo"
                  modal="true" resizable="false" dynamic="true" position="center" style="position: fixed !important">
            <h:form id="Formulario_gerarNovoTermo">
                <div class="alert centralizado">
                    <strong>
                        Atenção!
                    </strong>
                    Deseja imprimir o termo existente ou gerar um novo?
                    <br/>
                    <br/>
                    <h:panelGrid columns="3" style="width: 100%">
                        <fc:botaoTargetBlank
                            actionListener="#{permissaoTransportePrettyControlador.imprimirTermo(true)}"
                            label="Gerar Novo Termo"
                            imprimeNoDialog="true"
                            styleClass="operacao"/>
                        <fc:botaoTargetBlank
                            actionListener="#{permissaoTransportePrettyControlador.imprimirTermo(false)}"
                            label="Imprimir Termo Existente"
                            imprimeNoDialog="true"
                            styleClass="operacao"/>
                        <p:commandButton icon="ui-icon-cancel"
                                         styleClass="operacao"
                                         value="Cancelar"
                                         onclick="gerarNovoTermo.hide()"/>
                    </h:panelGrid>
                </div>
            </h:form>

        </p:dialog>

    </ui:define>
</ui:composition>
</html>
