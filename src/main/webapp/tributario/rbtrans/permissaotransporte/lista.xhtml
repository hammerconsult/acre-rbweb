<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PT"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:fc="http://java.sun.com/jsf/composite/components"
      xmlns:p="http://primefaces.org/ui">
<ui:composition template="/corpo.xhtml">
    <ui:define name="body">
        <h:form id="Formulario">
            <div align="right">
                <p:commandButton id="botaoNovo"
                                 disabled="#{!autorizacao.isPodeEditar(request)}"
                                 title="Criar Novo"
                                 value="Nova Permissão de Transporte"
                                 onclick="dialogTipoPermissao.show();"
                                 icon="ui-icon-circle-plus"
                                 styleClass="operacao prioritario">
                </p:commandButton>
            </div>
            <fc:pesquisaGenerico id="listaPermissoes"
                                 caminhoAtual="lista"
                                 caminhoControlador="#{permissaoTransportePrettyControlador.caminho}"
                                 nomeDaClasse="PermissaoTransporte"
                                 pretty="true"
                                 novo="#{permissaoTransportePrettyControlador.novo()}"
                                 mostrarBotaoNovo="false"
                                 mostrarBotaoEditaPretty="false"
                                 selecionar="#{permissaoTransportePrettyControlador.selecionar}"
                                 meuControlador="#{pesquisaPermissaoTransporteControlador}"/>
        </h:form>
        <p:dialog widgetVar="dialogTipoPermissao"
                  closable="true"
                  header="Escolha o Tipo da Permissão"
                  resizable="false"
                  draggable="false"
                  modal="true">

            <h:form id="form-dialog-escolha-tipo-permissao">
                <p:outputPanel>
                    <table>
                        <tr>
                            <td>
                                <p:button value="Táxi"
                                          styleClass="operacao prioritario"
                                          href="#{permissaoTransportePrettyControlador.caminhoPadrao}taxi/novo/"
                                          onclick="dialogTipoPermissao.hide();"/>
                            </td>
                            <td>
                                <p:button value="Moto-Táxi"
                                          styleClass="operacao prioritario"
                                          href="#{permissaoTransportePrettyControlador.caminhoPadrao}moto-taxi/novo/"
                                          onclick="dialogTipoPermissao.hide();"/>
                            </td>
                            <td>
                                <p:button value="Frete"
                                          styleClass="operacao prioritario"
                                          href="#{permissaoTransportePrettyControlador.caminhoPadrao}frete/novo/"
                                          onclick="dialogTipoPermissao.hide(); "/>
                            </td>
                        </tr>
                    </table>
                </p:outputPanel>
            </h:form>
        </p:dialog>

    </ui:define>
</ui:composition>
</html>
