<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PT"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:fc="http://java.sun.com/jsf/composite/components"
      xmlns:fct="http://java.sun.com/jsf/composite/components/tributario"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
>
<ui:composition template="/corpo.xhtml">
    <ui:define id="define_" name="body">
        <h:form id="Formulario">
            <p:panel header="Relação de Débitos À Prescrever" id="cadastros">
                <table style="width: 100%">
                    <tr>
                        <td style="width: 70%" valign="top">
                            <h:panelGrid columns="2" style="height: 30px; vertical-align: middle !important;">
                                <fc:outputLabelObrigatorio value="Tipo de Cadastro: "/>
                                <h:selectOneMenu
                                    title="Selecione o tipo de cadastro."
                                    value="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.tipoCadastroTributario}"
                                    styleClass="mtop05 mlef02">
                                    <f:selectItems
                                        value="#{relacaoDebitosAPrescreverControlador.tiposCadastro}"/>
                                    <p:ajax update="@form" process="@form"
                                            event="change" onstart="aguarde.show()"
                                            oncomplete="aguarde.hide()"
                                            listener="#{relacaoDebitosAPrescreverControlador.limparCadastroSituacao()}"/>
                                </h:selectOneMenu>
                                <h:outputLabel value="Data de Prescrição:"/>
                                <h:panelGrid columns="4">

                                    <h:outputLabel value="Inicial"/>
                                    <p:calendar onkeypress="mascara(this, mdata)"
                                                id="prescInicial"
                                                maxlength="10"
                                                style="text-align: right"
                                                pattern="dd/MM/yyyy"
                                                size="10"
                                                disabled="#{relacaoDebitosAPrescreverControlador.tipoPrazoPrescricional ne null}"
                                                value="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.dataInicialPrescricao}">
                                        <p:ajax event="blur" update="selectPrazoPrescricional" process="@this"/>
                                        <p:ajax event="dateSelect" update="selectPrazoPrescricional" process="@this"/>
                                    </p:calendar>
                                    <h:outputLabel value="Final"/>
                                    <p:calendar onkeypress="mascara(this, mdata)"
                                                maxlength="10"
                                                id="prescFinal"
                                                style="text-align: right"
                                                pattern="dd/MM/yyyy"
                                                size="10"
                                                disabled="#{relacaoDebitosAPrescreverControlador.tipoPrazoPrescricional ne null}"
                                                value="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.dataFinalPrescricao}">
                                        <p:ajax event="blur" update="selectPrazoPrescricional" process="@this"/>
                                        <p:ajax event="dateSelect" update="selectPrazoPrescricional" process="@this"/>
                                    </p:calendar>
                                </h:panelGrid>

                                <h:outputText value="Prazo Prescricional: "/>

                                <h:selectOneMenu id="selectPrazoPrescricional"
                                                 title="Selecione o prazo prescricional."
                                                 disabled="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.dataInicialPrescricao ne null
                                    or relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.dataFinalPrescricao ne null}"
                                                 value="#{relacaoDebitosAPrescreverControlador.tipoPrazoPrescricional}"
                                                 styleClass="mtop05 mlef02">
                                    <f:selectItems
                                        value="#{relacaoDebitosAPrescreverControlador.prazosPrescricionais}"/>
                                    <p:ajax event="change" update="prescInicial prescFinal" process="@this"/>
                                </h:selectOneMenu>

                                <h:outputText value="Dívida: "/>
                                <h:selectOneMenu value="#{relacaoDebitosAPrescreverControlador.objeto}"
                                                 id="divida"
                                                 converter="#{consultaDebitoControlador.converterDivida}">
                                    <f:selectItems value="#{relacaoDebitosAPrescreverControlador.dividas}"/>
                                    <p:ajax event="change" process="@this"
                                            listener="#{relacaoDebitosAPrescreverControlador.validarEAdicionaObjetos('')}"
                                            onstart="aguarde.show()" oncomplete="aguarde.hide()"
                                            update="@this dividasSelecionadas"/>
                                </h:selectOneMenu>
                                <p:spacer/>
                                <h:panelGroup id="dividasSelecionadas">
                                    <table class="table">
                                        <c:forEach
                                            items="#{relacaoDebitosAPrescreverControlador.objetosSelecionados('DIVIDA')}"
                                            var="divida">
                                            <tr>
                                                <td>
                                                    <h:outputText value="#{divida.descricao}" styleClass="negrito"/>
                                                </td>
                                                <td>
                                                    <p:commandButton icon="ui-icon-trash"
                                                                     onstart="aguarde.show()"
                                                                     oncomplete="aguarde.hide()"
                                                                     actionListener="#{relacaoDebitosAPrescreverControlador.removerObjetos(divida, '')}"
                                                                     process="dividasSelecionadas"
                                                                     update="dividasSelecionadas"/>
                                                </td>
                                            </tr>
                                        </c:forEach>
                                    </table>
                                </h:panelGroup>

                                <h:outputText value="Protestado: "/>
                                <p:selectOneRadio
                                    value="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.protestado}">
                                    <f:selectItem itemLabel="Sim" itemValue="1"/>
                                    <f:selectItem itemLabel="Não" itemValue="0"/>
                                    <f:selectItem itemLabel="Ambos" itemValue="2"/>
                                </p:selectOneRadio>
                                <h:outputText value="Ajuizado: "/>
                                <p:selectOneRadio
                                    value="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.ajuizado}">
                                    <f:selectItem itemLabel="Sim" itemValue="1"/>
                                    <f:selectItem itemLabel="Não" itemValue="0"/>
                                    <f:selectItem itemLabel="Ambos" itemValue="2"/>
                                    <p:ajax event="change"
                                            process="@form"
                                            update="@form"
                                            onstart="aguarde.show()" oncomplete="aguarde.hide()"
                                            listener="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.processarMudancaAjuizamento()}"/>
                                </p:selectOneRadio>
                                <h:outputText value="Número Ajuizamento: "
                                              rendered="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.ajuizado == 1}"/>
                                <p:inputText
                                    value="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.numeroAjuizamento}"
                                    rendered="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.ajuizado == 1}"
                                    size="25" maxlength="25"/>

                                <h:outputText value="Exercício da Dívida: "/>
                                <h:panelGrid columns="4">
                                    <h:outputLabel value="Inicial"/>
                                    <p:inputMask
                                        value="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.exercicioDividaInicial}"
                                        mask="9999" size="10">
                                        <p:ajax event="blur" process="@this"/>
                                    </p:inputMask>
                                    <h:outputLabel value="Final"/>
                                    <p:inputMask
                                        value="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.exercicioDividaFinal}"
                                        mask="9999" size="10">
                                        <p:ajax event="blur" process="@this"/>
                                    </p:inputMask>
                                </h:panelGrid>

                                <h:outputLabel value="Data de Vencimento:"/>
                                <h:panelGrid columns="4">
                                    <h:outputLabel value="Inicial"/>
                                    <p:calendar onkeypress="mascara(this, mdata)"
                                                maxlength="10"
                                                style="text-align: right"
                                                pattern="dd/MM/yyyy"
                                                size="10"
                                                value="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.dataVencimentoInicial}"/>
                                    <h:outputLabel value="Final"/>
                                    <p:calendar onkeypress="mascara(this, mdata)"
                                                maxlength="10"
                                                style="text-align: right"
                                                pattern="dd/MM/yyyy"
                                                size="10"
                                                value="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.dataVencimentoFinal}"/>
                                </h:panelGrid>

                                <h:outputText value="Situação(ões) de Pagamento:"/>
                                <p:panel style="max-height: 200px; overflow-x: auto; border: 0 !important;"
                                         styleClass="padding-zero">
                                    <p:dataTable value="#{relacaoDebitosAPrescreverControlador.todasAsSituacoes}"
                                                 var="situacao"
                                                 selection="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.situacoes}"
                                                 rowKey="#{situacao}">
                                        <p:column selectionMode="multiple" style="width:2%;"/>
                                        <p:column headerText="Situações">
                                            <h:outputText value="#{situacao.descricao}"/>
                                        </p:column>
                                    </p:dataTable>
                                </p:panel>

                            </h:panelGrid>

                            <p:panel styleClass="mtop05" style="border: none;"
                                     rendered="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.tipoCadastroTributario eq 'ECONOMICO'}">
                                <p:separator/>
                                <h:panelGrid columns="2">
                                    <h:outputText value="Situação Cadastral: "/>
                                    <h:selectOneMenu
                                        title="Selecione a Situação do Cadastro Econômico."
                                        styleClass="mrig03 mtop03"
                                        value="#{relacaoDebitosAPrescreverControlador.situacaoCadastralEconomico}"
                                        id="situacaocadastroeconomico">
                                        <f:selectItems
                                            value="#{relacaoDebitosAPrescreverControlador.situacoesCadastroEconomico}"/>
                                        <p:ajax event="change" update=":Formulario:cadastros"
                                                process=":Formulario:cadastros"
                                        />
                                    </h:selectOneMenu>

                                    <h:outputText value="Inscrição Cadastral: "/>
                                    <fct:intervaloInscricaoCadastral tipoCadastroTributario="ECONOMICO"
                                        inscricaoCadastralInicial="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.inscricaoInicial}"
                                        inscricaoCadastralFinal="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.inscricaoFinal}"/>

                                    <h:outputText value="CNAE: "/>
                                    <p:autoComplete queryDelay="1000" id="CNAE" title="Digite o CNAE"
                                                    value="#{relacaoDebitosAPrescreverControlador.objeto}"
                                                    completeMethod="#{cadastroEconomicoControlador.completaCNAE}"
                                                    var="cnae" size="70"
                                                    dropdown="true"
                                                    itemLabel="#{cnae.codigoCnae} - #{cnae.descricaoReduzida}"
                                                    itemValue="#{cnae.id}"
                                                    forceSelection="true"
                                                    converter="#{cadastroEconomicoControlador.converterCNAE}"
                                                    maxResults="10">
                                        <p:ajax event="itemSelect" process="@this" update="CNAE pn-cnae"
                                                listener="#{relacaoDebitosAPrescreverControlador.validarEAdicionaObjetos('')}"/>
                                    </p:autoComplete>
                                    <p:spacer/>
                                    <p:outputPanel id="pn-cnae">
                                        <table class="table">
                                            <ui:repeat
                                                value="#{relacaoDebitosAPrescreverControlador.objetosSelecionados('CNAE')}"
                                                var="cnae">
                                                <tr>
                                                    <td>
                                                        <h:outputText
                                                            value="#{cnae.codigoCnae} - #{cnae.descricaoReduzida}"
                                                            styleClass="negrito"/>
                                                    </td>
                                                    <td style="width: 8px;">
                                                        <p:commandButton icon="ui-icon-trash"
                                                                         actionListener="#{relacaoDebitosAPrescreverControlador.removerObjetos(cnae, '')}"
                                                                         update=":Formulario:pn-cnae"
                                                                         onclick="aguarde.show()"
                                                                         oncomplete="aguarde.hide()"/>
                                                    </td>
                                                </tr>
                                            </ui:repeat>
                                        </table>
                                    </p:outputPanel>

                                    <h:outputText value="Classificação da Atividade: "/>
                                    <h:selectOneMenu id="classAtividade"
                                                     value="#{relacaoDebitosAPrescreverControlador.objeto}">
                                        <f:selectItems
                                            value="#{relacaoDebitosAPrescreverControlador.classificacoesAtividades}"/>
                                        <p:ajax event="change" process="@this" update="classAtividade pn-classificacao"
                                                listener="#{relacaoDebitosAPrescreverControlador.validarEAdicionaObjetos('CLASSIFICACAO_ATIVIDADE')}"/>
                                    </h:selectOneMenu>
                                    <p:spacer/>
                                    <p:outputPanel id="pn-classificacao">
                                        <table class="table">
                                            <ui:repeat
                                                value="#{relacaoDebitosAPrescreverControlador.objetosSelecionados('CLASSIFICACAO_ATIVIDADE')}"
                                                var="classificacao">
                                                <tr>
                                                    <td>
                                                        <h:outputText value="#{classificacao.descricao}"
                                                                      styleClass="negrito"/>
                                                    </td>
                                                    <td style="width: 8px;">
                                                        <p:commandButton icon="ui-icon-trash"
                                                                         actionListener="#{relacaoDebitosAPrescreverControlador.removerObjetos(classificacao, 'CLASSIFICACAO_ATIVIDADE')}"
                                                                         update=":Formulario:pn-classificacao"
                                                                         onclick="aguarde.show()"
                                                                         oncomplete="aguarde.hide()"/>
                                                    </td>
                                                </tr>
                                            </ui:repeat>
                                        </table>
                                    </p:outputPanel>

                                    <h:outputText value="Tipo de Autônomo: "/>
                                    <h:selectOneMenu id="tipoAutonomo"
                                                     value="#{relacaoDebitosAPrescreverControlador.objeto}"
                                                     converter="#{tipoAutonomoControlador.converterGenerico}">
                                        <f:selectItems
                                            value="#{relacaoDebitosAPrescreverControlador.tiposAutonomos}"/>
                                        <p:ajax event="change" process="@this" update="tipoAutonomo pn-tipoautonomo"
                                                listener="#{relacaoDebitosAPrescreverControlador.validarEAdicionaObjetos('')}"/>
                                    </h:selectOneMenu>
                                    <p:spacer/>
                                    <p:outputPanel id="pn-tipoautonomo">
                                        <table class="table">
                                            <ui:repeat
                                                value="#{relacaoDebitosAPrescreverControlador.objetosSelecionados('TIPO_AUTONOMO')}"
                                                var="tipoautonomo">
                                                <tr>
                                                    <td>
                                                        <h:outputText value="#{tipoautonomo}" styleClass="negrito"/>
                                                    </td>
                                                    <td style="width: 8px;">
                                                        <p:commandButton icon="ui-icon-trash"
                                                                         actionListener="#{relacaoDebitosAPrescreverControlador.removerObjetos(tipoautonomo, '')}"
                                                                         update=":Formulario:pn-tipoautonomo"
                                                                         onclick="aguarde.show()"
                                                                         oncomplete="aguarde.hide()"/>
                                                    </td>
                                                </tr>
                                            </ui:repeat>
                                        </table>
                                    </p:outputPanel>

                                    <h:outputText value="Natureza Jurídica: "/>
                                    <h:selectOneMenu id="naturezaJuridica"
                                                     value="#{relacaoDebitosAPrescreverControlador.objeto}"
                                                     converter="#{naturezaJuridicaControlador.converterGenerico}">
                                        <f:selectItems
                                            value="${relacaoDebitosAPrescreverControlador.naturezasJuridicas}"/>
                                        <p:ajax event="change" process="@this" update="naturezaJuridica pn-natureza"
                                                listener="#{relacaoDebitosAPrescreverControlador.validarEAdicionaObjetos}"/>
                                    </h:selectOneMenu>
                                    <p:spacer/>
                                    <p:outputPanel id="pn-natureza">
                                        <table class="table">
                                            <ui:repeat
                                                value="#{relacaoDebitosAPrescreverControlador.objetosSelecionados('NATUREZA_JURIDICA')}"
                                                var="natureza">
                                                <tr>
                                                    <td>
                                                        <h:outputText value="#{natureza}" styleClass="negrito"/>
                                                    </td>
                                                    <td style="width: 8px;">
                                                        <p:commandButton icon="ui-icon-trash"
                                                                         actionListener="#{relacaoDebitosAPrescreverControlador.removerObjetos(natureza, '')}"
                                                                         update=":Formulario:pn-natureza"
                                                                         onclick="aguarde.show()"
                                                                         oncomplete="aguarde.hide()"/>
                                                    </td>
                                                </tr>
                                            </ui:repeat>
                                        </table>
                                    </p:outputPanel>

                                    <h:outputText value="Tipo de ISSQN: "/>
                                    <h:selectOneMenu
                                        value="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.tipoIssqn}">
                                        <f:selectItems
                                            value="#{relacaoDebitosAPrescreverControlador.tiposDeIssqn}"/>
                                    </h:selectOneMenu>

                                    <h:outputText value="Bairro: "/>
                                    <p:autoComplete queryDelay="1000" id="bairro" title="Selecione o Bairro"
                                                    value="#{relacaoDebitosAPrescreverControlador.objeto}"
                                                    completeMethod="#{bairroControlador.completaBairro}"
                                                    var="bairro"
                                                    size="70"
                                                    dropdown="true"
                                                    itemLabel="#{bairro}" itemValue="#{bairro.id}"
                                                    forceSelection="true"
                                                    converter="#{bairroControlador.converterGenerico}">
                                        <p:ajax event="itemSelect" process="@this"
                                                update="bairro logradouro pn-bairrosCe"
                                                listener="#{relacaoDebitosAPrescreverControlador.validarEAdicionaObjetos('')}"/>
                                    </p:autoComplete>
                                    <p:spacer/>
                                    <p:outputPanel id="pn-bairrosCe">
                                        <table class="table">
                                            <ui:repeat
                                                value="#{relacaoDebitosAPrescreverControlador.objetosSelecionados('bairro')}"
                                                var="bairro">
                                                <tr>
                                                    <td>
                                                        <h:outputText value="#{bairro}" styleClass="negrito"/>
                                                    </td>
                                                    <td style="width: 8px;">
                                                        <p:commandButton icon="ui-icon-trash"
                                                                         actionListener="#{relacaoDebitosAPrescreverControlador.removerObjetos(bairro, '')}"
                                                                         update=":Formulario:pn-bairrosCe"
                                                                         onclick="aguarde.show()"
                                                                         oncomplete="aguarde.hide()"/>
                                                    </td>
                                                </tr>
                                            </ui:repeat>
                                        </table>
                                    </p:outputPanel>

                                    <h:outputText value="Logradouro: "/>
                                    <p:autoComplete queryDelay="1000" id="logradouro" title="Selecione o Logradouro"
                                                    value="#{relacaoDebitosAPrescreverControlador.objeto}"
                                                    completeMethod="#{relacaoDebitosAPrescreverControlador.completaLogradouro}"
                                                    var="logradouro"
                                                    size="70"
                                                    dropdown="true"
                                                    itemLabel="#{logradouro}" itemValue="#{logradouro.id}"
                                                    forceSelection="true"
                                                    converter="#{logradouroControlador.converterGenerico}">
                                        <p:ajax event="itemSelect" process="@this" update="logradouro pn-logradourosCe"
                                                listener="#{relacaoDebitosAPrescreverControlador.validarEAdicionaObjetos('')}"/>
                                    </p:autoComplete>
                                    <p:spacer/>
                                    <p:outputPanel id="pn-logradourosCe">
                                        <table class="table">
                                            <ui:repeat
                                                value="#{relacaoDebitosAPrescreverControlador.objetosSelecionados('LOGRADOURO')}"
                                                var="logradouro">
                                                <tr>
                                                    <td>
                                                        <h:outputText value="#{logradouro}" styleClass="negrito"/>
                                                    </td>
                                                    <td style="width: 8px;">
                                                        <p:commandButton icon="ui-icon-trash"
                                                                         actionListener="#{relacaoDebitosAPrescreverControlador.removerObjetos(logradouro,'')}"
                                                                         update=":Formulario:pn-logradourosCe"
                                                                         onclick="aguarde.show()"
                                                                         oncomplete="aguarde.hide()"/>
                                                    </td>
                                                </tr>
                                            </ui:repeat>
                                        </table>
                                    </p:outputPanel>

                                    <h:outputText value="Porte: "/>
                                    <h:selectOneMenu
                                        value="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.tipoPorte}">
                                        <f:selectItems
                                            value="#{relacaoDebitosAPrescreverControlador.tiposPorte}"/>
                                    </h:selectOneMenu>
                                </h:panelGrid>
                            </p:panel>

                            <p:panel styleClass="mtop05" style="border: none;"
                                     rendered="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.tipoCadastroTributario eq 'IMOBILIARIO'}">
                                <p:separator/>

                                <h:panelGrid columns="2">

                                    <h:outputText value="Situação Cadastral: "/>
                                    <h:selectOneMenu
                                        title="Selecione a Situação da Pessoa."
                                        styleClass="mrig03 mtop03"
                                        value="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.situacaoCadastroImobiliario}"
                                        id="situacaocaoBci">
                                        <f:selectItems
                                            value="#{relacaoDebitosAPrescreverControlador.situacoesCadastroImobiliario}"/>
                                        <p:ajax event="change" update=":Formulario:cadastros"
                                                process=":Formulario:cadastros"
                                        />
                                    </h:selectOneMenu>

                                    <h:outputText value="Inscrição Cadastral: "/>
                                    <fct:intervaloInscricaoCadastral tipoCadastroTributario="IMOBILIARIO"
                                                                     inscricaoCadastralInicial="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.inscricaoInicial}"
                                                                     inscricaoCadastralFinal="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.inscricaoFinal}"/>

                                    <h:outputText value="Setor: "/>
                                    <h:panelGrid columns="4">

                                        <h:outputLabel value="Inicial"/>
                                        <p:inputText
                                            value="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.setorInicial}"
                                            size="5" maxlength="3"/>
                                        <h:outputLabel value="Final"/>
                                        <p:inputText
                                            value="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.setorFinal}"
                                            size="5"
                                            maxlength="3"/>
                                    </h:panelGrid>

                                    <h:outputText value="Quadra: "/>
                                    <h:panelGrid columns="4">
                                        <h:outputLabel value="Inicial"/>
                                        <p:inputText
                                            value="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.quadraInicial}"
                                            size="5" maxlength="4"/>
                                        <h:outputLabel value="Final"/>
                                        <p:inputText
                                            value="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.quadraFinal}"
                                            size="5" maxlength="4"/>
                                    </h:panelGrid>

                                    <h:outputText value="Lote: "/>
                                    <h:panelGrid columns="4">
                                        <h:outputLabel value="Inicial"/>
                                        <p:inputText
                                            value="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.loteInicial}"
                                            size="5" maxlength="4"/>
                                        <h:outputLabel value="Final"/>
                                        <p:inputText
                                            value="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.loteFinal}"
                                            size="5" maxlength="4"/>
                                    </h:panelGrid>

                                    <h:outputText value="Tipo de Imóvel: "/>
                                    <h:selectOneMenu
                                        value="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.tipoImovel}">
                                        <f:selectItems value="#{relacaoDebitosAPrescreverControlador.tiposImovel}"/>
                                    </h:selectOneMenu>

                                    <h:outputText value="Bairro: "/>
                                    <p:autoComplete queryDelay="1000" id="bairroBCI" title="Selecione o Bairro"
                                                    value="#{relacaoDebitosAPrescreverControlador.objeto}"
                                                    completeMethod="#{bairroControlador.completaBairro}"
                                                    var="bairro"
                                                    size="70"
                                                    dropdown="true"
                                                    itemLabel="#{bairro}" itemValue="#{bairro.id}"
                                                    forceSelection="true"
                                                    converter="#{bairroControlador.converterGenerico}">
                                        <p:ajax event="itemSelect" process="@this"
                                                update="logradouro bairroBCI pn-bairros"
                                                listener="#{relacaoDebitosAPrescreverControlador.validarEAdicionaObjetos('')}"/>
                                    </p:autoComplete>
                                    <p:spacer/>
                                    <p:outputPanel id="pn-bairros">
                                        <table class="table">
                                            <ui:repeat
                                                value="#{relacaoDebitosAPrescreverControlador.objetosSelecionados('bairro')}"
                                                var="bairro">
                                                <tr>
                                                    <td>
                                                        <h:outputText value="#{bairro}" styleClass="negrito"/>
                                                    </td>
                                                    <td style="width: 8px;">
                                                        <p:commandButton icon="ui-icon-trash"
                                                                         actionListener="#{relacaoDebitosAPrescreverControlador.removerObjetos(bairro,'')}"
                                                                         update=":Formulario:pn-bairros"
                                                                         onclick="aguarde.show()"
                                                                         oncomplete="aguarde.hide()"/>
                                                    </td>
                                                </tr>
                                            </ui:repeat>
                                        </table>
                                    </p:outputPanel>

                                    <h:outputText value="Logradouro: "/>
                                    <p:autoComplete queryDelay="1000" id="logradouroBCI"
                                                    title="Selecione o Logradouro"
                                                    value="#{relacaoDebitosAPrescreverControlador.objeto}"
                                                    completeMethod="#{relacaoDebitosAPrescreverControlador.completaLogradouro}"
                                                    var="logradouro"
                                                    size="70"
                                                    dropdown="true"
                                                    itemLabel="#{logradouro}" itemValue="#{logradouro.id}"
                                                    forceSelection="true"
                                                    converter="#{logradouroControlador.converterGenerico}">
                                        <p:ajax event="itemSelect" process="@this" update="logradouroBCI pn-logradouros"
                                                listener="#{relacaoDebitosAPrescreverControlador.validarEAdicionaObjetos('')}"/>
                                    </p:autoComplete>
                                    <p:spacer/>
                                    <p:outputPanel id="pn-logradouros">
                                        <table class="table">
                                            <ui:repeat
                                                value="#{relacaoDebitosAPrescreverControlador.objetosSelecionados('logradouro')}"
                                                var="logradouro">
                                                <tr>
                                                    <td>
                                                        <h:outputText value="#{logradouro}" styleClass="negrito"/>
                                                    </td>
                                                    <td style="width: 8px;">
                                                        <p:commandButton icon="ui-icon-trash"
                                                                         actionListener="#{relacaoDebitosAPrescreverControlador.removerObjetos(logradouro,'')}"
                                                                         update=":Formulario:pn-logradouros"
                                                                         onclick="aguarde.show()"
                                                                         oncomplete="aguarde.hide()"/>
                                                    </td>
                                                </tr>
                                            </ui:repeat>
                                        </table>
                                    </p:outputPanel>

                                    <h:outputText value="Proprietário: "/>
                                    <p:autoComplete queryDelay="1000" id="ac-proprietario"
                                                    title="Selecione o proprietário"
                                                    value="#{relacaoDebitosAPrescreverControlador.objeto}"
                                                    completeMethod="#{componentePesquisaPessoaControlador.completaPessoaJDBC}"
                                                    var="proprietario"
                                                    size="70"
                                                    dropdown="true"
                                                    itemLabel="#{proprietario}" itemValue="#{proprietario.id}"
                                                    forceSelection="true"
                                                    converter="#{componentePesquisaPessoaControlador.converterPessoa}">
                                        <p:ajax event="itemSelect" process="@this"
                                                update="ac-proprietario pn-proprietarios"
                                                listener="#{relacaoDebitosAPrescreverControlador.validarEAdicionaObjetos('PROPRIETARIO')}"/>
                                    </p:autoComplete>
                                    <p:spacer/>
                                    <p:outputPanel id="pn-proprietarios">
                                        <table class="table">
                                            <ui:repeat
                                                value="#{relacaoDebitosAPrescreverControlador.objetosSelecionados('PROPRIETARIO')}"
                                                var="proprietario">
                                                <tr>
                                                    <td>
                                                        <h:outputText value="#{proprietario}" styleClass="negrito"/>
                                                    </td>
                                                    <td style="width: 8px;">
                                                        <p:commandButton icon="ui-icon-trash"
                                                                         actionListener="#{relacaoDebitosAPrescreverControlador.removerObjetos(proprietario, 'PROPRIETARIO')}"
                                                                         update=":Formulario:pn-proprietarios"
                                                                         onclick="aguarde.show()"
                                                                         oncomplete="aguarde.hide()"/>
                                                    </td>
                                                </tr>
                                            </ui:repeat>
                                        </table>
                                    </p:outputPanel>

                                    <h:outputText value="Compromissário: "/>
                                    <fc:autocompletePessoa caminhoAtual=""
                                                           value="#{relacaoDebitosAPrescreverControlador.objeto}"
                                                           id="ac-compromissario" labelObrigatorio="false"
                                                           updateGeral="pn-compromissarios"
                                                           habilitaBotaoNovaPF="false"
                                                           habilitaBotaoNovaPJ="false"
                                                           habilitaBotaoLupa="false"
                                                           dropdown="true"
                                                           tamanhoAutoComplete="70"
                                                           executaAoAtualizar="#{relacaoDebitosAPrescreverControlador.validarEAdicionaObjetos('COMPROMISSARIO')}"
                                                           cellspacing="0"/>
                                    <p:spacer/>
                                    <p:outputPanel id="pn-compromissarios">
                                        <table class="table">
                                            <ui:repeat
                                                value="#{relacaoDebitosAPrescreverControlador.objetosSelecionados('COMPROMISSARIO')}"
                                                var="compromissario">
                                                <tr>
                                                    <td>
                                                        <h:outputText value="#{compromissario}" styleClass="negrito"/>
                                                    </td>
                                                    <td style="width: 8px;">
                                                        <p:commandButton icon="ui-icon-trash"
                                                                         actionListener="#{relacaoDebitosAPrescreverControlador.removerObjetos(compromissario, 'COMPROMISSARIO')}"
                                                                         update=":Formulario:pn-compromissarios"
                                                                         onclick="aguarde.show()"
                                                                         oncomplete="aguarde.hide()"/>
                                                    </td>
                                                </tr>
                                            </ui:repeat>
                                        </table>
                                    </p:outputPanel>
                                </h:panelGrid>
                            </p:panel>

                            <p:panel styleClass="mtop05" style="border: none;"
                                     rendered="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.tipoCadastroTributario eq 'PESSOA'}">
                                <p:separator/>
                                <h:panelGrid columns="2">
                                    <fc:outputLabelObrigatorio value="Situação Cadastral: "/>
                                    <h:selectOneMenu
                                        title="Selecione a Situação da Pessoa."
                                        styleClass="mrig03 mtop03"
                                        value="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.situacaoCadastroPessoa}"
                                        id="situacaocaoPessoa">
                                        <f:selectItems
                                            value="#{relacaoDebitosAPrescreverControlador.situacoesPessoa}"/>
                                        <p:ajax event="change" update=":Formulario:cadastros"
                                                process=":Formulario:cadastros"
                                        />
                                    </h:selectOneMenu>

                                    <h:outputText value="Contribuinte: "/>
                                    <fc:autocompletePessoa caminhoAtual=""
                                                           value="#{relacaoDebitosAPrescreverControlador.objeto}"
                                                           id="ac-contribuinte" labelObrigatorio="false"
                                                           updateGeral="pn-contribuintes"
                                                           habilitaBotaoNovaPF="false"
                                                           habilitaBotaoNovaPJ="false"
                                                           habilitaBotaoLupa="false"
                                                           tamanhoAutoComplete="70"
                                                           dropdown="true"
                                                           executaAoAtualizar="#{relacaoDebitosAPrescreverControlador.validarEAdicionaObjetos('CONTRIBUINTE')}"
                                                           cellspacing="0"/>
                                    <p:spacer/>
                                    <p:outputPanel id="pn-contribuintes">
                                        <table class="table">
                                            <ui:repeat
                                                value="#{relacaoDebitosAPrescreverControlador.objetosSelecionados('CONTRIBUINTE')}"
                                                var="contribuinte">
                                                <tr>
                                                    <td>
                                                        <h:outputText value="#{contribuinte}"
                                                                      styleClass="negrito"/>
                                                    </td>
                                                    <td style="width: 8px;">
                                                        <p:commandButton icon="ui-icon-trash"
                                                                         actionListener="#{relacaoDebitosAPrescreverControlador.removerObjetos(contribuinte, 'CONTRIBUINTE')}"
                                                                         update=":Formulario:pn-contribuintes"
                                                                         onclick="aguarde.show()"
                                                                         oncomplete="aguarde.hide()"/>
                                                    </td>
                                                </tr>
                                            </ui:repeat>
                                        </table>
                                    </p:outputPanel>
                                </h:panelGrid>
                            </p:panel>

                            <h:outputText value="Tipo de Relatório: "/>
                            <p:selectOneMenu
                                value="#{relacaoDebitosAPrescreverControlador.filtroRelacaoDebitosAPrescrever.tipoRelatorio}">
                                <f:selectItems
                                    value="#{relacaoDebitosAPrescreverControlador.tiposRelatorio()}"/>
                            </p:selectOneMenu>
                        </td>
                    </tr>
                </table>
            </p:panel>

            <fc:rodapeRelatorio actionListenerBotaoGerar="#{relacaoDebitosAPrescreverControlador.gerarRelatorio('PDF')}"
                                controller="#{relacaoDebitosAPrescreverControlador}"
                                actionListenerLimparCampos="#{relacaoDebitosAPrescreverControlador.limparCampos()}"
                                mostrarBotoesExportar="true"/>
        </h:form>
    </ui:define>
</ui:composition>
</html>
