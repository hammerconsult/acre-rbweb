<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PT"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:fc="http://java.sun.com/jsf/composite/components"
      xmlns:p="http://primefaces.org/ui"
        >

<ui:composition template="/corpo.xhtml">
    <ui:define name="body">
        <h:form id="Formulario">
            <fc:cabecalhoPretty origem="#{faixaAlvaraControlador.caminhoPadrao}listar/"
                                mostrarBotaoNovo="${false}"
                                auditavel="${true}"
                                controlador="#{faixaAlvaraControlador}"/>

            <div align="right">
                <p:button href="../../duplicar/#{faixaAlvaraControlador.urlKeyValue}/"
                          value="Duplicar"
                          id="btDuplicar"
                          style="height: 30px;"
                          styleClass="mbot05 mrig05"
                          icon="ui-icon-newwin"
                          title="Clique para inserir um novo registro"
                          disabled="#{!autorizacao.isPodeEditar(request)}"/>

                <p:button href="../../novo/"
                          value="Novo"
                          id="btNovo"
                          style="height: 30px;"
                          styleClass="mbot05"
                          icon="ui-icon-circle-plus"
                          title="Clique para inserir um novo registro"
                          disabled="#{!autorizacao.isPodeEditar(request)}"/>
            </div>
            <p:panel header="Faixa de Alvará">
                <h:panelGrid columns="2">
                    <h:outputText value="Exercício: "/>
                    <h:outputText value="#{faixaAlvaraControlador.selecionado.exercicioVigencia}" styleClass="negrito"/>

                    <h:outputText value="Classificação da Atividade: "/>
                    <h:outputText value="#{faixaAlvaraControlador.selecionado.classificacaoAtividade.descricao}" styleClass="negrito"/>
                </h:panelGrid>
                <p:dataTable id="tabelaItens" styleClass="mtop10"
                             value="#{faixaAlvaraControlador.selecionado.itemFaixaAlvaras}" var="c">
                    <f:facet name="header">
                        <h:outputText value="Itens da Faixa de Alvará"/>
                    </f:facet>
                    <p:column style="width: 30%" headerText="Tipo de Alvará">
                        <h:outputText value="#{c.tipoAlvara.descricao}"/>
                    </p:column>
                    <p:column headerText="Área Inicial em m²">
                        <h:outputText value="#{c.areaMetroInicial}">
                            <f:convertNumber pattern="#,##0.00"/>
                        </h:outputText>
                    </p:column>
                    <p:column headerText="Área Final em m²">
                        <h:outputText value="#{c.areaMetroFinal}">
                            <f:convertNumber pattern="#,##0.00"/>
                        </h:outputText>
                    </p:column>
                    <p:column headerText="Taxa Ano">
                        <h:outputText value="#{c.valorTaxaUFMAno}">
                            <f:convertNumber pattern="###,##0.0000"/>
                        </h:outputText>
                    </p:column>
                    <p:column headerText="Taxa Mês">
                        <h:outputText value="#{c.valorTaxaUFMAno}">
                            <f:convertNumber pattern="###,##0.0000"/>
                        </h:outputText>
                    </p:column>
                    <p:column headerText="Grau de Risco">
                        <h:outputText value="#{c.grauDeRisco.descricao}"/>
                    </p:column>
                    <p:column headerText="Tipo de Localização">
                        <h:outputText value="#{c.tipoLocalizacao.descricao}"/>
                    </p:column>
                    <p:column headerText="Tipo de Matéria Prima">
                        <h:outputText value="#{c.tipoMateriaPrima.descricao}"/>
                    </p:column>
                </p:dataTable>
            </p:panel>
            <fc:rodapeVisualizarPretty controlador="#{faixaAlvaraControlador}"/>
        </h:form>
    </ui:define>
</ui:composition>
</html>
