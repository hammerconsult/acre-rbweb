<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PT"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:fc="http://java.sun.com/jsf/composite/components"
      xmlns:p="http://primefaces.org/ui">
<script type="text/javascript">
    // INICIO FUNÇÃO DE MASCARA MAIUSCULA
    function minuscula(z) {
        v = z.value.toLowerCase();
        z.value = v;
    }
    //FIM DA FUNÇÃO MASCARA MAIUSCULA
</script>
<ui:composition id="compositon" template="/corpo.xhtml">
    <ui:define id="define" name="body">
        <p:messages showDetail="true"/>

        <h:form id="Formulario">
            <h:outputText value="#{pessoaControlador.preparaCamposVisiveisPerfilPessoa()}"/>

            <div align="right">
                <p:commandButton ajax="false" id="botaoNovoPF" title="Criar nova pessoa física" immediate="true"
                                 value="Nova Pessoa Física" action="edita.xhtml"
                                 disabled="#{!autorizacao.isPodeEditar(request)}"
                                 actionListener="#{pessoaControlador.novoFisico()}" styleClass="button">
                    <f:setPropertyActionListener id="caminhoGenerico" target="#{pessoaControlador.caminho}"
                                                 value="lista"/>
                </p:commandButton><p:spacer width="5"/>
                <p:commandButton ajax="false" id="botaoNovoPJ" title="Criar nova pessoa jurídica" immediate="true"
                                 value="Nova Pessoa Jurídica" action="editaJuridica"
                                 disabled="#{!autorizacao.isPodeEditar(request)}"
                                 actionListener="#{pessoaControlador.novoJuridico()}" styleClass="button">
                    <f:setPropertyActionListener id="caminhoGenerico" target="#{pessoaControlador.caminho}"
                                                 value="lista"/>
                </p:commandButton><p:spacer width="5"/>
            </div>
            <p:panel id="painelPrincipal" header="Cadastro de Pessoa Física" binding="#{pessoaControlador.componente}">
                <h:panelGrid id="pFoto" columns="1">
                    <p:graphicImage
                        value="#{pessoaControlador.imagemFoto}"
                        id="oFotoUpload"
                        alt="Selecione uma Foto"
                        width="110"
                        height="150"
                        style="height: 150px; text-align: center;"/>
                    <p:fileUpload fileUploadListener="#{pessoaControlador.uploadArquivo}"
                                  update=":Formulario:oFotoUpload"
                                  process="@form"
                                  cancelLabel="Cancelar"
                                  uploadLabel="Enviar"
                                  label="Selecionar"
                                  sizeLimit="15728640"
                                  id="iBotaoUpload"
                                  invalidFileMessage="O tipo de arquivo inválido"
                                  sizeExceedMessage="O tamanho limite do arquivo foi excedido"/>
                </h:panelGrid>
                <h:panelGrid id="painelGrid" columns="3">
                    <h:outputText value="Nome:" id="oNome"/>
                    <p:inputText title="Digite o nome da Pessoa" value="#{pessoaControlador.pessoa.nome}"
                                 id="iNome" maxlength="70" size="70"/>
                    <p:message for="iNome" id="mNome" showDetail="true"/>
                    <h:outputText value="Data de Nascimento:" id="oDataNascimento"/>
                    <p:calendar onkeypress="mascara(this, Data)" maxlength="10"
                                value="#{pessoaControlador.pessoa.dataNascimento}"
                                id="iDataNascimento" maxdate="new Date()" title="Selecione a data de Nascimento"
                                pattern="dd/MM/yyyy" navigator="true"/>
                    <p:message for="iDataNascimento" id="mDataNascimento" showDetail="true"/>
                    <h:outputText value="Sexo:" id="oSexo"/>
                    <h:selectOneMenu title="Selecione um sexo" value="#{pessoaControlador.pessoa.sexo}"
                                     id="iSexo">
                        <f:selectItems id="selectIte" value="#{pessoaControlador.sexo}"/>
                    </h:selectOneMenu>
                    <p:message for="iSexo" id="mSexo" showDetail="true"/>
                    <h:outputText value="Pai:" id="oPai"/>
                    <p:inputText title="Digite o nome do Pai" value="#{pessoaControlador.pessoa.pai}"
                                 id="iPai" maxlength="70" size="70"/>
                    <p:message for="iPai" id="mPai" showDetail="true"/>
                    <h:outputText value="Mãe:" id="oMae"/>
                    <p:inputText title="Digite o nome da Mãe" value="#{pessoaControlador.pessoa.mae}"
                                 id="iMae" maxlength="70" size="70"/>
                    <p:message for="iMae" id="mMae" showDetail="true"/>
                    <h:outputText value="CPF:" id="oCPF"/>
                    <p:inputMask mask="999.999.999-99" title="Digite o CPF"
                                 value="#{pessoaControlador.pessoa.cpf}"
                                 id="iCPF" maxlength="20" size="20">
                        <p:ajax event="blur" process="@this" update="mCpf" listener="#{pessoaControlador.validaCpfRh}"/>
                    </p:inputMask>
                    <p:message for="iCPF" id="mCpf" showDetail="true"/>
                    <h:outputText value="e-mail:" id="oEmail"/>
                    <p:inputText title="Digite o email da Pessoa" style="text-transform: lowercase"
                                 onkeyup="minuscula(this)" value="#{pessoaControlador.pessoa.email}"
                                 id="iEmail" maxlength="70" size="70"/>
                    <p:message for="iEmail" id="mEmail" showDetail="true"/>
                    <h:outputText value="Home Page:" id="oHomePage"/>
                    <p:inputText title="Digite a home page da Pessoa"
                                 value="#{pessoaControlador.pessoa.homePage}"
                                 id="iHomePage" maxlength="70" size="70"/>
                    <p:message for="iHomePage" id="mHomePage" showDetail="true"/>
                    <h:outputText value="Raça/Cor:" id="oRacaCor"/>
                    <h:selectOneMenu title="Selecione uma Raça/Cor"
                                     value="#{pessoaControlador.pessoa.racaCor}" id="iRacaCor">
                        <f:selectItems value="#{pessoaControlador.racaCor}"/>
                    </h:selectOneMenu>
                    <p:message for="iRacaCor" id="mRacaCor" showDetail="true"/>
                    <h:outputText value="Deficiente Físico:" id="oTipoDeficiente"/>
                    <h:selectOneMenu title="Selecione a deficiência"
                                     id="iTipoDeficiente"
                                     value="#{pessoaControlador.pessoa.tipoDeficiencia}">
                        <f:selectItems value="#{pessoaControlador.tipoDeficiencia}"/>
                    </h:selectOneMenu>
                    <p:message for="iTipoDeficiente" id="mTipoDeficiente" showDetail="true"/>
                    <h:outputText value="Deficiente Físico:" id="oDeficiente"/>
                    <h:selectBooleanCheckbox title="Marque se for deficiente físico"
                                             value="#{pessoaControlador.pessoa.deficienteFisico}"
                                             id="iDeficiente"/>
                    <p:message for="iDeficiente" id="mDeficiente" showDetail="true"/>
                    <h:outputText value="Tipo Sanguíneo:" id="oTipoSanguineo"/>
                    <h:selectOneMenu title="Selecione o tipo sanguíneo"
                                     value="#{pessoaControlador.pessoa.tipoSanguineo}" id="iTipoSanguineo">
                        <f:selectItems value="#{pessoaControlador.tipoSanguineo}"/>
                    </h:selectOneMenu>
                    <p:message for="iTipoSanguineo" id="mTipoSanguineo" showDetail="true"/>
                    <h:outputText value="Doador Sanguíneo:" id="oDoador"/>
                    <h:selectBooleanCheckbox title="Marque se é doador sanguíneo"
                                             value="#{pessoaControlador.pessoa.doadorSangue}"
                                             id="iDoador"/>
                    <p:message for="iDoador" id="mDoador" showDetail="true"/>
                    <h:outputText value="Estado Civil:" id="oEstadoCivil"/>
                    <h:selectOneMenu title="Selecione um Estado Civil"
                                     value="#{pessoaControlador.pessoa.estadoCivil}" id="iEstadoCivil">
                        <f:selectItems value="#{pessoaControlador.estadoCivil}"/>
                    </h:selectOneMenu>
                    <p:message for="iEstadoCivil" id="mEstadoCivil" showDetail="true"/>
                    <h:outputText value="Nível de Escolaridade:" id="oNivelEscolaridade"/>
                    <h:selectOneMenu title="Selecione um nivelEscolaridade"
                                     value="#{pessoaControlador.pessoa.nivelEscolaridade}"
                                     id="iNivelEscolaridade"
                                     converter="#{pessoaControlador.converterNivelEscolaridade}">
                        <f:selectItems value="#{pessoaControlador.nivelEscolaridade}"/>
                    </h:selectOneMenu>
                    <p:message for="iNivelEscolaridade" id="mNivelEscolaridade" showDetail="true"/>
                    <h:outputText id="oSecretariaRequerente" value="Secretaria / Requerente: "/>
                    <p:autoComplete queryDelay="1000" value="#{pessoaControlador.unidadeOrganizacionalSelecionada}"
                                    id="iSecretariaRequerente" size="70" var="uni" itemLabel="#{uni}"
                                    itemValue="#{uni.id}"
                                    completeMethod="#{pessoaControlador.completaHierarquiaOrganizacional}"
                                    converter="#{pessoaControlador.converterHierarquiaOrganizacional}"
                                    forceSelection="true" title="Informe a Secretária / Requerente">
                    </p:autoComplete>
                    <p:message for="iSecretariaRequerente" id="mSecretariaRequerente" showDetail="true"/>
                    <h:outputText value="Classe Pessoa:" id="oClassePessoa"/>
                    <h:selectOneMenu title="Selecione a Classe da Pessoa"
                                     value="#{pessoaControlador.pessoa.classePessoa}" id="iClassePessoa">
                        <f:selectItems value="#{pessoaControlador.classesPessoa()}"/>
                    </h:selectOneMenu>
                    <p:message for="iClassePessoa" id="mClassePessoa" showDetail="true"/>
                    <h:outputText id="oDataInvalidez" value="Data da Invalidez:"/>
                    <p:calendar id="iDataInvalidez" value="#{pessoaControlador.pessoa.dataInvalidez}"
                                pattern="dd/MM/yyy" navigator="true"/>
                    <p:messages id="mDataInvalidez" for="iDataInvalidez" showDetail="true"/>
                </h:panelGrid>

                <p:panel id="pClasseCredor">
                    <h:panelGrid columns="5">
                        <h:outputText value="Classe de Pessoa: " id="oClasseCredor"/>
                        <p:autoComplete queryDelay="1000"
                                        value="#{pessoaControlador.classeCredorSelecionada.classeCredor}"
                                        id="iClasseCredor" size="70" var="cc" itemLabel="#{cc}" itemValue="#{cc.id}"
                                        completeMethod="#{pessoaControlador.completaClasseCredor(parte)}"
                                        converter="#{pessoaControlador.converterClasseCredor}"
                                        forceSelection="true" title="Informe a Classificação da Classe de Pessoa"/>
                        <p:commandButton action="/tributario/cadastromunicipal/classecredor/edita" id="bClasseCredor"
                                         alt="Novo"
                                         actionListener="#{pessoaControlador.atalhoClasseCredorPF}"
                                         icon="ui-icon-circle-plus" ajax="false">
                        </p:commandButton>
                        <p:commandButton value="Adicionar" actionListener="#{pessoaControlador.adicionaClasseCredor()}"
                                         id="bAdicionarClasseCredor"
                                         update=":Formulario:pClasseCredor msgsClasseCredor"/>
                    </h:panelGrid>
                    <p:dataTable id="tClasse"
                                 var="obj"
                                 value="#{pessoaControlador.selecionado.classeCredorPessoas}">
                        <p:column headerText="Classe de Pessoa">
                            <h:outputText value="#{obj.classeCredor}"/>
                        </p:column>
                        <p:column headerText="Remover">
                            <p:commandLink value="Remover" actionListener="#{pessoaControlador.removeClasse}"
                                           update=":Formulario:tClasse">
                                <f:attribute value="#{obj}" name="objeto"/>
                            </p:commandLink>
                        </p:column>
                    </p:dataTable>
                </p:panel>
                <br/>
                <p:panel header="Especialidades" id="pEspecialidade"
                         rendered="#{pessoaControlador.pessoa.nivelEscolaridade ne null}">
                    <h:panelGrid columns="4">
                        <h:outputText value="Data:" id="oDataEspecialidade"/>
                        <p:calendar onkeypress="mascara(this, Data)" maxlength="10"
                                    value="#{pessoaControlador.especialidadesPF.dataEspecialidade}"
                                    id="iDataEspecialidade" maxdate="new Date()" title="Informe a data da especialidade"
                                    pattern="dd/MM/yyyy" navigator="true"/>
                        <p:message for="iDataEspecialidade" id="mDataEspecialidade" showDetail="true"/>
                        <p:spacer/>
                        <h:outputText value="Especialidade:" id="oEspecialidade"/>
                        <p:autoComplete queryDelay="1000" id="iEspecialidade"
                                        title="Informe a especialidade"
                                        value="#{pessoaControlador.especialidadesPF.especialidade}"
                                        completeMethod="#{pessoaControlador.completaEspecialidades}"
                                        var="especialidade" size="70"
                                        itemLabel="#{especialidade}"
                                        itemValue="#{especialidade.id}"
                                        forceSelection="true"
                                        converter="#{pessoaControlador.converterEspecialidades}"/>
                        <p:commandButton action="/rh/administracaodepagamento/especialidade/edita"
                                         id="bEspecialidade"
                                         icon="ui-icon-circle-plus" ajax="false"
                                         actionListener="#{pessoaControlador.atalhoEspecialidades}">
                        </p:commandButton>
                        <p:message for="iEspecialidade" id="mEspecialidade" showDetail="true"/>

                        <p:commandButton value="Adicionar"
                                         id="bAdicionarEspecialidade"
                                         actionListener="#{pessoaControlador.adicionaEspecialidade}"
                                         update=":Formulario:pEspecialidade mNivelEscolaridade"/>
                        <p:message for="bAdicionarEspecialidade" id="mAdicionarEspecialidade" showDetail="true"/>
                    </h:panelGrid>
                    <p:dataTable id="tEspecialidade"
                                 var="obj"
                                 value="#{pessoaControlador.selecionado.especialidades}">
                        <p:column headerText="Data" style="width: 12%">
                            <h:outputText value="#{obj.dataEspecialidade}">
                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Especialidade">
                            <h:outputText value="#{obj.especialidade}"/>
                        </p:column>

                        <p:column style="width: 8%">
                            <f:facet name="header">
                                <h:outputText value="Remover"/>
                            </f:facet>
                            <p:commandLink value="Remover" actionListener="#{pessoaControlador.removeEspecialidade}"
                                           update=":Formulario:tEspecialidade">
                                <f:attribute value="#{obj}" name="objeto"/>
                            </p:commandLink>
                        </p:column>
                    </p:dataTable>
                </p:panel>

                <h:panelGrid columns="4">
                    <h:outputText value="Naturalidade:" id="oNaturalidade"/>
                    <p:autoComplete queryDelay="1000" value="#{pessoaControlador.pessoa.naturalidade}"
                                    title="Digite o nome da Cidade ao qual a pessoa é natural"
                                    completeMethod="#{pessoaControlador.completaNaturalidade}"
                                    id="iNaturalidade"
                                    converter="#{pessoaControlador.converterNaturalidade}"
                                    var="uf"
                                    itemLabel="#{uf}"
                                    itemValue="#{uf.id}"
                                    size="40"
                        >
                    </p:autoComplete>
                    <p:commandButton icon="ui-icon-circle-plus" id="bNaturalidade"
                                     title="Clique para inserir uma nova naturalidade"
                                     action="/tributario/cadastromunicipal/cidade/edita"
                                     actionListener="#{pessoaControlador.atalhoCidade}" ajax="false">
                    </p:commandButton>
                    <p:message for="iNaturalidade" id="mNaturalidade" showDetail="true"/>
                    <h:outputText value="Nacionalidade:" id="oNacionalidade"/>
                    <h:selectOneMenu title="Selecione um nacionalidade"
                                     value="#{pessoaControlador.pessoa.nacionalidade}"
                                     id="iNacionalidade"
                                     converter="#{pessoaControlador.converterNacionalidade}">
                        <f:selectItems value="#{pessoaControlador.nacionalidade}"/>
                    </h:selectOneMenu>
                    <p:commandButton icon="ui-icon-circle-plus"
                                     id="bNacionalidade"
                                     title="Clique para inserir uma nova Nacionalidade"
                                     action="/tributario/cadastromunicipal/nacionalidade/edita"
                                     actionListener="#{pessoaControlador.atalhoNacionalidade()}" ajax="false">
                    </p:commandButton>
                    <p:message for="iNacionalidade" id="mNacionalidade" showDetail="true"/>
                    <h:outputText value="Ano de Chegada(Estrangeiros):" id="oAnoChegada"/>
                    <p:inputText title="Digite o ano de chegada da Pessoa"
                                 value="#{pessoaControlador.pessoa.anoChegada}"
                                 id="iAnoChegada" maxlength="4" size="5"/>
                    <p:spacer id="sAnoChegada"/>
                    <p:message for="iAnoChegada" id="mAnoChegada" showDetail="true"/>

                    <h:outputText value="Situação Cadastral:" id="oSituacaoCadastral"/>
                    <h:selectOneMenu title="Selecione uma situação cadastral"
                                     value="#{pessoaControlador.pessoa.situacaoCadastralPessoa}"
                                     id="iSituacaoCadastral"
                                     disabled="#{pessoaControlador.selecionado.id == null}">
                        <f:selectItems value="#{pessoaControlador.situacaoCadastral}"/>
                    </h:selectOneMenu>
                    <p:message for="iSituacaoCadastral" id="mSituacaoCadastral" showDetail="true"/>
                </h:panelGrid>
                <h:panelGrid columns="3">
                    <h:outputText value="Bloqueado: " id="oBloqueado"/>
                    <p:selectBooleanCheckbox value="#{pessoaControlador.pessoa.bloqueado}" id="iBloqueado"/>
                    <p:message for="iBloqueado" id="mBloqueado"/>
                    <h:outputText value="Motivo Bloqueio: " id="oMotivoBloqueio"/>
                    <p:inputTextarea value="#{pessoaControlador.pessoa.motivo}" cols="70" rows="3"
                                     id="iMotivoBloqueio"/>
                    <p:message for="iMotivoBloqueio" id="mMotivoBloqueio"/>
                </h:panelGrid>
                <br/>
                <p:tabView id="tabinfos">
                    <p:tab title="RG" id="pRg">
                        <h:panelGrid columns="3">
                            <h:outputText id="oNumeroRG" value="Número:"/>
                            <p:inputText value="#{pessoaControlador.rg.numero}" id="iNumeroRg" label="numerorg"/>
                            <p:message id="mNumeroRg" for="iNumeroRg" showDetail="true"/>
                            <h:outputText id="oDataEmissaoRg" value="Data Emissão:"/>
                            <p:calendar onkeypress="mascara(this, Data)" maxlength="10" id="iDataEmissaoRg"
                                        pattern="dd/MM/yyyy" value="#{pessoaControlador.rg.dataemissao}"
                                        navigator="true"/>
                            <p:message id="mDataEmissaoRg" for="iDataEmissaoRg" showDetail="true"/>
                            <h:outputText id="oOrgaoEmissorRg"
                                          value="Órgão Emissor:"/>
                            <p:inputText id="iOrgaoEmissorRg"
                                         value="#{pessoaControlador.rg.orgaoEmissao}"/>
                            <p:message id="mOrgaoEmissorRg"
                                       for="iOrgaoEmissorRg"
                                       showDetail="true"/>
                            <h:outputText id="oEstadoRg" value="Estado:"/>
                            <h:selectOneMenu id="iEstadoRg" value="#{pessoaControlador.rg.uf}"
                                             converter="#{pessoaControlador.converterUf}">
                                <f:selectItems value="#{pessoaControlador.estados}" id="estados"/>
                            </h:selectOneMenu>
                            <p:commandButton icon="ui-icon-circle-plus" action="/tributario/cadastromunicipal/uf/edita"
                                             actionListener="#{pessoaControlador.atalhoEstado}" ajax="false">
                            </p:commandButton>
                        </h:panelGrid>
                    </p:tab>
                    <br/>
                    <p:tab id="pTitulo" title="Título de Eleitor">
                        <h:panelGrid columns="3">
                            <h:outputText value="Número:"/>
                            <p:inputText id="inputTituloNumero" value="#{pessoaControlador.tituloEleitor.numero}"/>
                            <p:message for="inputTituloNumero" showDetail="true"/>
                            <h:outputText value="Zona Eleitoral:"/>
                            <p:inputText id="inputZona" value="#{pessoaControlador.tituloEleitor.zona}"/>
                            <p:message for="inputZona" showDetail="true"/>
                            <h:outputText value="Sessão Eleitoral:"/>
                            <p:inputText id="inputSessao" value="#{pessoaControlador.tituloEleitor.sessao}"/>
                            <p:message for="inputSessao" showDetail="true"/>
                            <h:outputText value="Data Emissão:"/>
                            <p:calendar onkeypress="mascara(this, Data)" maxlength="10" id="inputDataE"
                                        pattern="dd/MM/yyyy"
                                        value="#{pessoaControlador.tituloEleitor.dataEmissao}"
                                        navigator="true"/>
                            <p:message for="inputDataE" showDetail="true"/>
                            <h:outputText value="Cidade:"/>
                            <p:autoComplete queryDelay="1000" value="#{pessoaControlador.tituloEleitor.cidade}"
                                            title="Digite o nome da Cidade ao qual a pessoa é natural"
                                            completeMethod="#{pessoaControlador.completaNaturalidade}"
                                            id="inputCidade"
                                            converter="#{pessoaControlador.converterNaturalidade}"
                                            var="uf"
                                            itemLabel="#{uf}"
                                            itemValue="#{uf.id}"
                                            size="40"
                                >
                            </p:autoComplete>
                            <p:commandButton icon="ui-icon-circle-plus"
                                             action="/tributario/cadastromunicipal/cidade/edita"
                                             actionListener="#{pessoaControlador.atalhoCidade()}" ajax="false">
                            </p:commandButton>
                        </h:panelGrid>
                    </p:tab>
                    <br/>
                    <p:tab id="pHabilitacao" title="CNH">
                        <h:panelGrid columns="3" id="gridHabi">
                            <h:outputLabel value="Número: "> </h:outputLabel>
                            <p:inputText id="numeroHabilitacao" value="#{pessoaControlador.habilitacao.numero}"/>
                            <br/>
                            <h:outputLabel value="Categoria: "></h:outputLabel>
                            <p:inputText id="categoria" value="#{pessoaControlador.habilitacao.categoria}"/><br/>
                            <h:outputLabel value="Validade: "></h:outputLabel>
                            <p:calendar onkeypress="mascara(this, Data)" maxlength="10" id="validade"
                                        pattern="dd/MM/yyyy" value="#{pessoaControlador.habilitacao.validade}"
                                        navigator="true"/><br/>
                            <p:commandButton value="Adicionar" update="outHabi @parent"
                                             actionListener="#{pessoaControlador.novaHabilitacao}"/>
                        </h:panelGrid>
                        <p:outputPanel id="outHabi">
                            <p:dataTable id="tableHabi" value="#{pessoaControlador.habilitacoes}" var="h">
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="Numero"/>
                                    </f:facet>
                                    <h:outputText value="#{h.numero}"/>
                                </p:column>
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="Categoria"/>
                                    </f:facet>
                                    <h:outputText value="#{h.categoria}"/>
                                </p:column>
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="Validade"/>
                                    </f:facet>
                                    <h:outputText value="#{h.validade}">
                                        <f:convertDateTime pattern="dd/MM/yyyy"/>
                                    </h:outputText>
                                </p:column>
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="Operação"/>
                                    </f:facet>
                                    <!--update=":Formulario:gridHabi :Formulario:tableHabi"-->
                                    <p:commandLink value="Remove" update="@form" process="@this"
                                                   actionListener="#{pessoaControlador.removeHabilitacao}">
                                        <f:attribute name="removeHabilitacao" id="removeHabilitacao" value="#{h}"/>
                                    </p:commandLink>
                                </p:column>
                            </p:dataTable>
                        </p:outputPanel>
                    </p:tab>
                    <br/>
                    <p:tab id="pCarteiraTrabalho" title="Carteira de Trabalho">
                        <h:panelGrid columns="3" id="gridCarteiraT">
                            <h:outputText value="Número:"/>
                            <p:inputText id="numeroCarteiraTrabalho"
                                         value="#{pessoaControlador.carteiraTrabalho.numero}"/>
                            <p:message for="numeroCarteiraTrabalho" showDetail="true"/>
                            <h:outputText value="Série:"/>
                            <p:inputText id="inputSerie" value="#{pessoaControlador.carteiraTrabalho.serie}"/>
                            <p:message for="inputSerie" showDetail="true"/>
                            <h:outputText value="Data Emissão:"/>
                            <p:calendar onkeypress="mascara(this, Data)" maxlength="10" id="dataEmissaoCarteira"
                                        pattern="dd/MM/yyyy"
                                        value="#{pessoaControlador.carteiraTrabalho.dataEmissao}"
                                        navigator="true"/>
                            <p:message for="dataEmissaoCarteira" showDetail="true"/>
                            <h:outputText value="PIS/PASEP:"/>
                            <p:inputText id="pisPasep" value="#{pessoaControlador.carteiraTrabalho.pisPasep}"/>
                            <p:message for="pisPasep" showDetail="true"/>
                            <h:outputText id="oOrgaoExpedidorCarteiraTrabalho" value="Órgão Expedidor:"/>
                            <p:inputText id="iOrgaoExpedidorCarteiraTrabalho"
                                         value="#{pessoaControlador.carteiraTrabalho.orgaoExpedidor}"/>
                            <p:message id="mOrgaoExpedidorCarteiraTrabalho"
                                       for="iOrgaoExpedidorCarteiraTrabalho" showDetail="true"/>
                            <h:outputText value="Estado:"/>
                            <h:selectOneMenu id="ufs" value="#{pessoaControlador.carteiraTrabalho.uf}"
                                             converter="#{pessoaControlador.converterUf}">
                                <f:selectItems value="#{pessoaControlador.uf}" id="uf"/>
                            </h:selectOneMenu>
                            <p:commandButton icon="ui-icon-circle-plus" action="/tributario/cadastromunicipal/uf/edita"
                                             actionListener="#{pessoaControlador.atalhoEstado()}" ajax="false">
                            </p:commandButton>
                            <p:commandButton value="Adicionar" update="outTrab gridCarteiraT"
                                             actionListener="#{pessoaControlador.novoTrabalho}"/>
                        </h:panelGrid>
                        <p:outputPanel id="outTrab">
                            <p:dataTable value="#{pessoaControlador.carteiraTrabalhos}" var="t">
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="Numero"/>
                                    </f:facet>
                                    <h:outputText value="#{t.numero}"/>
                                </p:column>
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="Série"/>
                                    </f:facet>
                                    <h:outputText value="#{t.serie}"/>
                                </p:column>
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="Data de Emissão"/>
                                    </f:facet>
                                    <h:outputText value="#{t.dataEmissao}">
                                        <f:convertDateTime pattern="dd/MM/yyyy"/>
                                    </h:outputText>
                                </p:column>
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="PIS/PASEP"/>
                                    </f:facet>
                                    <h:outputText value="#{t.pisPasep}"/>
                                </p:column>
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="Estado"/>
                                    </f:facet>
                                    <h:outputText value="#{t.uf}"/>
                                </p:column>
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="Operação"/>
                                    </f:facet>
                                    <p:commandLink value="Remove" update=":Formulario:gridCarteiraT :Formulario:outTrab"
                                                   process="@this" actionListener="#{pessoaControlador.removeTrabalho}">
                                        <f:attribute name="removeTrabalho" id="removeTrabalho" value="#{t}"/>
                                    </p:commandLink>
                                </p:column>
                            </p:dataTable>
                        </p:outputPanel>
                    </p:tab>
                    <br/>
                    <p:tab id="pCarteiraVacinacao" title="Carteira de Vacinação">
                        <h:panelGrid columns="3">
                            <h:outputText id="oCarteiraVacinacao" value="Número da Carteira de Vacinação:"/>
                            <p:inputText id="iCarteiraVacinacao" size="15"
                                         value="#{pessoaControlador.carteiraVacinacao.numero}"
                                         title="Digite o número da Carteira de Vacinação"/>
                            <p:message id="mCarteiraVacinacao" for="iCarteiraVacinacao" showDetail="true"/>
                        </h:panelGrid>
                    </p:tab>
                    <br/>
                    <p:tab id="pMilitar" title="Situação Militar">
                        <h:panelGrid columns="3">
                            <h:outputText value="Tipo Situação Militar:"/>
                            <h:selectOneMenu id="situacaoMilitar"
                                             value="#{pessoaControlador.situacaoMilitar.tipoSituacaoMilitar}">
                                <f:selectItems value="#{pessoaControlador.tipoSituacao}" id="tipoSituacaoMilitar"/>
                            </h:selectOneMenu>
                            <p:message for="situacaoMilitar" showDetail="true"/>
                            <h:outputText value="Certificado Militar:"/>
                            <p:inputText value="#{pessoaControlador.situacaoMilitar.certificadoMilitar}"
                                         id="certificadoMilitar"/>
                            <p:message for="certificadoMilitar" showDetail="true"/>
                            <h:outputText value="Série Certificado Militar:"/>
                            <p:inputText id="serieCertificadoMilitar"
                                         value="#{pessoaControlador.situacaoMilitar.serieCertificadoMilitar}"/>
                            <p:message for="serieCertificadoMilitar" showDetail="true"/>
                            <h:outputText value="Categoria Situação Militar:"/>
                            <h:selectOneMenu id="categoriaCertificadoMilitar"
                                             value="#{pessoaControlador.situacaoMilitar.categoriaCertificadoMilitar}">
                                <f:selectItems value="#{pessoaControlador.categoria}" id="situacaoCategoria"/>
                            </h:selectOneMenu>
                            <p:message for="categoriaCertificadoMilitar" showDetail="true"/>

                            <h:outputLabel value="Data de emissão :"></h:outputLabel>
                            <p:calendar onkeypress="mascara(this, Data)" maxlength="10" id="dataEmissaoMilitar"
                                        pattern="dd/MM/yyyy"
                                        value="#{pessoaControlador.situacaoMilitar.dataEmissao}"
                                        navigator="true"/>
                            <p:message for="dataEmissaoMilitar" showDetail="true"/>

                            <h:outputText value="Órgão Emissor:"/>
                            <p:inputText id="orgaoEmissorMilitar"
                                         value="#{pessoaControlador.situacaoMilitar.orgaoEmissao}"/>
                            <p:message for="orgaoEmissorMilitar" showDetail="true"/>
                        </h:panelGrid>
                    </p:tab>
                    <br/>
                    <p:tab title="Certidão de Nascimento" id="pCertidaoNascimento">
                        <h:panelGrid columns="3">
                            <h:outputText id="oNomeCartorioNascimento" value="Nome do cartório:"/>
                            <p:inputText value="#{pessoaControlador.certidaoNascimento.nomeCartorio}"
                                         id="iNomeCartorioNascimento" label="nomeCartorio"
                                         maxlength="100" size="100"/>
                            <p:message id="mNomeCartorioNascimento" for="iNomeCartorioNascimento" showDetail="true"/>
                            <h:outputText id="oLivroNascimento" value="Número do livro:"/>
                            <p:inputText value="#{pessoaControlador.certidaoNascimento.numeroLivro}"
                                         id="iLivroNascimento" label="livroNascimento"/>
                            <p:message id="mLivroNascimento" for="iLivroNascimento" showDetail="true"/>
                            <h:outputText id="oFolhaNascimento" value="Número da folha:"/>
                            <p:inputText value="#{pessoaControlador.certidaoNascimento.numeroFolha}"
                                         id="iFolhaNascimento" label="folhaNascimento"/>
                            <p:message id="mFolhaNascimento" for="iFolhaNascimento" showDetail="true"/>
                            <h:outputText id="oRegistroNascimento" value="Número do Registro:"/>
                            <p:inputText value="#{pessoaControlador.certidaoNascimento.numeroRegistro}"
                                         id="iRegistroNascimento" label="registroNascimento"/>
                            <p:message id="mRegistroNascimento" for="iRegistroNascimento" showDetail="true"/>
                        </h:panelGrid>
                    </p:tab>
                    <br/>
                    <p:tab title="Certidão de Casamento" id="pCertidaoCasamento">
                        <h:panelGrid columns="4">
                            <h:outputText id="oNomeCartorioCasamento" value="Nome do cartório:"/>
                            <p:inputText value="#{pessoaControlador.certidaoCasamento.nomeCartorio}"
                                         id="iNomeCartorioCasamento" label="nomeCartorio"
                                         maxlength="100" size="100"/>
                            <p:message id="mNomeCartorioCasamento" for="iNomeCartorioCasamento" showDetail="true"/>
                            <p:spacer/>
                            <h:outputText id="oLivroCasamento" value="Número do livro:"/>
                            <p:inputText value="#{pessoaControlador.certidaoCasamento.numeroLivro}"
                                         id="iLivroCasamento" label="livroCasamento"/>
                            <p:message id="mLivroCasamento" for="iLivroCasamento" showDetail="true"/>
                            <p:spacer/>
                            <h:outputText id="oFolhaCasamento" value="Número da folha:"/>
                            <p:inputText value="#{pessoaControlador.certidaoCasamento.numeroFolha}"
                                         id="iFolhaCasamento" label="folhaCasamento"/>
                            <p:message id="mFolhaCasamento" for="iFolhaCasamento" showDetail="true"/>
                            <p:spacer/>
                            <h:outputText id="oRegistroCasamento" value="Número do Registro:"/>
                            <p:inputText value="#{pessoaControlador.certidaoCasamento.numeroRegistro}"
                                         id="iRegistroCasamento" label="registroCasamento"/>
                            <p:message id="mRegistroCasamento" for="iRegistroCasamento" showDetail="true"/>
                            <p:spacer/>
                            <h:outputText id="oNomeConjuge" value="Nome do Cônjuge :"/>
                            <p:inputText value="#{pessoaControlador.certidaoCasamento.nomeConjuge}"
                                         id="iNomeConjuge" label="nomeConjuge"
                                         maxlength="100" size="100"/>
                            <p:message id="mNomeConjuge" for="iNomeConjuge" showDetail="true"/>
                            <p:spacer/>
                            <h:outputText value="Nacionalidade:" id="oNacionalidadeConjuge"/>
                            <h:selectOneMenu title="Selecione um nacionalidade"
                                             value="#{pessoaControlador.certidaoCasamento.nacionalidade}"
                                             id="iNacionalidadeConjuge"
                                             converter="#{pessoaControlador.converterNacionalidadeConjuge}">
                                <f:selectItems value="#{pessoaControlador.nacionalidade}"/>
                            </h:selectOneMenu>
                            <p:commandButton icon="ui-icon-circle-plus"
                                             id="bNacionalidadeConjuge"
                                             title="Clique para inserir uma nova Nacionalidade"
                                             action="/tributario/cadastromunicipal/nacionalidade/edita"
                                             actionListener="#{pessoaControlador.atalhoNacionalidade()}" ajax="false">
                            </p:commandButton>
                            <p:message for="iNacionalidadeConjuge" id="mNacionalidadeConjuge" showDetail="true"/>
                            <h:outputText id="oUFConjuge" value="UF :"/>
                            <p:inputText value="#{pessoaControlador.certidaoCasamento.estado}"
                                         id="iUFConjuge" label="UF"
                                         maxlength="10" size="10"/>
                            <p:message id="mUFConjuge" for="iUFConjuge" showDetail="true"/>
                            <p:spacer/>
                            <h:outputText value="Naturalidade:"/>
                            <p:autoComplete queryDelay="1000" id="naturalidadeConjuge" title="Digite uma cidade"
                                            size="40"
                                            value="#{pessoaControlador.certidaoCasamento.naturalidadeConjuge}"
                                            completeMethod="#{pessoaControlador.completaNaturalidade}"
                                            converter="#{pessoaControlador.converterNaturalidade}"
                                            var="naturalidadeConjuge"
                                            itemLabel="#{naturalidadeConjuge}"
                                            itemValue="#{naturalidadeConjuge.id}"
                                            forceSelection="true"/>
                            <p:spacer/>
                            <p:spacer/>
                        </h:panelGrid>
                    </p:tab>
                    <br/>
                    <p:tab title="Adicionar Telefones" id="pTelefones">
                        <h:panelGrid columns="4" id="gridFone">
                            <script type="text/javascript">
                                function validarTelefone(elem) {
                                    if (elem.value.toString().length &lt; 14) {
                                        elem.value = '';
                                    }
                                }
                            </script>
                            <h:outputText value="Telefone:"/>
                            <p:inputText id="inputFone"
                                         onkeydown="mascara(this, mtel)"
                                         maxlength="15"
                                         onblur="validarTelefone(this)"
                                         title="Informe o número do telefone"
                                         value="#{pessoaControlador.telefone.telefone}"/>
                            <p:message for="inputFone" showDetail="true"/>
                            <p:spacer width="0"/>
                            <h:outputText value="Tipo:"/>
                            <h:selectOneMenu value="#{pessoaControlador.telefone.tipoFone}" id="tipoFone">
                                <f:selectItems value="#{pessoaControlador.tiposFone}"/>
                                <p:ajax event="change" update=":Formulario" process="tipoFone inputFone"/>
                            </h:selectOneMenu>
                            <p:message for="tipoFone" showDetail="true"/>
                            <p:spacer width="0"/>
                            <h:outputText id="oPessoaContato"
                                          value="Pessoa Para Contato:"/>
                            <p:inputText id="iPessoaContato"
                                         value="#{pessoaControlador.telefone.pessoaContato}"/>
                            <p:message id="mPessoaContato"
                                       for="iPessoaContato"
                                       showDetail="true"/>
                            <p:spacer width="0"/>
                        </h:panelGrid>
                        <p:panel id="pSalvar" visible="#{pessoaControlador.liberaTelefonePrincipal()}"
                                 style="border-color: white">
                            <h:panelGrid columns="3">
                                <h:outputText value="Telefone Principal: "/>
                                <p:selectBooleanCheckbox id="fonePrincipal"
                                                         value="#{pessoaControlador.telefone.principal}"/>
                                <p:message for="fonePrincipal" showDetail="true"/>
                            </h:panelGrid>
                        </p:panel>
                        <p:commandButton value="Adicionar" update="gridFone fones pSalvar"
                                         actionListener="#{pessoaControlador.novoFone}"/>
                        <p:dataTable id="fones" value="#{pessoaControlador.pessoa.telefones}" var="fone">
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Telefones"/>
                                </f:facet>
                                <h:outputText value="#{fone.telefone}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Tipo Telefone"/>
                                </f:facet>
                                <h:outputText value="#{fone.tipoFone}"/>
                            </p:column>
                            <p:column headerText="Principal">
                                <h:outputText value="#{fone.principal ? 'Principal' : ''}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Operação"/>
                                </f:facet>
                                <!--update=":Formulario:gridFone :Formulario:pSalvar :Formulario:fones" -->
                                <p:commandLink value="Remover" update="@form" process="@this"
                                               actionListener="#{pessoaControlador.removeFone}">
                                    <f:attribute name="vfone" id="vfone" value="#{fone}"/>
                                </p:commandLink>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Alterar"/>
                                </f:facet>
                                <!-- update="formFone" -->
                                <p:commandLink value="Alterar" update="@form" process="@this"
                                               actionListener="#{pessoaControlador.setaTelefone}" onclick="dlgT.show()">
                                    <f:attribute name="alteraFone" id="alteraFone" value="#{fone}"/>
                                </p:commandLink>
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                    <br/>
                    <p:tab title="Adicionar Endereços" id="pEnderecos">
                        <h:panelGrid columns="2" id="gridEndereco2">
                            <h:outputText value="CEP"/>
                            <h:panelGroup>
                                <p:autoComplete queryDelay="1000" value="#{consultaCEPControlador.cep}"
                                                binding="#{pessoaControlador.textocep}"
                                                completeMethod="#{pessoaControlador.completaCEP}"
                                                var="ce"
                                                id="cepNumero"
                                                itemLabel="#{ce}"
                                                itemValue="#{ce}"
                                                size="25"
                                    />
                                <p:commandButton title="clique para pesquisar"
                                                 icon="ui-icon-search"
                                                 actionListener="#{pessoaControlador.atualizaLogradouros}"
                                                 update="gridEndereco2"/>
                            </h:panelGroup>
                            <h:outputText id="oEstado" value="Estado"/>
                            <p:autoComplete queryDelay="1000" value="#{pessoaControlador.endereco.uf}"
                                            completeMethod="#{pessoaControlador.completaUF}"
                                            var="uf"
                                            itemLabel="#{uf}"
                                            itemValue="#{uf}"
                                            size="40"
                                            id="iEstado"
                                >
                                <p:ajax update="iCidade" event="itemSelect" listener="#{pessoaControlador.setaUf}"/>
                            </p:autoComplete>
                            <h:outputText id="oCidade" value="Cidade"/>
                            <p:autoComplete queryDelay="1000" value="#{pessoaControlador.endereco.localidade}"
                                            completeMethod="#{pessoaControlador.completaCidade}"
                                            var="loc"
                                            id="iCidade"
                                            itemLabel="#{loc}"
                                            itemValue="#{loc}"
                                            size="40"
                                >
                                <p:ajax event="itemSelect" listener="#{pessoaControlador.setaCidade}"/>
                            </p:autoComplete>
                            <h:outputText id="oBairro" value="Bairro"/>
                            <p:autoComplete queryDelay="1000" value="#{pessoaControlador.endereco.bairro}"
                                            completeMethod="#{pessoaControlador.completaBairro}"
                                            var="bairro"
                                            id="iBairro"
                                            itemLabel="#{bairro}"
                                            itemValue="#{bairro}"
                                            size="40"
                                />

                            <h:outputText id="oLogradouro" value="Logradouro"/>
                            <p:autoComplete queryDelay="1000" value="#{pessoaControlador.endereco.logradouro}"
                                            completeMethod="#{pessoaControlador.completaLogradouro}"
                                            var="log"
                                            id="iLogradouro"
                                            itemLabel="#{log}"
                                            itemValue="#{log}"
                                            size="40"
                                />

                            <h:outputText value="Complemento"/>
                            <p:inputText value="#{pessoaControlador.endereco.complemento}"/>

                            <h:outputText value="Numero"/>
                            <p:inputText value="#{pessoaControlador.endereco.numero}"/>
                            <h:outputText value="Tipo Endereco" id="oTipoEndereco"/>
                            <h:selectOneMenu id="iTipoEndereco" value="#{pessoaControlador.endereco.tipoEndereco}">
                                <f:selectItems value="#{pessoaControlador.tiposEnderecos}"/>
                            </h:selectOneMenu>
                        </h:panelGrid>
                        <p:panel id="pEndPrin" style="border-color: white"
                                 visible="#{pessoaControlador.liberaEnderecoPrincipal()}">
                            <h:panelGrid columns="2">
                                <h:outputText value="Endereço Principal: "/>
                                <p:selectBooleanCheckbox id="endPrincipal"
                                                         value="#{pessoaControlador.endereco.principal}"/>
                            </h:panelGrid>
                        </p:panel>
                        <br/>
                        <p:commandButton id="btnadicionar"
                                         value="Adicionar"
                                         update="endersD pEndPrin :Formulario:tabinfos:gridEndereco2"
                                         actionListener="#{pessoaControlador.novoEndereco}"/>

                        <p:outputPanel id="enderecos">
                            <p:dataTable id="endersD" value="#{pessoaControlador.pessoa.enderecos}" var="ender">
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="Enderecos"/>
                                    </f:facet>
                                    <h:outputText
                                        value="#{ender.logradouro}, #{ender.numero}, #{ender.localidade}, #{ender.uf}, #{ender.cep} - #{ender.tipoEndereco}"/>
                                </p:column>
                                <p:column headerText="Principal">
                                    <h:outputText value="#{ender.principal ? 'Principal' : ''}"/>
                                </p:column>
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="Remover"/>
                                    </f:facet>
                                    <!--update=":Formulario:endersD :Formulario:pEndPrin" -->
                                    <p:commandLink value="Remover" update="@form" process="@this"
                                                   actionListener="#{pessoaControlador.removeEndereco}">
                                        <f:attribute name="vendereco" id="vendereco" value="#{ender}"/>
                                    </p:commandLink>
                                </p:column>
                            </p:dataTable>
                        </p:outputPanel>
                    </p:tab>
                    <br/>
                    <p:tab title="Contas Correntes Bancárias" id="pContaCorrente">
                        <p:panel id="painelContaCorrente">
                            <h:panelGrid columns="4" id="gridConta">
                                <h:outputText value="Conta Corrente Bancária:"/>
                                <p:autoComplete queryDelay="1000" size="40"
                                                id="contaCorrenteBancaria" title="Digite uma conta corrente bancária"
                                                value="#{pessoaControlador.contaCorrenteBancaria}"
                                                completeMethod="#{pessoaControlador.completaContaCorrenteBancarias}"
                                                converter="#{pessoaControlador.converterContaCorrenteBancaria}"
                                                var="conta"
                                                itemLabel="#{conta}"
                                                itemValue="#{conta.id}"
                                                forceSelection="true"/>
                                <p:commandButton id="botaoContaCorrente"
                                                 icon="ui-icon-circle-plus"
                                                 action="/tributario/cadastromunicipal/contacorrentebancaria/edita"
                                                 actionListener="#{pessoaControlador.atalhoContaCorrentePF}"
                                                 ajax="false">
                                </p:commandButton>
                                <p:commandButton id="botaoContaCorrenteRH"
                                                 icon="ui-icon-circle-plus"
                                                 action="/tributario/cadastromunicipal/contacorrentebancaria/editaRH"
                                                 actionListener="#{pessoaControlador.atalhoContaCorrentePF}"
                                                 ajax="false">
                                </p:commandButton>
                                <p:message for="contaCorrenteBancaria" showDetail="true"/>
                            </h:panelGrid>
                        </p:panel>
                        <br/>
                        <p:panel id="pContaPrinci" style="border-color: white"
                                 visible="#{pessoaControlador.liberaContaPrincipal()}">
                            <h:panelGrid columns="2">
                                <h:outputText value="Conta Principal: "/>
                                <p:selectBooleanCheckbox id="contaPrincipal"
                                                         value="#{pessoaControlador.contaCorrenteBancPessoa.principal}"/>
                            </h:panelGrid>
                        </p:panel>
                        <br/>
                        <p:commandButton id="adicionarContaCorrenteBancaria" value="Adicionar Conta Corrente Bancária"
                                         actionListener="#{pessoaControlador.adicionaContaCorrenteBancPessoa}"
                                         update="painelContaCorrente tableContas pContaPrinci"/>
                        <br/>

                        <p:dataTable id="tableContas" value="#{pessoaControlador.pessoa.contaCorrenteBancPessoas}"
                                     var="c">
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Agência: "/>
                                </f:facet>
                                <h:outputText value="#{c.contaCorrenteBancaria.agencia}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Conta: "/>
                                </f:facet>
                                <h:outputText
                                    value="#{c.contaCorrenteBancaria.numeroConta}-#{c.contaCorrenteBancaria.digitoVerificador}"/>
                            </p:column>
                            <p:column headerText="Principal">
                                <h:outputText value="#{c.principal ? 'Principal' : ''}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Situação: "/>
                                </f:facet>
                                <h:outputText value="#{c.contaCorrenteBancaria.situacao}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Remover"/>
                                </f:facet>
                                <p:commandLink value="Remover"
                                               actionListener="#{pessoaControlador.removeContaCorrenteBancPessoa}"
                                               update=":Formulario:tableContas :Formulario:gridConta :Formulario:pContaPrinci">
                                    <f:attribute value="#{c}" name="objeto"/>
                                </p:commandLink>
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                </p:tabView>
            </p:panel>
            <br/>

            <div align="left">
                <p:commandButton title="Clique para Salvar"
                                 ajax="false" id="salvar"
                                 value="Salvar"
                                 action="#{pessoaControlador.salvar}"/>
                <p:commandButton title="Clique para Cancelar"
                                 id="cancelar"
                                 actionListener="#{pessoaControlador.cancelar}"
                                 value="Cancelar"
                                 ajax="false"
                                 action="#{pessoaControlador.caminho()}"
                                 immediate="true"/>
            </div>
        </h:form>
        <p:dialog header="Alterando Endereços" widgetVar="dlg" id="janelaEndereco" width="700">
            <h:form id="formEndereco">
                <table>
                    <fc:editaEndereco endereco="#{pessoaControlador.enderecoAux}"/>
                </table>
                <p:commandButton value="Alterar" update=":Formulario" oncomplete="dlg.hide();"/>
            </h:form>
        </p:dialog>

        <p:dialog header="Alterando Telefone" widgetVar="dlgT" id="janelaTelefone" width="700">
            <h:form id="formFone">
                <script type="text/javascript">
                    function validarTelefone(elem) {
                        if (elem.value.toString().length &lt; 14) {
                            elem.value = '';
                        }
                    }
                </script>
                <h:panelGrid columns="3">
                    <h:outputText value="Telefone: "/>
                    <p:inputText id="inputFone"
                                 onkeydown="mascara(this, mtel)"
                                 maxlength="15"
                                 onblur="validarTelefone(this)"
                                 value="#{pessoaControlador.telefoneAux.telefone}"/>
                    <p:message for="inputFone" showDetail="true"/>
                    <h:outputText value="Tipo Telefone:"/>
                    <h:selectOneMenu value="#{pessoaControlador.telefoneAux.tipoFone}" id="tipoFone">
                        <f:selectItems value="#{pessoaControlador.tiposFone}"/>
                    </h:selectOneMenu>
                    <p:message for="tipoFone" showDetail="true"/>

                    <p:commandButton value="Alterar" update=":Formulario" oncomplete="dlgT.hide();"/>
                </h:panelGrid>
            </h:form>
        </p:dialog>
    </ui:define>
</ui:composition>
</html>
