<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PT"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:fc="http://java.sun.com/jsf/composite/components"
>
<ui:composition template="/corpo.xhtml">
    <ui:define name="body">

        <script type="application/javascript">
            function mostrarDialogRedeSim() {
                $('#modalredesiminsersao').modal('show');
                let wTotal = window.innerWidth;
                var diferencaW = wTotal * 0.2;
                var aplicarW = ((diferencaW / 2) * 100) / wTotal;
                $("#modalredesiminsersao").css("width", (wTotal - diferencaW) + "px");
                $("#modalredesiminsersao").css("right", aplicarW + "%");
                $("#modalredesiminsersao").css("left", "inherit");
            }
        </script>

        <p:panel header="Eventos ainda não processados">
            <h:form id="formularioRedeSim">
                <div class="row">
                    <div class="col-md-4">
                        <h:panelGrid columns="2">
                            <h:outputText value="Data Inicial:"/>
                            <p:calendar id="data-inicial"
                                        title="Informe a data inicial."
                                        value="#{sincronizadoreRedeSimControlador.filtroDataInicial}"
                                        onkeyup="mascara(this, Data);"
                                        navigator="true"
                                        pattern="dd/MM/yyyy"
                                        style="text-align: right"
                                        size="10"/>

                            <h:outputText value="Data Final:"/>
                            <p:calendar id="data-final"
                                        title="Informe a data final."
                                        value="#{sincronizadoreRedeSimControlador.filtroDataFinal}"
                                        onkeyup="mascara(this, Data);"
                                        navigator="true"
                                        pattern="dd/MM/yyyy"
                                        style="text-align: right"
                                        size="10"/>

                            <h:outputText value="Tipo de Evento:"/>
                            <p:selectOneMenu value="#{sincronizadoreRedeSimControlador.filtroTipoEvento}">
                                <f:selectItems value="#{sincronizadoreRedeSimControlador.tiposEventos()}"/>
                            </p:selectOneMenu>

                            <p:commandButton value="Pesquisar"
                                             styleClass="operacao prioritario"
                                             icon="ui-icon-search"
                                             onclick="aguarde.show()" oncomplete="aguarde.hide()"
                                             actionListener="#{sincronizadoreRedeSimControlador.buscarEventosNaBase()}"
                                             update="eventos"/>
                            <p:spacer/>
                        </h:panelGrid>
                    </div>
                    <div class="col-md-8">
                        <fc:manutencaoAgendamento tipo="#{sincronizadoreRedeSimControlador.tipoTarefaAgendada}"/>
                    </div>
                </div>


                <div style="width: 100%; text-align: center">
                    <p:commandButton value="Buscar informações na RedeSIM"
                                     icon="ui-icon-refresh"
                                     onclick="if (!confirm('Tem certeza que deseja buscar as informações nos servidores da RedeSIM?'))return false;aguarde.show()"
                                     oncomplete="aguarde.hide()"
                                     update="@form"
                                     actionListener="#{sincronizadoreRedeSimControlador.buscarEmpresasRedeSim()}"
                                     styleClass="operacao mbot05"/>
                </div>

                <p:dataTable
                    id="eventos"
                    lazy="true"
                    value="#{sincronizadoreRedeSimControlador.model}"
                    var="evento"
                    styleClass="mtop10"
                    rowIndexVar="rowIx"
                    rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                    rows="10"
                    rowsPerPageTemplate="10,50,100,200,300"
                    currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                    paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>Eventos&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                    paginator="true"
                    emptyMessage="Nenhum evento encontrado.">

                    <p:column headerText="Versão" styleClass="alinhamentoCentralizado">
                        <h:outputText value="#{evento.versao}"/>
                    </p:column>
                    <p:column headerText="Data" styleClass="alinhamentoEsquerda">
                        <h:outputText value="#{evento.dataOperacao}">
                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                        </h:outputText>
                    </p:column>
                    <p:column headerText="Código" styleClass="alinhamentoEsquerda">
                        <h:outputText value="#{evento.codigo}"/>
                    </p:column>
                    <p:column headerText="Identificador" styleClass="alinhamentoEsquerda">
                        <h:outputText value="#{evento.identificador}"/>
                    </p:column>
                    <p:column headerText="Tipo de Evento" styleClass="alinhamentoEsquerda">
                        <h:outputText value="#{evento.tipoEvento.descricao}"/>
                    </p:column>
                    <p:column headerText="Situação Cadastral" styleClass="alinhamentoEsquerda">
                        <h:outputText value="#{evento.situacaoEmpresa}"/>
                    </p:column>
                    <p:column headerText="CNPJ" styleClass="alinhamentoEsquerda">
                        <h:outputText value="#{evento.cnpj}"/>
                    </p:column>
                    <p:column headerText="Descrição" styleClass="alinhamentoEsquerda">
                        <h:outputText value="#{evento.descricao}"/>
                    </p:column>
                    <p:column headerText="Situação" styleClass="alinhamentoEsquerda">
                        <h:outputText value="#{evento.situacao.descricao}"/>
                    </p:column>
                    <p:column headerText="Visualizar" styleClass="centralizado">
                        <p:commandButton
                            icon="ui-icon-search"
                            onclick="aguarde.show()"
                            actionListener="#{sincronizadoreRedeSimControlador.selecionarPessoaRedeSim(evento)}"
                            oncomplete="aguarde.hide()"
                            process="@this"
                            title="Clique para marcar esta notificação como lida."/>
                    </p:column>
                </p:dataTable>
            </h:form>
        </p:panel>

        <p:panel header="Eventos já processados" style="margin-top: 20px">
            <fc:consultaEntidade id="eventoRedeSim" chave="EVENTO_REDESIM"/>
        </p:panel>

        <h:form id="FormularioInsersaoRedeSim">
            <div id="modalredesiminsersao"
                 class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="modalredesiminsersao"
                 aria-hidden="true">
                <div class="modal-header" style="text-align: center">
                    <div class="centralizado">
                        <h3>Integração com a REDESIM</h3>
                    </div>
                </div>
                <div class="modal-body" id="modal-body-documento-oficial">
                    <p:outputPanel id="areaConteudoRedeSim">
                        <div>
                            <table style="border : solid #d3d3d3 1px; width: 100%;" class="table table-hover">
                                <tr style="text-align: left; height: 20px; background: #d3d3d3">
                                    <th>Campo</th>
                                    <th>RedeSIM</th>
                                    <th>WebPúblico</th>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>Razão Social:</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaRedeSim.nome}</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaJuridica.razaoSocial}</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>Nome Fantasia:</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaRedeSim.nomeFantasia}</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaJuridica.nomeFantasia}</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>CNPJ:</td>
                                    <td>#{cadastroEconomicoControlador.tratarCnpj(sincronizadoreRedeSimControlador.pessoaRedeSim.cnpj)}</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaJuridica.cnpj}</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>Inscrição Municipal:</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaRedeSim.numeroInscricaoMunicipal}</td>
                                    <td>#{cadastroEconomicoControlador.selecionado.inscricaoCadastral}</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>Inscrição Estadual:</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaRedeSim.numeroInscricaoEstadual}</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaJuridica.inscricaoEstadual}</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>Situação Cadastral:</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaRedeSim.codigoSituacaoRFB} #{sincronizadoreRedeSimControlador.pessoaRedeSim.descricaoSituacaoRFB}</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaJuridica.situacaoCadastralPessoa.descricao}</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>Abertura:</td>
                                    <td>
                                        <h:outputText
                                            value="#{sincronizadoreRedeSimControlador.pessoaRedeSim.abertura}">
                                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                    </td>
                                    <td>
                                        <h:outputText value="#{cadastroEconomicoControlador.selecionado.abertura}">
                                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                    </td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>Optante Simples Nacional:</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaRedeSim.opcaoSimplesNacional? 'Sim':'Não'}</td>
                                    <td>#{cadastroEconomicoControlador.enquadramentoFiscal.regimeTributario eq 'SIMPLES_NACIONAL' ? 'Sim':'Não'}</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>Porte:</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaRedeSim.porte.descricao}</td>
                                    <td>#{cadastroEconomicoControlador.enquadramentoFiscal.porte.descricao}</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>Natureza Jurídica:</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaRedeSim.naturezaJuridica.descricao}</td>
                                    <td>#{cadastroEconomicoControlador.selecionado.naturezaJuridica.descricao}</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>MEI:</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaRedeSim.mei ? 'Sim': 'Não'}</td>
                                    <td>#{cadastroEconomicoControlador.enquadramentoFiscal.tipoIssqn eq 'MEI' ? 'Sim': 'Não'}</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>Capital Social:</td>
                                    <td>
                                        <h:outputText
                                            value="#{sincronizadoreRedeSimControlador.pessoaRedeSim.capitalSocial}"
                                            converter="converterBigDecimal2Casas"/>
                                    </td>
                                    <td>
                                        <h:outputText
                                            value=" #{sincronizadoreRedeSimControlador.pessoaJuridica.capitalSocial}"
                                            converter="converterBigDecimal2Casas"/>
                                    </td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>Capital Integralizado:</td>
                                    <td>
                                        <h:outputText
                                            value="#{sincronizadoreRedeSimControlador.pessoaRedeSim.capitalIntegralizado}"
                                            converter="converterBigDecimal2Casas"/>
                                    </td>
                                    <td>
                                        <h:outputText
                                            value=" #{sincronizadoreRedeSimControlador.pessoaJuridica.capitalIntegralizado}"
                                            converter="converterBigDecimal2Casas"/>
                                    </td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>Valor Quota:</td>
                                    <td>
                                        <h:outputText
                                            value=" #{sincronizadoreRedeSimControlador.pessoaRedeSim.valorQuota}"
                                            converter="converterBigDecimal2Casas"/>
                                    </td>
                                    <td>
                                        <h:outputText
                                            value=" #{sincronizadoreRedeSimControlador.pessoaJuridica.valorCota}"
                                            converter="converterBigDecimal2Casas"/>
                                    </td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>Área Utilizada:</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaRedeSim.areaTotalUtilizada}</td>
                                    <td>#{cadastroEconomicoControlador.selecionado.areaUtilizacao}</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>Última Viabilidade Vinculada:</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaRedeSim.ultimaViabilidadeVinculada}</td>
                                    <td>#{cadastroEconomicoControlador.selecionado.ultimaViabilidadeVinculada}</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>Última Viabilidade de Análise de Endereço:</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaRedeSim.ultimaViabilidadeAnaliseEndereco}</td>
                                    <td>#{cadastroEconomicoControlador.selecionado.ultimaViabilidadeEndereco}</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>Última Viabilidade de Análise de Endereço:</td>
                                    <td>
                                        <h:outputText
                                            value="#{sincronizadoreRedeSimControlador.pessoaRedeSim.dataUltimaAnaliseEndereco}">
                                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                    </td>
                                    <td>#{cadastroEconomicoControlador.selecionado.ultimaAnaliseEndereco}</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>Inscrição Imobiliária:</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaRedeSim.inscricaoImobiliaria}</td>
                                    <td>#{cadastroEconomicoControlador.selecionado.cadastroImobiliario}</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>Email:</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaRedeSim.email}</td>
                                    <td>#{cadastroEconomicoControlador.selecionado.pessoa.email}</td>
                                </tr>
                                <tr class="centralizado negrito">
                                    <td colspan="3" class="centralizado">Endereço:</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>CEP:</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaRedeSim.enderecoCorreio.cep}</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaJuridica.enderecoPrincipal.cep}</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>UF:</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaRedeSim.enderecoCorreio.uf}</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaJuridica.enderecoPrincipal.uf}</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>Cidade:</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaRedeSim.enderecoCorreio.localidade}</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaJuridica.enderecoPrincipal.localidade}</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>Bairro:</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaRedeSim.enderecoCorreio.bairro}</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaJuridica.enderecoPrincipal.bairro}</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>Logradouro:</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaRedeSim.enderecoCorreio.logradouro}</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaJuridica.enderecoPrincipal.logradouro}</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>Complemento:</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaRedeSim.enderecoCorreio.complemento}</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaJuridica.enderecoPrincipal.complemento}</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>Numero:</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaRedeSim.enderecoCorreio.numero}</td>
                                    <td>#{sincronizadoreRedeSimControlador.pessoaJuridica.enderecoPrincipal.numero}</td>
                                </tr>
                                <tr class="centralizado negrito">
                                    <td colspan="3">Telefones:</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td>Número:</td>
                                    <td>
                                        <ui:repeat value="#{sincronizadoreRedeSimControlador.pessoaRedeSim.telefones}"
                                                   var="telefone" varStatus="index">
                                            #{index.index > 0? ' / ': ''} #{telefone.telefone}
                                        </ui:repeat>
                                    </td>
                                    <td>
                                        <ui:repeat value="#{sincronizadoreRedeSimControlador.pessoaJuridica.telefones}"
                                                   var="telefone" varStatus="index">
                                            #{index.index > 0? ' / ': ''} #{telefone}
                                        </ui:repeat>
                                    </td>
                                </tr>
                                <tr class="centralizado negrito">
                                    <td colspan="3" class="centralizado">CNAEs:</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td colspan="3">
                                        <table style="width: 100%">
                                            <tr>
                                                <td class="centralizado">RedeSIM</td>

                                            </tr>
                                            <tr>
                                                <td valign="top" style="width: 50%">
                                                    <table class="table">
                                                        <ui:repeat
                                                            value="#{sincronizadoreRedeSimControlador.pessoaRedeSim.cnaes}"
                                                            var="cnae" varStatus="index">
                                                            <tr>
                                                                <td>
                                                                    #{cnae.cnae.codigo}
                                                                </td>
                                                                <td>
                                                                    #{cnae.cnae.nome}
                                                                </td>
                                                                <td>
                                                                    #{cnae.tipoCnae.descricao}
                                                                </td>
                                                                <td>
                                                                    Exercida no local:
                                                                    #{cnae.exercidaNoLocal eq null ? '' : cnae.exercidaNoLocal ? 'Sim' : 'Não'}
                                                                </td>
                                                            </tr>
                                                        </ui:repeat>
                                                    </table>
                                                </td>

                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td colspan="3">
                                        <table style="width: 100%">
                                            <tr>
                                                <td class="centralizado">WebPúblico</td>
                                            </tr>
                                            <tr>
                                                <td valign="top" style="width: 50%">
                                                    <table class="table">
                                                        <ui:repeat
                                                            value="#{sincronizadoreRedeSimControlador.pessoaJuridica.pessoaCNAEAtivos}"
                                                            var="cnae" varStatus="index">
                                                            <tr>
                                                                <td>
                                                                    #{cnae.cnae.codigoCnae}
                                                                </td>
                                                                <td>
                                                                    #{cnae.cnae.descricaoDetalhada}
                                                                </td>
                                                                <td>
                                                                    #{cnae.tipo.descricao}
                                                                </td>
                                                                <td>
                                                                    Exercida no local:
                                                                    #{cnae.exercidaNoLocal eq null ? '' : cnae.exercidaNoLocal ? 'Sim' : 'Não'}
                                                                </td>
                                                            </tr>
                                                        </ui:repeat>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                                <tr class="centralizado negrito">
                                    <td colspan="3" class="centralizado">Sócios:</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td colspan="3">
                                        <table style="width: 100%">
                                            <tr>
                                                <td class="centralizado">RedeSIM</td>
                                            </tr>
                                            <tr>
                                                <td valign="top" style="width: 50%">
                                                    <table class="table">
                                                        <ui:repeat
                                                            value="#{sincronizadoreRedeSimControlador.pessoaRedeSim.socios}"
                                                            var="socio" varStatus="index">
                                                            <tr>
                                                                <td>
                                                                    <h:outputText value="#{socio.inicioVigencia}">
                                                                        <f:convertDateTime pattern="dd/MM/yyyy"/>
                                                                    </h:outputText>
                                                                </td>
                                                                <td>
                                                                    #{cadastroEconomicoControlador.tratarNomeSocio(socio)}
                                                                </td>
                                                            </tr>
                                                        </ui:repeat>
                                                    </table>
                                                </td>

                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td colspan="3">
                                        <table style="width: 100%">
                                            <tr>
                                                <td class="centralizado">WebPúblico</td>
                                            </tr>
                                            <tr>

                                                <td valign="top" style="width: 50%">
                                                    <table class="table">
                                                        <ui:repeat
                                                            value="#{sincronizadoreRedeSimControlador.pessoaJuridica.sociedadePessoaJuridica}"
                                                            var="socio" varStatus="index">
                                                            <tr>
                                                                <td>
                                                                    <h:outputText value="#{socio.dataInicio}">
                                                                        <f:convertDateTime pattern="dd/MM/yyyy"/>
                                                                    </h:outputText>
                                                                </td>
                                                                <td>
                                                                    #{socio.socio.nome}
                                                                </td>
                                                            </tr>
                                                        </ui:repeat>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                                <tr class="centralizado negrito">
                                    <td colspan="3" class="centralizado">Representantes Legais:</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td colspan="3">
                                        <table style="width: 100%">
                                            <tr>
                                                <td class="centralizado">RedeSIM</td>
                                            </tr>
                                            <tr>
                                                <td valign="top" style="width: 50%">
                                                    <table class="table">
                                                        <ui:repeat
                                                            value="#{sincronizadoreRedeSimControlador.pessoaRedeSim.representantesLegais}"
                                                            var="representante" varStatus="index">
                                                            <tr>
                                                                <td>
                                                                    #{representante.nome}
                                                                </td>
                                                                <td>
                                                                    #{cadastroEconomicoControlador.tratarCpf(representante.cpf)}
                                                                </td>

                                                            </tr>
                                                        </ui:repeat>
                                                    </table>
                                                </td>

                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td colspan="3">
                                        <table style="width: 100%">
                                            <tr>
                                                <td class="centralizado">WebPúblico</td>
                                            </tr>
                                            <tr>

                                                <td valign="top" style="width: 50%">
                                                    <table class="table">
                                                        <ui:repeat
                                                            value="#{sincronizadoreRedeSimControlador.pessoaJuridica.representantesLegal}"
                                                            var="representante" varStatus="index">
                                                            <tr>
                                                                <td>
                                                                    #{representante.representante.nome}
                                                                </td>
                                                                <td>
                                                                    #{representante.representante.cpf}
                                                                </td>
                                                            </tr>
                                                        </ui:repeat>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                                <tr class="centralizado negrito">
                                    <td colspan="3" class="centralizado">Filiais:</td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td colspan="3">
                                        <table style="width: 100%">
                                            <tr>
                                                <td class="centralizado">RedeSIM</td>
                                            </tr>
                                            <tr>
                                                <td valign="top" style="width: 50%">
                                                    <table class="table">
                                                        <ui:repeat
                                                            value="#{sincronizadoreRedeSimControlador.pessoaRedeSim.filiais}"
                                                            var="filial" varStatus="index">
                                                            <tr>
                                                                <td>
                                                                    #{cadastroEconomicoControlador.tratarCnpj(filial.cnpj)}
                                                                </td>
                                                                <td>
                                                                    #{filial.enderecoCorreio.uf}
                                                                </td>

                                                            </tr>
                                                        </ui:repeat>
                                                    </table>
                                                </td>

                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                                <tr class="alinhamentoEsquerda">
                                    <td colspan="3">
                                        <table style="width: 100%">
                                            <tr>
                                                <td class="centralizado">WebPúblico</td>
                                            </tr>
                                            <tr>

                                                <td valign="top" style="width: 50%">
                                                    <table class="table">
                                                        <ui:repeat
                                                            value="#{sincronizadoreRedeSimControlador.pessoaJuridica.filiais}"
                                                            var="filial" varStatus="index">
                                                            <tr>
                                                                <td>
                                                                    #{filial.filial}
                                                                </td>
                                                            </tr>
                                                        </ui:repeat>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </p:outputPanel>
                </div>

                <div class="modal-footer">
                    <p:commandButton value="Inserir Dados" id="inserirDados"
                                     icon="ui-icon-check" styleClass="operacao prioritario"
                                     onclick="if (!confirm('Tem certeza que deseja inserir as informações da RedeSim desses cadastro?'))return false;$('#modalredesiminsersao').modal('hide'); aguarde.show()"
                                     actionListener="#{sincronizadoreRedeSimControlador.verificarSePessoaJaTemCadastro()}"
                                     update=":formularioRedeSim"
                                     oncomplete="aguarde.hide();"/>

                    <p:commandButton icon="ui-icon-cancel" styleClass="operacao" value="Cancelar"
                                     onclick="$('#modalredesiminsersao').modal('hide');"/>

                    <p:commandButton value="Imprimir" type="button" id="imprimeRedeSim"
                                     icon="ui-icon-print" styleClass="operacao prioritario">
                        <p:printer target="areaConteudoRedeSim"/>
                    </p:commandButton>
                </div>
            </div>
            <div id="modalconfirmacaoredesim"
                 class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="modalredesim"
                 aria-hidden="true">
                <div class="modal-header" style="text-align: center">
                    <div class="centralizado">
                        <h3>Integração realizada, deseja visualizar o cadastro econômico?</h3>
                    </div>
                </div>
                <div class="modal-body centralizado">
                    <p:commandButton value="Sim"
                                     icon="ui-icon-check"
                                     styleClass="operacao prioritario"
                                     actionListener="#{sincronizadoreRedeSimControlador.navegarParaCadastro()}"/>

                    <p:commandButton icon="ui-icon-cancel" styleClass="operacao" value="Não"
                                     onclick="$('#modalconfirmacaoredesim').modal('hide');"
                                     actionListener="#{sincronizadoreRedeSimControlador.recarregarPagina()}"/>


                </div>
            </div>
        </h:form>

        <h:form>
        <div id="modalconfirmacaoinsersaocadastro"
             class="modal hide fade" tabindex="-1" role="dialog"
             aria-hidden="true">
            <div class="modal-header" style="text-align: center">
                <div class="centralizado">
                    <h3>Ainda não existe um cadastro econômico vinculado a essa pessoa, deseja criar o cadastro?</h3>
                </div>
            </div>
            <div class="modal-body centralizado">
                <p:commandButton value="Sim"
                                 icon="ui-icon-check"
                                 onclick="$('#modalconfirmacaoinsersaocadastro').modal('hide'); aguarde.show()"
                                 oncomplete="aguarde.hide()"
                                 styleClass="operacao prioritario"
                                 actionListener="#{sincronizadoreRedeSimControlador.confirmarInsersaoPessoa(true)}"/>

                <p:commandButton icon="ui-icon-cancel" styleClass="operacao" value="Não"
                                 onclick="$('#modalconfirmacaoinsersaocadastro').modal('hide');"
                                 actionListener="#{sincronizadoreRedeSimControlador.confirmarInsersaoPessoa(false)}"/>
            </div>
        </div>
        </h:form>

    </ui:define>
</ui:composition>
</html>
