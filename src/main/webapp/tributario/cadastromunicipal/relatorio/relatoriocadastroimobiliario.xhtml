<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:fc="http://java.sun.com/jsf/composite/components"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
>
<ui:composition template="/corpo.xhtml">
    <ui:define name="body">
        <h:form id="Formulario">
            <p:panel header="Relatório de Auditoria do Cadastro Imobiliário" styleClass="mbot05">
                <h:panelGrid columns="2" id="panelGridGeral">
                    <fc:outputLabelObrigatorio value="Tipo do Relatório: "/>
                    <h:panelGrid columns="3" cellpadding="0" cellspacing="0" id="panelGridTipoRelatorio">
                        <p:selectOneMenu id="tipoRelatorio"
                                         value="#{relatorioCadastroImobiliarioControlador.assistente.tipoRelatorioCadastroImobiliario}">
                            <f:selectItems
                                value="#{relatorioCadastroImobiliarioControlador.preencherTiposRelatorio()}"/>
                            <p:ajax event="change" process=":Formulario:panelGridTipoRelatorio"
                                    update=":Formulario:panelGridTipoRelatorio"/>
                        </p:selectOneMenu>

                        <h:outputLabel styleClass="mlef05" value="Detalhado: " for="detalhado"
                                       rendered="#{relatorioCadastroImobiliarioControlador.isCadastroImobiliario()}"/>
                        <p:selectBooleanCheckbox value="#{relatorioCadastroImobiliarioControlador.assistente.detalhado}"
                                                 rendered="#{relatorioCadastroImobiliarioControlador.isCadastroImobiliario()}"
                                                 id="detalhado"/>

                        <c:if
                            test="#{relatorioCadastroImobiliarioControlador.isBCI()}">
                            <h:outputText value="Data BCI: "/>
                            <p:calendar value="#{relatorioCadastroImobiliarioControlador.assistente.dataBCI}"
                                        pattern="dd/MM/yyyy"
                                        navigator="true"
                                        showOn="button"
                                        size="10"
                                        onkeypress="mascara(this, mdata)"
                                        title="Informe a data para filtrar o BCI"/>
                        </c:if>
                    </h:panelGrid>


                    <h:outputLabel value="Cadastro Imobiliário Inicial: " for="cadInicial"/>
                    <h:panelGrid columns="3" cellspacing="0">
                        <p:inputText value="#{relatorioCadastroImobiliarioControlador.assistente.cadastroInicial}"
                                     id="cadInicial"
                                     size="16"
                                     maxlength="15"/>
                        <h:outputLabel value="Final: " for="cadFinal"/>
                        <p:inputText value="#{relatorioCadastroImobiliarioControlador.assistente.cadastroFinal}"
                                     id="cadFinal"
                                     size="16"
                                     maxlength="15"/>
                    </h:panelGrid>

                    <h:outputLabel value="Setor: " for="setor"/>
                    <h:panelGrid columns="5" cellpadding="0" cellspacing="0">
                        <p:inputText value="#{relatorioCadastroImobiliarioControlador.assistente.setor}" maxlength="3"
                                     size="6"
                                     id="setor"/>
                        <h:outputLabel style="margin-left: 11px !important;" value="Quadra: " for="quadra"/>
                        <p:inputText value="#{relatorioCadastroImobiliarioControlador.assistente.quadra}" maxlength="4"
                                     size="8"
                                     id="quadra"/>
                        <h:outputLabel style="margin-left: 11px !important;" value="Lote: " for="lote"/>
                        <p:inputText value="#{relatorioCadastroImobiliarioControlador.assistente.lote}" maxlength="4"
                                     size="8"
                                     id="lote"/>
                    </h:panelGrid>

                    <h:outputLabel value="Categoria: " for="categoria"/>
                    <p:selectOneMenu id="categoria"
                                     value="#{relatorioCadastroImobiliarioControlador.assistente.categoria}"
                                     converter="#{categoriaIsencaoIPTUControlador.converterGenerico}">
                        <f:selectItems value="#{relatorioCadastroImobiliarioControlador.preencherCategorias()}"/>
                    </p:selectOneMenu>

                    <h:outputLabel value="Alíquota (%): "/>
                    <h:panelGrid columns="3" id="panelGridAliquota" cellspacing="0" cellpadding="0">
                        <p:selectOneMenu id="aliquota"
                                         disabled="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemAliquiota}"
                                         value="#{relatorioCadastroImobiliarioControlador.assistente.aliquota}">
                            <f:selectItems value="#{relatorioCadastroImobiliarioControlador.buscarAliquotas()}"/>
                            <p:ajax event="change" update=":Formulario:imovelSemAliquota" process="@this"/>
                        </p:selectOneMenu>

                        <h:outputText styleClass="mlef05" value="Sem Alíquita (%): "/>
                        <p:selectBooleanCheckbox
                            value="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemAliquiota}"
                            disabled="#{relatorioCadastroImobiliarioControlador.hasSelecionarAliquota()}"
                            id="imovelSemAliquota">
                            <p:ajax event="change"
                                    update=":Formulario:panelGridAliquota"
                                    process="@this"/>
                            <p:ajax event="blur"
                                    update=":Formulario:panelGridAliquota"
                                    process="@this"/>
                        </p:selectBooleanCheckbox>
                    </h:panelGrid>


                    <h:outputLabel value="Proprietário: "/>
                    <p:autoComplete value="#{relatorioCadastroImobiliarioControlador.assistente.proprietario}"
                                    completeMethod="#{relatorioCadastroImobiliarioControlador.buscarPessoas}"
                                    id="proprietario"
                                    var="pes"
                                    forceSelection="true"
                                    queryDelay="1000"
                                    size="76"
                                    dropdown="true" immediate="true"
                                    converter="#{entidadeControlador.converterPessoa}"
                                    itemLabel="#{pes} - #{pes.situacaoCadastralPessoa.descricao}"
                                    maxResults="50"
                                    itemValue="#{pes.id}"
                                    disabled="#{relatorioCadastroImobiliarioControlador.hasBuscarProprietario()}"
                                    title="Selecione o proprietário.">
                        <p:ajax event="itemSelect" update=":Formulario:panelGridProprietario"
                                process="@this :Formulario:panelGridProprietario"/>
                        <p:ajax event="blur" update=":Formulario:panelGridProprietario"
                                process="@this :Formulario:panelGridProprietario"/>
                    </p:autoComplete>

                    <p:spacer/>
                    <h:panelGrid columns="5" id="panelGridProprietario">
                        <h:outputText value="Sem Proprietário: "/>
                        <p:selectBooleanCheckbox
                            style="margin-left: 25px !important;"
                            value="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemProprietario}"
                            disabled="#{relatorioCadastroImobiliarioControlador.assistente.proprietario.id ne null
                                             or relatorioCadastroImobiliarioControlador.assistente.filtrarProprietariosCpfCnpjInvalido}"
                            id="semProprietario">
                            <p:ajax event="change"
                                    update=":Formulario:proprietario :Formulario:panelGridProprietario"
                                    process="@this"/>
                        </p:selectBooleanCheckbox>

                        <h:outputText value="CPF/CNPJ Inválido: "/>
                        <p:selectBooleanCheckbox
                            value="#{relatorioCadastroImobiliarioControlador.assistente.filtrarProprietariosCpfCnpjInvalido}"
                            disabled="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemProprietario}"
                            id="propCpfCnpjInvalido">
                            <p:ajax event="change"
                                    update=":Formulario:proprietario :Formulario:panelGridProprietario"
                                    process="@this"/>
                        </p:selectBooleanCheckbox>
                    </h:panelGrid>

                    <h:outputLabel value="Compromissário: "/>
                    <p:autoComplete value="#{relatorioCadastroImobiliarioControlador.assistente.compromissario}"
                                    completeMethod="#{relatorioCadastroImobiliarioControlador.buscarPessoas}"
                                    id="compromissario"
                                    var="pes"
                                    forceSelection="true"
                                    queryDelay="1000"
                                    size="76"
                                    dropdown="true"
                                    converter="#{entidadeControlador.converterPessoa}"
                                    itemLabel="#{pes} - #{pes.situacaoCadastralPessoa.descricao}"
                                    maxResults="50"
                                    itemValue="#{pes.id}"
                                    disabled="#{relatorioCadastroImobiliarioControlador.hasBuscarCompromissario()}"
                                    title="Selecione o proprietário.">
                        <p:ajax event="itemSelect" update=":Formulario:panelGridCompromissario"
                                process="@this :Formulario:panelGridCompromissario"/>
                        <p:ajax event="blur" update=":Formulario:panelGridCompromissario"
                                process="@this :Formulario:panelGridCompromissario"/>
                    </p:autoComplete>

                    <p:spacer/>
                    <h:panelGrid columns="5" id="panelGridCompromissario">
                        <h:outputText value="Sem Compromissário: "/>
                        <p:selectBooleanCheckbox
                            value="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemCompromissario}"
                            disabled="#{relatorioCadastroImobiliarioControlador.assistente.compromissario.id ne null
                                        or relatorioCadastroImobiliarioControlador.assistente.filtrarCompromissariosCpfCnpjInvalido}"
                            id="semCompromissario">
                            <p:ajax event="change"
                                    update=":Formulario:compromissario :Formulario:panelGridCompromissario"
                                    process="@this"/>
                        </p:selectBooleanCheckbox>

                        <h:outputText value="CPF/CNPJ Inválido: "/>
                        <p:selectBooleanCheckbox
                            value="#{relatorioCadastroImobiliarioControlador.assistente.filtrarCompromissariosCpfCnpjInvalido}"
                            disabled="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemCompromissario}"
                            id="compCpfCnpjInvalido">
                            <p:ajax event="change"
                                    update=":Formulario:compromissario :Formulario:panelGridCompromissario"
                                    process="@this"/>
                        </p:selectBooleanCheckbox>
                    </h:panelGrid>


                    <h:outputText value="Situação Cadastral: "/>
                    <p:selectOneMenu
                        value="#{relatorioCadastroImobiliarioControlador.assistente.situacaoCadastroImobiliario}"
                        id="sitCadastro">
                        <f:selectItems value="#{relatorioCadastroImobiliarioControlador.preencherSituacoesCadastro()}"/>
                    </p:selectOneMenu>

                    <h:outputText value="Logradouro: "/>

                    <h:panelGrid columns="4" cellspacing="0" cellpadding="0">
                        <p:autoComplete queryDelay="1000"
                                        value="#{relatorioCadastroImobiliarioControlador.assistente.logradouro}"
                                        var="lograd"
                                        dropdown="true"
                                        itemLabel="#{lograd}"
                                        itemValue="#{lograd.id}"
                                        completeMethod="#{relatorioCadastroImobiliarioControlador.buscarLogradouros}"
                                        converter="#{logradouroControlador.converterGenerico}"
                                        id="logradouro"
                                        disabled="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemLogradouro}"
                                        size="76">
                            <p:ajax event="blur" update=":Formulario:imovelSemLogradouro" process="@this"/>
                            <p:ajax event="itemSelect" update=":Formulario:imovelSemLogradouro" process="@this"/>
                        </p:autoComplete>

                        <h:outputText styleClass="mlef05" value="Sem Logradouro: "/>
                        <p:selectBooleanCheckbox
                            value="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemLogradouro}"
                            disabled="#{relatorioCadastroImobiliarioControlador.assistente.logradouro.id ne null}"
                            style="margin-left: 04px !important;"
                            id="imovelSemLogradouro">
                            <p:ajax event="change" update=":Formulario:logradouro" process="@this"/>
                        </p:selectBooleanCheckbox>
                    </h:panelGrid>

                    <h:outputText value="Bairro: "/>
                    <h:panelGrid columns="4" cellpadding="0" cellspacing="0">
                        <p:autoComplete queryDelay="1000"
                                        value="#{relatorioCadastroImobiliarioControlador.assistente.bairro}"
                                        var="bairro"
                                        dropdown="true"
                                        itemLabel="#{bairro}"
                                        itemValue="#{bairro.id}"
                                        completeMethod="#{relatorioCadastroImobiliarioControlador.buscarBairros}"
                                        converter="#{bairroControlador.converterGenerico}"
                                        id="bairro"
                                        disabled="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemBairro}"
                                        size="76">
                            <p:ajax event="blur" update=":Formulario:imovelSemBairro" process="@this"/>
                            <p:ajax event="itemSelect" update=":Formulario:imovelSemBairro" process="@this"/>
                        </p:autoComplete>

                        <h:outputText styleClass="mlef05" value="Sem Bairro: "/>
                        <p:selectBooleanCheckbox
                            value="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemBairro}"
                            disabled="#{relatorioCadastroImobiliarioControlador.assistente.bairro.id ne null}"
                            styleClass="mlef30"
                            id="imovelSemBairro">
                            <p:ajax event="change" update=":Formulario:bairro" process="@this"/>
                        </p:selectBooleanCheckbox>
                    </h:panelGrid>

                    <h:outputText value="CEP: "/>
                    <h:panelGrid columns="5" cellspacing="0" cellpadding="0">
                        <p:inputText value="#{relatorioCadastroImobiliarioControlador.assistente.cep}"
                                     onkeypress="mascara(this,soNumeros)"
                                     id="cep"
                                     size="11"
                                     disabled="#{relatorioCadastroImobiliarioControlador.assistente.cepInvalido} or
                                     #{relatorioCadastroImobiliarioControlador.assistente.cepNulo}">
                            <p:ajax event="blur" update=":Formulario:cepInvalido :Formulario:cepNulo" process="@this"/>
                            <p:ajax event="keyup" update=":Formulario:cepInvalido :Formulario:cepNulo" process="@this"/>
                        </p:inputText>

                        <h:outputText styleClass="mlef05" value="CEP Inválido: "/>
                        <p:selectBooleanCheckbox
                            value="#{relatorioCadastroImobiliarioControlador.assistente.cepInvalido}"
                            disabled="#{relatorioCadastroImobiliarioControlador.hasCampoStringInvalido(relatorioCadastroImobiliarioControlador.assistente.cep)}"
                            id="cepInvalido">
                            <p:ajax event="change" update=":Formulario:cep" process="@this"/>
                        </p:selectBooleanCheckbox>

                        <h:outputText styleClass="mlef05" value="CEP Nulo: "/>
                        <p:selectBooleanCheckbox
                            value="#{relatorioCadastroImobiliarioControlador.assistente.cepNulo}"
                            disabled="#{relatorioCadastroImobiliarioControlador.hasCampoStringInvalido(relatorioCadastroImobiliarioControlador.assistente.cep)}"
                            id="cepNulo">
                            <p:ajax event="change" update=":Formulario:cep" process="@this"/>
                        </p:selectBooleanCheckbox>
                    </h:panelGrid>

                    <h:outputText value="Loteamento: "/>
                    <p:autoComplete queryDelay="1000"
                                    value="#{relatorioCadastroImobiliarioControlador.assistente.loteamento}"
                                    var="loteam"
                                    dropdown="true"
                                    itemLabel="#{loteam}"
                                    itemValue="#{loteam.id}"
                                    completeMethod="#{relatorioCadastroImobiliarioControlador.buscarLoteamentos}"
                                    converter="#{loteamentoControlador.converterGenerico}"
                                    id="loteamento"
                                    size="76"/>

                    <h:outputText value="Condomínio: "/>
                    <p:autoComplete queryDelay="1000"
                                    value="#{relatorioCadastroImobiliarioControlador.assistente.condominio}"
                                    var="condom"
                                    dropdown="true"
                                    itemLabel="#{condom.descricao} - #{condom.logradouroBairro}"
                                    itemValue="#{condom.id}"
                                    completeMethod="#{relatorioCadastroImobiliarioControlador.buscarCondominios}"
                                    converter="#{condominioControlador.converterGenerico}"
                                    id="condominio"
                                    size="76"/>

                    <h:outputText value="Valor do m² do Terreno (UFM): "/>
                    <h:panelGrid columns="8" cellspacing="0" cellpadding="0" id="valorTerreno">
                        <h:outputText value="Inicial: "/>
                        <p:inputText
                            onkeypress="mascaraPonto(this)"
                            converter="converterBigDecimal"
                            size="14"
                            disabled="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemMetragemTerreno}"
                            value="#{relatorioCadastroImobiliarioControlador.assistente.metragemInicialTerreno}">
                            <p:ajax event="keyup" update=":Formulario:imovelSemValorTerreno" process="@this"/>
                            <p:ajax event="blur" update=":Formulario:imovelSemValorTerreno" process="@this"/>
                        </p:inputText>

                        <h:outputText styleClass="mlef10" value="Final: "/>
                        <p:inputText
                            onkeypress="mascaraPonto(this)"
                            converter="converterBigDecimal"
                            size="14"
                            disabled="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemMetragemTerreno}"
                            value="#{relatorioCadastroImobiliarioControlador.assistente.metragemFinalTerreno}">
                            <p:ajax event="keyup" update=":Formulario:imovelSemValorTerreno" process="@this"/>
                            <p:ajax event="blur" update=":Formulario:imovelSemValorTerreno" process="@this"/>
                        </p:inputText>

                        <h:outputText styleClass="mlef10" value="Sem Valor do m² do Terreno: "/>
                        <p:selectBooleanCheckbox
                            styleClass="mlef02"
                            disabled="#{relatorioCadastroImobiliarioControlador.assistente.metragemInicialTerreno ne null
                                        or relatorioCadastroImobiliarioControlador.assistente.metragemFinalTerreno ne null}"
                            value="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemMetragemTerreno}"
                            id="imovelSemValorTerreno">
                            <p:ajax event="change" update="@this :Formulario:valorTerreno" process="@this"/>
                        </p:selectBooleanCheckbox>
                    </h:panelGrid>

                    <h:outputText value="Valor Área Terreno(m²): "/>
                    <h:panelGrid columns="8" cellspacing="0" cellpadding="0" id="areaTerreno">
                        <h:outputText value="Inicial: "/>
                        <p:inputText
                            onkeypress="mascaraPonto(this)"
                            converter="converterBigDecimal"
                            size="14"
                            disabled="${relatorioCadastroImobiliarioControlador.assistente.imovelSemAreaTerreno}"
                            value="#{relatorioCadastroImobiliarioControlador.assistente.areaInicialTerreno}">
                            <p:ajax event="keyup" update=":Formulario:imovelSemAreaTerreno" process="@this"/>
                            <p:ajax event="blur" update=":Formulario:imovelSemAreaTerreno" process="@this"/>
                        </p:inputText>

                        <h:outputText styleClass="mlef10" value="Final: "/>
                        <p:inputText
                            onkeypress="mascaraPonto(this)"
                            converter="converterBigDecimal"
                            size="14"
                            disabled="${relatorioCadastroImobiliarioControlador.assistente.imovelSemAreaTerreno}"
                            value="#{relatorioCadastroImobiliarioControlador.assistente.areaFinalTerreno}">
                            <p:ajax event="keyup" update=":Formulario:imovelSemAreaTerreno" process="@this"/>
                            <p:ajax event="blur" update=":Formulario:imovelSemAreaTerreno" process="@this"/>
                        </p:inputText>

                        <h:outputText styleClass="mlef10" value="Sem Área Terreno:"/>
                        <p:selectBooleanCheckbox
                            styleClass="mlef05"
                            disabled="#{relatorioCadastroImobiliarioControlador.assistente.areaInicialTerreno ne null
                                        or relatorioCadastroImobiliarioControlador.assistente.areaFinalTerreno ne null}"
                            value="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemAreaTerreno}"
                            id="imovelSemAreaTerreno">
                            <p:ajax event="change" update="@this :Formulario:areaTerreno" process="@this"/>
                        </p:selectBooleanCheckbox>
                    </h:panelGrid>

                    <h:outputText value="Valor Venal Terreno: "/>
                    <h:panelGrid columns="8" cellspacing="0" cellpadding="0" id="valorVenalTerreno">
                        <h:outputText value="Inicial: "/>
                        <p:inputText
                            onkeypress="mascaraPonto(this)"
                            converter="converterBigDecimal"
                            size="14"
                            disabled="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemValorVenalTerreno}"
                            value="#{relatorioCadastroImobiliarioControlador.assistente.valorVenalInicialTerreno}">
                            <p:ajax event="keyup" update=":Formulario:imovelSemValorVenTerreno" process="@this"/>
                            <p:ajax event="blur" update=":Formulario:imovelSemValorVenTerreno" process="@this"/>
                        </p:inputText>

                        <h:outputText styleClass="mlef10" value="Final: "/>
                        <p:inputText
                            onkeypress="mascaraPonto(this)"
                            converter="converterBigDecimal"
                            size="14"
                            disabled="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemValorVenalTerreno}"
                            value="#{relatorioCadastroImobiliarioControlador.assistente.valorVenalFinalTerreno}">
                            <p:ajax event="keyup" update=":Formulario:imovelSemValorVenTerreno" process="@this"/>
                            <p:ajax event="blur" update=":Formulario:imovelSemValorVenTerreno" process="@this"/>
                        </p:inputText>

                        <h:outputText styleClass="mlef10" value="Sem Valor Venal Inicial Terreno: "/>
                        <p:selectBooleanCheckbox
                            styleClass="mlef15"
                            value="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemValorVenalTerreno}"
                            disabled="#{relatorioCadastroImobiliarioControlador.assistente.valorVenalInicialTerreno ne null
                                        or relatorioCadastroImobiliarioControlador.assistente.valorVenalFinalTerreno ne null}"
                            id="imovelSemValorVenTerreno">
                            <p:ajax event="change" update="@this :Formulario:valorVenalTerreno" process="@this"/>
                        </p:selectBooleanCheckbox>
                    </h:panelGrid>

                    <h:outputText value="Valor Venal Excedente: "/>
                    <h:panelGrid columns="8" cellspacing="0" cellpadding="0" id="valorVenalExcendente">
                        <h:outputText value="Inicial: "/>
                        <p:inputText
                            onkeypress="mascaraPonto(this)"
                            converter="converterBigDecimal"
                            size="14"
                            disabled="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemValorVenalExcedente}"
                            value="#{relatorioCadastroImobiliarioControlador.assistente.valorVenalInicialExcedente}">
                            <p:ajax event="keyup" update=":Formulario:imovelSemValorVenExcedente" process="@this"/>
                            <p:ajax event="blur" update=":Formulario:imovelSemValorVenExcedente" process="@this"/>
                        </p:inputText>

                        <h:outputText styleClass="mlef10" value="Final: "/>
                        <p:inputText
                            onkeypress="mascaraPonto(this)"
                            converter="converterBigDecimal"
                            size="14"
                            disabled="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemValorVenalExcedente}"
                            value="#{relatorioCadastroImobiliarioControlador.assistente.valorVenalFinalExcedente}">
                            <p:ajax event="keyup" update=":Formulario:imovelSemValorVenExcedente" process="@this"/>
                            <p:ajax event="blur" update=":Formulario:imovelSemValorVenExcedente" process="@this"/>
                        </p:inputText>

                        <h:outputText styleClass="mlef10" value="Sem Valor Venal Inicial Excedente: "/>
                        <p:selectBooleanCheckbox
                            value="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemValorVenalExcedente}"
                            disabled="#{relatorioCadastroImobiliarioControlador.assistente.valorVenalInicialExcedente ne null
                                        or relatorioCadastroImobiliarioControlador.assistente.valorVenalFinalExcedente ne null}"
                            id="imovelSemValorVenExcedente">
                            <p:ajax event="change" update="@this :Formulario:valorVenalExcendente" process="@this"/>
                        </p:selectBooleanCheckbox>
                    </h:panelGrid>

                    <h:outputText value="Valor Venal Imóvel: "/>
                    <h:panelGrid columns="8" cellspacing="0" cellpadding="0" id="valorVenalImovel">
                        <h:outputText value="Inicial: "/>
                        <p:inputText
                            onkeypress="mascaraPonto(this)"
                            converter="converterBigDecimal"
                            size="14"
                            disabled="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemValorVenalImovel}"
                            value="#{relatorioCadastroImobiliarioControlador.assistente.valorVenalInicialImovel}">
                            <p:ajax event="keyup" update=":Formulario:imovelSemValorVenImovel" process="@this"/>
                            <p:ajax event="blur" update=":Formulario:imovelSemValorVenImovel" process="@this"/>
                        </p:inputText>

                        <h:outputText styleClass="mlef10" value="Final: "/>
                        <p:inputText
                            onkeypress="mascaraPonto(this)"
                            converter="converterBigDecimal"
                            size="14"
                            disabled="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemValorVenalImovel}"
                            value="#{relatorioCadastroImobiliarioControlador.assistente.valorVenalFinalImovel}">
                            <p:ajax event="keyup" update=":Formulario:imovelSemValorVenImovel" process="@this"/>
                            <p:ajax event="blur" update=":Formulario:imovelSemValorVenImovel" process="@this"/>
                        </p:inputText>

                        <h:outputText styleClass="mlef10" value="Sem Valor Venal Inicial Imóvel: "/>
                        <p:selectBooleanCheckbox
                            style="margin-left: 19px !important;"
                            value="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemValorVenalImovel}"
                            disabled="#{relatorioCadastroImobiliarioControlador.assistente.valorVenalInicialImovel ne null
                                        or relatorioCadastroImobiliarioControlador.assistente.valorVenalFinalTerreno ne null}"
                            id="imovelSemValorVenImovel">
                            <p:ajax event="change" update="@this :Formulario:valorVenalImovel" process="@this"/>
                        </p:selectBooleanCheckbox>
                    </h:panelGrid>

                    <h:outputText value="Possuí Código Face: "/>
                    <h:panelGrid columns="5" cellpadding="0" id="panelGridCodigoFace">
                        <p:selectOneMenu value="#{relatorioCadastroImobiliarioControlador.assistente.codigoFaceSimNao}"
                                         id="possuiCodFace">
                            <f:selectItems
                                value="#{relatorioCadastroImobiliarioControlador.preencherOpcoesCodigoFace()}"/>
                            <p:ajax event="change" process="@this :Formulario:panelGridCodigoFace"
                                    listener="#{relatorioCadastroImobiliarioControlador.limparCamposCodigoFace()}"
                                    update="@this :Formulario:panelGridCodigoFace"/>
                        </p:selectOneMenu>

                        <c:if test="#{relatorioCadastroImobiliarioControlador.hasCodigoFace()}">
                            <h:outputText value="Código Face: "/>
                            <h:panelGrid columns="3">
                                <p:inputText value="#{relatorioCadastroImobiliarioControlador.assistente.codigoFace}"/>
                            </h:panelGrid>

                            <h:outputText value="Face Principal: "/>
                            <p:selectOneMenu
                                value="#{relatorioCadastroImobiliarioControlador.assistente.codigoFaceTestaPrincipal}"
                                id="codFaceTestadaPrincipal">
                                <f:selectItems
                                    value="#{relatorioCadastroImobiliarioControlador.preencherOpcoesCodigoFace()}"/>
                            </p:selectOneMenu>
                        </c:if>
                    </h:panelGrid>


                    <h:outputText value="Largura(m) Face: "/>
                    <h:panelGrid columns="4" cellspacing="0" cellpadding="0">
                        <h:outputText value="Inicial: "/>
                        <p:inputText
                            onkeypress="mascaraPonto(this)"
                            converter="converterBigDecimal"
                            size="14"
                            value="#{relatorioCadastroImobiliarioControlador.assistente.larguraInicial}"/>
                        <h:outputText value="Final: "/>
                        <p:inputText
                            onkeypress="mascaraPonto(this)"
                            converter="converterBigDecimal"
                            size="14"
                            value="#{relatorioCadastroImobiliarioControlador.assistente.larguraFinal}"/>
                    </h:panelGrid>

                    <h:outputText value="Testada(m): "/>
                    <h:panelGrid columns="4" cellspacing="0" cellpadding="0">
                        <h:outputText value="Inicial: "/>
                        <p:inputText
                            onkeypress="mascaraPonto(this)"
                            converter="converterBigDecimal"
                            size="14"
                            value="#{relatorioCadastroImobiliarioControlador.assistente.metragemInicialTestada}"/>
                        <h:outputText value="Final: "/>
                        <p:inputText
                            onkeypress="mascaraPonto(this)"
                            converter="converterBigDecimal"
                            size="14"
                            value="#{relatorioCadastroImobiliarioControlador.assistente.metragemFinalTestada}"/>
                    </h:panelGrid>

                    <h:outputText value="Possuí Coleta de Lixo: "/>
                    <h:panelGrid columns="3" cellpadding="0" id="panelGridColetaLixo">
                        <p:selectOneMenu value="#{relatorioCadastroImobiliarioControlador.assistente.possuiColetaLixo}"
                                         id="possuiColetaLixo">
                            <f:selectItems
                                value="#{relatorioCadastroImobiliarioControlador.preencherOpcoesCodigoFace()}"/>
                            <p:ajax event="change" process="@this :Formulario:panelGridColetaLixo"
                                    update="@this :Formulario:panelGridColetaLixo"/>
                        </p:selectOneMenu>

                        <c:if test="#{relatorioCadastroImobiliarioControlador.hasColetaLixo()}">
                            <h:outputText value="Tipo Coleta de Lixo: "/>
                            <p:selectOneMenu
                                value="#{relatorioCadastroImobiliarioControlador.assistente.tipoColetaLixo}"
                                id="tipoColetaLixo">
                                <f:selectItems
                                    value="#{relatorioCadastroImobiliarioControlador.preencherTiposColetaLixo()}"/>
                            </p:selectOneMenu>
                        </c:if>
                    </h:panelGrid>


                    <h:outputText value="Patrimônios Do Lote: "/>
                    <p:selectOneMenu id="patrimonioLote"
                                     value="#{relatorioCadastroImobiliarioControlador.assistente.patrimonioDoLote}">
                        <f:selectItems value="#{relatorioCadastroImobiliarioControlador.preencherPatrimoniosDoLote()}"/>
                        <p:ajax event="change" process="@this" onstart="aguarde.show();" oncomplete="aguarde.hide();"
                                update="@this patrimoniosSelecionados"
                                listener="#{relatorioCadastroImobiliarioControlador.adicionarPatrimonioLote()}"/>
                    </p:selectOneMenu>

                    <p:spacer/>
                    <h:panelGroup id="patrimoniosSelecionados">
                        <table class="table">
                            <c:forEach
                                items="#{relatorioCadastroImobiliarioControlador.assistente.patrimoniosDoLote}"
                                var="patrimonio">
                                <tr>
                                    <td>
                                        <h:outputText value="#{patrimonio.descricao}" styleClass="negrito"/>
                                    </td>
                                    <td>
                                        <p:commandButton icon="ui-icon-trash"
                                                         onstart="aguarde.show()"
                                                         oncomplete="aguarde.hide()"
                                                         actionListener="#{relatorioCadastroImobiliarioControlador.removerPatrimonioLote(patrimonio)}"
                                                         process="patrimoniosSelecionados"
                                                         update="patrimoniosSelecionados patrimonioLote"/>
                                    </td>
                                </tr>
                            </c:forEach>
                        </table>
                    </h:panelGroup>

                    <h:outputLabel value="Tipo Cadastro: " for="tipoCadastro"/>
                    <p:selectOneMenu id="tipoCadastro"
                                     value="#{relatorioCadastroImobiliarioControlador.assistente.tipoCadastro}">
                        <f:selectItems value="#{relatorioCadastroImobiliarioControlador.preencherTiposCadastro()}"/>
                        <p:ajax event="change" process="@this :Formulario:panelGridGeral"
                                update="@this :Formulario:panelGridGeral"/>
                    </p:selectOneMenu>

                    <c:if test="#{relatorioCadastroImobiliarioControlador.isPredial()}">
                        <h:outputText value="Valor Área Construída(m²): "/>
                        <h:panelGrid columns="4" cellspacing="0" cellpadding="0">
                            <h:outputText value="Inicial: "/>
                            <p:inputText
                                onkeypress="mascaraPonto(this)"
                                converter="converterBigDecimal"
                                size="14"
                                value="#{relatorioCadastroImobiliarioControlador.assistente.valorInicialAreaConstruida}"/>
                            <h:outputText value="Final: "/>
                            <p:inputText
                                onkeypress="mascaraPonto(this)"
                                converter="converterBigDecimal"
                                size="14"
                                value="#{relatorioCadastroImobiliarioControlador.assistente.valorFinalAreaConstruida}"/>
                        </h:panelGrid>

                        <h:outputText value="Valor Venal Construção: "/>
                        <h:panelGrid columns="8" cellspacing="0" cellpadding="0" id="valorVenalConstrucao">
                            <h:outputText value="Inicial: "/>
                            <p:inputText
                                onkeypress="mascaraPonto(this)"
                                converter="converterBigDecimal"
                                size="14"
                                disabled="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemValorVenalConstrucao}"
                                value="#{relatorioCadastroImobiliarioControlador.assistente.valorVenalInicialConstrucao}">
                                <p:ajax event="keyup" update=":Formulario:imovelSemValorVenConst" process="@this"/>
                                <p:ajax event="blur" update=":Formulario:imovelSemValorVenConst" process="@this"/>
                            </p:inputText>
                            <h:outputText value="Final: "/>
                            <p:inputText
                                onkeypress="mascaraPonto(this)"
                                converter="converterBigDecimal"
                                size="14"
                                disabled="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemValorVenalConstrucao}"
                                value="#{relatorioCadastroImobiliarioControlador.assistente.valorVenalFinalConstrucao}">
                                <p:ajax event="keyup" update=":Formulario:imovelSemValorVenConst" process="@this"/>
                                <p:ajax event="blur" update=":Formulario:imovelSemValorVenConst" process="@this"/>
                            </p:inputText>

                            <h:outputText styleClass="mlef10" value="Sem Valor Venal Construção: "/>
                            <p:selectBooleanCheckbox
                                style="margin-left: 19px !important;"
                                value="#{relatorioCadastroImobiliarioControlador.assistente.imovelSemValorVenalConstrucao}"
                                disabled="#{relatorioCadastroImobiliarioControlador.assistente.valorVenalInicialConstrucao ne null
                                        or relatorioCadastroImobiliarioControlador.assistente.valorVenalFinalConstrucao ne null}"
                                id="imovelSemValorVenConst">
                                <p:ajax event="change" update="@this :Formulario:valorVenalConstrucao" process="@this"/>
                            </p:selectBooleanCheckbox>
                        </h:panelGrid>

                        <h:outputText value="Tipo de Construção: "/>
                        <p:autoComplete queryDelay="1000"

                                        value="#{relatorioCadastroImobiliarioControlador.assistente.tipoConstrucao}"
                                        var="tipoConst"
                                        dropdown="true"
                                        maxResults="10"
                                        itemLabel="#{tipoConst}"
                                        itemValue="#{tipoConst.id}"
                                        completeMethod="#{relatorioCadastroImobiliarioControlador.buscarTiposConstrucao}"
                                        converter="#{relatorioCadastroImobiliarioControlador.converterValorPossivel()}"
                                        id="tipoConstrucao"
                                        size="20">
                            <p:ajax event="itemSelect" process="@this"
                                    update="@this :Formulario:tipoDeConstrucaoSelecionados"
                                    listener="#{relatorioCadastroImobiliarioControlador.adicionarTipoConstrucao()}"/>
                        </p:autoComplete>

                        <p:spacer/>
                        <h:panelGroup id="tipoDeConstrucaoSelecionados">
                            <table class="table">
                                <c:forEach
                                    items="#{relatorioCadastroImobiliarioControlador.assistente.tiposConstrucao}"
                                    var="tipoConstrucao">
                                    <tr>
                                        <td>
                                            <h:outputText value="#{tipoConstrucao.descricao}" styleClass="negrito"/>
                                        </td>
                                        <td>
                                            <p:commandButton icon="ui-icon-trash"
                                                             onstart="aguarde.show()"
                                                             oncomplete="aguarde.hide()"
                                                             actionListener="#{relatorioCadastroImobiliarioControlador.removerTipoConstrucao(tipoConstrucao)}"
                                                             process="tipoDeConstrucaoSelecionados"
                                                             update="tipoDeConstrucaoSelecionados tipoConstrucao"/>
                                        </td>
                                    </tr>
                                </c:forEach>
                            </table>
                        </h:panelGroup>
                    </c:if>

                    <h:outputLabel value="Isento: " for="isento"/>
                    <p:selectBooleanCheckbox value="#{relatorioCadastroImobiliarioControlador.assistente.isento}"
                                             id="isento"/>
                    <h:outputLabel value="Imune: " for="imune"/>
                    <p:selectBooleanCheckbox value="#{relatorioCadastroImobiliarioControlador.assistente.imune}"
                                             id="imune"/>

                    <h:outputText value="Possuí Serviço Urbano: "/>
                    <p:selectOneMenu value="#{relatorioCadastroImobiliarioControlador.assistente.possuiServicoUrbano}"
                                     id="posuiServUrbano">
                        <f:selectItems value="#{relatorioCadastroImobiliarioControlador.preencherOpcoesCodigoFace()}"/>
                    </p:selectOneMenu>

                </h:panelGrid>

                <table>
                    <tr>
                        <td>
                            <h:panelGrid columns="2">

                                <div class="alert alert-info">
                                    Características da Construção
                                </div>
                                <p:spacer/>

                                <h:outputText value="1 - Tipo de Imóvel: "/>
                                <p:autoComplete queryDelay="10"
                                                value="#{relatorioCadastroImobiliarioControlador.assistente.tipoImovel}"
                                                var="tipoImovel"
                                                dropdown="true"
                                                maxResults="10"
                                                itemLabel="#{tipoImovel}"
                                                itemValue="#{tipoImovel.id}"
                                                completeMethod="#{relatorioCadastroImobiliarioControlador.buscarTipoImovel}"
                                                converter="#{relatorioCadastroImobiliarioControlador.converterValorPossivel()}"
                                                id="tpImovel"
                                                size="20"/>

                                <h:outputText value="3 - Qualidade da Construção: "/>
                                <p:autoComplete queryDelay="1000"
                                                value="#{relatorioCadastroImobiliarioControlador.assistente.qualidadeConstrucao}"
                                                var="qualidadeConstrucao"
                                                dropdown="true"
                                                maxResults="10"
                                                itemLabel="#{qualidadeConstrucao}"
                                                itemValue="#{qualidadeConstrucao.id}"
                                                completeMethod="#{relatorioCadastroImobiliarioControlador.buscarQualidadeConstrucao}"
                                                converter="#{relatorioCadastroImobiliarioControlador.converterValorPossivel()}"
                                                id="qldConstrucao"
                                                size="20"/>
                                <h:outputText value="15 - Comercial: "/>
                                <p:autoComplete queryDelay="1000"
                                                value="#{relatorioCadastroImobiliarioControlador.assistente.comercial}"
                                                var="comercial"
                                                dropdown="true"
                                                maxResults="10"
                                                itemLabel="#{comercial}"
                                                itemValue="#{comercial.id}"
                                                completeMethod="#{relatorioCadastroImobiliarioControlador.buscarComercial}"
                                                converter="#{relatorioCadastroImobiliarioControlador.converterValorPossivel()}"
                                                id="comercialConstr"
                                                size="20"/>

                                <h:outputText value="16- Padrão Residencial: "/>
                                <p:autoComplete queryDelay="1000"
                                                value="#{relatorioCadastroImobiliarioControlador.assistente.padraoResidencial}"
                                                var="padraoResidencial"
                                                dropdown="true"
                                                maxResults="10"
                                                itemLabel="#{padraoResidencial}"
                                                itemValue="#{padraoResidencial.id}"
                                                completeMethod="#{relatorioCadastroImobiliarioControlador.buscarPadraoResidencial}"
                                                converter="#{relatorioCadastroImobiliarioControlador.converterValorPossivel()}"
                                                id="pdrResidencial"
                                                size="20"/>
                            </h:panelGrid>

                        </td>

                        <td>
                            <h:panelGrid columns="2" styleClass="mlef10">

                                <div class="alert alert-info" style="width: 100%">
                                    Características do Terreno
                                </div>
                                <p:spacer/>

                                <h:outputText value="1 - Topografia: "/>
                                <p:autoComplete queryDelay="1000"

                                                value="#{relatorioCadastroImobiliarioControlador.assistente.topografia}"
                                                var="topografia"
                                                dropdown="true"
                                                maxResults="10"
                                                itemLabel="#{topografia}"
                                                itemValue="#{topografia.id}"
                                                completeMethod="#{relatorioCadastroImobiliarioControlador.buscarTopografia}"
                                                converter="#{relatorioCadastroImobiliarioControlador.converterValorPossivel()}"
                                                id="caractConstTopografia"
                                                size="20"/>


                                <h:outputText value="2 - Pedologia: "/>
                                <p:autoComplete queryDelay="1000"
                                                value="#{relatorioCadastroImobiliarioControlador.assistente.pedologia}"
                                                var="pedologia"
                                                dropdown="true"
                                                maxResults="10"
                                                itemLabel="#{pedologia}"
                                                itemValue="#{pedologia.id}"
                                                completeMethod="#{relatorioCadastroImobiliarioControlador.buscarPedologia}"
                                                converter="#{relatorioCadastroImobiliarioControlador.converterValorPossivel()}"
                                                id="caractConstPedologia"
                                                size="20"/>

                                <h:outputText value="4 - Situação: "/>
                                <p:autoComplete queryDelay="1000"
                                                value="#{relatorioCadastroImobiliarioControlador.assistente.situacao}"
                                                var="situacao"
                                                dropdown="true"
                                                maxResults="10"
                                                itemLabel="#{situacao}"
                                                itemValue="#{situacao.id}"
                                                completeMethod="#{relatorioCadastroImobiliarioControlador.buscarSituacao}"
                                                converter="#{relatorioCadastroImobiliarioControlador.converterValorPossivel()}"
                                                id="caractConstSituacao"
                                                size="20"/>

                                <h:outputText value="6- Patrimônio: "/>
                                <p:autoComplete queryDelay="1000"
                                                value="#{relatorioCadastroImobiliarioControlador.assistente.patrimonio}"
                                                var="patrimonio"
                                                dropdown="true"
                                                maxResults="10"
                                                itemLabel="#{patrimonio}"
                                                itemValue="#{patrimonio.id}"
                                                completeMethod="#{relatorioCadastroImobiliarioControlador.buscarPatrimonio}"
                                                converter="#{relatorioCadastroImobiliarioControlador.converterValorPossivel()}"
                                                id="caractConstPatrimonio"
                                                size="20"/>

                            </h:panelGrid>
                        </td>

                    </tr>
                </table>


            </p:panel>
            <fc:rodapeRelatorio
                actionListenerBotaoGerar="#{relatorioCadastroImobiliarioControlador.gerarRelatorio('PDF')}"
                controller="#{relatorioCadastroImobiliarioControlador}"
                mostrarBotoesExportar="true"
                mostrarBotaoExportarXLS="false"
                actionListenerLimparCampos="#{relatorioCadastroImobiliarioControlador.limparCampos()}"/>
        </h:form>
    </ui:define>
</ui:composition>
</html>
