<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PT"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:fc="http://java.sun.com/jsf/composite/components"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:Mp="http://java.sun.com/jsf/html">
<ui:composition template="/corpo.xhtml">
    <ui:define name="body">
        <h:form id="Formulario">
            <p:panel header="Processo de Restituição">
                <h:panelGrid columns="5">
                    <h:outputLabel value="Código"/>
                    <h:outputLabel value="Exercício"/>
                    <h:outputLabel value="Data"/>
                    <fc:outputLabelObrigatorio value="Protocolo"/>
                    <h:outputLabel value="Usuário"/>
                    <p:inputText id="inputCodigo"
                                 size="10"
                                 style="text-align: right"
                                 value="#{processoRestituicaoControlador.selecionado.codigo}"
                                 title="Código do Processo de Débitos"
                                 styleClass="campo-bloqueado"
                                 readonly="true"/>
                    <p:inputText id="inputExercicio"
                                 size="4"
                                 styleClass="campo-bloqueado"
                                 readonly="true"
                                 style="text-align: center"
                                 value="#{processoRestituicaoControlador.selecionado.exercicio}"/>
                    <p:inputText id="inputData"
                                 size="12"
                                 styleClass="campo-bloqueado"
                                 readonly="true"
                                 value="#{processoRestituicaoControlador.selecionado.data}">
                        <f:convertDateTime pattern="dd/MM/yyyy"/>
                    </p:inputText>
                    <p:autoComplete id="completeProtocolo"
                                    queryDelay="1000"
                                    maxResults="10"
                                    forceSelection="true"
                                    var="protocolo"
                                    itemLabel="#{protocolo.numero}/#{protocolo.ano}"
                                    itemValue="#{protocolo.id}"
                                    converter="#{processoControlador.converterGenerico}"
                                    completeMethod="#{processoRestituicaoControlador.completeProcesso}"
                                    value="#{processoRestituicaoControlador.selecionado.protocolo}"
                                    title="Digite o número ou o ano do protocolo."
                                    process="@this"/>
                    <p:inputText id="inputUsuario"
                                 styleClass="campo-bloqueado"
                                 readonly="true"
                                 size="15"
                                 value="#{processoRestituicaoControlador.selecionado.usuarioSistema.login}"/>
                    <p:watermark value="Protocolo. EX: 2/2015"
                                 for="completeProtocolo"/>
                </h:panelGrid>
                <h:panelGrid columns="1">
                    <fc:outputLabelObrigatorio value="Ato Legal"/>
                    <p:autoComplete id="completeAtoLegal"
                                    queryDelay="1000"
                                    maxResults="10"
                                    forceSelection="true"
                                    size="88"
                                    var="atoLegal"
                                    itemValue="#{atoLegal.id}"
                                    itemLabel="#{atoLegal}"
                                    converter="#{atoLegalControlador.converterGenerico}"
                                    completeMethod="#{processoRestituicaoControlador.completaAtoLegal}"
                                    value="#{processoRestituicaoControlador.selecionado.atoLegal}"
                                    process="@this"/>
                    <fc:outputLabelObrigatorio value="Motivo ou Fundamentação Legal"/>
                    <p:inputTextarea id="inputMotivo"
                                     value="#{processoRestituicaoControlador.selecionado.motivo}"
                                     maxlength="3000"
                                     autoResize="true"
                                     cols="88"
                                     counter="display"
                                     counterTemplate="{0} caracteres restantes."/>
                    <h:outputText id="display"/>
                </h:panelGrid>
                <br/>
                <p:tabView id="tabGeral">
                    <p:tab id="tabContribuinte" title="1 - Dados do Contribuinte">
                        <p:panel id="panelTabContribuinte">
                            <div id="informDadosContribuinte" class="alert alert-info" role="alert">
                                <h3>
                                    <strong>
                                        Atenção!
                                    </strong>
                                </h3>

                                <p>Para adicionar pessoas no Processo de Restituição deve-se:</p>
                                <ol>
                                    <li>
                                        Selecionar, no campo "Opção de Credor", o papel que a pessoa possuí dentro do processo:
                                        <strong>CONTRIBUINTE</strong> ou <strong>PROCURADOR</strong>;
                                    </li>
                                    <li>
                                        Selecionar, no campo "Pessoa", a pessoa desejada;
                                    </li>
                                    <li>
                                        O Processo deve conter no mínimo um contribuinte.
                                    </li>
                                </ol>

                            </div>
                            <br/>
                            <h:panelGrid columns="2">
                                <fc:outputLabelObrigatorio value="Opção de Credor"/>

                                <h:selectOneMenu id="inputCredor"
                                                 value="#{processoRestituicaoControlador.pessoaSelecionada.tipoCredorRestituicao}">
                                    <f:selectItems value="#{processoRestituicaoControlador.credoresRestituicao}"/>
                                </h:selectOneMenu>
                                <fc:outputLabelObrigatorio value="Pessoa"/>
                                <fc:novoAutocompletePessoa id="completePessoa"
                                                           value="#{processoRestituicaoControlador.pessoaSelecionada.pessoa}"
                                                           caminhoAtual="#{processoRestituicaoControlador.urlAtual}"/>
                            </h:panelGrid>
                            <p:commandButton id="btnAdicionaPessoa"
                                             icon="ui-icon-plus"
                                             value="Adicionar"
                                             actionListener="#{processoRestituicaoControlador.adicionarBeneficiario}"
                                             onclick="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             update="panelTabContribuinte panelDadosRestituicao tabGeral"/>
                            <br/>
                            <br/>
                            <p:dataTable id="tabelaBeneficiario"
                                         value="#{processoRestituicaoControlador.selecionado.pessoas}"
                                         var="pessoa"
                                         emptyMessage="Nenhum beneficiário adicionado...">
                                <f:facet name="header">
                                    Contribuintes
                                </f:facet>
                                <p:column style="width: 4px" headerText="#">
                                    <p:rowToggler/>
                                </p:column>
                                <p:column headerText="Tipo de Credor" style="width: 7%;">
                                    #{pessoa.tipoCredorRestituicao.descricao}
                                </p:column>
                                <p:column headerText="Pessoa">
                                    #{pessoa.pessoa}
                                </p:column>
                                <p:column headerText="Restituinte" style="text-align: center; width: 6%">
                                    <p:selectBooleanCheckbox value="#{pessoa.restituinte}" onchange="aguarde.show()">
                                        <p:ajax event="change" oncomplete="aguarde.hide()"
                                                update="tabelaBeneficiario :Formulario:tabGeral:panelDadosRestituicao"
                                                listener="#{processoRestituicaoControlador.atribuiRestituinte(pessoa)}"/>
                                    </p:selectBooleanCheckbox>
                                </p:column>
                                <p:column headerText="Operações" style="text-align: center; width: 8%">
                                    <p:commandButton id="btnRemoveBeneficiario"
                                                     icon="ui-icon-trash"
                                                     update="tabelaBeneficiario :Formulario:tabGeral:panelPagamentos :Formulario:tabGeral:panelDadosRestituicao"
                                                     title="Remover beneficiário"
                                                     actionListener="#{processoRestituicaoControlador.removeBeneficiario(pessoa)}"/>
                                </p:column>
                                <p:rowExpansion>
                                    <p:panel id="panelInfoPessoa">
                                        <h:panelGrid columns="2">
                                            <h:outputLabel value="Nome:"/>
                                            <h:outputText value="#{pessoa.pessoa.nome}"/>
                                            <h:outputLabel value="CPF/CNPJ:"/>
                                            <h:outputText value="#{pessoa.pessoa.cpf_Cnpj}"/>
                                        </h:panelGrid>
                                        <br/>
                                        <p:dataTable id="tabelaEnderecosPessoa"
                                                     value="#{pessoa.pessoa.enderecos}"
                                                     emptyMessage="Nenhum endereço encontrado..."
                                                     var="endereco">
                                            <f:facet name="header">
                                                Endereços
                                            </f:facet>
                                            <p:column headerText="Descrição">
                                                #{endereco}
                                            </p:column>
                                            <p:column headerText="Principal" style="width: 10%;text-align: center">
                                                #{endereco.principal?'Sim': 'Não'}
                                            </p:column>
                                        </p:dataTable>
                                        <br/>
                                        <p:dataTable id="tabelaTelefonesPessoa"
                                                     value="#{pessoa.pessoa.telefones}"
                                                     emptyMessage="Nenhum telefone encontrado..."
                                                     var="telefone">
                                            <f:facet name="header">
                                                Telefones
                                            </f:facet>
                                            <p:column headerText="Número">
                                                #{telefone}
                                            </p:column>
                                            <p:column headerText="Tipo" style="width: 10%; text-align: center">
                                                #{telefone.tipoFone}
                                            </p:column>
                                        </p:dataTable>

                                    </p:panel>
                                </p:rowExpansion>
                            </p:dataTable>
                        </p:panel>
                    </p:tab>
                    <p:tab id="tabParcelas" title="2 - Dados dos Pagamentos">
                        <p:panel id="panelPagamentos">
                            <div id="inform" class="alert alert-info" role="alert">
                                <h3>
                                    <strong>
                                        Atenção!
                                    </strong>
                                </h3>
                                Nesta aba serão filtrados, somente, pagamentos da pessoa identificada como
                                <strong>CONTRIBUINTE</strong>.
                            </div>
                            <br/>
                            <p:commandButton value="Buscar Pagamentos"
                                             icon="ui-icon-search"
                                             actionListener="#{processoRestituicaoControlador.novaConsultaParcela}"
                                             update=":FormularioDialog"/>
                            <br/><br/>
                            <p:dataTable id="tabelaParcelasRestituicao"
                                         style="width: 100% !important"
                                         var="parcelaRestituicao"
                                         emptyMessage="Nenhuma parcela adicionada ..."
                                         value="#{processoRestituicaoControlador.selecionado.parcelas}">
                                <f:facet name="header">
                                    <p:outputPanel>
                                        <h:outputText value="Parcelas"/>
                                    </p:outputPanel>
                                </f:facet>
                                <p:column headerText="Referência" style="width: 10%">
                                    <h:outputText value="#{parcelaRestituicao.referencia}"/>
                                </p:column>
                                <p:column headerText="Tipo de Débito">
                                    <h:outputText value="#{parcelaRestituicao.tipoDebito}"/>
                                </p:column>
                                <p:column headerText="Tipo de Cadastro">
                                    <h:outputText value="#{parcelaRestituicao.tipoCadastro}"/>
                                </p:column>
                                <p:column headerText="Dívida">
                                    <h:outputText value="#{parcelaRestituicao.divida}"/>
                                </p:column>
                                <p:column headerText="Parcela" style="text-align: center">
                                    <h:outputLabel value="#{parcelaRestituicao.parcelaValorDivida.sequenciaParcela}"/>
                                </p:column>
                                <p:column headerText="Data Pagamento" style="text-align: center; width: 7%">
                                    <h:outputText value="#{parcelaRestituicao.pagamentoParcela}">
                                        <f:convertDateTime pattern="dd/MM/yyyy"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Valor(R$)" style="text-align: right">
                                    <h:outputLabel value="#{parcelaRestituicao.valorPago}">
                                        <f:convertNumber pattern="#,##0.00"/>
                                    </h:outputLabel>
                                    <f:facet name="footer">
                                        <h:outputText styleClass="negrito"
                                                      value="#{processoRestituicaoControlador.totalPagamentos}">
                                            <f:convertNumber pattern="#,##0.00"/>
                                        </h:outputText>
                                    </f:facet>
                                </p:column>
                                <p:column headerText="Operações" style="text-align: center; width: 8%">
                                    <p:commandButton id="btnRemovePagamento"
                                                     icon="ui-icon-trash"
                                                     update="tabelaParcelasRestituicao :Formulario:tabGeral:panelPagamentos :Formulario:tabGeral:panelDadosRestituicao"
                                                     title="Remover Pagamento"
                                                     actionListener="#{processoRestituicaoControlador.removerPagamento(parcelaRestituicao)}"/>
                                </p:column>

                            </p:dataTable>
                        </p:panel>

                    </p:tab>
                    <p:tab id="tabCompensacao" title="3 - Dados da Compensação">
                        <p:panel id="panelCompensacao">
                            <div id="inform" class="alert alert-info" role="alert">
                                <h3>
                                    <strong>
                                        Atenção!
                                    </strong>
                                </h3>
                                Nesta aba serão filtrados, somente, processos de compensação solicitados pessoa identificada como
                                <strong>CONTRIBUINTE</strong>.
                            </div>
                            <h:panelGrid columns="1">
                                <fc:outputLabelObrigatorio value="Processo de Compensação:"/>
                                <p:autoComplete id="completeProcessoCompensacao"
                                                queryDelay="1000"
                                                forceSelection="true"
                                                maxResults="10"
                                                size="70"
                                                var="compensacao"
                                                itemLabel="#{compensacao}"
                                                itemValue="#{compensacao.id}"
                                                completeMethod="#{processoRestituicaoControlador.completePagamentoJudicial}"
                                                value="#{processoRestituicaoControlador.pagamentoSelecionado.pagamentoJudicial}"
                                                converter="#{pagamentoJudicialControlador.converterGenerico}"/>
                            </h:panelGrid>
                            <br/>
                            <p:commandButton id="btnAdicionaCompensacao"
                                             icon="ui-icon-plus"
                                             value="Adicionar Compensação"
                                             actionListener="#{processoRestituicaoControlador.adicionarCompensacao}"
                                             onclick="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             update="panelCompensacao panelDadosRestituicao"/>
                            <br/>
                            <br/>
                            <p:dataTable id="tabelaCompensacoes"
                                         var="rp"
                                         value="#{processoRestituicaoControlador.selecionado.pagamentos}"
                                         emptyMessage="Nenhuma compensação adicionada...">
                                <p:column headerText="Código">
                                    <h:outputText
                                        value="#{rp.pagamentoJudicial.codigo}/#{rp.pagamentoJudicial.exercicio.ano}"/>
                                </p:column>
                                <p:column headerText="Beneficiário">
                                    <h:outputText value="#{rp.pagamentoJudicial.beneficiario}"/>
                                </p:column>
                                <p:column headerText="Valor a compensar(R$)" style="text-align: right; width: 10%">
                                    <h:outputText value="#{rp.pagamentoJudicial.valorACompensar}">
                                        <f:convertNumber pattern="#,##0.00"/>
                                    </h:outputText>
                                    <f:facet name="footer">
                                        <h:outputText styleClass="negrito"
                                                      value="#{processoRestituicaoControlador.totalACompensar}">
                                            <f:convertNumber pattern="#,##0.00"/>
                                        </h:outputText>
                                    </f:facet>
                                </p:column>
                                <p:column headerText="Valor compensado(R$)" style="text-align: right; width: 10%">
                                    <h:outputText value="#{rp.pagamentoJudicial.valorCompensado}">
                                        <f:convertNumber pattern="#,##0.00"/>
                                    </h:outputText>
                                    <f:facet name="footer">
                                        <h:outputText styleClass="negrito"
                                                      value="#{processoRestituicaoControlador.totalCompensado}">
                                            <f:convertNumber pattern="#,##0.00"/>
                                        </h:outputText>
                                    </f:facet>
                                </p:column>
                                <p:column style="text-align: right; width: 10%" headerText="Saldo da compensação(R$)">
                                    <h:outputText value="#{rp.pagamentoJudicial.saldo}">
                                        <f:convertNumber pattern="#,##0.00"/>
                                    </h:outputText>
                                    <f:facet name="footer">
                                        <h:outputText styleClass="negrito"
                                                      value="#{processoRestituicaoControlador.totalSaldoCompensacao}">
                                            <f:convertNumber pattern="#,##0.00"/>
                                        </h:outputText>
                                    </f:facet>
                                </p:column>
                                <p:column headerText="Operações" style="width: 5%; text-align: center">
                                    <p:commandButton id="btnRemoverCompensacao"
                                                     icon="ui-icon-trash"
                                                     update="tabelaCompensacoes :Formulario:tabGeral:panelDadosRestituicao"
                                                     title="Remover compensação"
                                                     actionListener="#{processoRestituicaoControlador.removerCompensacao(rp)}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:watermark value="Digite o número do processo de compensação. EX: 2/2015"
                                     for="completeProcessoCompensacao"/>
                    </p:tab>
                    <p:tab id="tabRestituicao" title="4 - Dados de Restituição">
                        <p:panel id="panelDadosRestituicao">
                            <div id="informDadosRestituicao" class="alert alert-info" role="alert">
                                <h3>
                                    <strong>
                                        Atenção!
                                    </strong>
                                </h3>

                                <p>Ao selecionar a opção "Atualização Monetária" o sistema executa as seguintes etapas:</p>
                                <ol>
                                    <li>
                                        Converte o valor pago em UFM, utilizando o valor da unidade no exercício no qual foi efetuado o pagamento;
                                    </li>
                                    <li>
                                        Converte o valor UFM em valor Real(R$) utilizando o valor da unidade no exercício corrente
                                    </li>
                                </ol>
                            </div>
                            <br/>
                            <h:panelGrid columns="2">
                                <fc:outputLabelObrigatorio value="Restituinte:"/>
                                <h:outputText styleClass="negrito"
                                              value="#{processoRestituicaoControlador.selecionado.restituinte != null ? processoRestituicaoControlador.selecionado.restituinte : 'Selecione o restituinte do processo na aba 1- Dados do Contribuinte.'}"/>
                                <h:outputLabel value="Atualização monetária:"/>
                                <p:selectBooleanCheckbox
                                    id="bcAtualizacaoMOnetaria"
                                    value="#{processoRestituicaoControlador.selecionado.atualizacaoMonetaria}">
                                    <p:ajax process="@this"
                                            event="change"
                                            update="panelDadosRestituicao"/>
                                </p:selectBooleanCheckbox>
                            </h:panelGrid>
                            <br/>
                            <table class="igualDataTable" style="width: 50%">
                                <thead>
                                <tr>
                                    <td colspan="4" class="ui-datatable-header ui-widget-header"
                                        style="text-align: center">
                                        Totalizadores
                                    </td>
                                </tr>
                                <tr  class="ui-state-default ui-widget">
                                    <td class="ui-state-default ui-widget-content ui-state-default ui-widget-header ui-state-default">
                                        <h:outputLabel value="Total Saldo de Compensação"/>
                                    </td>
                                    <td class="ui-state-default ui-widget-content ui-state-default ui-widget-header ui-state-default">
                                        <h:outputLabel value="Total de Pagamentos"/>
                                    </td>
                                    <td class="ui-state-default ui-widget-content ui-state-default ui-widget-header ui-state-default">
                                        <h:outputLabel value="Total de Pagamentos(Atualizado)"/>
                                    </td>
                                    <td class="ui-state-default ui-widget-content ui-state-default ui-widget-header ui-state-default">
                                        <h:outputLabel value="Total a Restituir"/>
                                    </td>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td style="text-align: right">
                                        <h:outputText
                                            value="#{processoRestituicaoControlador.totalSaldoCompensacao}">
                                            <f:convertNumber pattern="R$ #,##0.00"/>
                                        </h:outputText>
                                    </td>
                                    <td style="text-align: right">
                                        <h:outputText value="#{processoRestituicaoControlador.totalPagamentos}">
                                            <f:convertNumber pattern="R$ #,##0.00"/>
                                        </h:outputText>
                                    </td>
                                    <td style="text-align: right">
                                        <h:outputText
                                            value="#{processoRestituicaoControlador.totalPagamentosAtualizado}">
                                            <f:convertNumber pattern="R$ #,##0.00"/>
                                        </h:outputText>
                                    </td>
                                    <td style="text-align: right">
                                        <h:outputText styleClass="negrito"
                                                      value="#{processoRestituicaoControlador.totalRestituicao}">
                                            <f:convertNumber pattern="R$ #,##0.00"/>
                                        </h:outputText>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                            <br/>
                        </p:panel>
                    </p:tab>
                </p:tabView>
            </p:panel>
            <fc:rodapePretty controlador="#{processoRestituicaoControlador}"/>
        </h:form>


        <p:dialog id="idDialogParcelas" widgetVar="dialogParcelas" header="Consulta de Débitos" modal="true"
                  width="1250" height="550" closable="false">
            <h:form id="FormularioDialog">
                <p:panel>
                    <h:panelGrid columns="2">
                        <h:outputText value="Tipo de Consulta:"/>
                        <p:inputText
                            value="#{processoRestituicaoControlador.objetoConsultaParcela.tipoCadastro.descricao}"
                            readonly="true"
                            size="30"
                            styleClass="negrito"/>
                        <h:outputText value="Cadastro:"/>
                        <p:inputText value="#{processoRestituicaoControlador.objetoConsultaParcela.pessoa}"
                                     styleClass="negrito"
                                     size="70"
                                     readonly="true"/>
                        <h:outputText value="Descrição da Dívida: "/>
                        <h:selectOneMenu value="#{processoRestituicaoControlador.objetoConsultaParcela.divida}"
                                         converter="#{pagamentoJudicialControlador.converterDivida}">
                            <f:selectItems value="#{processoRestituicaoControlador.dividas}"/>
                        </h:selectOneMenu>
                        <fc:outputLabelObrigatorio value="Situação da Dívida:"/>
                        <h:selectOneMenu
                            value="#{processoRestituicaoControlador.objetoConsultaParcela.situacaoParcela}">
                            <f:selectItems
                                value="#{processoRestituicaoControlador.objetoConsultaParcela.situacoesPossiveisParcela}"/>
                        </h:selectOneMenu>
                        <h:outputText value="Data de Pagamento:"/>
                        <p:calendar value="#{processoRestituicaoControlador.objetoConsultaParcela.dataPagamento}"
                                    pattern="dd/MM/yyyy"
                                    onkeyup="mascara(this, Data)"
                                    maxlength="10"
                                    showOn="button"
                                    size="10">
                            <p:ajax event="blur" process="@this"/>
                        </p:calendar>
                    </h:panelGrid>

                    <p:separator/>
                    <h:panelGrid columns="6">
                        <p:commandButton value="Pesquisar"
                                         icon="ui-icon-search"
                                         styleClass="prioritario operacao"
                                         onstart="statusDialog.show()"
                                         oncomplete="statusDialog.hide()"
                                         actionListener="#{processoRestituicaoControlador.consultarParcelas}"
                                         update="tabelaConsultas"/>&nbsp;
                        <p:commandButton value="Limpar Campos/Tabela"
                                         style="width: 200px;"
                                         icon="ui-icon-document"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         styleClass="operacao"
                                         actionListener="#{processoRestituicaoControlador.novaConsultaParcela}"
                                         update=":FormularioDialog"/>&nbsp;
                        <p:commandButton value="Fechar"
                                         icon="ui-icon-close"
                                         styleClass="operacao"
                                         onclick="dialogParcelas.hide(); aguarde.show()"
                                         update=":Formulario"
                                         oncomplete="aguarde.hide()"/> &nbsp;
                    </h:panelGrid>
                    <br/> <br/>
                    <p:dataTable id="tabelaConsultas"
                                 style="width: 100% !important"
                                 var="parcela"
                                 emptyMessage="Nenhuma parcela encontrada"
                                 value="#{processoRestituicaoControlador.parcelasConsulta}">
                        <f:facet name="header">
                            <p:outputPanel>
                                <h:outputText value="Parcelas"/>
                            </p:outputPanel>
                        </f:facet>
                        <p:column>
                            <p:commandButton styleClass="icone_verde"
                                             update=":FormularioDialog:tabelaConsultas :Formulario"
                                             actionListener="#{processoRestituicaoControlador.addRestituicaoParcela(parcela)}"
                                             onstart="statusDialog.show()"
                                             onsuccess="statusDialog.hide()"
                                             title="Clique para adicionar a parcela"
                                             icon="ui-icon-circle-plus"/>
                        </p:column>
                        <p:column headerText="Referência" style="width: 5%; text-align: center;">
                            <h:outputText value="#{parcela.referencia}"/>
                        </p:column>
                        <p:column headerText="Dívida" style="width: 12%;">
                            <h:outputText value="#{parcela.divida}"/>
                        </p:column>
                        <p:column headerText="Débito" style="width: 5%;">
                            <h:outputText value="#{parcela.tipoDeDebito}"/>
                        </p:column>
                        <p:column headerText="Exercício" style="width: 5%; text-align: center;"
                                  sortBy="#{parcela.exercicio}" filterMatchMode="contains">
                            <h:outputText value="#{parcela.exercicio}"/>
                        </p:column>
                        <p:column headerText="SD" style="width: 2%; text-align: center;">
                            <h:outputText value="#{parcela.sd}"/>
                        </p:column>
                        <p:column headerText="Parcela" style="width: 2%; text-align: center;">
                            <h:outputText value="#{parcela.parcela}"/>
                        </p:column>
                        <p:column headerText="Vencimento" style="width: 5%; text-align: center;">
                            <h:outputText value="#{parcela.vencimentoToString}"/>
                        </p:column>
                        <p:column headerText="Imposto" style="text-align: right">
                            <h:outputText value="#{parcela.valorImposto}">
                                <f:convertNumber pattern="###,##0.00"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Taxa" style="text-align: right">
                            <h:outputText value="#{parcela.valorTaxa}">
                                <f:convertNumber pattern="###,##0.00"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Desconto" style="text-align: right">
                            <h:outputText value="#{parcela.valorDesconto}">
                                <f:convertNumber pattern="###,##0.00"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Juros" style="text-align: right">
                            <h:outputText value="#{parcela.valorJuros}">
                                <f:convertNumber pattern="###,##0.00"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Multa" style="text-align: right">
                            <h:outputText value="#{parcela.valorMulta}">
                                <f:convertNumber pattern="###,##0.00"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Correção" style="text-align: right">
                            <h:outputText value="#{parcela.valorCorrecao}">
                                <f:convertNumber pattern="###,##0.00"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Honorários" style="text-align: right">
                            <h:outputText value="#{parcela.valorHonorarios}">
                                <f:convertNumber pattern="###,##0.00"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Total" style="text-align: right">
                            <h:outputText value="#{parcela.valorTotal}">
                                <f:convertNumber pattern="###,##0.00"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Situação">
                            <h:outputText value="#{parcela.situacaoDescricaoEnum}" title="cod. ${parcela.idParcela}"/>
                        </p:column>
                    </p:dataTable>
                    <br/>
                </p:panel>
            </h:form>
        </p:dialog>
    </ui:define>
</ui:composition>
</html>
