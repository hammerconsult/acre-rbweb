<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PT"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:fc="http://java.sun.com/jsf/composite/components"
      xmlns:p="http://primefaces.org/ui"
>
<ui:composition template="/corpo.xhtml">
    <ui:define name="body">
        <style type="text/css">
            .lineSeparator {
                white-space: pre;
            }
        </style>

        <h:form id="Formulario">

            <p:tabView id="tabView" activeIndex="#{configuracaoTributarioControlador.activeIndex}">
                <p:ajax event="tabChange" listener="#{configuracaoTributarioControlador.onTabChange}"
                        onstart="aguarde.show()"
                        oncomplete="aguarde.hide()"/>

                <p:tab title="Geral">
                    <p:panel header="Valores Pré-Definidos para os Campos de Estado e Cidade">
                        <h:panelGrid columns="3">
                            <h:outputText value="Estado: "/>
                            <h:selectOneMenu title="Selecione um estado"
                                             value="#{configuracaoTributarioControlador.estado}" id="estado"
                                             converter="#{configuracaoTributarioControlador.converterEstado}">
                                <f:selectItems value="#{configuracaoTributarioControlador.estados}"/>
                                <p:ajax update="cidade" event="change"/>
                            </h:selectOneMenu>
                            <p:spacer/>
                            <h:outputText value="Cidade: "/>
                            <h:selectOneMenu title="Selecione um cidade"
                                             value="#{configuracaoTributarioControlador.selecionado.cidade}"
                                             id="cidade"
                                             converter="#{configuracaoTributarioControlador.converterCidade}">
                                <f:selectItems value="#{configuracaoTributarioControlador.cidade}"/>
                            </h:selectOneMenu>
                            <p:spacer/>
                        </h:panelGrid>
                    </p:panel>
                    <br/>
                    <p:panel>
                        <h:panelGrid columns="2">
                            <h:outputText value="Vigência: "/>
                            <p:calendar pattern="dd/MM/yyyy" navigator="true"
                                        title="Digite o vigencia da ConfiguracaoTributario"
                                        value="#{configuracaoTributarioControlador.selecionado.vigencia}"
                                        id="vigencia"/>

                        </h:panelGrid>
                    </p:panel>
                    <br/>
                    <p:panel>
                        <h:panelGrid columns="2">
                            <h:outputText value="Faixa de Recuperação do Número do DAM (Cache)"/>
                            <p:inputText id="ipFaixaRecuperaNumeroDoDam"
                                         value="#{configuracaoTributarioControlador.selecionado.faixaRecuperacaoDam}"/>
                        </h:panelGrid>
                    </p:panel>
                    <br/>
                    <p:panel>
                        <h:panelGrid columns="2">
                            <h:outputText value="Link Plano Diretor: "/>
                            <p:inputText value="#{configuracaoTributarioControlador.selecionado.linkPlanoDiretor}"
                                         size="50" maxlength="255"/>
                        </h:panelGrid>
                    </p:panel>
                </p:tab>

                <p:tab title="BCI">
                    <p:outputPanel id="opBci">
                        <p:panel header="Configuração da Inscrição Cadastral">
                            <h:panelGrid columns="3">
                                <h:outputText value="Nº de Dígitos do Distrito: "/>
                                <p:inputText id="distrito"
                                             value="#{configuracaoTributarioControlador.selecionado.numDigitosDistrito}"/>
                                <p:spacer/>
                                <h:outputText value="Nº de Dígitos do Setor: "/>
                                <p:inputText id="setor"
                                             value="#{configuracaoTributarioControlador.selecionado.numDigitosSetor}"/>
                                <p:spacer/>
                                <h:outputText value="Nº de Dígitos da Quadra: "/>
                                <p:inputText id="quadra"
                                             value="#{configuracaoTributarioControlador.selecionado.numDigitosQuadra}"/>
                                <p:spacer/>
                                <h:outputText value="Nº de Dígitos do Lote: "/>
                                <p:inputText id="lote"
                                             value="#{configuracaoTributarioControlador.selecionado.numDigitosLote}"/>
                                <p:spacer/>
                                <h:outputText value="Nº de Dígitos da Unidade: "/>
                                <p:inputText id="unidade"
                                             value="#{configuracaoTributarioControlador.selecionado.numDigitosUnidade}"/>
                                <p:spacer/>
                            </h:panelGrid>

                        </p:panel>
                        <br/>
                        <p:panel header="Integração com GeoReferênciamento">
                            <h:panelGrid columns="2">
                                <h:outputText value="Intervalo (Em Horas): "/>
                                <p:inputText id="intervaloSit"
                                             value="#{configuracaoTributarioControlador.selecionado.intervaloSit}"/>
                            </h:panelGrid>
                        </p:panel>
                        <br/>
                        <p:panel header="Configuração do Patrimônio do Lote">
                            <h:panelGrid columns="2">
                                <h:outputText value="Atributo:"/>
                                <h:selectOneMenu
                                    value="#{configuracaoTributarioControlador.selecionado.configuracaoPatrimonioLote.atributo}"
                                    converter="#{atributoControlador.converterGenerico}">
                                    <f:selectItems value="#{configuracaoTributarioControlador.atributos}"/>
                                    <p:ajax event="change" process="@this"
                                            listener="#{configuracaoTributarioControlador.carregaListaAtributosLote()}"
                                            update="atributosDoLote"/>
                                </h:selectOneMenu>
                            </h:panelGrid>
                            <p:dataTable
                                value="#{configuracaoTributarioControlador.selecionado.configuracaoPatrimonioLote.itensConfiguracaoPatrimonioLote}"
                                var="item" id="atributosDoLote">
                                <p:column headerText="Atributo">
                                    <h:outputText value="#{item.patrimonioDoLote.descricao}"/>
                                </p:column>
                                <p:column headerText="Valor">
                                    <h:selectOneMenu value="#{item.valorPossivel}"
                                                     converter="#{configuracaoTributarioControlador.converterValorPossivel}">
                                        <f:selectItems value="#{configuracaoTributarioControlador.valoresPossiveis}"/>
                                    </h:selectOneMenu>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <br/>
                        <p:panel header="Configuração do Desmembramento de Imóvel">
                            <h:panelGrid columns="3">
                                <h:outputText value="Incorporar o cadastro original ? "/>
                                <p:selectBooleanCheckbox id="chkIncorporaCadastoOriginal"
                                                         value="#{configuracaoTributarioControlador.selecionado.usaCadOriginalDesmembramento}">
                                </p:selectBooleanCheckbox>
                            </h:panelGrid>
                        </p:panel>
                        <br/>
                        <p:outputPanel id="opEventoConfiguradoBci">
                            <p:panel header="Configuração das Fórmulas do Cadastro Imobiliário">
                                <h:panelGrid columns="2">
                                    <fc:outputLabelObrigatorio value="Grupo de Atributo:"/>
                                    <fc:autoComplete id="acGrupo"
                                                     converter="#{grupoAtributoControlador.converterGenerico}"
                                                     value="#{configuracaoTributarioControlador.eventoBCI.grupoAtributo}"
                                                     completeMethod="#{grupoAtributoControlador.completarEstaEntidade}"
                                                     process="@this" update="@this"/>

                                    <fc:outputLabelObrigatorio value="Evento de Cálculo: "/>
                                    <h:selectOneMenu id="eventoBCI"
                                                     value="#{configuracaoTributarioControlador.eventoBCI.eventoCalculo}"
                                                     converter="#{configuracaoTributarioControlador.converterEvento}">
                                        <f:selectItems value="#{configuracaoTributarioControlador.eventos}" var="evento"
                                                       itemLabel="#{evento.descricao}"/>
                                    </h:selectOneMenu>

                                    <fc:outputLabelObrigatorio value="Incidência: "/>
                                    <h:selectOneMenu id="incidenciaEventoBCI"
                                                     value="#{configuracaoTributarioControlador.eventoBCI.incidencia}">
                                        <f:selectItems value="#{configuracaoTributarioControlador.incidenciaEvento}"/>
                                    </h:selectOneMenu>

                                    <fc:outputLabelObrigatorio value="Identificação: "/>
                                    <h:selectOneMenu id="identificacaoEventoBCI"
                                                     value="#{configuracaoTributarioControlador.eventoBCI.identificacao}">
                                        <f:selectItems
                                            value="#{configuracaoTributarioControlador.identificadoresEvento}"/>
                                    </h:selectOneMenu>

                                    <p:commandButton id="cbAddEventos"
                                                     icon="ui-icon-arrowthickstop-1-s"
                                                     actionListener="#{configuracaoTributarioControlador.addEvento()}"
                                                     process=":Formulario:tabView:opEventoConfiguradoBci"
                                                     update=":Formulario:tabView:opEventoConfiguradoBci"
                                                     onclick="aguarde.show()" oncomplete="aguarde.hide()"
                                                     title="Clique para adicionar o evento a lista da configuração"/>

                                </h:panelGrid>
                                <p:dataTable id="tabelaEventos"
                                             value="#{configuracaoTributarioControlador.selecionado.eventosBCI}"
                                             var="eventoConf"
                                             emptyMessage="Nenhuma conta foi adicionada a lista">
                                    <p:column headerText="Grupo de Atributo">
                                        <h:outputText value="#{eventoConf.grupoAtributo}"/>
                                    </p:column>
                                    <p:column headerText="Evento de Cálculo">
                                        <h:outputText value="#{eventoConf.eventoCalculo.descricao}"/>
                                    </p:column>
                                    <p:column headerText="Identificador do Evento">
                                        <h:outputText value="#{eventoConf.eventoCalculo.identificacao}"/>
                                    </p:column>
                                    <p:column headerText="Incidência">
                                        <h:outputText value="#{eventoConf.incidencia.descricao}"/>
                                    </p:column>
                                    <p:column headerText="Identificação">
                                        <h:outputText value="#{eventoConf.identificacao.descricao}"/>
                                    </p:column>
                                    <p:column headerText="Mascara">
                                        <p:inputText value="#{eventoConf.pattern}"/>
                                    </p:column>
                                    <p:column>
                                        <p:commandButton icon="ui-icon-pencil"
                                                         style="margin-left: 2px;"
                                                         actionListener="#{configuracaoTributarioControlador.editEvento(eventoConf)}"
                                                         onclick="aguarde.show()" oncomplete="aguarde.hide()"
                                                         process="@this"
                                                         update=":Formulario:tabView:opEventoConfiguradoBci"/>
                                        <p:commandButton icon="ui-icon-trash"
                                                         style="margin-left: 2px;"
                                                         actionListener="#{configuracaoTributarioControlador.removeEvento(eventoConf)}"
                                                         onclick="aguarde.show()" oncomplete="aguarde.hide()"
                                                         process="@this" update="tabelaEventos"/>
                                    </p:column>
                                </p:dataTable>
                            </p:panel>
                        </p:outputPanel>
                    </p:outputPanel>
                </p:tab>

                <p:tab title="CMC">
                    <p:panel header="Certidão de Atividade">
                        <h:panelGrid columns="2">
                            <h:outputText value="Documento Oficial: "/>
                            <h:selectOneMenu id="baixaCmcTipoDoctoOficial"
                                             value="#{configuracaoTributarioControlador.selecionado.tipoDoctoOficialBaixaCmc}"
                                             style="min-width: 150px !important;"
                                             converter="#{configuracaoTributarioControlador.converterTipoDoctoOficial}">
                                <f:selectItems value="#{configuracaoTributarioControlador.tipoDoctoOficialBaixaCmc}"/>
                            </h:selectOneMenu>
                        </h:panelGrid>
                    </p:panel>


                </p:tab>

                <p:tab title="IPTU" id="tabIPTU">
                    <h:panelGrid columns="2" id="pgIPTU">
                        <h:outputText value="Dívida do IPTU: "/>
                        <h:selectOneMenu id="dividaiptu"
                                         value="#{configuracaoTributarioControlador.selecionado.dividaIPTU}"
                                         style="min-width: 150px !important;"
                                         converter="#{configuracaoTributarioControlador.converterDivida}">
                            <f:selectItems value="#{configuracaoTributarioControlador.dividas}"/>
                        </h:selectOneMenu>

                        <h:outputText value="Exercício Portal: "/>
                        <p:inputText value="#{configuracaoTributarioControlador.selecionado.exercicioPortal}"
                                     converter="#{exercicioControlador.converterExercicio}"
                                     title="Informe o exercício que será utilizado na emissão do IPTU no portal do contribuinte."
                                     maxlength="4"
                                     id="exercicioPortal"/>

                        <h:outputText value="Tributo de Habite-se: "/>
                        <h:selectOneMenu id="tributohabitese"
                                         value="#{configuracaoTributarioControlador.selecionado.tributoHabitese}"
                                         style="min-width: 150px !important;"
                                         converter="#{configuracaoTributarioControlador.converterTributo}">
                            <f:selectItems value="#{configuracaoTributarioControlador.tributos}"/>
                        </h:selectOneMenu>
                        <h:outputText value="Habilitar a emissão do Carnê de IPTU pelo Portal do cidadão? "/>
                        <h:selectOneRadio
                            value="#{configuracaoTributarioControlador.selecionado.canEmitirCarneIPTUPortal}">
                            <f:selectItem itemLabel="Sim" itemValue="#{true}"/>
                            <f:selectItem itemLabel="Não" itemValue="#{false}"/>
                        </h:selectOneRadio>
                    </h:panelGrid>
                </p:tab>

                <p:tab title="ISS" id="issDoISSFixo">
                    <p:panel header="Tributos">
                        <h:panelGrid columns="3">
                            <h:outputText value="Tributo do ISS: "/>
                            <h:selectOneMenu id="tributoiss"
                                             value="#{configuracaoTributarioControlador.selecionado.tributoISS}"
                                             style="min-width: 150px !important;"
                                             converter="#{configuracaoTributarioControlador.converterTributo}">
                                <f:selectItems value="#{configuracaoTributarioControlador.tributos}"/>
                            </h:selectOneMenu>
                            <p:spacer/>
                            <h:outputText value="Tributo da TSA: "/>
                            <h:selectOneMenu id="tributotaxasobreiss"
                                             value="#{configuracaoTributarioControlador.selecionado.tributoTaxaSobreISS}"
                                             style="min-width: 150px !important;"
                                             converter="#{configuracaoTributarioControlador.converterTributo}">
                                <f:selectItems value="#{configuracaoTributarioControlador.tributos}"/>
                            </h:selectOneMenu>
                            <p:spacer/>
                        </h:panelGrid>
                    </p:panel>
                    <br/>
                    <p:tabView id="tabISS">
                        <p:tab title="Fixo" id="tabDivISSFixo">
                            <h:panelGrid columns="2">
                                <h:outputText value="Dívida do ISS Fixo: "/>
                                <h:selectOneMenu id="dividaissfixo"
                                                 value="#{configuracaoTributarioControlador.selecionado.dividaISSFixo}"
                                                 style="min-width: 150px !important;"
                                                 converter="#{configuracaoTributarioControlador.converterDivida}">
                                    <f:selectItems value="#{configuracaoTributarioControlador.dividas}"/>
                                </h:selectOneMenu>

                                <h:outputText value="Mês de Vencimento: "/>
                                <h:selectOneMenu id="mesVencimentoIssFixo"
                                                 value="#{configuracaoTributarioControlador.selecionado.mesVencimentoIssFixo}"
                                                 style="min-width: 150px !important;">
                                    <f:selectItems value="#{configuracaoTributarioControlador.meses}"/>
                                </h:selectOneMenu>
                            </h:panelGrid>
                            <br/>
                            <p:panel header="ISS Fixo para Empresas de Sociedade de Profissionais">
                                <h:panelGrid columns="2">
                                    <h:outputText value="Quantidade de UFM para Profissionais de Nível Superior: "/>
                                    <p:inputText id="qtdeUfmIssFixoProfSuperior"
                                                 value="#{configuracaoTributarioControlador.selecionado.qtdeUfmIssFixoProfSuperior}">
                                        <f:convertNumber pattern="#,##0.0000"/>
                                    </p:inputText>

                                    <h:outputText value="Quantidade de UFM para Profissionais de Nível Médio: "/>
                                    <p:inputText id="qtdeUfmIssFixoProfMedio"
                                                 value="#{configuracaoTributarioControlador.selecionado.qtdeUfmIssFixoProfMedio}">
                                        <f:convertNumber pattern="#,##0.0000"/>
                                    </p:inputText>

                                    <h:outputText value="Quantidade de UFM para Profissionais de Demais Níveis: "/>
                                    <p:inputText id="qtdeUfmIssFixoProfDemais"
                                                 value="#{configuracaoTributarioControlador.selecionado.qtdeUfmIssFixoProfDemais}">
                                        <f:convertNumber pattern="#,##0.0000"/>
                                    </p:inputText>
                                </h:panelGrid>
                            </p:panel>
                        </p:tab>
                        <p:tab title="Estimado" id="tabIssEstimado">
                            <h:panelGrid columns="2">
                                <h:outputText value="Dívida do ISS Estimado: "/>
                                <h:selectOneMenu id="dividaissestimado"
                                                 value="#{configuracaoTributarioControlador.selecionado.dividaISSEstimado}"
                                                 style="min-width: 150px !important;"
                                                 converter="#{configuracaoTributarioControlador.converterDivida}">
                                    <f:selectItems value="#{configuracaoTributarioControlador.dividas}"/>
                                </h:selectOneMenu>
                            </h:panelGrid>
                        </p:tab>

                        <p:tab title="Mensal" id="tabIssHomologado">
                            <h:panelGrid columns="2">
                                <h:outputText value="Dívida do ISS Mensal: "/>
                                <h:selectOneMenu id="dividaisshomologado"
                                                 value="#{configuracaoTributarioControlador.selecionado.dividaISSHomologado}"
                                                 style="min-width: 150px !important;"
                                                 converter="#{configuracaoTributarioControlador.converterDivida}">
                                    <f:selectItems value="#{configuracaoTributarioControlador.dividas}"/>
                                </h:selectOneMenu>
                                <fc:outputLabelObrigatorio
                                    value="Dívida da Multa Acessória por Atraso na Declaração de ISS: "/>
                                <h:selectOneMenu id="dividaisshomologadoMultaAcessoria"
                                                 value="#{configuracaoTributarioControlador.selecionado.dividaMultaAcessoria}"
                                                 style="min-width: 150px !important;"
                                                 converter="#{configuracaoTributarioControlador.converterDivida}">
                                    <f:selectItems value="#{configuracaoTributarioControlador.dividasEconomico}"/>
                                </h:selectOneMenu>
                                <h:outputText
                                    value="Valor da Multa Acessória por Atraso na Declaração de ISS Sem Movimento (UFM):"/>
                                <h:panelGroup>
                                    <p:inputText id="valorSemMovimento"
                                                 value="#{configuracaoTributarioControlador.selecionado.multaAcessoriaSemMovimento}"
                                                 maxlength="4">
                                        <f:convertNumber pattern="#,##0.0000"/>
                                    </p:inputText>
                                    <h:outputText style="font-size: xx-small; color: slategray" value="**"/>
                                </h:panelGroup>
                                <h:outputText
                                    value="Valor da Multa Acessória por Atraso na Declaração de ISS Com Movimento (UFM):"/>
                                <h:panelGroup>
                                    <p:inputText id="valorComMovimento"
                                                 value="#{configuracaoTributarioControlador.selecionado.multaAcessoriaComMovimento}"
                                                 maxlength="4">
                                        <f:convertNumber pattern="#,##0.0000"/>
                                    </p:inputText>
                                    <h:outputText style="font-size: xx-small; color: slategray" value="**"/>
                                </h:panelGroup>
                                <fc:outputLabelObrigatorio
                                    value="Tributo da Multa Acessória por Atraso na Declaração de ISS: "/>
                                <h:selectOneMenu id="tributoisshomologadoMultaAcessoria"
                                                 value="#{configuracaoTributarioControlador.selecionado.tributoMultaAcessoria}"
                                                 style="min-width: 150px !important;"
                                                 converter="#{configuracaoTributarioControlador.converterTributo}">
                                    <f:selectItems value="#{configuracaoTributarioControlador.tributos}"/>
                                </h:selectOneMenu>
                            </h:panelGrid>
                            <br/>
                            <center>
                                <h:outputText style="font-size: xx-small; color: slategray"
                                              value="** Caso não seja informado a multa acessória será considerado que não deve ser cobrado multa por atrazo de declaração."/>
                            </center>
                        </p:tab>
                        <p:tab title="Fiscalização">
                            <h:panelGrid columns="3">
                                <h:outputText value="Dívida do Auto de Infração de ISS: "/>
                                <h:selectOneMenu id="dividaissautoinfracao"
                                                 value="#{configuracaoTributarioControlador.selecionado.dividaAutoInfracaoISS}"
                                                 style="min-width: 150px !important;"
                                                 converter="#{configuracaoTributarioControlador.converterDivida}">
                                    <f:selectItems value="#{configuracaoTributarioControlador.dividas}"/>
                                </h:selectOneMenu>
                                <p:spacer/>
                                <h:outputText value="Tributo para Juros: "/>
                                <h:selectOneMenu
                                    value="#{configuracaoTributarioControlador.selecionado.tributoJuros}"
                                    style="min-width: 150px !important;"
                                    converter="#{configuracaoTributarioControlador.converterTributo}">
                                    <f:selectItems value="#{configuracaoTributarioControlador.tributos}"/>
                                </h:selectOneMenu>
                                <p:spacer/>
                                <h:outputText value="Tributo para Multa: "/>
                                <h:selectOneMenu
                                    value="#{configuracaoTributarioControlador.selecionado.tributoMultaISS}"
                                    style="min-width: 150px !important;"
                                    converter="#{configuracaoTributarioControlador.converterTributo}">
                                    <f:selectItems value="#{configuracaoTributarioControlador.tributos}"/>
                                </h:selectOneMenu>
                                <p:spacer/>
                                <h:outputText value="Tributo para Correção Monetária: "/>
                                <h:selectOneMenu
                                    value="#{configuracaoTributarioControlador.selecionado.tributoCorrecaoMonetaria}"
                                    style="min-width: 150px !important;"
                                    converter="#{configuracaoTributarioControlador.converterTributo}">
                                    <f:selectItems value="#{configuracaoTributarioControlador.tributos}"/>
                                </h:selectOneMenu>
                                <p:spacer/>
                                <h:outputText value="Dívida de Multas de Fiscalização: "/>
                                <h:selectOneMenu id="dividamultafiscalizacao"
                                                 value="#{configuracaoTributarioControlador.selecionado.dividaMultaFiscalizacao}"
                                                 style="min-width: 150px !important;"
                                                 converter="#{configuracaoTributarioControlador.converterDivida}">
                                    <f:selectItems value="#{configuracaoTributarioControlador.dividasPorTipoCadastro}"/>
                                </h:selectOneMenu>
                                <p:spacer/>
                            </h:panelGrid>
                        </p:tab>
                        <p:tab title="Simples Nacional">
                            <h:panelGrid columns="2">
                                <h:outputText value="Dívida do Simples Nacional: "/>
                                <h:selectOneMenu id="dividasimplesnacional"
                                                 value="#{configuracaoTributarioControlador.selecionado.dividaSimplesNacional}"
                                                 style="min-width: 150px !important;"
                                                 converter="#{configuracaoTributarioControlador.converterDivida}">
                                    <f:selectItems value="#{configuracaoTributarioControlador.dividas}"/>
                                </h:selectOneMenu>
                                <h:outputLabel value="Serviço para Cadastro Econômico não Identificados:"/>
                                <p:autoComplete queryDelay="1000"
                                                id="servico"
                                                completeMethod="#{servicoControlador.completarEstaEntidade}"
                                                converter="#{servicoControlador.converterGenerico}"
                                                var="servico"
                                                size="90"
                                                itemLabel="#{servico.getToStringAutoComplete()}"
                                                itemValue="#{servico.id}"
                                                value="#{configuracaoTributarioControlador.selecionado.servicoNaoIndentificadoIss}"/>
                            </h:panelGrid>
                        </p:tab>
                        <p:tab title="AIDF">
                            <h:panelGrid columns="2">
                                <h:outputText value="Verifica AIDF-e na emissão da nota? "/>
                                <h:selectBooleanCheckbox
                                    value="#{configuracaoTributarioControlador.selecionado.verificaAidf}"
                                    id="verificaAidf"/>
                            </h:panelGrid>
                        </p:tab>
                    </p:tabView>
                </p:tab>

                <p:tab title="Nota Fiscal Avulsa" id="tbNFA">
                    <h:panelGrid columns="3" id="pgNFA">
                        <h:outputText value="Dias para Cancelar débito da Nota não Paga após o vencimento: "/>
                        <p:inputText id="validadeCancelarNfsa"
                                     value="#{configuracaoTributarioControlador.selecionado.qtdeDiasCancelarNfsa}"/>
                        <p:spacer/>

                        <h:outputText value="Dívida de ISS para Cadastro Mobiliário: "/>
                        <h:selectOneMenu id="dividaNFSAvulsa"
                                         value="#{configuracaoTributarioControlador.selecionado.dividaNFSAvulsa}"
                                         style="min-width: 150px !important;"
                                         converter="#{configuracaoTributarioControlador.converterDivida}">
                            <f:selectItems value="#{configuracaoTributarioControlador.dividas}"/>
                        </h:selectOneMenu>
                        <p:spacer/>
                        <h:outputText value="Dívida de ISS para Pessoa Física/Jurídica: "/>
                        <h:selectOneMenu id="dividaNFSAvulsaPessoa"
                                         value="#{configuracaoTributarioControlador.selecionado.dividaNFSAvulsaPessoa}"
                                         style="min-width: 150px !important;"
                                         converter="#{configuracaoTributarioControlador.converterDivida}">
                            <f:selectItems value="#{configuracaoTributarioControlador.dividas}"/>
                        </h:selectOneMenu>
                        <p:spacer/>
                        <h:outputText value="Tributo do ISS: "/>
                        <h:selectOneMenu id="tributoNFSAvulsa"
                                         value="#{configuracaoTributarioControlador.selecionado.tributoNFSAvulsa}"
                                         style="min-width: 150px !important;"
                                         converter="#{configuracaoTributarioControlador.converterTributo}">
                            <f:selectItems value="#{configuracaoTributarioControlador.tributos}"/>
                        </h:selectOneMenu>
                        <p:spacer/>
                        <h:outputText value="Verificar Débito: "/>
                        <h:selectBooleanCheckbox value="#{configuracaoTributarioControlador.selecionado.verificaDebito}"
                                                 id="verificaDebitoNFSAvulsa"/>
                        <p:spacer/>
                        <h:outputText value="Emite Nota sem Pagamento do DAM: "/>
                        <h:selectBooleanCheckbox
                            value="#{configuracaoTributarioControlador.selecionado.emiteSemPagamento}"
                            id="emiteSemPagamento"/>
                        <p:spacer/>
                        <h:outputText value="Alíquota do ISS: "/>
                        <h:panelGroup>
                            <p:inputText id="aliquotaISSQN"
                                         value="#{configuracaoTributarioControlador.selecionado.aliquotaISSQN}">
                                <f:convertNumber pattern="#,##0.00"/>
                            </p:inputText>
                            <h:outputText value=" (%)"
                                          styleClass="azulnegrito"/>
                        </h:panelGroup>
                        <p:spacer/>
                        <h:outputText value="Validar ISSQN Fixo: "/>
                        <h:selectBooleanCheckbox
                            value="#{configuracaoTributarioControlador.selecionado.validarIssqnFixo}"/>
                        <p:spacer/>
                    </h:panelGrid>
                </p:tab>

                <p:tab title="Alvará">
                    <h:panelGrid columns="3">

                        <h:outputText value="Dias de Validade do Alvará Provisório: "/>
                        <p:inputText id="validadeprovisorio"
                                     value="#{configuracaoTributarioControlador.selecionado.qtdeDiasVencAlvaraProvisorio}"/>
                        <p:spacer/>

                        <h:outputText value="Mensagem no Rodapé dos Alvarás: "/>
                        <p:inputText id="mensagemRodapeAlvara"
                                     maxlength="50"
                                     size="60"
                                     value="#{configuracaoTributarioControlador.selecionado.mensagemRodapeAlvara}"/>
                        <p:spacer/>

                        <h:outputText value="Quantidade de Exercícios anteriores: "/>
                        <p:inputText id="qtdExercicios"
                                     maxlength="2"
                                     size="2"
                                     onkeyup="mascara(this, soNumeros)"
                                     value="#{configuracaoTributarioControlador.selecionado.quantidadeExerciciosAnteriores}"/>
                        <p:spacer/>

                        <h:outputText value="Verificar débitos de Alvará: "/>
                        <h:selectOneMenu id="verificarDebitoAlvara"
                                         value="#{configuracaoTributarioControlador.selecionado.tipoVerificacaoDebitoAlvara}">
                            <f:selectItems value="#{configuracaoTributarioControlador.tiposVerificacaoDebitoAlvara}"/>
                        </h:selectOneMenu>
                        <p:spacer/>

                        <h:outputText value="Mês de vencimento na renovação de funcionamento: "/>
                        <h:selectOneMenu id="mesVencimentoRenovaFunc"
                                         value="#{configuracaoTributarioControlador.selecionado.mesVencimentoRenovaAlvaraFunc}"
                                         style="min-width: 150px !important;">
                            <f:selectItems value="#{configuracaoTributarioControlador.meses}"/>
                        </h:selectOneMenu>
                        <p:spacer/>

                        <h:outputText value="Mês de vencimento na renovação de localização: "/>
                        <h:selectOneMenu id="mesVencimentoRenovaLoc"
                                         value="#{configuracaoTributarioControlador.selecionado.mesVencimentoRenovaAlvaraLoc}"
                                         style="min-width: 150px !important;">
                            <f:selectItems value="#{configuracaoTributarioControlador.meses}"/>
                        </h:selectOneMenu>
                        <p:spacer/>
                        <h:outputText value="Anos de validade cartaz Alvará (CNAE Risco I): "/>
                        <p:inputText id="configuracaoAnosCnaeBaixoRiscoA"
                                     size="4"
                                     maxlength="2"
                                     onkeypress="somenteNumeros(event, this, false, false, true)"
                                     value="#{configuracaoTributarioControlador.selecionado.anoCnaeBaixoRiscoA}"/>
                        <p:spacer/>
                        <h:outputText value="Anos de validade cartaz Alvará (CNAE Risco II): "/>
                        <p:inputText id="configuracaoAnosCnaeBaixoRiscoB"
                                     size="4"
                                     maxlength="2"
                                     onkeypress="somenteNumeros(event, this, false, false, true)"
                                     value="#{configuracaoTributarioControlador.selecionado.anoCnaeBaixoRiscoB}"/>
                        <p:spacer/>
                        <h:outputText value="Anos de validade cartaz Alvará (CNAE Risco III): "/>
                        <p:inputText id="configuracaoAnosCnaeAltoRisco"
                                     size="4"
                                     maxlength="2"
                                     onkeypress="somenteNumeros(event, this, false, false, true)"
                                     value="#{configuracaoTributarioControlador.selecionado.anoCnaeAltoRisco}"/>
                        <p:spacer/>
                    </h:panelGrid>
                    <br/>

                    <p:panel header="Configuração de Alvará" styleClass="mtop05 mbot05">
                        <p:outputPanel id="configuracaoAlv">
                            <h:panelGrid columns="2" id="gridConfigAlvara">
                                <fc:outputLabelObrigatorio value="Dívida do Alvará: "/>
                                <h:selectOneMenu id="dividaAlvara"
                                                 value="#{configuracaoTributarioControlador.assistente.dividaSelecionada}"
                                                 style="max-width: 450px !important;"
                                                 converter="#{configuracaoTributarioControlador.converterDivida}">
                                    <f:selectItems value="#{configuracaoTributarioControlador.dividas}"/>
                                </h:selectOneMenu>

                                <fc:outputLabelObrigatorio value="Tributo do Alvará: "/>
                                <h:selectOneMenu id="tributoAlvara"
                                                 value="#{configuracaoTributarioControlador.assistente.tributoSelecionado}"
                                                 style="max-width: 450px !important;"
                                                 converter="#{configuracaoTributarioControlador.converterTributo}">
                                    <f:selectItems value="#{configuracaoTributarioControlador.tributos}"/>
                                </h:selectOneMenu>

                                <fc:outputLabelObrigatorio value="Tipo de Alvará: "/>
                                <h:selectOneMenu id="configuracaoTipoAlvara"
                                                 value="#{configuracaoTributarioControlador.assistente.tipoAlvara}"
                                                 style="min-width: 150px !important;">
                                    <f:selectItems value="#{configuracaoTributarioControlador.tiposAlvara}"/>
                                </h:selectOneMenu>

                                <fc:outputLabelObrigatorio value="Primeiro Cálculo: "/>
                                <h:panelGrid columns="3" id="panelPrimeiroCalculo" cellpadding="0" cellspacing="0">
                                    <h:selectOneMenu id="configuracaoPrimeiroCalculo"
                                                     value="#{configuracaoTributarioControlador.assistente.tipoPrimeiroCalculo}">
                                        <f:selectItems var="tipoPrimCalc" itemLabel="#{tipoPrimCalc.descricao}"
                                                       itemValue="#{tipoPrimCalc}"
                                                       value="#{configuracaoTributarioControlador.tipoCalculoAlvara}"/>
                                        <p:ajax event="change" update=":Formulario:tabView:panelPrimeiroCalculo"
                                                process="@this"/>
                                    </h:selectOneMenu>

                                    <fc:outputLabelObrigatorio value="Valor Fixo Primeiro Cálculo: "
                                                               styleClass="mlef05"
                                                               rendered="#{configuracaoTributarioControlador.assistente.tipoPrimeiroCalculo eq 'FIXO_UFMRB'}"/>
                                    <p:inputText
                                        value="#{configuracaoTributarioControlador.assistente.valorUFMFixoPrimeiroCalculo}"
                                        rendered="#{configuracaoTributarioControlador.assistente.tipoPrimeiroCalculo eq 'FIXO_UFMRB'}"
                                        onkeypress="mascaraPonto(this)"
                                        converter="converterBigDecimal"
                                        id="calcAlvaraFixoPrimCalc"/>
                                </h:panelGrid>

                                <fc:outputLabelObrigatorio value="Cálculo do Alvará: "/>
                                <h:panelGrid columns="3" id="panelCalcAlvara" cellpadding="0" cellspacing="0">
                                    <h:selectOneMenu id="configuracaoCalculoAlvara"
                                                     value="#{configuracaoTributarioControlador.assistente.tipoCalculoAlvaraSelecionado}">
                                        <f:selectItems var="tipoCalc" itemLabel="#{tipoCalc.descricao}"
                                                       itemValue="#{tipoCalc}"
                                                       value="#{configuracaoTributarioControlador.tipoCalculoAlvara}"/>
                                        <p:ajax event="change" update=":Formulario:tabView:panelCalcAlvara"
                                                process="@this"/>
                                    </h:selectOneMenu>

                                    <fc:outputLabelObrigatorio value="Valor Fixo Cálculo Alvará: "
                                                               styleClass="mlef05"
                                                               rendered="#{configuracaoTributarioControlador.assistente.tipoCalculoAlvaraSelecionado eq 'FIXO_UFMRB'}"/>
                                    <p:inputText
                                        value="#{configuracaoTributarioControlador.assistente.valorUFMFixoCalculoSelecionado}"
                                        rendered="#{configuracaoTributarioControlador.assistente.tipoCalculoAlvaraSelecionado eq 'FIXO_UFMRB'}"
                                        onkeypress="mascaraPonto(this)"
                                        converter="converterBigDecimal"
                                        id="calcAlvaraFixo"/>
                                </h:panelGrid>

                                <fc:outputLabelObrigatorio value="Cálculo de Renovação do Alvará: "/>
                                <h:panelGrid columns="3" id="panelCalcRenovAlvara" cellpadding="0" cellspacing="0">
                                    <h:selectOneMenu id="configuracaoRenovacaoCalculoAlvara"
                                                     value="#{configuracaoTributarioControlador.assistente.tipoCalculoRenovAlvaraSelecionado}">
                                        <f:selectItems var="tipoRenov" itemLabel="#{tipoRenov.descricao}"
                                                       itemValue="#{tipoRenov}"
                                                       value="#{configuracaoTributarioControlador.tipoCalculoAlvara}"/>
                                        <p:ajax event="change" update=":Formulario:tabView:panelCalcRenovAlvara"
                                                process="@this"/>
                                    </h:selectOneMenu>

                                    <fc:outputLabelObrigatorio value="Valor Fixo Cálculo de Renovação Alvará: "
                                                               styleClass="mlef05"
                                                               rendered="#{configuracaoTributarioControlador.assistente.tipoCalculoRenovAlvaraSelecionado eq 'FIXO_UFMRB'}"/>
                                    <p:inputText
                                        value="#{configuracaoTributarioControlador.assistente.valorUFMFixoCalcRenovacaoSelecionado}"
                                        rendered="#{configuracaoTributarioControlador.assistente.tipoCalculoRenovAlvaraSelecionado eq 'FIXO_UFMRB'}"
                                        onkeypress="mascaraPonto(this)"
                                        converter="converterBigDecimal"
                                        id="calcAlvaraFixoRenov"/>
                                </h:panelGrid>

                                <fc:outputLabelObrigatorio value="Dias Para Vencimento do Débito: "/>
                                <p:inputText value="#{configuracaoTributarioControlador.assistente.diasVencDebito}"
                                             onkeypress="soNumeros(this)" id="diasVencDebito" size="14"/>

                            </h:panelGrid>

                            <p:commandButton
                                actionListener="#{configuracaoTributarioControlador.adicionarTributoDividaAlvara()}"
                                value="Adicionar"
                                onstart="aguarde.show()"
                                oncomplete="aguarde.hide()"
                                icon="ui-icon-check"
                                process=":Formulario:tabView:configuracaoAlv"
                                update=":Formulario:tabView:configuracaoAlv tabelaConfiguracaoTipoAlvara"/>

                            <p:dataTable id="tabelaConfiguracaoTipoAlvara"
                                         value="#{configuracaoTributarioControlador.selecionado.configuracaoAlvara}"
                                         var="configuracaoAlvara"
                                         styleClass="mtop05"
                                         emptyMessage="Nenhuma configuração informada.">

                                <f:facet name="header">
                                    <h:outputText value="Lista de Configuração Alvará"/>
                                </f:facet>
                                <p:column headerText="Dívida do Alvará" style="width: 24%"
                                          styleClass="alinhamentoEsquerda">
                                    <h:outputText
                                        value="#{configuracaoAlvara.divida.codigo} - #{configuracaoAlvara.divida}"/>
                                </p:column>
                                <p:column headerText="Tributo do Alvará" style="width: 18%"
                                          styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{configuracaoAlvara.tributo}"/>
                                </p:column>
                                <p:column headerText="Tipo do Alvará" style="width: 18%"
                                          styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{configuracaoAlvara.tipoAlvara}"/>
                                </p:column>
                                <p:column headerText="Primeiro Cálculo" style="width: 10%"
                                          styleClass="alinhamentoEsquerda">
                                    <h:outputText
                                        value="#{configuracaoTributarioControlador.montarTipoCalculoAlvara(configuracaoAlvara.tipoPrimeiroCalculo, configuracaoAlvara.valorUFMFixoPrimeiroCalculo)}"
                                        styleClass="lineSeparator"/>
                                </p:column>
                                <p:column headerText="Tipo Cálculo" style="width: 10%" styleClass="alinhamentoEsquerda">
                                    <h:outputText
                                        value="#{configuracaoTributarioControlador.montarTipoCalculoAlvara(configuracaoAlvara.tipoCalculoAlvara, configuracaoAlvara.valorUFMFixoCalculoAlvara)}"
                                        styleClass="lineSeparator"/>
                                </p:column>
                                <p:column headerText="Tipo Cálculo de Renovação" style="width: 10%"
                                          styleClass="alinhamentoEsquerda">
                                    <h:outputText
                                        value="#{configuracaoTributarioControlador.montarTipoCalculoAlvara(configuracaoAlvara.tipoCalculoRenovacaoAlvara, configuracaoAlvara.valorUFMFixoCalcRenovAlvara)}"
                                        styleClass="lineSeparator"/>
                                </p:column>
                                <p:column headerText="Dias Venc. Débito" style="width: 10%"
                                          styleClass="alinhamentoCentralizado">
                                    <h:outputText
                                        value="#{configuracaoAlvara.diasVencDebito}"/>
                                </p:column>
                                <p:column headerText="Remover" style="text-align: center; width: 10%"
                                          styleClass="alinhamentoCentralizado">
                                    <h:panelGrid columns="2">
                                        <p:commandButton icon="ui-icon-pencil"
                                                         process="@this"
                                                         onstart="aguarde.show()"
                                                         oncomplete="aguarde.hide()"
                                                         update="tabelaConfiguracaoTipoAlvara :Formulario:tabView:gridConfigAlvara"
                                                         actionListener="#{configuracaoTributarioControlador.editarDividaTributo(configuracaoAlvara)}"/>

                                        <p:commandButton icon="ui-icon-trash"
                                                         process="@this"
                                                         onstart="aguarde.show()"
                                                         oncomplete="aguarde.hide()"
                                                         update="tabelaConfiguracaoTipoAlvara"
                                                         actionListener="#{configuracaoTributarioControlador.removerDividaTributo(configuracaoAlvara)}"/>
                                    </h:panelGrid>
                                </p:column>
                            </p:dataTable>
                        </p:outputPanel>
                    </p:panel>

                    <p:panel header="Irregularidades das Vistorias">
                        <h:panelGrid columns="2" id="irregularidade">
                            <h:outputText value="Irregularidade: "/>
                            <p:autoComplete queryDelay="1000" id="tipoIrregularidade"
                                            value="#{configuracaoTributarioControlador.configuracaoIrregularidadesDoAlvara.irregularidade}"
                                            completeMethod="#{configuracaoTributarioControlador.completaIrregularidade}"
                                            converter="#{configuracaoTributarioControlador.converterIrregularidade}"
                                            var="irregularidade"
                                            itemLabel="#{irregularidade.descricao}"
                                            itemValue="#{irregularidade.id}"
                                            size="40" forceSelection="true">
                            </p:autoComplete>

                            <h:outputText value="Tipo de Alvará: "/>
                            <h:selectOneMenu id="tipoAlvara"
                                             value="#{configuracaoTributarioControlador.configuracaoIrregularidadesDoAlvara.tipoAlvara}"
                                             style="min-width: 150px !important;">
                                <f:selectItems value="#{configuracaoTributarioControlador.tiposAlvara}"/>
                            </h:selectOneMenu>
                        </h:panelGrid>
                        <p:commandButton actionListener="#{configuracaoTributarioControlador.addIrregularidade()}"
                                         value="Adicionar"
                                         icon="ui-icon-arrowthickstop-1-s"
                                         update="tabelaIrregularidade irregularidade"/>
                        <br/><br/>
                        <p:dataTable id="tabelaIrregularidade"
                                     value="#{configuracaoTributarioControlador.selecionado.irregularidadesDoAlvara}"
                                     var="item" emptyMessage="Nenhuma irregularidade informada.">

                            <f:facet name="header">
                                <h:outputText value="Lista de Irregularidades"/>
                            </f:facet>
                            <p:column headerText="Irregularidade">
                                <h:outputText value="#{item.irregularidade.descricao}"/>
                            </p:column>
                            <p:column headerText="Tipo de Alvará">
                                <h:outputText value="#{item.tipoAlvara.descricao}"/>
                            </p:column>
                            <p:column headerText="Remover" style="text-align: center; width: 25px">
                                <p:commandButton icon="ui-icon-trash" update="tabelaIrregularidade"
                                                 actionListener="#{configuracaoTributarioControlador.removeIrregularidade(item)}"/>
                            </p:column>
                        </p:dataTable>
                    </p:panel>
                </p:tab>

                <p:tab title="Parâmetro Alvará Ambiental">
                    <p:outputPanel id="parametroLicencaAmb">
                        <p:panel header="Parâmetros">
                            <h:panelGrid columns="2" styleClass="mbot05 mtop05">
                                <fc:outputLabelObrigatorio value="Tipo de Licença Ambiental:"/>

                                <h:selectOneMenu id="parametroLicencaTipo"
                                                 value="#{configuracaoTributarioControlador.assistente.parametroAlvara.tipoLicencaAmbiental}"
                                                 style="min-width: 150px !important;">
                                    <f:selectItems value="#{configuracaoTributarioControlador.tipoLicencaAmbiental}"/>
                                </h:selectOneMenu>

                                <h:outputText value="Valor Classe I (UFM):"/>
                                <p:inputText id="valorCI"
                                             value="#{configuracaoTributarioControlador.assistente.parametroAlvara.valorUFMClasseI}"
                                             onkeypress="mascaraPonto(this);"
                                             converter="converterBigDecimal"
                                             size="10">
                                    <f:convertNumber pattern="#,##0.00"/>
                                </p:inputText>

                                <h:outputText value="Valor Classe II (UFM):"/>
                                <p:inputText id="valorCII"
                                             value="#{configuracaoTributarioControlador.assistente.parametroAlvara.valorUFMClasseII}"
                                             onkeypress="mascaraPonto(this);"
                                             converter="converterBigDecimal"
                                             size="10">
                                    <f:convertNumber pattern="#,##0.00"/>
                                </p:inputText>

                                <h:outputText value="Valor Classe III (UFM):"/>
                                <p:inputText id="valorCIII"
                                             value="#{configuracaoTributarioControlador.assistente.parametroAlvara.valorUFMClasseIII}"
                                             onkeypress="mascaraPonto(this);"
                                             converter="converterBigDecimal"
                                             size="10">
                                    <f:convertNumber pattern="#,##0.00"/>
                                </p:inputText>

                                <h:outputText value="Valor Sem Classe (UFM):"/>
                                <p:inputText id="valorSemClasse"
                                             value="#{configuracaoTributarioControlador.assistente.parametroAlvara.valorUFMSemClasse}"
                                             onkeypress="mascaraPonto(this);"
                                             converter="converterBigDecimal"
                                             size="10">
                                    <f:convertNumber pattern="#,##0.00"/>
                                </p:inputText>
                            </h:panelGrid>

                            <p:commandButton
                                actionListener="#{configuracaoTributarioControlador.adicionarParametroAlvaraAmbiental()}"
                                value="Adicionar"
                                onstart="aguarde.show()"
                                oncomplete="aguarde.hide()"
                                icon="ui-icon-check"
                                process=":Formulario:tabView:parametroLicencaAmb"
                                update=":Formulario:tabView:parametroLicencaAmb tabelaParametroLicencaAmb"/>
                        </p:panel>

                        <p:dataTable id="tabelaParametroLicencaAmb"
                                     value="#{configuracaoTributarioControlador.selecionado.parametrosValorAlvaraAmbiental}"
                                     var="parametroAmb"
                                     styleClass="mtop05"
                                     emptyMessage="Nenhum parametro encontrado.">
                            <p:columnGroup type="header">
                                <p:row>
                                    <p:column styleClass="alinhamentoCentralizado"
                                              headerText="Tipo de Licença Ambiental"
                                              rowspan="2"/>
                                    <p:column styleClass="alinhamentoCentralizado"
                                              headerText="Classe (UFM)"
                                              style="width: 20%"
                                              colspan="3"/>
                                    <p:column styleClass="alinhamentoCentralizado"
                                              headerText="Sem Classe (UFM)"
                                              style="width: 10%"
                                              rowspan="2"/>
                                    <p:column styleClass="alinhamentoCentralizado"
                                              headerText="Ações"
                                              style="width: 8%"
                                              rowspan="2"/>
                                </p:row>
                                <p:row>
                                    <p:column styleClass="alinhamentoCentralizado"
                                              headerText="I"
                                              colspan="1"/>
                                    <p:column styleClass="alinhamentoCentralizado"
                                              headerText="II"
                                              colspan="1"/>
                                    <p:column styleClass="alinhamentoCentralizado"
                                              headerText="III"
                                              colspan="1"/>
                                </p:row>
                            </p:columnGroup>

                            <p:column styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{parametroAmb.tipoLicencaAmbiental.descricao}"/>
                            </p:column>
                            <p:column styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{parametroAmb.valorUFMClasseI}">
                                    <f:convertNumber pattern="###,##0.00"/>
                                </h:outputText>
                            </p:column>
                            <p:column styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{parametroAmb.valorUFMClasseII}">
                                    <f:convertNumber pattern="###,##0.00"/>
                                </h:outputText>
                            </p:column>
                            <p:column styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{parametroAmb.valorUFMClasseIII}">
                                    <f:convertNumber pattern="###,##0.00"/>
                                </h:outputText>
                            </p:column>
                            <p:column styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{parametroAmb.valorUFMSemClasse}">
                                    <f:convertNumber pattern="###,##0.00"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Remover" style="text-align: center;">
                                <p:commandButton
                                    icon="ui-icon-trash"
                                    process="@this"
                                    onstart="aguarde.show()"
                                    title="Adicionar Parâmetro"
                                    oncomplete="aguarde.hide()"
                                    update="tabelaParametroLicencaAmb"
                                    actionListener="#{configuracaoTributarioControlador.removerParametroAlvara(parametroAmb)}"/>
                                <p:commandButton
                                    actionListener="#{configuracaoTributarioControlador.alterarParametroAlvara(parametroAmb)}"
                                    icon="ui-icon-pencil"
                                    onstart="aguarde.show()"
                                    title="Editar Parâmetro"
                                    oncomplete="aguarde.hide()"
                                    process="@this"
                                    update="tabelaParametroLicencaAmb :Formulario:tabView:parametroLicencaAmb"/>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>

                <p:tab title="Doctos Oficiais">
                    <h:panelGrid columns="2">
                        <h:outputText value="Dívida de Documentos Oficiais de Contribuinte Geral: "/>
                        <h:selectOneMenu id="dividaDoctoOficial"
                                         value="#{configuracaoTributarioControlador.selecionado.dividaDoctoOficial}"
                                         style="min-width: 150px !important;"
                                         converter="#{configuracaoTributarioControlador.converterDivida}">
                            <f:selectItems value="#{configuracaoTributarioControlador.dividas}"/>
                        </h:selectOneMenu>

                        <h:outputText value="Dívida de Documentos Oficiais de Cadastro Mobiliário: "/>
                        <h:selectOneMenu id="dividaDoctoOficialCmc"
                                         value="#{configuracaoTributarioControlador.selecionado.dividaDoctoOfcMobiliario}"
                                         style="min-width: 150px !important;"
                                         converter="#{configuracaoTributarioControlador.converterDivida}">
                            <f:selectItems value="#{configuracaoTributarioControlador.dividas}"/>
                        </h:selectOneMenu>

                        <h:outputText value="Dívida de Documentos Oficiais de Cadastro Imobiliário: "/>
                        <h:selectOneMenu id="dividaDoctoOficialImovel"
                                         value="#{configuracaoTributarioControlador.selecionado.dividaDoctoOfcImobiliario}"
                                         style="min-width: 150px !important;"
                                         converter="#{configuracaoTributarioControlador.converterDivida}">
                            <f:selectItems value="#{configuracaoTributarioControlador.dividas}"/>
                        </h:selectOneMenu>

                        <h:outputText value="Dívida de Documentos Oficiais de Cadastro Rural: "/>
                        <h:selectOneMenu id="dividaDoctoOficialRural"
                                         value="#{configuracaoTributarioControlador.selecionado.dividaDoctoOfcRural}"
                                         style="min-width: 150px !important;"
                                         converter="#{configuracaoTributarioControlador.converterDivida}">
                            <f:selectItems value="#{configuracaoTributarioControlador.dividas}"/>
                        </h:selectOneMenu>
                    </h:panelGrid>
                </p:tab>

                <p:tab title="Taxas Diversas">
                    <h:panelGrid columns="3">
                        <h:outputText value="Dívida para Taxas Diversas de Cadastro Imobiliário: "/>
                        <h:selectOneMenu id="dividaCadastroImobiliario"
                                         value="#{configuracaoTributarioControlador.selecionado.dividaTaxaDivCadImobiliario}"
                                         style="min-width: 150px !important;"
                                         converter="#{configuracaoTributarioControlador.converterDivida}">
                            <f:selectItems value="#{configuracaoTributarioControlador.dividasImobiliario}"/>
                        </h:selectOneMenu>
                        <p:spacer/>
                        <h:outputText value="Dívida para Taxas Diversas de Cadastro Mobiliário: "/>
                        <h:selectOneMenu id="dividaCadastroMobiliario"
                                         value="#{configuracaoTributarioControlador.selecionado.dividaTaxaDivCadMobiliario}"
                                         style="min-width: 150px !important;"
                                         converter="#{configuracaoTributarioControlador.converterDivida}">
                            <f:selectItems value="#{configuracaoTributarioControlador.dividasEconomico}"/>
                        </h:selectOneMenu>
                        <p:spacer/>
                        <h:outputText value="Dívida para Taxas Diversas de Cadastro Rural: "/>
                        <h:selectOneMenu id="dividaCadastroRural"
                                         value="#{configuracaoTributarioControlador.selecionado.dividaTaxaDivCadRural}"
                                         style="min-width: 150px !important;"
                                         converter="#{configuracaoTributarioControlador.converterDivida}">
                            <f:selectItems value="#{configuracaoTributarioControlador.dividasRural}"/>
                        </h:selectOneMenu>
                        <p:spacer/>
                        <h:outputText value="Dívida para Taxas Diversas de Contribuinte Geral: "/>
                        <h:selectOneMenu id="dividaContribuinte"
                                         value="#{configuracaoTributarioControlador.selecionado.dividaTaxaDivContribuinte}"
                                         style="min-width: 150px !important;"
                                         converter="#{configuracaoTributarioControlador.converterDivida}">
                            <f:selectItems value="#{configuracaoTributarioControlador.dividasPessoa}"/>
                        </h:selectOneMenu>
                        <p:spacer/>
                    </h:panelGrid>
                </p:tab>

                <p:tab title="Rendas Patrimoniais e CEASA">
                    <h:panelGrid columns="3">
                        <h:outputText value="Rendas Patrimoniais - Dívida do Contrato: "/>
                        <h:selectOneMenu id="dividarendas"
                                         value="#{configuracaoTributarioControlador.selecionado.dividaRendasPatrimoniais}"
                                         style="min-width: 150px !important;"
                                         converter="#{configuracaoTributarioControlador.converterDivida}">
                            <f:selectItems value="#{configuracaoTributarioControlador.dividas}"/>
                        </h:selectOneMenu>
                        <p:spacer/>
                        <h:outputText value="Rendas Patrimoniais - Tributo da Dívida do Contrato: "/>
                        <h:selectOneMenu id="tributorendas"
                                         value="#{configuracaoTributarioControlador.selecionado.tributoRendasPatrimoniais}"
                                         style="min-width: 150px !important;"
                                         converter="#{configuracaoTributarioControlador.converterTributo}">
                            <f:selectItems value="#{configuracaoTributarioControlador.tributos}"/>
                        </h:selectOneMenu>
                        <p:spacer/>
                        <h:outputText value="Rendas Patrimonais - Lotação: "/>
                        <h:panelGrid id="gridLotacaoesRendas"
                                     style="margin-left: -3px"
                                     columns="2">
                            <h:selectOneMenu id="rendasLotacaoVistoriadora"
                                             value="#{configuracaoTributarioControlador.lotacaoVistoriadoraRendasSelecionada}"
                                             style="min-width: 150px !important;"
                                             converter="#{configuracaoTributarioControlador.converterLotacaoVistoriadora}">
                                <f:selectItems value="#{configuracaoTributarioControlador.lotacaoVistoriadoras}"/>
                                <p:ajax event="valueChange"
                                        listener="#{configuracaoTributarioControlador.adicionarLotacaoRendas()}"
                                        process="@this"
                                        update="gridLotacaoesRendas">
                                </p:ajax>
                            </h:selectOneMenu>
                            <ui:repeat
                                value="#{configuracaoTributarioControlador.selecionado.rendasLotacoesVistoriadoras}"
                                varStatus="varStatus"
                                var="lotacaoRendas">
                                <h:panelGrid columns="2">
                                    <h:outputText styleClass="negrito"
                                                  value="#{lotacaoRendas.lotacaoVistoriadora.descricao}"/>
                                    <p:commandButton icon="ui-icon-trash"
                                                     style="margin-left: 3px; width: 20px; height: 20px;"
                                                     update=":Formulario:tabView:gridLotacaoesRendas"
                                                     onstart="aguarde.show()"
                                                     oncomplete="aguarde.hide()"
                                                     actionListener="#{configuracaoTributarioControlador.removerLotacaoRendas(lotacaoRendas.lotacaoVistoriadora)}"/>
                                </h:panelGrid>
                            </ui:repeat>
                        </h:panelGrid>
                        <p:spacer/>

                        <h:outputText value="Rendas Patrimonais - Documento Oficial do Contrato para Pessoa Física: "/>
                        <h:selectOneMenu id="rendasTipoDoctoOficialPF"
                                         value="#{configuracaoTributarioControlador.selecionado.rendasTipoDoctoOficialPF}"
                                         style="min-width: 150px !important;"
                                         converter="#{configuracaoTributarioControlador.converterTipoDoctoOficial}">
                            <f:selectItems value="#{configuracaoTributarioControlador.tipoDoctoOficialRendas}"/>
                        </h:selectOneMenu>
                        <p:spacer/>

                        <h:outputText
                            value="Rendas Patrimonais - Documento Oficial do Contrato para Pessoa Jurídica: "/>
                        <h:selectOneMenu id="rendasTipoDoctoOficialPJ"
                                         value="#{configuracaoTributarioControlador.selecionado.rendasTipoDoctoOficialPJ}"
                                         style="min-width: 150px !important;"
                                         converter="#{configuracaoTributarioControlador.converterTipoDoctoOficial}">
                            <f:selectItems value="#{configuracaoTributarioControlador.tipoDoctoOficialRendas}"/>
                        </h:selectOneMenu>
                        <p:spacer/>

                        <h:outputText value="CEASA - Lotação: "/>
                        <h:selectOneMenu id="ceasaLotacaoVistoriadora"
                                         value="#{configuracaoTributarioControlador.selecionado.ceasaLotacaoVistoriadora}"
                                         style="min-width: 150px !important;"
                                         converter="#{configuracaoTributarioControlador.converterLotacaoVistoriadora}">
                            <f:selectItems value="#{configuracaoTributarioControlador.lotacaoVistoriadoras}"/>
                        </h:selectOneMenu>
                        <p:spacer/>

                        <h:outputText value="CEASA - Dívida do Contrato: "/>
                        <h:selectOneMenu id="ceasaDividaContrato"
                                         value="#{configuracaoTributarioControlador.selecionado.ceasaDividaContrato}"
                                         style="min-width: 150px !important;"
                                         converter="#{configuracaoTributarioControlador.converterDivida}">
                            <f:selectItems value="#{configuracaoTributarioControlador.dividasEconomico}"/>
                        </h:selectOneMenu>
                        <p:spacer/>

                        <h:outputText value="CEASA - Tributo da Dívida do Contrato: "/>
                        <h:selectOneMenu id="ceasaTributoContrato"
                                         value="#{configuracaoTributarioControlador.selecionado.ceasaTributoContrato}"
                                         style="min-width: 150px !important;"
                                         converter="#{configuracaoTributarioControlador.converterTributo}">
                            <f:selectItems value="#{configuracaoTributarioControlador.tributos}"/>
                        </h:selectOneMenu>
                        <p:spacer/>

                        <h:outputText value="CEASA - Dívida da Licitação: "/>
                        <h:selectOneMenu id="ceasaDividaLicitacao"
                                         value="#{configuracaoTributarioControlador.selecionado.ceasaDividaLicitacao}"
                                         style="min-width: 150px !important;"
                                         converter="#{configuracaoTributarioControlador.converterDivida}">
                            <f:selectItems value="#{configuracaoTributarioControlador.dividasEconomico}"/>
                        </h:selectOneMenu>
                        <p:spacer/>

                        <h:outputText value="CEASA - Tributo da Dívida de Licitação: "/>
                        <h:selectOneMenu id="ceasaTributoLicitacao"
                                         value="#{configuracaoTributarioControlador.selecionado.ceasaTributoLicitacao}"
                                         style="min-width: 150px !important;"
                                         converter="#{configuracaoTributarioControlador.converterTributo}">
                            <f:selectItems value="#{configuracaoTributarioControlador.tributos}"/>
                        </h:selectOneMenu>
                        <p:spacer/>

                        <h:outputText value="CEASA - Documento Oficial do Contrato: "/>
                        <h:selectOneMenu id="ceasaDoctoOficialContrato"
                                         value="#{configuracaoTributarioControlador.selecionado.ceasaDoctoOficialContrato}"
                                         style="min-width: 150px !important;"
                                         converter="#{configuracaoTributarioControlador.converterTipoDoctoOficial}">
                            <f:selectItems value="#{configuracaoTributarioControlador.tipoDoctoOficialCEASA}"/>
                        </h:selectOneMenu>
                        <p:spacer/>
                        <h:outputText value="CEASA - Tributo do Rateio: "/>
                        <h:selectOneMenu id="ceasaTributoRateio"
                                         value="#{configuracaoTributarioControlador.selecionado.tributoRateio}"
                                         style="min-width: 150px !important;"
                                         converter="#{configuracaoTributarioControlador.converterTributo}">
                            <f:selectItems value="#{configuracaoTributarioControlador.tributos}"/>
                        </h:selectOneMenu>
                        <p:spacer/>
                    </h:panelGrid>
                </p:tab>

                <p:tab title="Arrecadação">
                    <p:panel header="Inconsistência">
                        <h:panelGrid columns="2">
                            <h:outputText value="Dívida de Inconsistência: "/>
                            <h:selectOneMenu id="dividainconsistencia"
                                             value="#{configuracaoTributarioControlador.selecionado.dividaInconsistencia}"
                                             style="width: 500px !important;"
                                             converter="#{configuracaoTributarioControlador.converterDivida}">
                                <f:selectItems value="#{configuracaoTributarioControlador.dividas}"/>
                            </h:selectOneMenu>
                            <h:outputText value="Tributo de Inconsistência "/>
                            <h:selectOneMenu id="tributoinconsistencia"
                                             value="#{configuracaoTributarioControlador.selecionado.tributoInconsistencia}"
                                             style="width: 500px !important;"
                                             converter="#{configuracaoTributarioControlador.converterTributo}">
                                <f:selectItems value="#{configuracaoTributarioControlador.tributos}"/>
                            </h:selectOneMenu>
                            <h:outputText value="Contribuinte para Inconsistência: "/>
                            <fc:autocompletePessoa id="contribuinte"
                                                   pretty="true" dropdown="true"
                                                   tamanhoAutoComplete="70"
                                                   habilitaBotaoNovaPF="false"
                                                   habilitaBotaoNovaPJ="false"
                                                   value="#{configuracaoTributarioControlador.selecionado.contribuinteInconsistencia}"
                                                   caminhoAtual="#{configuracaoTributarioControlador.caminhoPadrao}editar/#{configuracaoTributarioControlador.urlKeyValue}/"/>
                        </h:panelGrid>
                    </p:panel>
                    <br/>
                    <p:panel id="painelArrecadacao" header="Contas Financeiras para Arrecadação">
                        <h:panelGrid columns="2">
                            <h:outputText value="Contas: "/>
                            <h:panelGroup>
                                <h:selectOneMenu id="slmContas"
                                                 value="#{configuracaoTributarioControlador.conta.subConta}"
                                                 converter="#{configuracaoTributarioControlador.converterConta}">
                                    <f:selectItems value="#{configuracaoTributarioControlador.contas}"/>
                                </h:selectOneMenu>
                                <p:spacer width="10"/>
                                <p:commandButton id="cbAddContas"
                                                 icon="ui-icon-arrowthickstop-1-s"
                                                 actionListener="#{configuracaoTributarioControlador.addConta()}"
                                                 update="painelArrecadacao tabelaArrecadacao"
                                                 title="Clique para adicionar a conta a lista da configuração"/>
                            </h:panelGroup>
                        </h:panelGrid>
                        <p:dataTable id="tabelaArrecadacao"
                                     value="#{configuracaoTributarioControlador.selecionado.bancosArrecadacao}"
                                     var="conta" emptyMessage="Nenhuma conta foi adicionada a lista">
                            <p:column headerText="Conta" style="text-align: left">
                                <h:outputText value="#{conta}"/>
                            </p:column>
                            <p:column headerText="Ativo" style="text-align: center">
                                <p:selectBooleanButton value="#{conta.ativo}" onLabel="Sim" offLabel="Não"
                                                       onIcon="ui-icon-check"
                                                       offIcon="ui-icon-close"/>
                            </p:column>
                        </p:dataTable>
                    </p:panel>
                </p:tab>

                <p:tab title="Atos Legais para Acréscimos">
                    <p:panel>
                        <h:panelGrid columns="2">
                            <h:outputText value="Ato Legal para Juros"/>
                            <p:autoComplete queryDelay="1000" id="leiJuros"
                                            value="#{configuracaoTributarioControlador.selecionado.leiJuros}"
                                            completeMethod="#{parametrosDividaAtivaControlador.completaAtoLegal}"
                                            converter="#{parametrosDividaAtivaControlador.converterAtoLegal}"
                                            var="fun"
                                            size="70"
                                            itemValue="#{fun}"
                                            itemLabel="#{fun}"/>
                            <h:outputText value="Ato Legal para Multa"/>
                            <p:autoComplete queryDelay="1000" id="leiMulta"
                                            value="#{configuracaoTributarioControlador.selecionado.leiMultas}"
                                            completeMethod="#{parametrosDividaAtivaControlador.completaAtoLegal}"
                                            converter="#{parametrosDividaAtivaControlador.converterAtoLegal}"
                                            var="fun"
                                            size="70"
                                            itemValue="#{fun}"
                                            itemLabel="#{fun}"/>
                            <h:outputText value="Ato Legal para Correção"/>
                            <p:autoComplete queryDelay="1000" id="leiCorrecao"
                                            value="#{configuracaoTributarioControlador.selecionado.leiCorrecaoMonetaria}"
                                            completeMethod="#{parametrosDividaAtivaControlador.completaAtoLegal}"
                                            converter="#{parametrosDividaAtivaControlador.converterAtoLegal}"
                                            var="fun"
                                            size="70"
                                            itemValue="#{fun}"
                                            itemLabel="#{fun}"/>
                        </h:panelGrid>
                    </p:panel>
                </p:tab>

                <p:tab title="WebServices">
                    <p:panel header="Configurações WebServices" id="panelWebService">
                        <h:panelGrid columns="2">
                            <fc:outputLabelObrigatorio value="Tipo: "/>
                            <h:selectOneMenu value="#{configuracaoTributarioControlador.configuracaoWebService.tipo}">
                                <f:selectItems value="#{configuracaoTributarioControlador.tipoWebService}"/>
                            </h:selectOneMenu>
                            <fc:outputLabelObrigatorio value="Chave: "/>
                            <p:inputText value="#{configuracaoTributarioControlador.configuracaoWebService.chave}"
                                         size="70"
                                         maxlength="70"/>
                            <fc:outputLabelObrigatorio value="URL: "/>
                            <p:inputText value="#{configuracaoTributarioControlador.configuracaoWebService.url}"
                                         maxlength="70" size="70"/>
                            <h:outputText value="Usuário: "/>
                            <p:inputText value="#{configuracaoTributarioControlador.configuracaoWebService.usuario}"
                                         maxlength="70"/>
                            <h:outputText value="Senha: "/>
                            <p:inputText value="#{configuracaoTributarioControlador.configuracaoWebService.senha}"
                                         maxlength="70" type="password"/>
                            <h:outputText value="Detalhe: "/>
                            <p:inputText value="#{configuracaoTributarioControlador.configuracaoWebService.detalhe}"
                                         maxlength="70"/>
                            <p:commandButton value="Adicionar" update="tabelaConfig panelWebService"
                                             styleClass="mtop05 operacao"
                                             icon="ui-icon-circle-plus"
                                             onstart="aguarde.show()"
                                             onsuccess="aguarde.hide()"
                                             actionListener="#{configuracaoTributarioControlador.adicionarConfiguracaoWebService()}"/>
                        </h:panelGrid>
                        <p:dataTable value="#{configuracaoTributarioControlador.selecionado.itemConfiguracaoWebService}"
                                     var="wsconfig"
                                     paginator="true"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     styleClass="mtop05"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>CONFIGURAÇÕES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     id="tabelaConfig">
                            <p:column headerText="Ações" style="text-align: center; width: 10%">
                                <p:commandButton
                                    actionListener="#{configuracaoTributarioControlador.alterarConfiguracaoWebService(wsconfig)}"
                                    icon="ui-icon-pencil"
                                    onstart="aguarde.show()"
                                    oncomplete="aguarde.hide()"
                                    update="tabelaConfig :Formulario:tabView:panelWebService"/>
                                <p:commandButton
                                    actionListener="#{configuracaoTributarioControlador.removerConfiguracaoWebService(wsconfig)}"
                                    onstart="aguarde.show()"
                                    icon="ui-icon-trash"
                                    oncomplete="aguarde.hide()"
                                    update="tabelaConfig"/>
                            </p:column>
                            <p:column headerText="Tipo">
                                <h:outputText value="#{wsconfig.tipo.descricao}"/>
                            </p:column>
                            <p:column headerText="Chave">
                                <h:outputText value="#{wsconfig.chave}"/>
                            </p:column>
                            <p:column headerText="URL">
                                <h:outputText value="#{wsconfig.url}"/>
                            </p:column>
                            <p:column headerText="Usuário">
                                <h:outputText value="#{wsconfig.usuario}"/>
                            </p:column>
                            <p:column headerText="Senha">
                                <h:outputText value="#{wsconfig.senhaComAsteristicos}"/>
                            </p:column>
                            <p:column headerText="Detalhe">
                                <h:outputText value="#{wsconfig.detalhe}"/>
                            </p:column>

                        </p:dataTable>

                    </p:panel>
                </p:tab>

                <p:tab title="Contribuição de Melhorias">
                    <h:panelGrid columns="2">
                        <h:outputText value="Dívida para Contribuição de Melhorias: "/>
                        <h:selectOneMenu
                            value="#{configuracaoTributarioControlador.selecionado.dividaContribuicaoMelhoria}"
                            style="min-width: 150px !important;"
                            converter="#{configuracaoTributarioControlador.converterDivida}">
                            <f:selectItems value="#{configuracaoTributarioControlador.dividasImobiliario}"/>
                        </h:selectOneMenu>
                        <h:outputText value="Tributo de Contribuição de Melhorias: "/>
                        <h:selectOneMenu
                            value="#{configuracaoTributarioControlador.selecionado.tributoContribuicaoMelhoria}"
                            style="min-width: 150px !important;"
                            converter="#{configuracaoTributarioControlador.converterTributo}">
                            <f:selectItems value="#{configuracaoTributarioControlador.tributos}"/>
                        </h:selectOneMenu>

                    </h:panelGrid>
                </p:tab>

                <p:tab title="Contrato de Concessão">
                    <h:panelGrid columns="2">
                        <h:outputText value="Dívida: "/>
                        <h:selectOneMenu
                            value="#{configuracaoTributarioControlador.selecionado.dividaContratoConcessao}"
                            style="min-width: 150px !important;"
                            converter="#{configuracaoTributarioControlador.converterDivida}">
                            <f:selectItems value="#{configuracaoTributarioControlador.dividasPessoa}"/>
                        </h:selectOneMenu>

                        <h:outputText value="Tributo: "/>
                        <h:selectOneMenu
                            value="#{configuracaoTributarioControlador.selecionado.tributoContratoConcessao}"
                            style="min-width: 150px !important;"
                            converter="#{configuracaoTributarioControlador.converterTributo}">
                            <f:selectItems value="#{configuracaoTributarioControlador.tributos}"/>
                        </h:selectOneMenu>
                    </h:panelGrid>
                </p:tab>

                <p:tab title="Portal Web">
                    <p:panel id="panel-atualizacao-cadastral" header="Atualização Cadastral">
                        <h:panelGrid columns="2">
                            <h:outputText value="Ativo:"/>
                            <p:selectBooleanCheckbox
                                value="#{configuracaoTributarioControlador.selecionado.ativaAlteracaoCadastral}"/>
                        </h:panelGrid>
                    </p:panel>

                    <p:panel id="panel-url-portal" header="URL Portal do Contribuinte" styleClass="mtop05">
                        <h:panelGrid columns="2">
                            <h:outputLabel value="URL: "/>
                            <p:inputText id="url-portal"
                                         title="Informe a URL do Portal do Contribuinte."
                                         value="#{configuracaoTributarioControlador.selecionado.urlPortalContribuinte}"
                                         size="90"/>
                        </h:panelGrid>
                    </p:panel>

                    <p:panel id="panel-portal-web" header="Solicitação de Cadastro" styleClass="mtop05">

                        <h:panelGrid columns="2">
                            <h:outputLabel value="Unidade Organizacional: "/>
                            <p:autoComplete id="pw-uo"
                                            title="Informe a unidade organizacional."
                                            value="#{configuracaoTributarioControlador.selecionado.unidadeOrganizacional}"
                                            completeMethod="#{unidadeOrganizacionalControlador.completaUnidade}"
                                            converter="#{unidadeOrganizacionalControlador.converterGenerico}"
                                            var="uo"
                                            itemLabel="#{uo}"
                                            itemValue="#{uo.id}"
                                            size="70"
                                            maxResults="10"/>

                            <h:outputLabel value="Usuário: "/>
                            <p:autoComplete id="pw-usuario"
                                            title="Informe o usuário."
                                            value="#{configuracaoTributarioControlador.selecionado.usuarioSistema}"
                                            completeMethod="#{usuarioSistemaControlador.completaUsuarioSistema}"
                                            converter="#{usuarioSistemaControlador.converterGenerico}"
                                            var="usuario"
                                            itemLabel="#{usuario}"
                                            itemValue="#{usuario.id}"
                                            size="70"
                                            maxResults="10"/>

                            <h:outputLabel value="Assunto: "/>
                            <p:inputText id="pw-assunto"
                                         title="Informe o assunto."
                                         value="#{configuracaoTributarioControlador.selecionado.assunto}"
                                         size="70"/>

                            <h:outputLabel value="Conteúdo: "/>
                            <h:panelGrid columns="2"
                                         cellpadding="0"
                                         cellspacing="0">
                                <p:inputTextarea id="pw-conteudo"
                                                 title="Informe o conteúdo."
                                                 value="#{configuracaoTributarioControlador.selecionado.conteudo}"
                                                 cols="70"
                                                 maxlength="3000"
                                                 autoResize="true"
                                                 counterTemplate="{0} Caracteres Restantes."
                                                 counter="counter-conteudo"/>
                                <h:outputText id="counter-conteudo"
                                              style="color: #497692"
                                              styleClass="mlef05"/>
                            </h:panelGrid>
                        </h:panelGrid>
                    </p:panel>

                    <p:panel id="panel-email-web" header="Email Tributário" styleClass="mtop05">
                        <h:panelGrid columns="2">
                            <h:outputLabel value="Secretaria: "/>
                            <p:inputText id="email-secretaria"
                                         title="Informe a secretaria."
                                         value="#{configuracaoTributarioControlador.selecionado.secretariaEmail}"
                                         size="70" maxlength="100"/>

                            <h:outputLabel value="Endereço: "/>
                            <p:inputText id="email-endereco"
                                         title="Informe o endereco."
                                         value="#{configuracaoTributarioControlador.selecionado.enderecoEmail}"
                                         size="70" maxlength="100"/>

                            <h:outputLabel value="Bairro: "/>
                            <p:inputText id="email-bairro"
                                         title="Informe o bairro."
                                         value="#{configuracaoTributarioControlador.selecionado.bairroEmail}"
                                         size="70" maxlength="100"/>

                            <h:outputLabel value="CEP: "/>
                            <p:inputText id="email-cep"
                                         title="Informe o cep."
                                         value="#{configuracaoTributarioControlador.selecionado.cepEmail}"
                                         size="20" maxlength="10"/>

                            <h:outputLabel value="Telefone: "/>
                            <p:inputText id="email-telefone"
                                         title="Informe o cep."
                                         value="#{configuracaoTributarioControlador.selecionado.telefoneEmail}"
                                         size="20" maxlength="20"/>

                            <h:outputLabel value="Rodapé Padrão: "/>
                            <p:editor id="email-rdp-padrao" height="200" width="599"
                                      value="#{configuracaoTributarioControlador.selecionado.rodapePadraoEmail}"/>

                            <h:outputLabel value="Rodapé RbTrans: "/>
                            <p:editor id="email-rdp-rbtrans" height="200" width="599"
                                      value="#{configuracaoTributarioControlador.selecionado.rodapeRbTransEmail}"/>
                        </h:panelGrid>
                    </p:panel>

                    <p:panel id="panel-rodape-portal" header="Rodapé do Portal" styleClass="mtop05">
                        <p:editor id="rodape-portal"
                                  value="#{configuracaoTributarioControlador.selecionado.rodapePortalContribuinte}"/>
                    </p:panel>

                    <p:panel id="panel-itbi" header="ITBI">
                        <h:panelGrid columns="2">
                            <h:outputLabel value="Texto Solicitação ITBI: "/>
                            <h:panelGrid columns="2"
                                         cellpadding="0"
                                         cellspacing="0">
                                <p:editor id="e-texto-solicitacao-itbi" height="400" width="800"
                                          value="#{configuracaoTributarioControlador.selecionado.textoSolicitacaoITBI}"/>
                            </h:panelGrid>
                        </h:panelGrid>
                    </p:panel>
                </p:tab>

                <p:tab title="Protesto de Débitos">
                    <h:panelGrid columns="2">
                        <h:outputText value="Nome do Apresentante: "/>
                        <p:inputText id="nome-apresentante" title="Informe o nome do apresentante."
                                     value="#{configuracaoTributarioControlador.selecionado.nomeApresentante}"
                                     size="70" maxlength="255"/>

                        <h:outputText value="Código do Apresentante: "/>
                        <p:inputText id="codigo-apresentante" title="Informe o código do apresentante."
                                     value="#{configuracaoTributarioControlador.selecionado.codigoApresentante}"
                                     size="10" maxlength="70"/>

                        <h:outputText value="Sequência Inicial da Remessa: "/>
                        <p:inputText id="seq-remessa" title="Informe a sequência inicial da Remessa."
                                     value="#{configuracaoTributarioControlador.selecionado.seqIncialRemessaProtesto}"
                                     size="10" maxlength="8"/>
                    </h:panelGrid>
                </p:tab>

                <p:tab title="Datajus">
                    <p:panel header="Informações do Datajus">
                        <h:panelGrid columns="2">
                            <h:outputLabel value="Endpoint:"/>
                            <p:inputText value="#{configuracaoTributarioControlador.selecionado.endpointDatajus}"
                                         size="100" maxlength="255"/>
                            <h:outputLabel value="API Key:"/>
                            <p:inputText value="#{configuracaoTributarioControlador.selecionado.apiKeyDatajus}"
                                         size="100" maxlength="255"/>
                        </h:panelGrid>
                    </p:panel>
                </p:tab>

                <p:tab id="tabArquivoBI" title="Arquivo BI">
                    <p:outputPanel id="opArquivoBI">
                        <p:panel header="Débitos Geral">
                            <h:panelGrid columns="2">
                                <h:outputLabel value="Exercício Inicial Parte 1 (Débitos Geral): "/>
                                <fc:inputInteiro style="margin-left: 0"
                                                 maxLenght="4"
                                                 value="#{configuracaoTributarioControlador.selecionado.configuracaoTributarioBI.debitosGeralExercicioInicialParte1}"/>

                                <h:outputLabel value="Exercício Final Parte 1 (Débitos Geral): "/>
                                <fc:inputInteiro style="margin-left: 0"
                                                 maxLenght="4"
                                                 value="#{configuracaoTributarioControlador.selecionado.configuracaoTributarioBI.debitosGeralExercicioFinalParte1}"/>

                                <h:outputLabel value="Exercício Inicial Parte 2 (Débitos Geral): "/>
                                <fc:inputInteiro style="margin-left: 0"
                                                 maxLenght="4"
                                                 value="#{configuracaoTributarioControlador.selecionado.configuracaoTributarioBI.debitosGeralExercicioInicialParte2}"/>

                                <h:outputLabel value="Exercício Final Parte 2 (Débitos Geral): "/>
                                <fc:inputInteiro style="margin-left: 0"
                                                 maxLenght="4"
                                                 value="#{configuracaoTributarioControlador.selecionado.configuracaoTributarioBI.debitosGeralExercicioFinalParte2}"/>
                            </h:panelGrid>
                        </p:panel>

                        <p:panel id="panelDividasPorTipoExportacao" header="Dívidas por Tipo Exportação"
                                 styleClass="mtop10">
                            <h:panelGrid columns="2"
                                         rendered="#{configuracaoTributarioControlador.configuracaoTributarioBIDivida ne null}">
                                <fc:outputLabelObrigatorio value="Tipo de Exportação: "/>
                                <p:selectOneMenu
                                    value="#{configuracaoTributarioControlador.configuracaoTributarioBIDivida.tipoExportacaoArquivoBI}">
                                    <f:selectItems
                                        value="#{configuracaoTributarioControlador.tiposExportacaoArquivoBI}"/>
                                </p:selectOneMenu>

                                <fc:outputLabelObrigatorio value="Dívida: "/>
                                <p:autoComplete queryDelay="1000"
                                                value="#{configuracaoTributarioControlador.configuracaoTributarioBIDivida.divida}"
                                                completeMethod="#{dividaControlador.completarDivida}"
                                                converter="#{dividaControlador.converterGenerico}"
                                                size="70"
                                                dropdown="true"
                                                maxResults="10"
                                                var="divi"
                                                itemLabel="#{divi.toStringAutoComplete()}"
                                                itemValue="#{divi.id}"
                                                forceSelection="true">
                                </p:autoComplete>
                            </h:panelGrid>

                            <p:commandButton value="Adicionar"
                                             icon="ui-icon-disk"
                                             styleClass="operacao mtop02 mbot05"
                                             onclick="aguarde.show()" oncomplete="aguarde.hide()"
                                             process=":Formulario:tabView:panelDividasPorTipoExportacao"
                                             update=":Formulario:tabView:panelDividasPorTipoExportacao"
                                             actionListener="#{configuracaoTributarioControlador.adicionarDividaTipoExportacaoBI()}"/>

                            <p:dataTable id="tableBIDividasPorTipoExp"
                                         var="divTipoExp"
                                         value="#{configuracaoTributarioControlador.dividasPorTipoExportacaoTabela}"
                                         rowIndexVar="rowIx"
                                         styleClass="mtop10"
                                         paginator="true"
                                         emptyMessage="Não foram localizados registros para serem apresentados"
                                         rows="10"
                                         paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10 maiuscula'>DÍVIDAS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                         rowsPerPageTemplate="10,25,50,100">
                                <p:column headerText="Tipo de Exportação" styleClass="centralizado">
                                    <h:outputText value="#{divTipoExp.tipoExportacaoArquivoBI.descricao}"/>
                                </p:column>
                                <p:column headerText="Dívida" styleClass="alinhamentoEsquerda">
                                    <h:outputText value="#{divTipoExp.divida.descricao}"/>
                                </p:column>
                                <p:column headerText="Ações" styleClass="centralizado" style="width: 80px;">
                                    <p:commandButton icon="ui-icon-trash"
                                                     onclick="if (confirm('Tem certeza que deseja remover este registro?')) { aguarde.show(); } else {return false;}"
                                                     oncomplete="aguarde.hide()"
                                                     process="@this"
                                                     update=":Formulario:tabView:tableBIDividasPorTipoExp"
                                                     actionListener="#{configuracaoTributarioControlador.removerDividaTipoExportacaoBI(divTipoExp)}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                    </p:outputPanel>
                </p:tab>
            </p:tabView>

            <fc:rodapePretty controlador="#{configuracaoTributarioControlador}"/>
        </h:form>
    </ui:define>
</ui:composition>
</html>
