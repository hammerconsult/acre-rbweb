<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://java.sun.com/jsf/composite"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui">

<!-- INTERFACE -->
<cc:interface>

</cc:interface>

<!-- IMPLEMENTATION -->
<cc:implementation>
    <f:event type="preRenderComponent"
             listener="#{provisaoPPAWizardControlador.buscarValoresPrevistoRealizadoPorUnidade}"/>

    <table class="table table-striped mtop10">
        <tr class="ui-message-info">
            <td> Exerc√≠cio</td>
            <td> Fonte de recurso</td>
            <td class="alinhamentoDireita"> Valor Previsto (R$)</td>
            <td class="alinhamentoDireita"> Total da Despesa(R$)</td>
            <td class="alinhamentoDireita"> Saldo (R$)</td>
        </tr>
        <ui:repeat value="#{provisaoPPAWizardControlador.previsoes}" var="c">
            <tr>
                <td>#{c.exercicio.ano}</td>
                <td>#{c.conta}</td>
                <td class="alinhamentoDireita">
                    <h:outputText value="#{c.valorPrevisto}" converter="moneyConverter"/>
                </td>
                <td class="alinhamentoDireita">
                    <h:outputText value="#{c.totalDespesa}" converter="moneyConverter"/>
                </td>
                <td class="alinhamentoDireita">
                    <h:outputText value="#{c.saldo}" converter="moneyConverter"
                                  styleClass="#{0 gt c.saldo.intValue() ? 'vermelhonegrito' : 'verdenegrito'}"/>
                </td>
            </tr>
        </ui:repeat>
        <tr class="ui-message-info">
            <td></td>
            <td></td>
            <td class="alinhamentoDireita">
                <h:outputText value="#{provisaoPPAWizardControlador.valorTotalPrevisto}"
                              converter="moneyConverter"/>
            </td>
            <td class="alinhamentoDireita">
                <h:outputText value="#{provisaoPPAWizardControlador.valorTotalDespesa}" converter="moneyConverter"/>
            </td>
            <td class="alinhamentoDireita">
                <h:outputText value="#{provisaoPPAWizardControlador.valorTotalSaldo}" converter="moneyConverter"/>
            </td>
        </tr>
    </table>
</cc:implementation>
</html>
