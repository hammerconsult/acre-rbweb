<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://java.sun.com/jsf/composite"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core">

<!-- INTERFACE -->
<cc:interface>
    <cc:attribute name="actionListener" method-signature="void f()" required="true"/>
    <cc:attribute name="label" default=""/>
    <cc:attribute name="styleClass" default="operacao"/>
    <cc:attribute name="icon" default="ui-icon-print"/>
    <cc:attribute name="disabled" default="false" type="java.lang.Boolean"/>
    <cc:attribute name="imprimeNoDialog" default="false" type="java.lang.Boolean"/>
    <cc:attribute name="title" default="Clique para abrir uma nova aba"/>
    <cc:attribute name="update" default="@form"/>
    <cc:attribute name="process" default="@form"/>
    <cc:attribute name="style" default=""/>
</cc:interface>

<!-- IMPLEMENTATION -->
<cc:implementation>
    <c:if test="${!cc.attrs.imprimeNoDialog}">

        <p:commandButton value="#{cc.attrs.label}"
                         onclick="console.log(form.target); form.target='_blank';" ajax="false"
                         style="${cc.attrs.style}"
                         update="${cc.attrs.update}"
                         process="${cc.attrs.process}"
                         styleClass="${cc.attrs.styleClass}"
                         disabled="#{cc.attrs.disabled}"
                         title="#{cc.attrs.title}"
                         icon="#{cc.attrs.icon}"
                         id="printerNovo"
                         actionListener="#{cc.attrs.actionListener}"/>

        <!--<h:commandLink actionListener="#{cc.attrs.actionListener}"-->
        <!--target="_blank" disabled="#{cc.attrs.disabled}"-->
        <!--rendered="#{cc.attrs.rendered}" id="commandLink">-->

        <!--<p:button value="#{cc.attrs.label}" icon="#{cc.attrs.icon}"-->
        <!--styleClass="${cc.attrs.styleClass}"-->
        <!--ajax="false" disabled="#{cc.attrs.disabled}"-->
        <!--process="${cc.attrs.process}"-->
        <!--style="${cc.attrs.style}"-->
        <!--update="${cc.attrs.update}"-->
        <!--title="#{cc.attrs.title}" id="commandButton"/>-->

        <!--</h:commandLink>-->
    </c:if>
    <c:if test="${cc.attrs.imprimeNoDialog}">
        <p:commandButton value="#{cc.attrs.label}"
                         onclick="aguarde.show()"
                         onsuccess="aguarde.hide()"
                         style="${cc.attrs.style}"
                         update="${cc.attrs.update}"
                         process="${cc.attrs.process}"
                         styleClass="${cc.attrs.styleClass}"
                         disabled="#{cc.attrs.disabled}"
                         title="#{cc.attrs.title}"
                         icon="#{cc.attrs.icon}"
                         id="printer" actionListener="#{cc.attrs.actionListener}"/>
    </c:if>
</cc:implementation>
</html>
