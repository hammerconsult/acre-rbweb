<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:fc="http://java.sun.com/jsf/composite/components"
      xmlns:p="http://primefaces.org/ui">
<ui:composition template="/corpo.xhtml">
    <ui:define name="body">
        <h:form id="Formulario">
            <fc:cabecalhoPretty auditavel="#{concursoControlador.operacaoVer}" controlador="#{concursoControlador}"
                                origem="#{concursoControlador.caminhoPadrao}novo/"/>

            <p:outputPanel rendered="#{concursoControlador.selecionado.estaHomologado()}">
                <div class="ui-message-warn alinhamentoCentralizado"
                     style="padding: 4px; font-size: 13px; margin: 0px!important;">
                    <h:outputText styleClass="negrito"
                                  value="ESTE CONCURSO ESTÁ HOMOLOGADO, NÃO SERÁ POSSÍVEL REALIZAR ALTERAÇÕES."/>
                </div>
                <div class="mtop05"/>
            </p:outputPanel>

            <p:tabView id="tab-geral-concurso">
                <p:tab title="Dados Gerais">
                    <h:panelGrid columns="2">

                        <fc:outputLabelObrigatorio value="Código:"/>
                        <h:panelGrid columns="3"
                                     cellpadding="0"
                                     cellspacing="0">
                            <h:outputText id="codigo-concurso"
                                          value="#{concursoControlador.selecionado.id eq null ? 'O código do concurso é gerado automaticamente ao salvá-lo.' : concursoControlador.selecionado.codigo}"
                                          styleClass="negrito"
                                          style="color : #497692;"/>

                            <h:outputText value="/"
                                          rendered="#{concursoControlador.selecionado.id ne null}"
                                          styleClass="negrito"
                                          style="color : #497692;"/>

                            <h:outputText value="#{concursoControlador.selecionado.ano}"
                                          rendered="#{concursoControlador.selecionado.id ne null}"
                                          styleClass="negrito"
                                          style="color : #497692;"/>
                        </h:panelGrid>


                        <fc:outputLabelObrigatorio value="Órgão:"/>
                        <p:autoComplete id="orgao-concurso"
                                        queryDelay="1000"
                                        title="Informe o órgão responsável do concurso."
                                        value="#{concursoControlador.hierarquiaOrganizacionalSelecionada}"
                                        completeMethod="#{concursoControlador.completaHierarquias}"
                                        converter="#{concursoControlador.converterHierarquia}"
                                        forceSelection="true"
                                        var="ho"
                                        itemLabel="#{ho}"
                                        itemValue="#{ho.id}"
                                        maxResults="10"
                                        size="70">
                            <p:ajax event="itemSelect"
                                    listener="#{concursoControlador.setarOrgao()}"
                                    process="@this" update="@this"
                                    onstart="aguarde.show()" oncomplete="aguarde.hide()"/>
                        </p:autoComplete>


                        <fc:outputLabelObrigatorio value="Nome:"/>
                        <p:inputText id="nome-concurso"
                                     title="Digite o nome do concurso."
                                     value="#{concursoControlador.selecionado.nome}"
                                     maxlength="70"
                                     size="70"/>


                        <fc:outputLabelObrigatorio value="Descrição:"/>
                        <h:panelGrid columns="2"
                                     cellpadding="0"
                                     cellspacing="0">
                            <p:inputTextarea title="Digite as observações do contrato"
                                             value="#{concursoControlador.selecionado.descricao}"
                                             cols="70"
                                             maxlength="3000"
                                             autoResize="true"
                                             counterTemplate="{0} Caracteres Restantes."
                                             counter="counter-descricao"/>
                            <h:outputText id="counter-descricao"
                                          style="color: #497692"
                                          styleClass="mlef05"/>
                        </h:panelGrid>


                        <fc:outputLabelObrigatorio value="Abertura/Encerramento:"/>
                        <h:panelGrid columns="3"
                                     cellspacing="0"
                                     cellpadding="0">

                            <p:calendar id="inicio-vigencia-concurso"
                                        title="Informe o início de vigência do concurso."
                                        value="#{concursoControlador.selecionado.inicioVigencia}"
                                        onkeypress="mascara(this, Data)"
                                        maxlength="10" size="10"
                                        style="text-align: right"
                                        autocomplete="off"
                                        locale="pt_BR" navigator="true" pattern="dd/MM/yyyy"/>

                            <h:outputLabel value="à" styleClass="mlef05 mrig05"/>

                            <p:calendar id="final-vigencia-concurso"
                                        title="Informe o final de vigência do concurso."
                                        value="#{concursoControlador.selecionado.finalVigencia}"
                                        onkeypress="mascara(this, Data)"
                                        maxlength="10" size="10"
                                        style="text-align: right"
                                        autocomplete="off"
                                        locale="pt_BR" navigator="true" pattern="dd/MM/yyyy"/>
                        </h:panelGrid>


                        <fc:outputLabelObrigatorio value="Início/Final das Inscrições:"/>
                        <h:panelGrid columns="3"
                                     cellpadding="0"
                                     cellspacing="0">
                            <p:calendar id="inicio-inscricao-concurso"
                                        title="Informe o início das inscrições do concurso."
                                        value="#{concursoControlador.selecionado.inicioInscricao}"
                                        onkeypress="mascara(this, Data)"
                                        maxlength="10" size="10"
                                        style="text-align: right"
                                        autocomplete="off"
                                        locale="pt_BR" navigator="true" pattern="dd/MM/yyyy"/>

                            <h:outputLabel value="à" styleClass="mlef05 mrig05"/>

                            <p:calendar id="final-inscricao-concurso"
                                        title="Informe o final das inscrições do concurso."
                                        value="#{concursoControlador.selecionado.finalInscricao}"
                                        onkeypress="mascara(this, Data)"
                                        maxlength="10" size="10"
                                        style="text-align: right"
                                        autocomplete="off"
                                        locale="pt_BR" navigator="true" pattern="dd/MM/yyyy"/>
                        </h:panelGrid>

                    </h:panelGrid>
                </p:tab>

                <p:tab title="Locais">
                    <script type="text/javascript">
                        function validarTelefone(elem) {
                            if (elem.value.toString().length &lt; 14) {
                                elem.value = '';
                            }
                        }
                    </script>
                    <p:outputPanel id="panel-local">

                        <p:commandButton id="btn-novo-local"
                                         icon="ui-icon-plus"
                                         title="Clique para adicionar novo local."
                                         value="Novo Local"
                                         actionListener="#{concursoControlador.novoLocal()}"
                                         disabled="#{concursoControlador.localConcursoSelecionado ne null}"
                                         rendered="#{!concursoControlador.isOperacaoVer()}"
                                         styleClass="padrao"
                                         process="@this"
                                         update=":Formulario:tab-geral-concurso:panel-local"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"/>

                        <p:panel id="panel-novo-local"
                                 header="Novo/Editar Local"
                                 rendered="#{concursoControlador.localConcursoSelecionado ne null}"
                                 styleClass="mtop05 mbot05">

                            <h:panelGrid columns="2">

                                <fc:outputLabelObrigatorio value="Tipo:"/>
                                <h:selectOneMenu id="tipo-local"
                                                 title="Informe o tipo do local."
                                                 value="#{concursoControlador.localConcursoSelecionado.tipoLocalConcurso}">
                                    <f:selectItems value="#{concursoControlador.tiposDeLocal}"/>
                                </h:selectOneMenu>


                                <fc:outputLabelObrigatorio value="CEP:"/>
                                <h:panelGrid columns="2"
                                             cellspacing="0"
                                             cellpadding="0">
                                    <p:autoComplete id="cep-endereco"
                                                    queryDelay="1000"
                                                    title="Informe o cep."
                                                    value="#{concursoControlador.localConcursoSelecionado.enderecoCorreio.cep}"
                                                    completeMethod="#{concursoControlador.completaCep}"
                                                    var="cep"
                                                    styleClass="mrig05"
                                                    itemLabel="#{cep}"
                                                    itemValue="#{cep}"
                                                    size="12">
                                        <p:ajax event="itemSelect"
                                                listener="#{concursoControlador.atualizaLogradouros}"
                                                process="@this" update="panel-novo-local"
                                                onstart="aguarde.show()" oncomplete="aguarde.hide()"/>

                                    </p:autoComplete>
                                    <p:commandButton id="btn-pesquisa-endereco"
                                                     icon="ui-icon-lupa"
                                                     title="clique para pesquisar."
                                                     actionListener="#{concursoControlador.atualizaLogradouros}"
                                                     process="panel-novo-local"
                                                     update="panel-novo-local"
                                                     styleClass="icone-25"/>
                                </h:panelGrid>


                                <fc:outputLabelObrigatorio value="Estado:"/>
                                <h:selectOneMenu id="estado-endereco"
                                                 title="Informe o estado."
                                                 value="#{concursoControlador.localConcursoSelecionado.enderecoCorreio.uf}">
                                    <f:selectItems value="#{pessoaTributarioControlador.listaUF}"
                                                   var="uf" itemLabel="#{uf.nome}" itemValue="#{uf.sigla}"/>
                                </h:selectOneMenu>


                                <fc:outputLabelObrigatorio value="Cidade:"/>
                                <p:inputText id="cidade-endereco"
                                             title="Digite a cidade."
                                             value="#{concursoControlador.localConcursoSelecionado.enderecoCorreio.localidade}"
                                             maxlength="255"
                                             size="70"/>


                                <fc:outputLabelObrigatorio value="Bairro:"/>
                                <p:inputText id="bairro-endereco"
                                             title="Digite o bairro."
                                             value="#{concursoControlador.localConcursoSelecionado.enderecoCorreio.bairro}"
                                             maxlength="255"
                                             size="70"/>


                                <fc:outputLabelObrigatorio value="Logradouro:"/>
                                <p:inputText id="logradouro-endereco"
                                             title="Digite o logradouro."
                                             value="#{concursoControlador.localConcursoSelecionado.enderecoCorreio.logradouro}"
                                             maxlength="255"
                                             size="70"/>


                                <h:outputText value="Complemento:"/>
                                <p:inputText id="complemento-endereco"
                                             title="Digite o complemento."
                                             value="#{concursoControlador.localConcursoSelecionado.enderecoCorreio.complemento}"
                                             maxlength="255"
                                             size="70"/>


                                <fc:outputLabelObrigatorio value="Número:"/>
                                <p:inputText id="numero-endereco"
                                             title="Digite o número."
                                             value="#{concursoControlador.localConcursoSelecionado.enderecoCorreio.numero}"
                                             maxlength="255"
                                             size="15"/>

                                <h:outputLabel value="Telefone:"/>
                                <p:inputText id="telefone-endereco"
                                             title="Informe o número do telefone"
                                             onkeydown="mascara(this, mtel)"
                                             maxlength="15"
                                             onblur="validarTelefone(this)"
                                             value="#{concursoControlador.localConcursoSelecionado.telefone}"
                                             size="15"/>

                            </h:panelGrid>

                            <div class="mtop05">
                                <p:commandButton id="btn-confirmar-local"
                                                 icon="ui-icon-check"
                                                 title="Clique para confirmar este local."
                                                 value="Confirmar"
                                                 actionListener="#{concursoControlador.confirmarLocal()}"
                                                 process="panel-novo-local"
                                                 update=":Formulario:tab-geral-concurso:panel-local"
                                                 styleClass="padrao"/>

                                <p:commandButton id="btn-cancelar-local"
                                                 icon="ui-icon-cancel"
                                                 title="Clique para cancelar este local."
                                                 value="Cancelar"
                                                 actionListener="#{concursoControlador.cancelarLocal()}"
                                                 process="@this"
                                                 update=":Formulario:tab-geral-concurso:panel-local"
                                                 styleClass="padrao mlef05"/>
                            </div>

                        </p:panel>

                        <p:dataTable id="tabela-locais"
                                     paginator="true"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{concursoControlador.selecionado.locais}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>LOCAIS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="local">

                            <p:column headerText="Ações" style="width: 90px;" styleClass="alinhamentoCentralizado"
                                      rendered="#{!concursoControlador.isOperacaoVer()}">
                                <p:commandButton icon="ui-icon-pencil"
                                                 title="Clique para alterar este registro."
                                                 actionListener="#{concursoControlador.selecionarLocal(local)}"
                                                 onclick="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="@this"
                                                 update=":Formulario:tab-geral-concurso:panel-local"
                                                 styleClass="mrig05"/>

                                <p:commandButton icon="ui-icon-trash"
                                                 process="@this"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 oncomplete="aguarde.hide()"
                                                 actionListener="#{concursoControlador.removerLocal(local)}"
                                                 title="Clique para remover este registro."
                                                 update="tabela-locais"/>
                            </p:column>
                            <p:column headerText="Tipo" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{local.tipoLocalConcurso.descricao}"/>
                            </p:column>
                            <p:column headerText="CEP" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{local.enderecoCorreio.cep}"/>
                            </p:column>
                            <p:column headerText="Estado" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{local.enderecoCorreio.uf}"/>
                            </p:column>
                            <p:column headerText="Cidade" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{local.enderecoCorreio.localidade}"/>
                            </p:column>
                            <p:column headerText="Bairro" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{local.enderecoCorreio.bairro}"/>
                            </p:column>
                            <p:column headerText="Logradouro" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{local.enderecoCorreio.logradouro}"/>
                            </p:column>
                            <p:column headerText="Complemento" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{local.enderecoCorreio.complemento}"/>
                            </p:column>
                            <p:column headerText="Número" styleClass="alinhamentoDireita">
                                <h:outputText value="#{local.enderecoCorreio.numero}"/>
                            </p:column>
                            <p:column headerText="Telefone" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{local.telefone}"/>
                            </p:column>
                        </p:dataTable>

                    </p:outputPanel>
                </p:tab>

                <p:tab id="tab-cargo" title="Cargos">
                    <p:outputPanel id="panel-cargo">

                        <p:commandButton value="Novo Cargo"
                                         icon="ui-icon-plus"
                                         title="Clique para adicionar novo cargo."
                                         immediate="true"
                                         actionListener="#{concursoControlador.novoCargo()}"
                                         disabled="#{concursoControlador.cargoConcursoSelecionado ne null}"
                                         rendered="#{!concursoControlador.isOperacaoVer()}"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         process="@this"
                                         update=":Formulario:tab-geral-concurso:panel-cargo"
                                         styleClass="padrao"/>


                        <p:panel id="panel-novo-cargo"
                                 header="Novo/Editar Cargo"
                                 styleClass="mtop05"
                                 rendered="#{concursoControlador.cargoConcursoSelecionado ne null}">

                            <script type="text/javascript">
                                function ocultarPainelInformacoesCargo(id) {
                                    var autoComplete = document.getElementById(id);
                                    console.log('Elemento auto complete.: ' + autoComplete);
                                    if (autoComplete.value == null || autoComplete.value == 'undefined' || autoComplete.value.trim() == '') {
                                        var painel = document.getElementById('Formulario:tab-geral-concurso:panel-informacoes-cargo');
                                        painel.style.display = 'none';
                                    }
                                }
                            </script>

                            <h:panelGrid id="grid-cargos"
                                         styleClass="none, verticalAlignTop"
                                         cellpadding="0"
                                         cellspacing="0"
                                         columns="2">

                                <h:panelGrid columns="2">
                                    <fc:outputLabelObrigatorio value="Cargo:"/>
                                    <p:autoComplete id="cargo"
                                                    queryDelay="1000"
                                                    title="Digite o cargo que deseja adicionar ao concurso."
                                                    value="#{concursoControlador.cargoConcursoSelecionado.cargo}"
                                                    completeMethod="#{concursoControlador.completaCargo}"
                                                    converter="#{concursoControlador.converterCargoConcurso}"
                                                    onfocus="this.select();"
                                                    onmouseup="return false;"
                                                    onkeyup="ocultarPainelInformacoesCargo(this.id);"
                                                    forceSelection="true"
                                                    var="c"
                                                    itemLabel="#{c}"
                                                    itemValue="#{c.id}"
                                                    maxResults="10"
                                                    size="70">
                                        <p:ajax event="itemSelect"
                                                process="@this"
                                                update="panel-informacoes-cargo"/>
                                    </p:autoComplete>


                                    <fc:outputLabelObrigatorio value="Vagas Disponíveis:"/>
                                    <p:inputText id="vagas-disponiveis"
                                                 title="Digite a quantidade de vagas disponíveis."
                                                 value="#{concursoControlador.cargoConcursoSelecionado.vagasDisponiveis}"
                                                 size="10">
                                        <p:ajax event="blur"
                                                listener="#{concursoControlador.somarTotalVagas}"
                                                process="vagas-disponiveis vagas-especiais"
                                                update="vagas-totais"
                                                onstart="aguarde.show()"
                                                oncomplete="aguarde.hide()"/>
                                    </p:inputText>


                                    <fc:outputLabelObrigatorio value="Vagas Especiais:"/>
                                    <p:inputText id="vagas-especiais"
                                                 title="Digite a quantidade de vagas especiais."
                                                 value="#{concursoControlador.cargoConcursoSelecionado.vagasEspeciais}"
                                                 size="10">
                                        <p:ajax event="blur"
                                                listener="#{concursoControlador.somarTotalVagas}"
                                                process="vagas-disponiveis vagas-especiais"
                                                update="vagas-totais"
                                                onstart="aguarde.show()"
                                                oncomplete="aguarde.hide()"/>
                                    </p:inputText>


                                    <fc:outputLabelObrigatorio value="Vagas Totais:"/>
                                    <p:inputText id="vagas-totais"
                                                 title="Digite a quantidade total de vagas."
                                                 value="#{concursoControlador.cargoConcursoSelecionado.vagasTotais}"
                                                 readonly="true"
                                                 size="10"/>


                                    <fc:outputLabelObrigatorio value="Taxa de Inscrição:"/>
                                    <p:inputText id="taxa-inscricao"
                                                 title="Digite o valor da taxa de inscrição."
                                                 value="#{concursoControlador.cargoConcursoSelecionado.taxaInscricao}"
                                                 converter="moneyConverter"
                                                 onkeydown="mascaraMonetaria(this)"
                                                 style="text-align: right"
                                                 size="10"/>
                                </h:panelGrid>


                                <p:outputPanel id="panel-informacoes-cargo">
                                    <p:panel header="Informações do cargo selecionado"
                                             rendered="#{concursoControlador.cargoConcursoSelecionado.cargo ne null}">
                                        <h:panelGrid columns="2">
                                            <h:outputText value="Carga horária:"/>
                                            <h:outputText
                                                value="#{concursoControlador.cargoConcursoSelecionado.cargo.cargaHorariaMensagem}"/>

                                            <h:outputText value="Nível de Escolaridade:"/>
                                            <h:outputText
                                                value="#{concursoControlador.cargoConcursoSelecionado.cargo.nivelEscolaridadeMensagem}"/>

                                            <h:outputText value="Remuneração:"/>
                                            <h:outputText value="#{concursoControlador.remuneracaoInicialDoCargo()}"
                                                          converter="moneyConverter"/>
                                        </h:panelGrid>
                                    </p:panel>
                                </p:outputPanel>
                            </h:panelGrid>

                            <div>
                                <p:commandButton id="confirmar-cargo"
                                                 icon="ui-icon-check"
                                                 title="Clique para confirmar."
                                                 value="Confirmar"
                                                 actionListener="#{concursoControlador.confirmarCargo()}"
                                                 styleClass="mrig05 mtop05"
                                                 onclick="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="panel-novo-cargo"
                                                 update=":Formulario:tab-geral-concurso:panel-cargo"/>

                                <p:commandButton id="concelar-cargo"
                                                 icon="ui-icon-cancel"
                                                 title="Clique para cancelar."
                                                 value="Cancelar"
                                                 actionListener="#{concursoControlador.cancelarCargo()}"
                                                 styleClass="mrig05 mtop05"
                                                 onclick="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="@this"
                                                 update=":Formulario:tab-geral-concurso:panel-cargo"/>
                            </div>

                        </p:panel>

                        <p:dataTable id="tabela-cargos"
                                     paginator="true"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{concursoControlador.selecionado.cargos}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>CARGOS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="cargo">

                            <p:column headerText="Ações" style="width: 90px;" styleClass="alinhamentoCentralizado"
                                      rendered="#{!concursoControlador.isOperacaoVer()}">
                                <p:commandButton icon="ui-icon-pencil"
                                                 title="Clique para alterar este registro."
                                                 actionListener="#{concursoControlador.selecionarCargo(cargo)}"
                                                 onclick="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="@this"
                                                 update=":Formulario:tab-geral-concurso:panel-cargo"
                                                 styleClass="mrig05"/>

                                <p:commandButton icon="ui-icon-trash"
                                                 process="@this"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 oncomplete="aguarde.hide()"
                                                 actionListener="#{concursoControlador.removerCargo(cargo)}"
                                                 title="Clique para remover este registro."
                                                 update="tabela-cargos"/>
                            </p:column>
                            <p:column headerText="Cargo" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{cargo.cargo}"/>
                            </p:column>
                            <p:column headerText="Vagas disponíveis" styleClass="alinhamentoDireita">
                                <h:outputText value="#{cargo.vagasDisponiveis}"/>
                            </p:column>
                            <p:column headerText="Vagas especiais" styleClass="alinhamentoDireita">
                                <h:outputText value="#{cargo.vagasEspeciais}"/>
                            </p:column>
                            <p:column headerText="Vagas totais" styleClass="alinhamentoDireita">
                                <h:outputText value="#{cargo.vagasTotais}"/>
                            </p:column>
                            <p:column headerText="Vagas totais" styleClass="alinhamentoDireita">
                                <h:outputText value="#{cargo.taxaInscricao}" converter="moneyConverter"/>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>

                <p:tab id="tab-desempates"
                       title="Critérios de Desempate">
                    <p:outputPanel id="panel-geral-desempate">

                        <p:commandButton value="Novo Critério de Desempate"
                                         icon="ui-icon-plus"
                                         title="Clique para adicionar novo critério de desempate."
                                         immediate="true"
                                         actionListener="#{concursoControlador.novoDesempate()}"
                                         rendered="#{!concursoControlador.isOperacaoVer()}"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         process="@this"
                                         update=":Formulario:tab-geral-concurso:panel-geral-desempate"
                                         styleClass="padrao"/>


                        <p:outputPanel id="panel-novo-desempate">
                            <p:panel header="Novo/Editar Critério"
                                     styleClass="mtop05"
                                     rendered="#{concursoControlador.desempateSelecionado ne null}">
                                <h:panelGrid columns="2">
                                    <fc:outputLabelObrigatorio value="Critério de Desempate:"/>
                                    <h:selectOneMenu title="Selecione um critério de desempate"
                                                     styleClass="mrig05"
                                                     style="min-width: 400px;"
                                                     rendered="#{concursoControlador.isOperacaoNovo() or concursoControlador.isOperacaoEditar()}"
                                                     value="#{concursoControlador.desempateSelecionado.criterioDesempate}">
                                        <f:selectItems value="#{concursoControlador.criteriosDeDesempate}"/>
                                    </h:selectOneMenu>


                                    <fc:outputLabelObrigatorio value="Ordem:"/>
                                    <p:inputText title="Digite a ordem deste critério de desmpate"
                                                 value="#{concursoControlador.desempateSelecionado.ordem}"
                                                 size="10"/>
                                </h:panelGrid>


                                <p:commandButton id="confirmar-desempate"
                                                 icon="ui-icon-check"
                                                 title="Clique para confirmar."
                                                 value="Confirmar"
                                                 actionListener="#{concursoControlador.confirmarDesempate()}"
                                                 styleClass="mrig05 mtop05"
                                                 onclick="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="panel-novo-desempate"
                                                 update=":Formulario:tab-geral-concurso:panel-geral-desempate"/>

                                <p:commandButton id="concelar-desempate"
                                                 icon="ui-icon-cancel"
                                                 title="Clique para cancelar."
                                                 value="Cancelar"
                                                 actionListener="#{concursoControlador.cancelarDesempate()}"
                                                 styleClass="mrig05 mtop05"
                                                 onclick="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="@this"
                                                 update=":Formulario:tab-geral-concurso:panel-novo-desempate"/>

                            </p:panel>
                        </p:outputPanel>

                        <p:dataTable id="tabela-desempate"
                                     paginator="true"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{concursoControlador.selecionado.desempatesOrdenados}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>CRITÉRIOS DE DESEMPATE&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="desempate">

                            <p:column headerText="Ações" style="width: 90px;" styleClass="alinhamentoCentralizado"
                                      rendered="#{!concursoControlador.isOperacaoVer()}">
                                <p:commandButton icon="ui-icon-pencil"
                                                 title="Clique para alterar este registro."
                                                 actionListener="#{concursoControlador.selecionarDesempate(desempate)}"
                                                 onclick="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="@this"
                                                 update=":Formulario:tab-geral-concurso:panel-novo-desempate"
                                                 styleClass="mrig05"/>

                                <p:commandButton icon="ui-icon-trash"
                                                 process="@this"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 oncomplete="aguarde.hide()"
                                                 actionListener="#{concursoControlador.removerDesempate(desempate)}"
                                                 title="Clique para remover este registro."
                                                 update="tabela-desempate"/>
                            </p:column>
                            <p:column headerText="Ordem" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{desempate.ordem}º"/>
                            </p:column>
                            <p:column headerText="Critério de Desempate" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{desempate.criterioDesempate.descricao}"/>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>

                <p:tab id="tab-inscricao" title="Inscrições"
                       rendered="#{concursoControlador.selecionado.temInscricao()}">
                    <p:outputPanel id="panel-inscricao">

                        <p:dataTable id="tabela-inscricoes"
                                     paginator="true"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{concursoControlador.selecionado.inscricoes}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>INSCRIÇÕES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="inscricao">

                            <p:column headerText="Data" styleClass="alinhamentoCentralizado" style="width: 80px;">
                                <h:outputText value="#{inscricao.data}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Número" styleClass="alinhamentoDireita" style="width: 80px;">
                                <h:outputText value="#{inscricao.numero}"/>
                            </p:column>
                            <p:column headerText="Candidato" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{inscricao.nome}"/>
                            </p:column>
                            <p:column headerText="Cargo" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{inscricao.cargoConcurso}"/>
                            </p:column>
                        </p:dataTable>

                    </p:outputPanel>
                </p:tab>

                <p:tab title="Recursos" rendered="#{concursoControlador.selecionado.temRecurso()}">
                    <p:outputPanel id="panel-recurso">

                        <p:dataTable id="tabela-recursos"
                                     paginator="true"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{concursoControlador.selecionado.recursos}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>RECURSOS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="rec">

                            <p:column headerText="Data" styleClass="alinhamentoCentralizado" style="width: 80px;">
                                <h:outputText value="#{rec.data}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Situação" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{rec.situacaoRecurso.descricao}"/>
                            </p:column>
                            <p:column headerText="Candidato" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{rec.inscricaoConcurso.nome}"/>
                            </p:column>
                            <p:column headerText="Fase" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{rec.faseConcurso.descricao}"/>
                            </p:column>
                            <p:column headerText="Prova" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{rec.provaConcurso.nome}"/>
                            </p:column>
                            <p:column headerText="Arquivo" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{rec.arquivo.nome}"/>
                            </p:column>
                            <p:column headerText="Observações" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{rec.observacao}"/>
                            </p:column>
                        </p:dataTable>

                    </p:outputPanel>
                </p:tab>

                <p:tab title="Etapas">
                    <p:outputPanel id="panel-etapas">

                        <p:dataTable id="tabela-etapas"
                                     paginator="true"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{concursoControlador.selecionado.etapas}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>ETAPAS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="eta">

                            <p:column headerText="Data Criação" styleClass="alinhamentoCentralizado"
                                      style="width: 200px;">
                                <h:outputText value="#{eta.criacao}">
                                    <f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Tipo" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{eta.tipoEtapa.descricao}"/>
                            </p:column>
                        </p:dataTable>

                    </p:outputPanel>
                </p:tab>
                <p:tab title="Publicações do Concurso">
                    <p:outputPanel id="edtais">
                        <h:panelGrid columns="2"
                                     cellpadding="0"
                                     cellspacing="0"
                                     id="grid-botao-novo-examinador">
                            <p:commandButton value="Nova Publicação"
                                             icon="ui-icon-circle-plus"
                                             process="@this"
                                             rendered="#{concursoControlador.isOperacaoNovo() or concursoControlador.isOperacaoEditar()}"
                                             disabled="#{concursoControlador.selecionado eq null}"
                                             update=":Formulario:tab-geral-concurso:panel-nova-publicacao"
                                             actionListener="#{concursoControlador.novoPublicacao()}"/>
                            <h:outputText value="Selecione um concurso para poder adicionar publicações"
                                          rendered="#{concursoControlador.selecionado eq null}"
                                          styleClass="azul"
                                />
                        </h:panelGrid>


                        <p:outputPanel id="panel-nova-publicacao">
                            <p:panel header="Nova Publicação"
                                     styleClass="mtop05"
                                     rendered="#{concursoControlador.publicacaoSelecionada ne null}">
                                <h:panelGrid columns="2">
                                    <h:outputLabel value="Data Publicação:"/>
                                    <p:calendar onkeypress="mascara(this, Data)"
                                                maxlength="10"
                                                style="text-align: right"
                                                autocomplete="off"
                                                disabled="true"
                                                title="A data de cadastro da publicação é carregada automaticamente."
                                                value="#{concursoControlador.publicacaoSelecionada.cadastradaEm}"
                                                locale="pt_BR" navigator="true" pattern="dd/MM/yyyy"
                                                size="10">
                                    </p:calendar>

                                    <fc:outputLabelObrigatorio value="Ato Legal:"/>

                                    <p:autoComplete queryDelay="1000"
                                                    title="Digite o nome do ato legal que deseja pesquisar."
                                                    value="#{concursoControlador.publicacaoSelecionada.atoLegal}"
                                                    completeMethod="#{concursoControlador.completaAtoLegal}"
                                                    converter="#{concursoControlador.converterAtoLegal}"
                                                    var="ato"
                                                    forceSelection="true"
                                                    itemValue="#{ato.id}"
                                                    itemLabel="#{ato.tipoNumeroAno}"
                                                    maxResults="10"
                                                    size="70"/>

                                </h:panelGrid>

                                <p:commandButton value="Confirmar"
                                                 styleClass="mrig05 mtop05"
                                                 onclick="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="panel-nova-publicacao"
                                                 update=":Formulario:tab-geral-concurso:edtais :Formulario:tab-geral-concurso:tabela-membros"
                                                 actionListener="#{concursoControlador.confirmarPublicacao()}"
                                                 icon="ui-icon-check"/>

                                <p:commandButton value="Cancelar"
                                                 process="@this"
                                                 styleClass="mtop05"
                                                 onclick="aguarde.show(); "
                                                 oncomplete="aguarde.hide()"
                                                 actionListener="#{concursoControlador.cancelarPublicacao()}"
                                                 update=":Formulario:tab-geral-concurso:panel-nova-publicacao"
                                                 icon="ui-icon-cancel"/>
                            </p:panel>
                        </p:outputPanel>


                        <p:dataTable paginator="true"
                                     id="tabela-publicacoes"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{concursoControlador.selecionado.publicacoes}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>PUBLICAÇÕES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="publicacao">

                            <p:column headerText="Ações"
                                      rendered="#{concursoControlador.isOperacaoNovo() or concursoControlador.isOperacaoEditar()}"
                                      style="text-align: center; width: 90px;">
                                <p:commandButton icon="ui-icon-trash"
                                                 process="@this"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 oncomplete="aguarde.hide()"
                                                 actionListener="#{concursoControlador.removerPublicacao(publicacao)}"
                                                 title="Clique para remover este registro."
                                                 update="tabela-publicacoes"
                                                 styleClass="mrig05"/>
                            </p:column>

                            <p:column headerText="Data Publicação" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{publicacao.cadastradaEm}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </h:outputText>
                            </p:column>

                            <p:column headerText="Ato Legal" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{publicacao.atoLegal}"/>
                            </p:column>

                            <p:column headerText="Edital" styleClass="alinhamentoEsquerda">
                                <p:commandButton icon="ui-icon-note"
                                                 ajax="false"
                                                 styleClass="icone_azul mrig05"
                                                 disabled="#{publicacao.atoLegal.arquivo eq null}"
                                                 style="width: 176px; height: 32px;"
                                                 action="log"
                                                 onclick="PrimeFaces.monitorDownload(start, stop)"
                                                 value="Baixar Edital">
                                    <p:fileDownload
                                        value="#{concursoControlador.baixarEdital(publicacao.atoLegal.arquivo)}"/>
                                </p:commandButton>

                            </p:column>
                        </p:dataTable>

                    </p:outputPanel>
                </p:tab>
                <p:tab title="Membros da Comissão">
                    <p:outputPanel id="membros">

                        <p:dataTable id="tabela-membros"
                                     paginator="true"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{concursoControlador.membrosComissao}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>MEMBROS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="eta">

                            <p:column headerText="Integrante" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{eta.pessoaFisica}"/>
                            </p:column>
                            <p:column headerText="Tipo" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{eta.atribuicaoComissao.descricao}"/>
                            </p:column>
                        </p:dataTable>

                    </p:outputPanel>
                </p:tab>


            </p:tabView>

            <fc:rodapeVisualizarPretty id="rodape-visualizar-pretty" controlador="#{concursoControlador}"
                                       rendered="#{concursoControlador.isOperacaoVer()}"
                                       mostrarExcluir="#{!concursoControlador.selecionado.estaHomologado()}"
                                       mostrarEditar="#{!concursoControlador.selecionado.estaHomologado()}"/>

            <fc:rodapePretty id="rodape-pretty" controlador="#{concursoControlador}"
                             rendered="#{!concursoControlador.isOperacaoVer()}"
                             desabilitaSalvar="#{concursoControlador.selecionado.estaHomologado()}"/>

        </h:form>

        <p:dialog widgetVar="DialogPesquisarPessoa"
                  modal="true"
                  width="800"
                  height="500"
                  closable="true"
                  resizable="false"
                  position="center"
                  style="position: fixed !important;">
            <h:form id="FormularioPesquisarPessoa">
                <p:outputPanel rendered="#{concursoControlador.selecionado ne null}">
                    <fc:pesquisaGenerico
                        selecionar="#{concursoControlador.selecionarObjetoPesquisaGenerico}"
                        updateSelecionarTabela=":Formulario:atoLegal"
                        id="componentePesquisaGenerico"
                        nomeDaClasse="AtoLegal"
                        guardarNaSessao="false"
                        actionSelecionar="#{concursoControlador.caminhoVisualizar()}"
                        novo="#{atoLegalControlador.novo}"
                        caminhoAtual="edita"
                        caminhoControlador="#{atoLegalControlador.caminho}"
                        mostrarBotaoNovo="false"
                        mostrarBotaoImprimirRelatorioTabela="false"
                        mostrarHistorico="false"
                        mostrarOrdenacao="false"
                        iconmSelecionar="check-icon.png"
                        mostrarBotaoImprimirRelatorioUnicoRegistro="false"
                        pretty="true"
                        dialog="true"
                        mostrarBotaoEditarConfiguracaoRelatorio="false"
                        pesquisaNoEnter="false"/>
                </p:outputPanel>
            </h:form>
        </p:dialog>

    </ui:define>
</ui:composition>
</html>
