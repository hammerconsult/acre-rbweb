<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PT"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:fc="http://java.sun.com/jsf/composite/components"
      xmlns:p="http://primefaces.org/ui"
>

<ui:composition template="/corpo.xhtml">
    <ui:define name="body">
        <h:form id="Formulario">
            <h:outputText id="total"
                          rendered="#{cargoControlador.selecionado.vacancia ne null}"
                          styleClass="mtop20"
                          style="color: #2B6FB6; font-weight: bold; float: left;"
                          value="Vacância: #{cargoControlador.selecionado.vacancia}"/>

            <div align="right">
                <fc:cabecalhoPretty controlador="#{cargoControlador}"
                                    origem="#{cargoControlador.caminhoPadrao}listar/"/>
            </div>

            <p:tabView id="tab-view-geral">
                <p:tab title="Dados Gerais">
                    <h:panelGrid columns="2">
                        <fc:outputLabelObrigatorio for="codigoDoCargo" value="Código do Cargo:"/>
                        <h:outputText value="Código gerado automaticamente ao salvar."
                                      rendered="#{cargoControlador.isOperacaoNovo()}"
                                      styleClass="negrito"/>
                        <p:inputText rendered="#{!cargoControlador.isOperacaoNovo()}"
                                     onkeypress="mascara(this, soNumeros)"
                                     value="#{cargoControlador.selecionado.codigoDoCargo}"
                                     id="codigoDoCargo" styleClass="negrito"/>
                        <h:outputText value="Tipo PCS"/>
                        <h:selectOneMenu id="tipoCargoPCS" value="#{cargoControlador.selecionado.tipoPCS}">
                            <f:selectItems value="#{cargoControlador.tiposPCS}"/>
                        </h:selectOneMenu>

                        <h:outputText value="Tipo De Cargo:"/>
                        <h:selectOneMenu id="tipoCargo" value="#{cargoControlador.selecionado.tipoDeCargo}">
                            <f:selectItems value="#{cargoControlador.tiposCargo}"/>
                        </h:selectOneMenu>

                        <fc:outputLabelObrigatorio for="descricao" value="Descrição:"/>
                        <p:inputText title="Digite a descrição do Cargo"
                                     value="#{cargoControlador.selecionado.descricao}"
                                     id="descricao"
                                     maxlength="45"
                                     size="100"/>

                        <fc:outputLabelObrigatorio value="Ato Legal:"/>
                        <p:autoComplete queryDelay="1000" id="completeAtoLegal"
                                        maxResults="10"
                                        size="100"
                                        converter="#{atoLegalControlador.converterGenerico}"
                                        completeMethod="#{cargoControlador.completaAtoLegalCargo}"
                                        var="ato"
                                        value="#{cargoControlador.selecionado.atoLegal}"
                                        itemValue="#{ato.id}"
                                        itemLabel="#{ato}">
                            <p:ajax process="@this" event="itemSelect"/>
                        </p:autoComplete>

                        <fc:outputLabelObrigatorio for="inicioVigencia" value="Início da Vigência:"/>
                        <p:calendar onkeypress="mascara(this, Data)"
                                    maxlength="10"
                                    title="Digite o inicio da Vigencia"
                                    value="#{cargoControlador.selecionado.inicioVigencia}"
                                    id="inicioVigencia"
                                    pattern="dd/MM/yyyy"
                                    locale="pt_BR"
                                    navigator="true">
                        </p:calendar>

                        <h:outputText value="Final da Vigência:"/>
                        <p:calendar onkeypress="mascara(this, Data)"
                                    maxlength="10"
                                    title="Digite o final da Vigência"
                                    value="#{cargoControlador.selecionado.finalVigencia}"
                                    id="finalVigencia"
                                    pattern="dd/MM/yyyy"
                                    navigator="true"
                                    locale="pt_BR"/>

                        <h:outputLabel for="tempoEstagioProbatorio"
                                       value="Tempo de estágio probatório (Dias):"/>
                        <p:inputText title="Digite o tempo de estágio probatório em dias"
                                     value="#{cargoControlador.selecionado.tempoEstagioProbatorio}"
                                     id="tempoEstagioProbatorio"
                                     maxlength="100"
                                     size="20"/>

                        <fc:outputLabelObrigatorio for="codigoCarreira"
                                                   value="Código da Carreira:"/>
                        <p:inputText title="Digite o código da carreira"
                                     value="#{cargoControlador.selecionado.codigoCarreira}"
                                     id="codigoCarreira"
                                     maxlength="10"
                                     size="20"/>
                        <fc:outputLabelObrigatorio for="descricaoCarreira"
                                                   value="Descrição da Carreira:"/>
                        <p:inputText title="Digite a descrição da carreira"
                                     value="#{cargoControlador.selecionado.descricaoCarreira}"
                                     id="descricaoCarreira"
                                     maxlength="100"
                                     size="70"/>
                        <fc:outputLabelObrigatorio value="Situação da Carreira:"/>
                        <h:selectOneMenu id="situacaoCarreira" value="#{cargoControlador.selecionado.situacaoCarreira}">
                            <f:selectItems value="#{cargoControlador.situacoesCarreira}"/>
                            <p:ajax process="@this"/>
                        </h:selectOneMenu>


                        <fc:outputLabelObrigatorio value="Carga Horária (Horas):"/>
                        <p:inputText value="#{cargoControlador.selecionado.cargaHoraria}"
                                     size="20"
                                     maxlength="3"
                                     onkeypress="mascara(this,soNumeros)"/>

                        <h:outputText value="Permitir Acúmulo:"/>
                        <p:selectBooleanCheckbox id="selCheckBoxPermitirAcumulo"
                                                 value="#{cargoControlador.selecionado.permiteAcumulo}">
                            <p:ajax event="change"
                                    listener="#{cargoControlador.alteraCargoAcumulavel}"
                                    process="@this"
                                    update=":Formulario:tab-view-geral:cboxTipoCargoAcumulavelSIPREV"/>
                        </p:selectBooleanCheckbox>

                        <h:outputText value="Acumulável (SIG)?"/>
                        <h:selectOneMenu id="tipoAcumulavelSIG"
                                         value="#{cargoControlador.selecionado.tipoAcumulavelSIG}">
                            <f:selectItems value="#{cargoControlador.getTiposAcumulaveisSIG()}"/>
                        </h:selectOneMenu>

                        <h:outputText value="Ativo:"/>
                        <p:selectBooleanCheckbox id="ativo" value="#{cargoControlador.selecionado.ativo}"/>
                    </h:panelGrid>
                </p:tab>


                <p:tab id="tab-exigencias" title="Exigências">
                    <h:outputText value="Nível de escolaridade mínimo:"/>
                    <p:autoComplete queryDelay="1000" id="nivelEscolaridade"
                                    styleClass="mlef05"
                                    completeMethod="#{cargoControlador.completaNivelEscolaridade}"
                                    converter="#{cargoControlador.converterNivelEscolaridade}"
                                    value="#{cargoControlador.selecionado.nivelEscolaridade}"
                                    var="nivel"
                                    maxResults="10"
                                    itemLabel="#{nivel.descricao}"
                                    itemValue="#{nivel.id}"
                                    forceSelection="true"
                                    size="100">
                    </p:autoComplete>

                    <p:separator styleClass="mtop10 mbot10"/>

                    <p:tabView id="tab-view-exigencias" styleClass="mtop05">
                        <p:tab title="Formações">
                            <p:outputPanel id="panel-geral-formacoes">
                                <p:commandButton value="Nova Formação"
                                                 icon="ui-icon-circle-plus"
                                                 onclick="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 actionListener="#{cargoControlador.novoAreaFormacao()}"
                                                 process="@this"
                                                 immediate="true"
                                                 update=":Formulario:tab-view-geral:tab-view-exigencias:panel-geral-formacoes"/>


                                <p:panel id="panel-novo-formacoes"
                                         header="Nova Formação"
                                         styleClass="mtop05"
                                         rendered="#{cargoControlador.cargoAreaFormacaoSelecionado ne null}">
                                    <h:panelGrid columns="2">
                                        <h:outputLabel value="Área de formação: "/>
                                        <p:autoComplete queryDelay="1000"
                                                        value="#{cargoControlador.cargoAreaFormacaoSelecionado.areaFormacao}"
                                                        var="areaFormacao"
                                                        size="100"
                                                        maxResults="5"
                                                        completeMethod="#{cargoControlador.completaAreaFormacao}"
                                                        converter="#{areaFormacaoControlador.converterGenerico}"
                                                        itemValue="#{areaFormacao.id}"
                                                        itemLabel="#{areaFormacao}"/>
                                    </h:panelGrid>

                                    <p:commandButton value="Confirmar"
                                                     styleClass="mrig05 mtop05"
                                                     onclick="aguarde.show()"
                                                     oncomplete="aguarde.hide()"
                                                     process="panel-novo-formacoes"
                                                     title="Clique para confirmar esta execução."
                                                     update=":Formulario:tab-view-geral:tab-view-exigencias:panel-geral-formacoes"
                                                     actionListener="#{cargoControlador.confirmarAreaFormacao}"
                                                     icon="ui-icon-check"/>

                                    <p:commandButton value="Cancelar"
                                                     process="@this"
                                                     onclick="aguarde.show();"
                                                     styleClass="mtop05"
                                                     oncomplete="aguarde.hide()"
                                                     title="Clique para cancelar esta execução."
                                                     actionListener="#{cargoControlador.cancelarAreaFormacao}"
                                                     update=":Formulario:tab-view-geral:tab-view-exigencias:panel-geral-formacoes"
                                                     icon="ui-icon-cancel"/>
                                </p:panel>

                                <p:dataTable paginator="true"
                                             id="tabela-formacoes"
                                             rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                             rowIndexVar="rowIx"
                                             styleClass="mtop05"
                                             emptyMessage="Não foram localizados registros para serem apresentados"
                                             value="#{cargoControlador.selecionado.areasFormacao}"
                                             rows="10"
                                             paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>FORMAÇÕES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                             rowsPerPageTemplate="10,25,50,100"
                                             var="area">
                                    <p:column headerText="Remover" style="width: 30px!important; text-align: center;">
                                        <p:commandButton icon="ui-icon-trash"
                                                         process="@this"
                                                         onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                         oncomplete="aguarde.hide()"
                                                         actionListener="#{cargoControlador.removeFormacao(area)}"
                                                         title="Clique para remover este registro."
                                                         update="tabela-formacoes"/>
                                    </p:column>
                                    <p:column headerText="Código"
                                              style="width: 50px; text-align: right">
                                        <h:outputText value="#{area.areaFormacao.codigo}"/>
                                    </p:column>
                                    <p:column headerText="Descrição" style="text-align: left;">
                                        <h:outputText value="#{area.areaFormacao.descricao}"/>
                                    </p:column>
                                </p:dataTable>
                            </p:outputPanel>
                        </p:tab>
                        <p:tab title="Habilidades e Competências">
                            <p:outputPanel id="panel-geral-habilidades">
                                <p:commandButton value="Nova Habilidade"
                                                 icon="ui-icon-circle-plus"
                                                 onclick="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 actionListener="#{cargoControlador.novoHabilidade()}"
                                                 process="@this"
                                                 immediate="true"
                                                 update=":Formulario:tab-view-geral:tab-view-exigencias:panel-geral-habilidades"/>


                                <p:panel id="panel-novo-habilidades"
                                         header="Nova Formação"
                                         styleClass="mtop05"
                                         rendered="#{cargoControlador.cargoHabilidadeSelecionado ne null}">
                                    <h:panelGrid columns="2">
                                        <h:outputLabel value="Habilidade: "/>
                                        <p:autoComplete queryDelay="1000"
                                                        value="#{cargoControlador.cargoHabilidadeSelecionado.habilidade}"
                                                        var="habilidade"
                                                        size="100"
                                                        maxResults="5"
                                                        completeMethod="#{cargoControlador.completaHabilidade}"
                                                        converter="#{habilidadeControlador.converterGenerico}"
                                                        itemValue="#{habilidade.id}"
                                                        itemLabel="#{habilidade}"/>
                                    </h:panelGrid>

                                    <p:commandButton value="Confirmar"
                                                     styleClass="mrig05 mtop05"
                                                     onclick="aguarde.show()"
                                                     oncomplete="aguarde.hide()"
                                                     process="panel-novo-habilidades"
                                                     title="Clique para confirmar esta execução."
                                                     update=":Formulario:tab-view-geral:tab-view-exigencias:panel-geral-habilidades"
                                                     actionListener="#{cargoControlador.confirmarHabilidade}"
                                                     icon="ui-icon-check"/>

                                    <p:commandButton value="Cancelar"
                                                     process="@this"
                                                     onclick="aguarde.show();"
                                                     styleClass="mtop05"
                                                     oncomplete="aguarde.hide()"
                                                     title="Clique para cancelar esta execução."
                                                     actionListener="#{cargoControlador.cancelarHabilidade}"
                                                     update=":Formulario:tab-view-geral:tab-view-exigencias:panel-geral-habilidades"
                                                     icon="ui-icon-cancel"/>
                                </p:panel>

                                <p:dataTable paginator="true"
                                             id="tabela-habilidades"
                                             rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                             rowIndexVar="rowIx"
                                             styleClass="mtop05"
                                             emptyMessage="Não foram localizados registros para serem apresentados"
                                             value="#{cargoControlador.selecionado.habilidades}"
                                             rows="10"
                                             paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>HABILIDADES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                             rowsPerPageTemplate="10,25,50,100"
                                             var="habilidade">
                                    <p:column headerText="Remover" style="width: 30px!important; text-align: center;">
                                        <p:commandButton icon="ui-icon-trash"
                                                         process="@this"
                                                         onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                         oncomplete="aguarde.hide()"
                                                         actionListener="#{cargoControlador.removeHabilidade(habilidade)}"
                                                         title="Clique para remover este registro."
                                                         update="tabela-habilidades"/>
                                    </p:column>
                                    <p:column headerText="Código"
                                              style="width: 50px; text-align: right">
                                        <h:outputText value="#{habilidade.habilidade.codigo}"/>
                                    </p:column>
                                    <p:column headerText="Descrição" style="text-align: left;">
                                        <h:outputText value="#{habilidade.habilidade.descricao}"/>
                                    </p:column>
                                </p:dataTable>
                            </p:outputPanel>
                        </p:tab>
                    </p:tabView>
                </p:tab>

                <p:tab title="Período Aquisitivo do Cargo">
                    <p:outputPanel id="panel-geral-base-cargo">
                        <p:commandButton value="Nova Base Período Aquisitivo Para Este Cargo"
                                         icon="ui-icon-circle-plus"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         actionListener="#{cargoControlador.novoBaseCargo()}"
                                         process="@this"
                                         update=":Formulario:tab-view-geral:panel-geral-base-cargo"/>

                        <p:outputPanel id="panel-novo-base-cargo">
                            <p:panel header="Base Cargo"
                                     styleClass="mtop05"
                                     rendered="#{cargoControlador.baseCargo ne null}">
                                <h:panelGrid columns="2">
                                    <fc:outputLabelObrigatorio id="painel"
                                                               value="Base Periodo Aquisitivo:"/>
                                    <p:autoComplete queryDelay="1000"
                                                    id="base"
                                                    title="Digite a Base Periodo Aquisitivo"
                                                    value="#{cargoControlador.baseCargo.basePeriodoAquisitivo}"
                                                    completeMethod="#{cargoControlador.completaBasesPeriodoAquisitivo}"
                                                    var="base"
                                                    itemLabel="#{base.descricao} "
                                                    itemValue="#{base.id}"
                                                    forceSelection="true"
                                                    size="70"
                                                    converter="#{cargoControlador.converterBasePeriodo}">
                                    </p:autoComplete>

                                    <fc:outputLabelObrigatorio value="Início da Vigência:"/>
                                    <p:calendar onkeypress="mascara(this, Data)" maxlength="10"
                                                title="Digite o inicio da Vigencia"
                                                value="#{cargoControlador.baseCargo.inicioVigencia}"
                                                id="inicioVigencia1" pattern="dd/MM/yyyy" locale="pt_BR"
                                                navigator="true">
                                    </p:calendar>

                                    <h:outputText value="Final da Vigência:"/>
                                    <p:calendar onkeypress="mascara(this, Data)" maxlength="10"
                                                title="Digite o final da Vigência"
                                                value="#{cargoControlador.baseCargo.finalVigencia}"
                                                id="finalVigencia1" pattern="dd/MM/yyyy" navigator="true"
                                                locale="pt_BR"/>
                                </h:panelGrid>

                                <p:commandButton value="Confirmar"
                                                 styleClass="mrig05 mtop05"
                                                 onclick="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 process="panel-novo-base-cargo"
                                                 title="Clique para confirmar esta execução."
                                                 update=":Formulario:tab-view-geral:panel-geral-base-cargo"
                                                 actionListener="#{cargoControlador.confirmarBaseCargo()}"
                                                 icon="ui-icon-check"/>

                                <p:commandButton value="Cancelar"
                                                 process="@this"
                                                 styleClass="mtop05"
                                                 onclick="aguarde.show();"
                                                 oncomplete="aguarde.hide()"
                                                 title="Clique para cancelar esta execução."
                                                 actionListener="#{cargoControlador.cancelarBaseCargo()}"
                                                 update=":Formulario:tab-view-geral:panel-geral-base-cargo"
                                                 icon="ui-icon-cancel"/>

                            </p:panel>
                        </p:outputPanel>

                        <p:dataTable paginator="true"
                                     id="tabela-base-cargo"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{cargoControlador.selecionado.baseCargos}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>BASES PERÍODO AQUISITIVO&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="base">
                            <p:column headerText="Ações" style="text-align: center; width: 90px;">
                                <p:commandButton icon="ui-icon-pencil"
                                                 title="Clique para alterar este registro."
                                                 onclick="aguarde.show()"
                                                 oncomplete="aguarde.hide();"
                                                 process="@this"
                                                 actionListener="#{cargoControlador.alterarBaseCargo(base)}"
                                                 update=":Formulario:tab-view-geral:panel-geral-base-cargo"
                                                 styleClass="mrig05"/>
                                <p:commandButton icon="ui-icon-trash"
                                                 process="@this"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 oncomplete="aguarde.hide()"
                                                 actionListener="#{cargoControlador.removeBaseCargo}"
                                                 disabled="#{execucao.solicitacaoEmpenho ne null}"
                                                 title="Clique para remover este registro."
                                                 update=":Formulario:tab-view-geral:tabela-base-cargo">
                                    <f:attribute name="baseCargo" value="#{base}"/>
                                </p:commandButton>
                            </p:column>
                            <p:column headerText="Base Periodo Aquisitivo" style="text-align: left">
                                <h:outputText value="#{base.basePeriodoAquisitivo}"/>
                            </p:column>
                            <p:column headerText="Inicio da Vigência"
                                      style="text-align: center;">
                                <h:outputText value="#{base.inicioVigencia}">
                                    <f:convertDateTime pattern="dd/MM/yyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Final da Vigência"
                                      style="text-align: center;">
                                <h:outputText value="#{base.finalVigencia}">
                                    <f:convertDateTime pattern="dd/MM/yyy"/>
                                </h:outputText>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>

                <p:tab title="Período Aquisitivo Excludente">
                    <p:outputPanel id="panel-geral-base-cargo-excludente">
                        <p:panel header="Período Excludente" styleClass="mtop05">
                            <h:panelGrid columns="2">
                                <fc:outputLabelObrigatorio id="painel-excludente"
                                                           value="Tipo Periodo Aquisitivo:"/>
                                <h:selectOneMenu
                                    value="#{cargoControlador.selecionado.periodoAquisitivoExcluido.tipoPeriodoAquisitivo}">
                                    <f:selectItems value="#{cargoControlador.tipoPeriodoAquisitivos}"/>
                                </h:selectOneMenu>

                                <fc:outputLabelObrigatorio value="Início da Vigência:"/>
                                <p:calendar onkeypress="mascara(this, Data)" maxlength="10"
                                            title="Digite o inicio da Vigencia"
                                            value="#{cargoControlador.selecionado.periodoAquisitivoExcluido.inicioVigencia}"
                                            id="inicioVigencia-excludente" pattern="dd/MM/yyyy" locale="pt_BR"
                                            navigator="true">
                                </p:calendar>

                                <h:outputText value="Final da Vigência:"/>
                                <p:calendar onkeypress="mascara(this, Data)" maxlength="10"
                                            title="Digite o final da Vigência"
                                            value="#{cargoControlador.selecionado.periodoAquisitivoExcluido.finalVigencia}"
                                            id="finalVigencia-excludente" pattern="dd/MM/yyyy" navigator="true"
                                            locale="pt_BR"/>
                            </h:panelGrid>


                        </p:panel>

                    </p:outputPanel>
                </p:tab>

                <p:tab title="Vagas">
                    <p:outputPanel id="panel-geral-vagas">
                        <p:commandButton value="Novas Vagas"
                                         icon="ui-icon-circle-plus"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         actionListener="#{cargoControlador.novoVaga()}"
                                         process="@this"
                                         update=":Formulario:tab-view-geral:panel-geral-vagas"/>

                        <p:panel id="panel-novo-vaga"
                                 styleClass="mtop05"
                                 rendered="#{cargoControlador.vaga ne null}"
                                 header="Vagas">
                            <h:panelGrid columns="2">
                                <fc:outputLabelObrigatorio value="Número de Vagas:"/>
                                <p:inputText title="Digite o numero de vagas do cargo"
                                             value="#{cargoControlador.vaga.numeroVagas}"
                                             id="numeroVagas" maxlength="10" size="10"/>

                                <fc:outputLabelObrigatorio value="Ato Legal"/>
                                <h:panelGroup>
                                    <p:autoComplete queryDelay="1000" id="atoLegal"
                                                    title="Digite o ato legal. A lei só pode ser para o propósito Ato de Cargo"
                                                    value="#{cargoControlador.vaga.atoLegal}"
                                                    completeMethod="#{cargoControlador.completaAtoLegalCargo}"
                                                    var="ato"
                                                    itemValue="#{ato.id}"
                                                    itemLabel="#{ato}"
                                                    forceSelection="true"
                                                    size="70"
                                                    converter="#{cargoControlador.converterAtoLegal}">
                                    </p:autoComplete>
                                    <p:commandButton style="margin-left: 2px"
                                                     update="@this"
                                                     process="@this"
                                                     onclick="window.open('#{request.contextPath}/faces/tributario/cadastromunicipal/atolegal/edita.xhtml?sessao=true', '_blank');
                                                        ativarOuvidor(ativouAba)"
                                                     icon="ui-icon-circle-plus"/>
                                </h:panelGroup>
                            </h:panelGrid>

                            <p:commandButton value="Confirmar"
                                             styleClass="mrig05 mtop05"
                                             onclick="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             process="panel-novo-vaga"
                                             title="Clique para confirmar esta execução."
                                             update=":Formulario:tab-view-geral:panel-geral-vagas :Formulario:total"
                                             actionListener="#{cargoControlador.confirmarVaga()}"
                                             icon="ui-icon-check"/>

                            <p:commandButton value="Cancelar"
                                             process="@this"
                                             styleClass="mtop05"
                                             onclick="aguarde.show();"
                                             oncomplete="aguarde.hide()"
                                             title="Clique para cancelar esta execução."
                                             actionListener="#{cargoControlador.cancelarVaga()}"
                                             update=":Formulario:tab-view-geral:panel-geral-vagas"
                                             icon="ui-icon-cancel"/>
                        </p:panel>


                        <p:dataTable paginator="true"
                                     id="tabela-vagas"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{cargoControlador.selecionado.vagas}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>VAGAS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="vaga">
                            <p:column headerText="Remover" style="width: 30px; text-align: center;">
                                <p:commandButton icon="ui-icon-trash"
                                                 process="@this"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 oncomplete="aguarde.hide()"
                                                 actionListener="#{cargoControlador.removeVaga}"
                                                 title="Clique para remover este registro."
                                                 update=":Formulario:tab-view-geral:tabela-vagas :Formulario:total">
                                    <f:attribute name="obj" value="#{vaga}"/>
                                </p:commandButton>
                            </p:column>
                            <p:column headerText="Data de Criação" style="text-align: center;">
                                <h:outputText value="#{vaga.dataCriacao}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Número de Vagas" style="text-align: center;">
                                <h:outputText value="#{vaga.numeroVagas}"/>
                            </p:column>
                            <p:column headerText="Ato Legal" style="text-align: left;">
                                <h:outputText value="#{vaga.atoLegal}"/>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>
                <p:tab title="CBOs">
                    <p:outputPanel id="panel-geral-cbo">
                        <p:commandButton value="Novo CBO"
                                         icon="ui-icon-circle-plus"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         actionListener="#{cargoControlador.novoCbo()}"
                                         process="@this"
                                         update=":Formulario:tab-view-geral:panel-geral-cbo"/>


                        <p:panel rendered="#{cargoControlador.cboSelecionado ne null}"
                                 id="panel-novo-cbo"
                                 header="CBO"
                                 styleClass="mtop05">
                            <h:panelGrid id="gridCbos"
                                         columns="2">
                                <fc:outputLabelObrigatorio value="CBO:"/>
                                <h:panelGroup>
                                    <p:autoComplete queryDelay="1000" id="autoCompleteCBOs"
                                                    completeMethod="#{cargoControlador.completarCBO}"
                                                    converter="#{cargoControlador.converterCBO}"
                                                    value="#{cargoControlador.cboSelecionado}"
                                                    var="cbo"
                                                    title="Informe o código ou descrição do cbo para pesquisar"
                                                    maxResults="10"
                                                    size="70"
                                                    itemLabel="#{cbo}"
                                                    itemValue="#{cbo}">
                                    </p:autoComplete>
                                    <p:spacer/>
                                    <p:commandButton id="bt-informacao"
                                                     icon="ui-icon-info"
                                                     process="@none"
                                                     styleClass="mrig05 icone-25"
                                                     update="@none"/>

                                    <p:overlayPanel for="bt-informacao"
                                                    id="painelInfoPeriodo"
                                                    style="border : solid black 1px;"
                                                    showEvent="mouseover"
                                                    hideEvent="mouseout">
                                        <h:outputText
                                            value="CBOs do tipo Sinônimo poderão ser pesquisados, porém, o sistema salvará apenas o CBO tipo Ocupação."
                                            escape="false"/>
                                    </p:overlayPanel>
                                </h:panelGroup>

                            </h:panelGrid>

                            <p:commandButton value="Confirmar"
                                             styleClass="mrig05 mtop05"
                                             onclick="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             process="panel-novo-cbo"
                                             title="Clique para confirmar esta execução."
                                             update=":Formulario:tab-view-geral:panel-geral-cbo"
                                             actionListener="#{cargoControlador.confirmarCbo()}"
                                             icon="ui-icon-check"/>

                            <p:commandButton value="Cancelar"
                                             process="@this"
                                             styleClass="mtop05"
                                             onclick="aguarde.show();"
                                             oncomplete="aguarde.hide()"
                                             title="Clique para cancelar esta execução."
                                             actionListener="#{cargoControlador.cancelarCbo()}"
                                             update=":Formulario:tab-view-geral:panel-geral-cbo"
                                             icon="ui-icon-cancel"/>
                        </p:panel>

                        <p:dataTable paginator="true"
                                     id="tabela-cbos"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{cargoControlador.selecionado.cbos}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>CBOs&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="cbo">
                            <p:column headerText="Remover"
                                      styleClass="centralizado"
                                      style="width: 30px;">
                                <p:commandButton icon="ui-icon-trash"
                                                 process="@this"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 oncomplete="aguarde.hide()"
                                                 actionListener="#{cargoControlador.removerCBODoCargo(cbo)}"
                                                 title="Clique para remover este registro."
                                                 update="tabela-cbos">
                                </p:commandButton>
                            </p:column>
                            <p:column headerText="Código">
                                <h:outputText value="#{cbo.codigo}"/>
                            </p:column>
                            <p:column headerText="Descricao">
                                <h:outputText value="#{cbo.descricao}"/>
                            </p:column>
                            <p:column headerText="Ativo">
                                <h:outputText value="#{cbo.ativo? 'Ativo' : 'Inativo'}"/>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>
                <p:tab title="SIPREV">
                    <p:outputPanel id="panel-siprev">
                        <table>
                            <tr>
                                <td><h:outputLabel value="Cargo técnico científico:"/></td>
                                <td><p:selectBooleanCheckbox
                                    value="#{cargoControlador.selecionado.tecnicoCientificoSIPREV}"/></td>
                            </tr>
                            <tr>
                                <td><h:outputLabel value="Cargo com dedicação exclusiva:"/></td>
                                <td><p:selectBooleanCheckbox
                                    value="#{cargoControlador.selecionado.dedicacaoExclusivaSIPREV}"/></td>
                            </tr>
                            <tr>
                                <td><h:outputLabel value="Cargo tem aposentadoria especial:"/></td>
                                <td><p:selectBooleanCheckbox
                                    value="#{cargoControlador.selecionado.aposentadoriaEspecialSIPREV}"/></td>
                            </tr>
                            <tr>
                                <td>
                                    <h:outputLabel value="Contagem de tempo especial: "/>
                                </td>
                                <td>
                                    <h:selectOneMenu value="#{cargoControlador.selecionado.tipoContagemSIPREV}">
                                        <f:selectItems value="#{cargoControlador.tiposContagemEspecial}"/>
                                    </h:selectOneMenu>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <h:outputLabel value="Magistério exclusivo em sala de aula"/>
                                </td>
                                <td>
                                    <h:selectOneMenu id="cboxMagisterio"
                                                     value="#{cargoControlador.selecionado.tipoMagisterio}">
                                        <f:selectItems value="#{cargoControlador.tipoMagisterio}"/>
                                    </h:selectOneMenu>
                                </td>
                            </tr>
                        </table>
                    </p:outputPanel>
                </p:tab>
                <p:tab id="evento" title="Evento">
                    <p:outputPanel id="tab-evento">
                        <p:commandButton value="Novo Evento"
                                         icon="ui-icon-circle-plus"
                                         styleClass="padrao"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         immediate="true"
                                         actionListener="#{cargoControlador.novoEvento()}"
                                         process="@this"
                                         update=":Formulario:tab-view-geral:tab-evento"/>
                        <p:panel header="Novo/Editar Evento"
                                 id="panel-novo-evento"
                                 rendered="#{cargoControlador.cargoEventoFPSelecionado ne null}"
                                 styleClass="mtop05 mbot05">
                            <h:panelGrid columns="2">
                                <fc:outputLabelObrigatorio value="Início da Vigência: "/>
                                <p:calendar onkeypress="mascara(this, Data)"
                                            maxlength="10"
                                            title="Informe o início da vigência."
                                            value="#{cargoControlador.cargoEventoFPSelecionado.inicioVigencia}"
                                            pattern="dd/MM/yyyy"
                                            locale="pt_BR"
                                            navigator="true">
                                </p:calendar>

                                <h:outputLabel value="Final da Vigência: "/>
                                <p:calendar onkeypress="mascara(this, Data)"
                                            maxlength="10"
                                            title="Informe o final da vigência."
                                            value="#{cargoControlador.cargoEventoFPSelecionado.finalVigencia}"
                                            pattern="dd/MM/yyyy"
                                            locale="pt_BR"
                                            navigator="true">
                                </p:calendar>

                                <fc:outputLabelObrigatorio value="Evento: " for="verba"/>
                                <p:autoComplete queryDelay="1000" id="verba"
                                                value="#{cargoControlador.cargoEventoFPSelecionado.eventoFP}"
                                                converter="#{cargoControlador.converterEventoFP}"
                                                completeMethod="#{cargoControlador.completaEventoFP}"
                                                size="70"
                                                title="Informe o evento"
                                                var="evento"
                                                itemLabel="#{evento}"
                                                itemValue="#{evento.id}">
                                </p:autoComplete>
                            </h:panelGrid>

                            <p:commandButton value="Confirmar"
                                             id="cbAdicionaEvento"
                                             onclick="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             styleClass="mrig05 mtop10"
                                             update=":Formulario:tab-view-geral:tab-evento"
                                             actionListener="#{cargoControlador.adicionaEvento()}"
                                             title="clique apara a adicionar."
                                             icon="ui-icon-check"/>

                            <p:commandButton value="Cancelar"
                                             icon="ui-icon-cancel"
                                             id="btn-cancelar-evento"
                                             styleClass="mtop10"
                                             actionListener="#{cargoControlador.cancelarEvento}"
                                             title="clique para cancelar."
                                             onclick="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             process="@this"
                                             update=":Formulario:tab-view-geral:tab-evento"/>
                        </p:panel>

                        <p:dataTable paginator="true"
                                     id="tabela-evento"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{cargoControlador.selecionado.cargoEventoFP}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>Eventos&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="evento">
                            <p:column headerText="Ações" style="text-align: center; width: 90px;">
                                <p:commandButton icon="ui-icon-pencil"
                                                 title="Clique para alterar este registro."
                                                 onclick="aguarde.show()"
                                                 oncomplete="aguarde.hide();"
                                                 process="@this"
                                                 actionListener="#{cargoControlador.selecionarEvento(evento)}"
                                                 update=":Formulario:tab-view-geral:tab-evento"
                                                 styleClass="mrig05"/>

                                <p:commandButton icon="ui-icon-trash"
                                                 process="@this"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 oncomplete="aguarde.hide()"
                                                 actionListener="#{cargoControlador.removerEvento(evento)}"
                                                 title="Clique para remover este registro."
                                                 update="tabela-evento"/>
                            </p:column>

                            <p:column headerText="Evento">
                                <h:outputText value="#{evento}"/>
                            </p:column>
                            <p:column headerText="Início de Vigência">
                                <h:outputText value="#{evento.inicioVigencia}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Final de Vigência">
                                <h:outputText value="#{evento.finalVigencia}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </h:outputText>
                            </p:column>

                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>
                <p:tab id="evento-folha" title="Configuração Evento para Folha de Pagamento">
                    <p:outputPanel id="tab-evento-folha">
                        <p:commandButton value="Novo Evento"
                                         icon="ui-icon-circle-plus"
                                         styleClass="padrao"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         immediate="true"
                                         actionListener="#{cargoControlador.novoEventoParaFolha()}"
                                         process="@this"
                                         update=":Formulario:tab-view-geral:tab-evento-folha"/>
                        <p:panel header="Novo/Editar Evento"
                                 id="panel-novo-evento-folha"
                                 rendered="#{cargoControlador.configuracaoCargoEventoFP ne null}"
                                 styleClass="mtop05 mbot05">
                            <h:panelGrid columns="2">
                                <fc:outputLabelObrigatorio value="Evento: " for="verba"/>
                                <p:autoComplete queryDelay="1000"
                                                value="#{cargoControlador.configuracaoCargoEventoFP.eventoFP}"
                                                converter="#{cargoControlador.converterEventoFP}"
                                                completeMethod="#{cargoControlador.completaEventoFP}"
                                                size="70"
                                                title="Informe o evento"
                                                var="evento"
                                                itemLabel="#{evento}"
                                                itemValue="#{evento.id}">
                                </p:autoComplete>
                            </h:panelGrid>

                            <p:commandButton value="Confirmar"
                                             id="cbAdicionaEventoFolha"
                                             onclick="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             styleClass="mrig05 mtop10"
                                             update=":Formulario:tab-view-geral:tab-evento-folha"
                                             actionListener="#{cargoControlador.adicionaConfiguracaoCargoEventoFP()}"
                                             title="clique apara a adicionar."
                                             icon="ui-icon-check"/>

                            <p:commandButton value="Cancelar"
                                             icon="ui-icon-cancel"
                                             id="btn-cancelar-evento-folha"
                                             styleClass="mtop10"
                                             actionListener="#{cargoControlador.cancelarConfiguracaoCargoEvento}"
                                             title="clique para cancelar."
                                             onclick="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             process="@this"
                                             update=":Formulario:tab-view-geral:tab-evento"/>
                        </p:panel>

                        <p:dataTable paginator="true"
                                     id="tabela-evento-folha"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{cargoControlador.selecionado.itemConfiguracaoCargoEventoFP}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>Eventos&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="configuracaoEvento">
                            <p:column headerText="Ações" style="text-align: center; width: 90px;">
                                <p:commandButton icon="ui-icon-pencil"
                                                 title="Clique para alterar este registro."
                                                 onclick="aguarde.show()"
                                                 oncomplete="aguarde.hide();"
                                                 process="@this"
                                                 actionListener="#{cargoControlador.editarCargoEventoFP(configuracaoEvento)}"
                                                 update=":Formulario:tab-view-geral:tab-evento-folha"
                                                 styleClass="mrig05"/>

                                <p:commandButton icon="ui-icon-trash"
                                                 process="@this"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 oncomplete="aguarde.hide()"
                                                 actionListener="#{cargoControlador.removerConfiguracaoEvento(configuracaoEvento)}"
                                                 title="Clique para remover este registro."
                                                 update="tabela-evento-folha"/>
                            </p:column>

                            <p:column headerText="Evento">
                                <h:outputText value="#{configuracaoEvento}"/>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>
                <p:tab title="Entidade Sindical">
                    <p:outputPanel id="outPutSindicato">
                        <p:commandButton value="Novo Sindicato"
                                         icon="ui-icon-circle-plus"
                                         styleClass="padrao mbot02"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         immediate="true"
                                         actionListener="#{cargoControlador.novoSindicato()}"
                                         process="@this"
                                         update="outPutSindicato"/>

                        <p:panel id="panelLocal" header="Novo Sindicato"
                                 rendered="${cargoControlador.itemCargoSindicatoSelecionado ne null}">
                            <h:panelGrid columns="2">
                                <fc:outputLabelObrigatorio value="Sindicato:"/>
                                <p:autoComplete value="#{cargoControlador.itemCargoSindicatoSelecionado.sindicato}"
                                                var="sindicato"
                                                itemLabel="#{sindicato}"
                                                itemValue="#{sindicato.id}"
                                                size="70"
                                                queryDelay="1000"
                                                completeMethod="#{sindicatoControlador.completarSindicato}"
                                                converter="#{sindicatoControlador.converterGenerico}"/>

                                <fc:outputLabelObrigatorio value="Início da Vigência: "/>
                                <p:calendar onkeypress="mascara(this, Data)"
                                            maxlength="10"
                                            title="Informe o início da vigência."
                                            value="#{cargoControlador.itemCargoSindicatoSelecionado.dataInicio}"
                                            pattern="dd/MM/yyyy"
                                            locale="pt_BR"
                                            navigator="true">
                                </p:calendar>

                                <h:outputLabel value="Final da Vigência: "/>
                                <p:calendar onkeypress="mascara(this, Data)"
                                            maxlength="10"
                                            title="Informe o final da vigência."
                                            value="#{cargoControlador.itemCargoSindicatoSelecionado.dataFim}"
                                            pattern="dd/MM/yyyy"
                                            locale="pt_BR"
                                            navigator="true">
                                </p:calendar>

                            </h:panelGrid>

                            <p:commandButton value="Adicionar"
                                             styleClass="mtop10"
                                             icon="ui-icon-plus"
                                             process="outPutSindicato"
                                             onclick="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             update="outPutSindicato"
                                             actionListener="#{cargoControlador.adicionarItemCargoSindicato()}"/>

                            <p:commandButton value="Cancelar"
                                             process="@this"
                                             styleClass="mlef05 mtop10"
                                             onclick="aguarde.show();"
                                             oncomplete="aguarde.hide()"
                                             title="Clique para cancelar esta execução."
                                             actionListener="#{cargoControlador.cancelarSindicato()}"
                                             update="outPutSindicato"
                                             icon="ui-icon-cancel"/>
                        </p:panel>

                        <p:dataTable paginator="true"
                                     id="tabela-sindicatos"
                                     rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{cargoControlador.selecionado.itensCargoSindicato}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>SINDICATO&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="item">

                            <p:column headerText="Ações" style="text-align: center; width: 90px;">
                                <p:commandButton icon="ui-icon-pencil"
                                                 title="Clique para alterar este registro."
                                                 onclick="aguarde.show()"
                                                 oncomplete="aguarde.hide();"
                                                 disabled="#{cargoControlador.itemCargoSindicatoSelecionado ne null}"
                                                 process="@this"
                                                 actionListener="#{cargoControlador.selecionarSindicato(item)}"
                                                 update=":Formulario:tab-view-geral:outPutSindicato"
                                                 styleClass="mrig05"/>

                                <p:commandButton icon="ui-icon-trash"
                                                 process="@this"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 oncomplete="aguarde.hide()"
                                                 disabled="#{cargoControlador.itemCargoSindicatoSelecionado ne null}"
                                                 actionListener="#{cargoControlador.removerSindicato(item)}"
                                                 title="Clique para remover este registro."
                                                 update=":Formulario:tab-view-geral:outPutSindicato"/>
                            </p:column>

                            <p:column headerText="Código" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{item.sindicato.codigo}"/>
                            </p:column>
                            <p:column headerText="Pessoa Jurídica" styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{item.sindicato.pessoaJuridica}"/>
                            </p:column>
                            <p:column headerText="Dia data Base" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{item.sindicato.diaDataBase}"/>
                            </p:column>
                            <p:column headerText="Mês data Base" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{item.sindicato.mesDataBase}"/>
                            </p:column>
                            <p:column headerText="Início de Vigência" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{item.dataInicio}" converter="javax.faces.DateTime"/>
                            </p:column>
                            <p:column headerText="Final de Vigência" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{item.dataFim}" converter="javax.faces.DateTime"/>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>
                <p:tab title="Especificações">
                    <div class="alert alert-info mtop03" align="center">
                        <Strong>Atenção!</Strong> Essas informações são utilizadas exclusivamente para o arquivo Estudo Atuarial
                    </div>
                    <h:panelGrid columns="2">
                        <h:outputText value="Especificação do Tipo de Cargo: "/>
                        <h:selectOneMenu value="#{cargoControlador.selecionado.tipoEspecificacaoCargo}">
                            <f:selectItems value="${cargoControlador.tipoEscpecificacaoCargo}"/>
                        </h:selectOneMenu>
                        <h:outputText value="Referência FP para abate de teto: "/>
                        <p:autoComplete queryDelay="1000" id="completeReferenciaFP"
                                        maxResults="10"
                                        size="70"
                                        converter="#{referenciaFPControlador.converterGenerico}"
                                        completeMethod="#{cargoControlador.completarReferenciaFP}"
                                        var="referencia"
                                        value="#{cargoControlador.selecionado.referenciaFP}"
                                        itemValue="#{referencia.id}"
                                        itemLabel="#{referencia.codigo} - #{referencia.descricao}">
                            <p:ajax process="@this" event="itemSelect"/>
                        </p:autoComplete>
                    </h:panelGrid>
                </p:tab>
                <p:tab title="E-Social">
                    <h:panelGroup id="empregador-tab">
                        <h:panelGrid columns="2">

                            <fc:outputLabelObrigatorio value="Empregador: "/>

                            <h:panelGroup id="painel-empregador">
                                <h:selectOneMenu value="#{cargoControlador.cargoEmpregadorESocial.empregador}"
                                                 converter="#{configuracaoEmpregadorESocialControlador.converterGenerico}">
                                    <f:selectItems value="#{cargoControlador.empregadores}"/>
                                    <p:ajax update="painel-empregador"
                                            event="change"
                                            onstart="aguarde.show()"
                                            oncomplete="aguarde.hide()"
                                            listener="#{cargoControlador.adicionarEmpregador()}"
                                    />
                                </h:selectOneMenu>
                                <table class="table" style="width: 500px">
                                    <ui:repeat
                                        value="#{cargoControlador.selecionado.empregadores}"
                                        var="empregador">
                                        <tr>
                                            <td><h:outputText value="#{empregador}"
                                                              styleClass="negrito"/></td>
                                            <td><p:commandButton icon="ui-icon-trash"
                                                                 onclick="aguarde.show()"
                                                                 oncomplete="aguarde.hide()"
                                                                 actionListener="#{cargoControlador.removerEmpregador(empregador)}"
                                                                 update=":Formulario:tab-view-geral:empregador-tab"/>
                                            </td>
                                        </tr>
                                    </ui:repeat>
                                </table>
                            </h:panelGroup>


                            <h:outputLabel value="Cargo acumulável: "/>
                            <h:panelGroup>
                                <h:selectOneMenu id="cboxTipoCargoAcumulavelSIPREV"
                                                 value="#{cargoControlador.selecionado.tipoCargoAcumulavelSIPREV}"
                                                 disabled="#{!cargoControlador.selecionado.permiteAcumulo}">
                                    <f:selectItems value="#{cargoControlador.tiposCargoAcumulavel}"/>
                                </h:selectOneMenu>

                                <p:commandButton icon="ui-icon-info"
                                                 id="info-cargoAcu"
                                                 styleClass="mrig05"
                                                 process="@none"
                                                 update="@none"
                                                 style="width: 20px; height: 20px; margin-left: 5px!important; "/>
                                <p:overlayPanel at="right"
                                                for="info-cargoAcu"
                                                showEvent="mouseover"
                                                dynamic="false"
                                                style="width: 250px;">
                                    <h:outputText
                                        value="Para selicionar o cargo acumulável check o campo 'Permitir Acúmulo' na aba Dados Gerais!"
                                        escape="false"/>
                                </p:overlayPanel>
                            </h:panelGroup>
                            <fc:outputLabelObrigatorio value="Contagem de tempo especial: "/>
                            <h:selectOneMenu value="#{cargoControlador.selecionado.tipoContagemEspecialEsocial}">
                                <f:selectItems value="#{cargoControlador.tiposContagemEspecialEsocial}"/>
                            </h:selectOneMenu>
                        </h:panelGrid>
                    </h:panelGroup>
                </p:tab>
                <p:tab title="Histórico eventos E-Social">
                    <p:dataTable paginator="true"
                                 rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                 rowIndexVar="rowIx"
                                 styleClass="mtop05"
                                 emptyMessage="Não foram localizados registros para serem apresentados"
                                 value="#{cargoControlador.selecionado.eventosEsocial}"
                                 rows="10"
                                 paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>EVENTOS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                 rowsPerPageTemplate="10,25,50,100"
                                 var="evento">
                        <p:column headerText="Tipo" styleClass="alinhamentoEsquerda">
                            <h:outputText value="#{evento.tipoArquivo}"
                                          title="#{evento.id}"
                                          styleClass="preformatted-fonte-padrao"/>
                        </p:column>
                        <p:column headerText="Grupo" styleClass="alinhamentoCentralizado">
                            <h:outputText value="#{evento.grupo}"
                                          title="#{evento.idESocial}"
                                          styleClass="preformatted-fonte-padrao">
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Situação" styleClass="alinhamentoCentralizado">
                            <h:outputText value="#{evento.situacao}"
                                          styleClass="preformatted-fonte-padrao">
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Código Resposta" styleClass="alinhamentoCentralizado">
                            <h:outputText value="#{evento.codigoResposta}"
                                          styleClass="preformatted-fonte-padrao">
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Descriçao Resposta" styleClass="alinhamentoCentralizado">
                            <h:outputText value="#{evento.descricaoResposta}"
                                          styleClass="preformatted-fonte-padrao">
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Operação" styleClass="alinhamentoCentralizado">
                            <h:outputText value="#{evento.operacao}"
                                          styleClass="preformatted-fonte-padrao">
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Recibo" styleClass="alinhamentoCentralizado">
                            <h:outputText value="#{evento.reciboEntrega}"
                                          styleClass="preformatted-fonte-padrao">
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Data Registro" styleClass="alinhamentoCentralizado">
                            <h:outputText value="#{evento.dataOperacao}"
                                          styleClass="preformatted-fonte-padrao">
                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Ocorrências" styleClass="alinhamentoCentralizado">
                            <p:commandButton
                                id="btn-ocorrencias"
                                icon="ui-icon-search"
                                oncomplete="dialogOcorrencia.show();"
                                update=":formDialogOcorrencia"
                                process="@this"
                                styleClass="vinteLarguraVinteAltura icone_branco botao_verde"
                                actionListener="#{cargoControlador.setOcorrencias(evento.ocorrencias)}">
                            </p:commandButton>
                        </p:column>
                    </p:dataTable>
                </p:tab>
                <p:tab title="Sicap">
                    <h:panelGrid columns="2">
                        <fc:outputLabelObrigatorio value="Classificação do Cargo:"/>
                        <fc:autoComplete value="#{cargoControlador.selecionado.classificacaoCargo}"
                                         converter="#{classificacaoCargoControlador.converterGenerico}"
                                         completeMethod="#{cargoControlador.completarClassificacoesCargo}"
                                         id="class"/>

                    </h:panelGrid>
                </p:tab>

                <p:tab title="Hierarquias Organizacionais">
                    <p:outputPanel id="painelHierarquia">
                        <fc:outputLabelObrigatorio for="unidadeOrganizacional" value="Hierarquia Organizacional: "/>
                        <p:autoComplete queryDelay="1000" id="unidadeOrganizacional"
                                        value="#{cargoControlador.hierarquiaOrganizacional}"
                                        completeMethod="#{cargoControlador.completaHierarquiaOrganizacional}"
                                        converter="#{hierarquiaOrganizacionalControlador.converterHierarquiaOrganizacional}"
                                        var="ho"
                                        maxResults="10"
                                        forceSelection="true"
                                        itemValue="#{ho.id}"
                                        itemLabel="#{ho}"
                                        size="70">
                        </p:autoComplete>
                        <br/>
                        <br/>
                        <p:commandButton id="adicionarHierarquiaOrganizacional"
                                         value="Adicionar Hierarquia Organizacional"
                                         icon="ui-icon-plus"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         update="painelHierarquia"
                                         styleClass="padrao"
                                         actionListener="#{cargoControlador.adicionarUnidadeOrganizacional()}"/>
                        <p:dataTable id="tabelaHierarquiaOrganizacional"
                                     value="#{cargoControlador.selecionado.unidadesCargo}"
                                     var="obj"
                                     styleClass="mtop03"
                                     rowStyleClass="#{empty rowlx or rowlx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                     paginator="true"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport} &lt;span class='titulo-tabela mrig10'>Unidades Organizacionais&lt;/span> {FirstPageLink}
                                             {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="{startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages}"
                                     emptyMessage="Não foram localizados registros para serem apresentados."
                                     rowIndexVar="rowlx">
                            <p:column headerText="Ações" style="width:50px;">
                                <p:commandButton id="cbRemoverHierarquiaOrganizacional"
                                                 icon="ui-icon-trash"
                                                 onclick="aguarde.show()"
                                                 oncomplete="aguarde.hide()"
                                                 actionListener="#{cargoControlador.removerUnidadeOrganizacional(obj)}"
                                                 update=":Formulario:tab-view-geral:painelHierarquia">
                                </p:commandButton>
                            </p:column>
                            <p:column headerText="Unidade Organizacional"
                                      style="text-align: center"
                                      sortBy="#{cargoControlador.hierarquiaDaUnidadeCargo(obj)}">
                                <h:outputText value="#{cargoControlador.hierarquiaDaUnidadeCargo(obj)}">
                                </h:outputText>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>

            </p:tabView>
            <p:watermark value="Filtrando somente propósitos de cargos..."
                         for=":Formulario:tab-view-geral:completeAtoLegal"/>

            <fc:rodapePretty id="rodapeEditar" controlador="#{cargoControlador}"/>
        </h:form>
        <p:dialog widgetVar="dialogOcorrencia"
                  position="center"
                  closable="true"
                  resizable="true"
                  modal="true"
                  draggable="true"
                  hideEffect="fade"
                  dynamic="true"
                  header="Ocorrências">
            <h:form id="formDialogOcorrencia">
                <div style="overflow: auto; max-height: 300px; max-width: 900px">
                    <p:dataTable paginator="true"
                                 id="tabela-ocorrencia"
                                 rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada' : 'trintaAltura'}"
                                 rowIndexVar="rowIx"
                                 styleClass="mtop05"
                                 emptyMessage="Não foram localizados registros para serem apresentados"
                                 value="#{cargoControlador.ocorrencias}"
                                 rows="10"
                                 paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>OCORRÊNCIAS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                 rowsPerPageTemplate="10,25,50,100"
                                 var="evento">

                        <p:column headerText="Código Resposta" styleClass="alinhamentoCentralizado">
                            <h:outputText value="#{evento.codigo}"
                                          styleClass="preformatted-fonte-padrao">
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Descrição" styleClass="alinhamentoCentralizado">
                            <h:outputText value="#{evento.descricao}"
                                          styleClass="preformatted-fonte-padrao">
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Recibo" styleClass="alinhamentoCentralizado">
                            <h:outputText value="#{evento.tipo}"
                                          styleClass="preformatted-fonte-padrao">
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Recibo" styleClass="alinhamentoCentralizado">
                            <h:outputText value="#{evento.localizacao}"
                                          styleClass="preformatted-fonte-padrao">
                            </h:outputText>
                        </p:column>

                    </p:dataTable>
                </div>
            </h:form>
        </p:dialog>
    </ui:define>
</ui:composition>
</html>
