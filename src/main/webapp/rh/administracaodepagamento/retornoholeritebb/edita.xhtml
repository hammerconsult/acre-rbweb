<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
        >
<ui:composition template="/corpo.xhtml">
    <ui:define name="body">
        <p:messages id="msgs" showDetail="true"/>
        <h:form id="Formulario" enctype="multipart/form-data">
            <p:panel header="Importação do arquivo de retorno do Holerite do Banco do Brasil">
                <p:panel>
                    <p:messages showDetail="true"/>
                    <h:panelGrid columns="1">
                        <p:fileUpload id="file"
                                      fileUploadListener="#{retornoHoleriteBBControlador.importaArquivo}"
                                      mode="advanced"
                                      fileLimit="1"
                                      multiple="false"
                                      label="Selecionar Arquivo"
                                      cancelLabel="Cancelar"
                                      uploadLabel="Carregar"
                                      update="@form">
                        </p:fileUpload>


                        <h:outputText id="arquivoSelecionado"
                                      value="Arquivo Selecionado: #{retornoHoleriteBBControlador.arquivoSelecionado}"
                                      rendered="#{retornoHoleriteBBControlador.file ne null}"/>

                        <p:commandButton value="Fazer Leitura do Arquivo" update="@form"
                                         icon="ui-icon-refresh"
                                         actionListener="#{retornoHoleriteBBControlador.gerar}"
                                         styleClass="mtop10 mrig05"
                                         style="height: 30px"
                                         onstart="statusDialog.show()"
                                         oncomplete="statusDialog.hide()"/>

                    </h:panelGrid>
                </p:panel>
            </p:panel>

            <p:commandButton value="Salvar"
                             ajax="false"
                             icon="ui-icon-disk"
                             actionListener="#{retornoHoleriteBBControlador.salvar()}"
                             styleClass="mtop10 mrig05"
                             style="height: 30px"/>
        </h:form>
    </ui:define>
</ui:composition>
</html>
