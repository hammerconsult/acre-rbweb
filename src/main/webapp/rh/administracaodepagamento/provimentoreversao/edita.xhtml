<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PT"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:fc="http://java.sun.com/jsf/composite/components"
      xmlns:p="http://primefaces.org/ui">
<ui:composition template="/corpo.xhtml">
    <ui:define name="body">
        <h:form id="Formulario">
            <fc:cabecalhoPretty auditavel="#{true}"  origem="#{provimentoReversaoControlador.caminhoPadrao}listar/"
                                controlador="#{provimentoReversaoControlador}"/>
            <p:tabView id="tab-view-geral">
                <p:tab title="Dados Gerais" id="geral">
            <p:panel id="panel-geral" header="Cadastro de Provimento de Reversão">
                <h:panelGrid columns="2">
                    <fc:outputLabelObrigatorio for="aposentadoria" value="Aposentadoria:"/>
                    <p:outputPanel>
                        <p:autoComplete queryDelay="1000" id="aposentadoria"
                                        readonly="#{provimentoReversaoControlador.selecionado.id ne null}"
                                        completeMethod="#{provimentoReversaoControlador.completaAposentadoriaInvalidez}"
                                        value="#{provimentoReversaoControlador.selecionado.aposentadoria}"
                                        var="aposentado"
                                        title="Listará aposentados vigentes do tipo 'Invalidez'."
                                        itemLabel="#{aposentado}"
                                        itemValue="#{aposentado.id}"
                                        converter="#{provimentoReversaoControlador.converterAposentadoria}"
                                        actionListener="#{provimentoReversaoControlador.validarServidorSelecionado}"
                                        forceSelection="true"
                                        dropdown="true"
                                        size="70"
                                        maxResults="10"
                                        update=":Formulario:tab-view-geral:tabela-enquadramento">
                            <p:ajax event="itemSelect"
                                    listener="#{provimentoReversaoControlador.validarServidorSelecionado}"
                                    process="@form"
                                    update="@form"/>
                        </p:autoComplete>

                        <p:commandButton icon="ui-icon-info"
                                         id="info-irrf"
                                         styleClass="mrig05"
                                         process="@none"
                                         update="@none"
                                         style="width: 20px; height: 20px; "/>

                        <p:overlayPanel at="right"
                                        for="info-irrf"
                                        showEvent="mouseover"
                                        dynamic="false"
                                        style="margin-left: 2px">
                            <h:outputText
                                value="Exibirá uma lista de aposentados vigentes do tipo 'Invalidez' que ainda não possuem um provimento de reversão registrado no sistema."
                                escape="false"/>
                        </p:overlayPanel>

                    </p:outputPanel>
                    <h:outputText id="datadaAposentadoria"
                                   value="Data da Aposentadoria:"/>

                    <p:inputText readonly="true" value="#{provimentoReversaoControlador.selecionado.aposentadoria.inicioVigencia}">
                        <f:convertDateTime pattern="dd/MM/yyyy"/>
                    </p:inputText>


                    <h:outputText value="Tipo de Aposentadoria:"/>
                    <p:inputText id="tipoAposentadoria" readonly="true" size="70"
                                 value="#{provimentoReversaoControlador.selecionado.tipoAposentadoria}"/>

                    <fc:outputLabelObrigatorio value="Início da Vigência:" for="inicioVigencia"/>
                    <p:outputPanel>
                    <p:calendar onkeypress="mascara(this, Data)" maxlength="10" size="10" pattern="dd/MM/yyyy"
                                navigator="true"
                                title="Data da Reversão."
                                readonly="#{provimentoReversaoControlador.operacaoEditar}"
                                disabled="#{provimentoReversaoControlador.operacaoEditar or provimentoReversaoControlador.operacaoVer}"
                                value="#{provimentoReversaoControlador.selecionado.inicioVigencia}"
                                id="inicioVigencia">
                        <p:ajax event="dateSelect"
                                listener="#{provimentoReversaoControlador.cancelarItensAbas()}"
                                update="@form"
                                process="@form"
                                onstart="aguarde.show();"
                                oncomplete="aguarde.hide();"/>
                        <p:ajax event="change"
                                listener="#{provimentoReversaoControlador.cancelarItensAbas()}"
                                update="@form"
                                process="@form"
                                onstart="aguarde.show();"
                                oncomplete="aguarde.hide();"/>
                    </p:calendar>

                    <p:commandButton icon="ui-icon-info"
                                     id="info-dataReversao"
                                     styleClass="mrig05"
                                     process="@none"
                                     update="@none"
                                     style="width: 20px; height: 20px;"/>

                    <p:overlayPanel at="right"
                                    for="info-dataReversao"
                                    showEvent="mouseover"
                                    dynamic="false"
                                    style="margin-left: 2px">
                        <h:outputText
                            value="Ao definir a data de início da vigência, o contrato será reaberto e a aposentadoria será fechada, um dia anterior a essa data."
                            escape="false"/>
                    </p:overlayPanel>
                    </p:outputPanel>


                    <h:outputText value="Final da Vigência:"/>
                    <p:calendar onkeypress="mascara(this, Data)" maxlength="10" size="10" pattern="dd/MM/yyyy"
                                navigator="true"
                                value="#{provimentoReversaoControlador.selecionado.finalVigencia}"
                                id="finalVigencia">
                    </p:calendar>


                    <fc:outputLabelObrigatorio id="oDataLaudo" value="Data do Laudo:"/>
                    <p:calendar onkeypress="mascara(this, Data)" maxlength="10" pattern="dd/MM/yyyy"
                                navigator="true"
                                value="#{provimentoReversaoControlador.selecionado.laudoProvimentoReversao.dataLaudo}"
                                id="cDataLaudo">
                    </p:calendar>

                    <fc:outputLabelObrigatorio id="oDescricao" value="Descrição do Laudo:"/>
                    <p:inputText id="iDescricao" maxlength="255" size="70"
                                 value="#{not empty provimentoReversaoControlador.selecionado.laudoProvimentoReversao ? provimentoReversaoControlador.selecionado.laudoProvimentoReversao.descricao : ''}"/>


                    <fc:outputLabelObrigatorio for="atoLegal" value="Ato Legal:"/>
                    <p:outputPanel>
                        <p:autoComplete queryDelay="1000" id="atoLegal"
                                        completeMethod="#{atoLegalControlador.completaAtoLegal}"
                                        value="#{provimentoReversaoControlador.selecionado.atoLegal}"
                                        var="ato"
                                        itemLabel="#{ato}"
                                        itemValue="#{ato.id}"
                                        converter="#{atoLegalControlador.converterAtoLegal}"
                                        forceSelection="true"
                                        process="@this"
                                        dropdown="true"
                                        maxResults="10"
                                        size="70">
                            <p:ajax event="itemSelect"
                                    update=":Formulario:tab-view-geral:panel-geral"
                                    process=":Formulario:tab-view-geral:panel-geral"
                                    onstart="aguarde.show()"
                                    oncomplete="aguarde.hide()"/>
                        </p:autoComplete>
                        <p:commandButton style="margin-left: 2px" value="Ato Legal"
                                         update="@this"
                                         process="@this"
                                         onclick="window.open('#{request.contextPath}/atolegal/novo/?sessao=true', '_blank');
                                                 ativarOuvidor(ativouAba)"
                                         icon="ui-icon-circle-plus"/>

                        <p:commandButton process="@none"
                                         id="bt-ver-concurso"
                                         icon="ui-icon-lupa"
                                         style="margin-left: 2px"
                                         disabled="#{provimentoReversaoControlador.selecionado.atoLegal eq null}"
                                         update="@none"
                                         onclick="window.open('#{request.contextPath}/atolegal/ver/#{provimentoReversaoControlador.selecionado.atoLegal.id}','_blank')"/>

                    </p:outputPanel>

                </h:panelGrid>

                <br/><br/>

                <h:panelGrid columns="4" style="vertical-align: middle;">
                        <h:outputText value="Descrição do Arquivo:"  style="height: 40px;"/>
                        <p:inputText id="descricaoArquivo"
                                     value="#{provimentoReversaoControlador.arquivo.descricao}"
                                     size="40" maxlength="255"
                                     style="height: 20px;"/>

                        <p:fileUpload label="Selecionar"
                                      auto="true"
                                      value="#{provimentoReversaoControlador.file}"
                                      fileUploadListener="#{provimentoReversaoControlador.handleFileUpload}"
                                      cancelLabel="Cancelar"
                                      uploadLabel="Upload"
                                      mode="advanced"
                                      update=":Formulario:tab-view-geral:panel-geral"
                                      sizeLimit="15728640"
                                      id="iBotaoUpload"
                                      style="height: 35px; z-index: 0;"
                                      invalidFileMessage="O tipo de arquivo é inválido"/>

                        <p:commandButton icon="ui-icon-close"
                                         style=" height: 35px;"
                                         update=":Formulario:tab-view-geral:panel-geral"
                                         process="@this"
                                         title="Clique aqui para remover o Arquivo."
                                         onclick="if (!confirm('Tem certeza que deseja remover o arquivo?')) {return false; } else {aguarde.show();}"
                                         oncomplete="aguarde.hide()"
                                         disabled="#{provimentoReversaoControlador.selecionado.laudoProvimentoReversao.arquivo eq null}"
                                         actionListener="#{provimentoReversaoControlador.removerArquivo()}"
                                         value="Remover"/>

                    </h:panelGrid>
                         <fc:outputLabelObrigatorio value="Arquivo selecionado: "/>
                        <h:outputLabel id="arquivoSelecionado"
                                       value="#{provimentoReversaoControlador.fileSelecionado.fileName}"/>


                    <p:commandButton rendered="#{provimentoReversaoControlador.fileDownload ne null}"
                                     id="downloadLink" value="Visualizar/Baixar Arquivo" ajax="false"
                                     icon="ui-icon-arrowthickstop-1-s">
                        <p:fileDownload value="#{provimentoReversaoControlador.fileDownload}"/>
                    </p:commandButton>

                    </p:panel>
                </p:tab>


                <p:tab title="Enquadramento Funcional">
                    <p:commandButton value="Novo Enquadramento Funcional"
                                     icon="ui-icon-circle-plus"
                                     onclick="aguarde.show()"
                                     oncomplete="aguarde.hide()"
                                     rendered="#{!provimentoReversaoControlador.isVisualizar()}"
                                     actionListener="#{provimentoReversaoControlador.novoEnquadramentoFuncional()}"
                                     process="@this"
                                     update=":Formulario:tab-view-geral:enquadramento-funcional"/>

                    <p:outputPanel id="enquadramento-funcional">
                        <p:panel id="panel-novo-enquadramento-funcional"
                                 header="Nova/Editar Enquadramento Funcional"
                                 rendered="#{provimentoReversaoControlador.enquadramentoFuncional ne null}"
                                 styleClass="mtop05 mbot05">
                            <h:panelGrid columns="2">
                            <fc:outputLabelObrigatorio value="Início da Vigência:"/>
                            <p:calendar id="inicio-vigencia"
                                        title="Informe a data de início da vigência."
                                        value="#{provimentoReversaoControlador.enquadramentoFuncional.inicioVigencia}"
                                        onkeypress="mascara(this, mdata)"
                                        pattern="dd/MM/yyyy"
                                        navigator="true"
                                        size="10">
                                <p:ajax event="dateSelect"
                                        listener="#{provimentoReversaoControlador.limpa()}"
                                        update="@form"
                                        process="@form"
                                        onstart="aguarde.show();"
                                        oncomplete="aguarde.hide();"/>
                                <p:ajax event="change"
                                        listener="#{provimentoReversaoControlador.limpa()}"
                                        update="@form"
                                        process="@form"
                                        onstart="aguarde.show();"
                                        oncomplete="aguarde.hide();"/>
                            </p:calendar>

                            <fc:outputLabelObrigatorio value="Plano de Cargos e Salários:"/>
                            <h:selectOneMenu id="plano-cargos-salario"
                                             title="Informe o plano de cargos e salários."
                                             value="#{provimentoReversaoControlador.planoCargosSalarios}"
                                             converter="#{planoCargosSalariosControlador.converterGenerico}">
                                <f:selectItems value="#{provimentoReversaoControlador.planos}"/>
                                <p:ajax event="valueChange"
                                        listener="#{provimentoReversaoControlador.limpa()}"
                                        process="@form"
                                        update=":Formulario:tab-view-geral:enquadramento-funcional"
                                        onstart="aguarde.show();"
                                        oncomplete="aguarde.hide();"/>
                            </h:selectOneMenu>

                            <fc:outputLabelObrigatorio value="Categoria de Plano de Cargos e Salários:"/>
                            <h:selectOneMenu id="categoria-plano-cargos-salarios"
                                             title="Informe a categoria de plano de cargos e salários."
                                             value="#{provimentoReversaoControlador.categoriaPCSfilha}"
                                             converter="#{categoriaPCSControlador.converterGenerico}">
                                <f:selectItems value="#{provimentoReversaoControlador.categoriaPCS}"/>
                                <p:ajax event="valueChange"
                                        listener="#{provimentoReversaoControlador.limpa()}"
                                        process="@form"
                                        update=":Formulario:tab-view-geral:enquadramento-funcional"
                                        onstart="aguarde.show();"
                                        oncomplete="aguarde.hide();"/>
                            </h:selectOneMenu>


                            <fc:outputLabelObrigatorio value="Progressão de Plano de Cargos e Salários:"/>
                            <h:selectOneMenu id="progressao-plano-cargos-salarios"
                                             title="Informe a progressão de plano de cargos e salários."
                                             value="#{provimentoReversaoControlador.progressaoPCSPai}"
                                             converter="#{progressaoPCSControlador.converterGenerico}">
                                <f:selectItems value="#{provimentoReversaoControlador.progressaoPCS}"/>
                                <p:ajax event="valueChange"
                                        listener="#{provimentoReversaoControlador.limpa()}"
                                        process="@this"
                                        update=":Formulario:tab-view-geral:enquadramento-funcional"
                                        onstart="aguarde.show();"
                                        oncomplete="aguarde.hide();"/>
                            </h:selectOneMenu>


                            <fc:outputLabelObrigatorio value="Referência:"/>
                            <h:selectOneMenu id="referencia"
                                             title="Informe a referência."
                                             value="#{provimentoReversaoControlador.enquadramentoFuncional.progressaoPCS}"
                                             converter="#{progressaoPCSControlador.converterGenerico}">
                                <f:selectItems value="#{provimentoReversaoControlador.progrecaoPCSApenasFilhos}"/>
                                <p:ajax event="valueChange"
                                        listener="#{provimentoReversaoControlador.limpa()}"
                                        process="@this"
                                        update=":Formulario:tab-view-geral:enquadramento-funcional"
                                        onstart="aguarde.show();"
                                        oncomplete="aguarde.hide();"/>
                            </h:selectOneMenu>

                            <h:outputLabel value="Tipo Provimento:" for="tipo-provimento"/>
                            <h:selectOneMenu id="tipo-provimento"
                                             title="selecione o tipo de provimento."
                                             value="#{provimentoReversaoControlador.provimentoFP.tipoProvimento}"
                                             converter="#{tipoProvimentoControlador.converterGenerico}">
                                <f:selectItems value="#{provimentoReversaoControlador.tiposProvimentos()}"/>
                            </h:selectOneMenu>

                            <h:outputLabel value="Valor:"/>
                            <p:inputText id="valor"
                                         title="Digite o valor."
                                         value="#{provimentoReversaoControlador.enquadramento.vencimentoBase}"
                                         converter="#{utilBean.moneyConverter}"
                                         onkeydown="mascaraMonetaria(this);"
                                         onfocus="this.select()"
                                         readonly="true"
                                         style="text-align: right"
                                         size="15"/>

                            <p:spacer/>
                         </h:panelGrid>

                         <br/>
                            <br/>
                            <p:commandButton value="Confirmar"
                                             styleClass="mrig05 mtop05"
                                             onclick="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             title="Clique para confirmar este enquadramento funcional."
                                             update="@form"
                                             process="@form"
                                             actionListener="#{provimentoReversaoControlador.confirmarEnquadramentoFuncional}"
                                             icon="ui-icon-check"/>

                            <p:commandButton value="Cancelar"
                                             styleClass="mtop05"
                                             onclick="aguarde.show();"
                                             oncomplete="aguarde.hide()"
                                             title="Clique para cancelar este enquadramento."
                                             actionListener="#{provimentoReversaoControlador.limpar()}"
                                             update=":Formulario:tab-view-geral:enquadramento-funcional"
                                             process="@this"
                                             icon="ui-icon-cancel"/>
                        </p:panel>

                        <p:dataTable id="tabela-enquadramento"
                                     paginator="true"
                                     rowStyleClass="#{enq eq provimentoReversaoControlador.selecionado.enquadramentoFuncional ? 'fundo-verde trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     value="#{provimentoReversaoControlador.enquadramentos}"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>ENQUADRAMENTOS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="enq">

                            <p:column headerText="Ações"
                                      rendered="#{provimentoReversaoControlador.operacao ne 'VER'}"
                                      style="text-align: center; width: 90px;">
                                <p:commandButton icon="ui-icon-trash"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 disabled="#{enq ne provimentoReversaoControlador.selecionado.enquadramentoFuncional}"
                                                 oncomplete="aguarde.hide()"
                                                 rendered="#{!provimentoReversaoControlador.isVisualizar()}"
                                                 actionListener="#{provimentoReversaoControlador.removerEnquadramento(enq)}"
                                                 title="Clique para remover este registro."
                                                 update="@form"
                                                 process="@form"/>
                            </p:column>

                            <p:column headerText="Início de Vigência"
                                      style="width: 90px"
                                      styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{enq.inicioVigencia}">
                                    <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Final de Vigência"
                                      style="width: 90px"
                                      styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{enq.finalVigencia}">
                                    <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Categoria"
                                      style="width: 150px"
                                      styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{enq.categoriaPCS.descricao}"/>
                            </p:column>
                            <p:column headerText="Progressão"
                                      style="width: 90px"
                                      styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{enq.progressaoPCS.descricao}"/>
                            </p:column>
                            <p:column headerText="Valor"
                                      style="width: 120px"
                                      styleClass="alinhamentoDireita">
                                <h:outputText value="#{provimentoReversaoControlador.recuperarValorEnquadramento(enq) != null
                             ? provimentoReversaoControlador.recuperarValorEnquadramento(enq)
                             : 'Valor não disponível'}"
                                              converter="moneyConverter"/>
                            </p:column>

                            <p:column headerText="Obs."
                                      styleClass="alinhamentoEsquerda">
                                <h:outputText
                                    value="#{provimentoReversaoControlador.getMensagemObservacaoDoRegistro(provimentoReversaoControlador.selecionado.enquadramentoFuncional, enq, provimentoReversaoControlador.enquadramentos)}"/>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>

                <p:tab title="Modalidade de Contrato">
                    <p:commandButton value="Nova Modalidade de Contrato"
                                     icon="ui-icon-circle-plus"
                                     onclick="aguarde.show()"
                                     oncomplete="aguarde.hide()"
                                     rendered="#{!provimentoReversaoControlador.isVisualizar()}"
                                     actionListener="#{provimentoReversaoControlador.novaModalidadeDeContrato()}"
                                     process="@this"
                                     update=":Formulario:tab-view-geral:modalidade-contrato"/>

                    <p:outputPanel id="modalidade-contrato">
                        <p:panel id="panel-novo-modalidade-contrato"
                                 header="Nova/Editar Modalidade de Contrato"
                                 rendered="#{provimentoReversaoControlador.modalidadeContratoFPData ne null}"
                                 styleClass="mtop05 mbot05">
                            <h:panelGrid columns="2">
                                <fc:outputLabelObrigatorio for="inicioVigenciaMC" value="Início da Vigência:"/>
                                <p:calendar onkeypress="mascara(this, Data)" maxlength="10"
                                            id="inicioVigenciaMC"
                                            pattern="dd/MM/yyyy"
                                            yearRange="true"
                                            disabled="true"
                                            value="#{provimentoReversaoControlador.modalidadeContratoFPData.inicioVigencia}"/>

                                <h:outputLabel for="finalVigenciaMC"
                                               value="Final da Vigência:"/>
                                <p:calendar onkeypress="mascara(this, Data)" maxlength="10"
                                            id="finalVigenciaMC"
                                            pattern="dd/MM/yyyy"
                                            yearRange="true"
                                            value="#{provimentoReversaoControlador.modalidadeContratoFPData.finalVigencia}"/>

                                <fc:outputLabelObrigatorio for="modalidadeContrato" value="Modalidade do Contrato:"/>
                                <h:selectOneMenu
                                    value="#{provimentoReversaoControlador.modalidadeContratoFPData.modalidadeContratoFP}"
                                    id="modalidadeContrato"
                                    converter="#{contratoFPControlador.converterModalidadeContratoServidor}">
                                    <f:selectItems value="#{contratoFPControlador.modalidadeContratoServidor}"/>
                                </h:selectOneMenu>


                                <fc:outputLabelObrigatorio value="Ato Legal:"/>
                                <h:panelGroup>
                                    <p:autoComplete queryDelay="1000" size="70"
                                                    id="atoDePessoal" title="Digite um ato legal"
                                                    value="#{provimentoReversaoControlador.modalidadeContratoFPData.atoLegal}"
                                                    completeMethod="#{contratoFPControlador.completaAtoLegal}"
                                                    var="atoLegal"
                                                    itemLabel="#{atoLegal}"
                                                    itemValue="#{atoLegal.id}"
                                                    forceSelection="true"
                                                    dropdown="true"
                                                    maxResults="10"
                                                    converter="#{contratoFPControlador.converterAtoLegal}"/>
                                    <p:spacer height="3"/>
                                    <fc:novoParente destino="/atolegal/novo/"
                                                    selecionado="#{provimentoReversaoControlador.selecionado}"
                                                    origem="/contratofp/novo/"/>
                                </h:panelGroup>
                                <h:outputText value="Tipo de PEQ:"/>
                                <h:selectOneMenu value="#{provimentoReversaoControlador.selecionado.contratoFP.tipoPeq}"
                                                 id="idTipoPEQ"
                                                 disabled="#{!provimentoReversaoControlador.isHabilitaTipoPEQ()}">
                                    <f:selectItems value="#{provimentoReversaoControlador.tipoPeq}"/>
                                </h:selectOneMenu>
                            </h:panelGrid>

                            <br/>
                            <br/>
                            <p:commandButton value="Confirmar"
                                             styleClass="mrig05 mtop05"
                                             onclick="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             title="Clique para confirmar esta modalidade de contrato."
                                             update="@form"
                                             process="@form"
                                             actionListener="#{provimentoReversaoControlador.confirmarModalidade()}"
                                             icon="ui-icon-check"/>

                            <p:commandButton value="Cancelar"
                                             styleClass="mtop05"
                                             onclick="aguarde.show();"
                                             oncomplete="aguarde.hide()"
                                             title="Clique para cancelar esta modalidade de contrato."
                                             actionListener="#{provimentoReversaoControlador.cancelarModalidade()}"
                                             update=":Formulario:tab-view-geral:modalidade-contrato"
                                             process="@this"
                                             icon="ui-icon-cancel"/>
                        </p:panel>

                            <p:dataTable id="tabelaModalidadeContrato"
                                         var="modalidadeContrato"
                                         paginator="true"
                                         rowStyleClass="#{modalidadeContrato eq provimentoReversaoControlador.selecionado.modalidadeContratoFPData ? 'fundo-verde trintaAltura' : 'trintaAltura'}"
                                         rowIndexVar="rowIx"
                                         styleClass="mtop05"
                                         editable="true"
                                         rows="10"
                                         rowsPerPageTemplate="10,25,50,100"
                                         paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>MODALIDADES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                         value="#{provimentoReversaoControlador.modalidadeContratoFPDatas}"
                                         emptyMessage="Nenhum registro encontrado.">

                                <p:column headerText="Ações"
                                          rendered="#{provimentoReversaoControlador.operacao ne 'VER'}"
                                          style="text-align: center; width: 90px;">
                                    <p:commandButton icon="ui-icon-trash"
                                                     onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                     oncomplete="aguarde.hide()"
                                                     rendered="#{!provimentoReversaoControlador.isVisualizar()}"
                                                     actionListener="#{provimentoReversaoControlador.removerModalidade(modalidadeContrato)}"
                                                     title="Clique para remover este registro."
                                                     update="@form"
                                                     process="@form"/>
                                </p:column>

                                <p:column headerText="Modalidade de Contrato"
                                          style="text-align: center"
                                          sortBy="#{modalidadeContrato.modalidadeContratoFP.descricao}">
                                    <h:outputText value="#{modalidadeContrato.modalidadeContratoFP.descricao}"/>
                                </p:column>
                                <p:column headerText="Ato Legal"
                                          sortBy="#{modalidadeContrato.atoLegal}">
                                    <h:outputText value="#{modalidadeContrato.atoLegal}"/>
                                </p:column>
                                <p:column headerText="Início da Vigência"
                                          style="text-align: center"
                                          sortBy="#{modalidadeContrato.inicioVigencia}">
                                    <h:outputText value="#{modalidadeContrato.inicioVigencia}">
                                        <f:convertDateTime pattern="dd/MM/yyy"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Final da Vigência"
                                          style="text-align: center"
                                          sortBy="#{modalidadeContrato.finalVigencia}">
                                    <h:outputText value="#{modalidadeContrato.finalVigencia}">
                                        <f:convertDateTime pattern="dd/MM/yyy"/>
                                    </h:outputText>
                                </p:column>

                                <p:column headerText="Obs."
                                          styleClass="alinhamentoEsquerda">
                                    <h:outputText
                                        value="#{provimentoReversaoControlador.getMensagemObservacaoDoRegistro(provimentoReversaoControlador.selecionado.modalidadeContratoFPData, modalidadeContrato, provimentoReversaoControlador.modalidadeContratoFPDatas)}"/>
                                </p:column>

                            </p:dataTable>
                        </p:outputPanel>
                </p:tab>

                <p:tab title="Previdência">
                    <p:commandButton value="Nova Previdência"
                                     icon="ui-icon-circle-plus"
                                     onclick="aguarde.show()"
                                     oncomplete="aguarde.hide()"
                                     rendered="#{!provimentoReversaoControlador.isVisualizar()}"
                                     actionListener="#{provimentoReversaoControlador.novaPrevidencia()}"
                                     process="@this"
                                     update=":Formulario:tab-view-geral:panel-previdencia"/>
                    <p:outputPanel id="panel-previdencia">
                        <p:panel id="panel-nova-previdencia"
                                 header="Nova/Editar Previdência"
                                 rendered="#{provimentoReversaoControlador.previdenciaVinculoFP ne null}"
                                 styleClass="mtop05 mbot05">
                            <h:panelGrid columns="2">
                                <fc:outputLabelObrigatorio value="Início de Vigência: "/>
                                <p:calendar title="Informe a data início da vigência."
                                            value="#{provimentoReversaoControlador.previdenciaVinculoFP.inicioVigencia}"
                                            locale="pt_BR"
                                            pattern="dd/MM/yyyy"
                                            navigator="true"
                                            disabled="true"
                                            onkeypress="mascara(this, mdata)"
                                            size="10"/>

                                <h:outputText value="Final da Vigência: "/>
                                <p:calendar title="Informe a data fim da vigência."
                                            value="#{provimentoReversaoControlador.previdenciaVinculoFP.finalVigencia}"
                                            locale="pt_BR"
                                            pattern="dd/MM/yyyy"
                                            navigator="true"
                                            onkeypress="mascara(this, mdata)"
                                            size="10"/>

                                <fc:outputLabelObrigatorio value="Tipo de Previdência FP: "/>
                                <h:selectOneMenu
                                    value="#{provimentoReversaoControlador.previdenciaVinculoFP.tipoPrevidenciaFP}"
                                    id="tipoPrevidenciaFP"
                                    converter="#{tipoPrevidenciaFPControlador.converterGenerico}">
                                    <f:selectItems value="#{contratoFPControlador.tipoPrevidenciaFp}"/>
                                </h:selectOneMenu>
                            </h:panelGrid>
                            <br/>
                            <p:commandButton value="Confirmar"
                                             styleClass="mrig05 mtop05"
                                             onclick="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             title="Clique para confirmar esta previdência."
                                             update=":Formulario:tab-view-geral:panel-previdencia"
                                             process="panel-nova-previdencia"
                                             actionListener="#{provimentoReversaoControlador.confirmarPrevidencia()}"
                                             icon="ui-icon-check"/>

                            <p:commandButton value="Cancelar"
                                             styleClass="mtop05"
                                             process="@this"
                                             onclick="aguarde.show();"
                                             oncomplete="aguarde.hide()"
                                             title="Clique para cancelar esta regra da modalidade."
                                             actionListener="#{provimentoReversaoControlador.cancelarPrevidencia()}"
                                             update=":Formulario:tab-view-geral:panel-previdencia"
                                             icon="ui-icon-cancel"/>
                        </p:panel>
                        <p:dataTable paginator="true"
                                     id="tabela-previdencia"
                                     rowStyleClass="#{previdencia eq provimentoReversaoControlador.selecionado.previdenciaVinculoFP ? 'fundo-verde trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{provimentoReversaoControlador.previdencias}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>Previdência&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="previdencia">

                            <p:column headerText="Ações"
                                      rendered="#{provimentoReversaoControlador.operacao ne 'VER'}"
                                      style="text-align: center; width: 90px;">
                                <p:commandButton icon="ui-icon-trash"
                                                 process="@this"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 disabled="#{previdencia ne provimentoReversaoControlador.selecionado.previdenciaVinculoFP}"
                                                 oncomplete="aguarde.hide()"
                                                 rendered="#{!provimentoReversaoControlador.isVisualizar()}"
                                                 actionListener="#{provimentoReversaoControlador.removerPrevidencia(previdencia)}"
                                                 title="Clique para remover este registro."
                                                 update="tabela-previdencia"/>
                            </p:column>
                            <p:column headerText="Tipo de Previdencia FP"
                                      style="width: 250px;"
                                      styleClass="alinhamentoEsquerda">
                                <h:outputText value="#{previdencia.tipoPrevidenciaFP}"/>
                            </p:column>
                            <p:column headerText="Inicio da Vigência"
                                      style="width: 90px;"
                                      styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{previdencia.inicioVigencia}">
                                    <f:convertDateTime pattern="dd/MM/yyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Final da Vigência"
                                      style="width: 90px;"
                                      styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{previdencia.finalVigencia}">
                                    <f:convertDateTime pattern="dd/MM/yyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Obs."
                                      styleClass="alinhamentoEsquerda">
                                <h:outputText
                                    value="#{provimentoReversaoControlador.getMensagemObservacaoDoRegistro(provimentoReversaoControlador.selecionado.previdenciaVinculoFP, previdencia, provimentoReversaoControlador.previdencias)}"/>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>

                <p:tab title="Vale Transporte">
                    <p:outputPanel id="panel-vale-transporte">
                        <p:commandButton value="Novo Vale Transporte"
                                         icon="ui-icon-circle-plus"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         rendered="#{!provimentoReversaoControlador.isVisualizar()}"
                                         actionListener="#{provimentoReversaoControlador.novoOpcaoValeTransporteFP()}"
                                         process="@this"
                                         update=":Formulario:tab-view-geral:panel-vale-transporte"/>

                        <p:panel id="panel-nova-vale-transporte"
                                 header="Novo/Editar Vale Transporte"
                                 rendered="#{provimentoReversaoControlador.opcaoValeTransporteFP ne null}"
                                 styleClass="mtop05 mbot05">

                            <h:panelGrid columns="2">
                                <fc:outputLabelObrigatorio value="Início de Vigência: "/>
                                <p:calendar title="Informe a data início de vigência."
                                            value="#{provimentoReversaoControlador.opcaoValeTransporteFP.inicioVigencia}"
                                            locale="pt_BR"
                                            pattern="dd/MM/yyyy"
                                            navigator="true"
                                            disabled="true"
                                            onkeypress="mascara(this, mdata)"
                                            size="10"/>

                                <h:outputText value="Final de Vigência: "/>
                                <p:calendar title="Informe a data final de vigência."
                                            value="#{provimentoReversaoControlador.opcaoValeTransporteFP.finalVigencia}"
                                            locale="pt_BR"
                                            pattern="dd/MM/yyyy"
                                            navigator="true"
                                            onkeypress="mascara(this, mdata)"
                                            size="10"/>

                                <h:outputText value="Optante: "/>
                                <h:selectBooleanCheckbox title="Digite o optante da OpcaoValeTransporteFP"
                                                         value="#{provimentoReversaoControlador.opcaoValeTransporteFP.optante}"
                                                         id="optante"/>

                                <fc:outputLabelObrigatorio value="Vales Por Dia: "/>
                                <p:inputText title="Digite o valesPorDia da OpcaoValeTransporteFP"
                                             value="#{provimentoReversaoControlador.opcaoValeTransporteFP.valesPorDia}"
                                             id="valesPorDia"/>
                            </h:panelGrid>
                            <br/>
                            <p:commandButton value="Confirmar"
                                             styleClass="mrig05 mtop05"
                                             onclick="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             title="Clique para confirmar este vale transporte."
                                             update=":Formulario:tab-view-geral:panel-vale-transporte"
                                             process="panel-nova-vale-transporte"
                                             actionListener="#{provimentoReversaoControlador.confirmarOpcaoValeTransporteFP()}"
                                             icon="ui-icon-check"/>

                            <p:commandButton value="Cancelar"
                                             styleClass="mtop05"
                                             process="@this"
                                             onclick="aguarde.show();"
                                             oncomplete="aguarde.hide()"
                                             title="Clique para cancelar esta regra da modalidade."
                                             actionListener="#{provimentoReversaoControlador.cancelarOpcaoValeTransporteFP()}"
                                             update=":Formulario:tab-view-geral:panel-vale-transporte"
                                             icon="ui-icon-cancel"/>
                        </p:panel>
                        <p:dataTable paginator="true"
                                     id="tabela-vale-transporte"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     rowStyleClass="#{vale eq provimentoReversaoControlador.selecionado.opcaoValeTransporteFP ? 'fundo-verde trintaAltura' : 'trintaAltura'}"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{provimentoReversaoControlador.opcoesValeTransporte}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>Vale Transporte Folha Pagamento&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="vale">
                            <p:column headerText="Ações"
                                      rendered="#{provimentoReversaoControlador.operacao ne 'VER'}"
                                      style="text-align: center; width: 90px;">
                                <p:commandButton icon="ui-icon-trash"
                                                 process="@this"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 oncomplete="aguarde.hide()"
                                                 disabled="#{vale ne provimentoReversaoControlador.selecionado.opcaoValeTransporteFP}"
                                                 rendered="#{!provimentoReversaoControlador.isVisualizar()}"
                                                 actionListener="#{provimentoReversaoControlador.removerOpcaoValeTransporteFP(vale)}"
                                                 title="Clique para remover este registro."
                                                 update="tabela-vale-transporte"/>
                            </p:column>
                            <p:column headerText="Optante"
                                      style="width: 60px"
                                      styleClass="alinhamentoCentralizado">
                                <h:outputText value="Sim" rendered="#{vale.optante eq true}"/>
                                <h:outputText value="Não" rendered="#{vale.optante eq false}"/>
                            </p:column>
                            <p:column headerText="Vales Por Dia"
                                      style="width: 100px"
                                      styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{vale.valesPorDia}"/>
                            </p:column>
                            <p:column headerText="Início da Vigência"
                                      style="width: 100px"
                                      styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{vale.inicioVigencia}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Final da Vigência"
                                      style="width: 100px"
                                      styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{vale.finalVigencia}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Obs."
                                      styleClass="alinhamentoEsquerda">
                                <h:outputText
                                    value="#{provimentoReversaoControlador.getMensagemObservacaoDoRegistro(provimentoReversaoControlador.selecionado.opcaoValeTransporteFP, vale, provimentoReversaoControlador.opcoesValeTransporte)}"/>
                            </p:column>
                        </p:dataTable>

                    </p:outputPanel>
                </p:tab>

                <p:tab title="Lotação Funcional">

                    <p:outputPanel id="panel-horario-trablho-servidor">
                        <p:commandButton value="Novo Horário Trabalho do Servidor"
                                         icon="ui-icon-circle-plus"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         rendered="#{!provimentoReversaoControlador.isVisualizar()}"
                                         actionListener="#{provimentoReversaoControlador.novoHorarioTrabalhoServidor()}"
                                         process="@this"
                                         update=":Formulario:tab-view-geral:panel-horario-trablho-servidor"/>

                        <p:panel id="panel-novo-horario-trabalho-servidor"
                                 header="Nova/Editar Horário de Trabalho do Servidor"
                                 rendered="#{provimentoReversaoControlador.horarioContratoFP ne null}"
                                 styleClass="mtop05 mbot05">
                            <h:panelGrid columns="2">
                                <fc:outputLabelObrigatorio value="Início da Vigência: "/>
                                <p:calendar title="Informe a data início da vigência."
                                            value="#{provimentoReversaoControlador.horarioContratoFP.inicioVigencia}"
                                            locale="pt_BR"
                                            pattern="dd/MM/yyyy"
                                            disabled="true"
                                            navigator="true"
                                            onkeypress="mascara(this, mdata)"
                                            size="10"/>

                                <h:outputText value="Final da Vigência: "/>
                                <p:calendar title="Informe a data final da vigência."
                                            value="#{provimentoReversaoControlador.horarioContratoFP.finalVigencia}"
                                            locale="pt_BR"
                                            pattern="dd/MM/yyyy"
                                            navigator="true"
                                            onkeypress="mascara(this, mdata)"
                                            size="10"/>

                                <fc:outputLabelObrigatorio value="Horário de Trabalho: "/>
                                <h:selectOneMenu title="Selecione um horarioDeTrabalho"
                                                 value="#{provimentoReversaoControlador.horarioContratoFP.horarioDeTrabalho}"
                                                 id="horarioDeTrabalho"
                                                 converter="#{horarioContratoFPControlador.converterHorarioDeTrabalho}">
                                    <f:selectItems value="#{contratoFPControlador.horarioDeTrabalho}"/>
                                </h:selectOneMenu>
                            </h:panelGrid>

                            <p:commandButton value="Confirmar"
                                             styleClass="mrig05 mtop05"
                                             onclick="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             title="Clique para confirmar este horário de trablho do servidor."
                                             update=":Formulario:tab-view-geral:panel-horario-trablho-servidor"
                                             process="panel-novo-horario-trabalho-servidor"
                                             actionListener="#{provimentoReversaoControlador.confirmarHorarioContratoFP()}"
                                             icon="ui-icon-check"/>

                            <p:commandButton value="Cancelar"
                                             styleClass="mtop05"
                                             process="@this"
                                             onclick="aguarde.show();"
                                             oncomplete="aguarde.hide()"
                                             title="Clique para cancelar este horário de trablho do servidor."
                                             actionListener="#{provimentoReversaoControlador.cancelarHorarioContratoFP()}"
                                             update=":Formulario:tab-view-geral:panel-horario-trablho-servidor"
                                             icon="ui-icon-cancel"/>
                        </p:panel>
                        <p:dataTable paginator="true"
                                     id="tabela-horario-trabalho"
                                     rowStyleClass="#{hora eq provimentoReversaoControlador.selecionado.horarioContratoFP ? 'fundo-verde trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{provimentoReversaoControlador.horarios}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>Horário de Trabalho&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="hora">
                            <p:column headerText="Ações"
                                      rendered="#{provimentoReversaoControlador.operacao ne 'VER'}"
                                      style="text-align: center; width: 60px;">
                                <p:commandButton icon="ui-icon-trash"
                                                 title="Clique para remover horário."
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 oncomplete="aguarde.hide();"
                                                 disabled="#{hora ne provimentoReversaoControlador.selecionado.horarioContratoFP}"
                                                 rendered="#{!provimentoReversaoControlador.isVisualizar()}"
                                                 actionListener="#{provimentoReversaoControlador.removeHorarioCotratoFP(hora)}"
                                                 update="tabela-horario-trabalho"
                                                 process="@this"
                                                 styleClass="mrig05">
                                    <f:attribute value="#{hora}" name="objeto"/>
                                </p:commandButton>
                            </p:column>
                            <p:column headerText="Novo Local de Trab."
                                      rendered="#{provimentoReversaoControlador.operacao ne 'VER'}"
                                      style="text-align: center; width: 90px;">
                                <p:commandButton icon="ui-icon-plus"
                                                 title="Clique para adicionar local de trabalho."
                                                 onstart="aguarde.show()"
                                                 rendered="#{provimentoReversaoControlador.selecionado.horarioContratoFP eq hora}"
                                                 actionListener="#{provimentoReversaoControlador.informarHorarioTrabalhoServidor(hora)}"
                                                 process="@this"
                                                 update=":form-dialog-local-trabalho"
                                                 oncomplete="dialogLocalTrabalho.show(); aguarde.hide()"/>

                                <p:commandButton icon="ui-icon-lupa"
                                                 title="Clique para visualizar os locais de trabalho deste horário"
                                                 onstart="aguarde.show()"
                                                 rendered="#{provimentoReversaoControlador.selecionado.horarioContratoFP ne hora}"
                                                 actionListener="#{provimentoReversaoControlador.selecionarHorarioTrabalhoServidor(hora)}"
                                                 process="@this"
                                                 update=":form-dialog-local-trabalho"
                                                 oncomplete="dialogLocalTrabalho.show(); aguarde.hide()"/>
                            </p:column>
                            <p:column headerText="Início da Vigência"
                                      style="text-align: center; width: 50px;">
                                <h:outputText value="#{hora.inicioVigencia}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Final da Vigência"
                                      style="text-align: center; width: 50px;">
                                <h:outputText value="#{hora.finalVigencia}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText=" Horário de Trabalho"
                                      style="text-align: center; width: 250px;">
                                <h:outputText value="#{hora.horarioDeTrabalho}"/>
                            </p:column>
                            <p:column headerText="Local de Trabalho"
                                      style="text-align: left;">
                                <h:outputText value="#{hora.unidadeOrganizacionalDoHorarioContratoFP}"/>
                            </p:column>
                            <p:column headerText="Obs."
                                      styleClass="alinhamentoEsquerda">
                                <h:outputText
                                    value="#{provimentoReversaoControlador.getMensagemObservacaoDoRegistro(provimentoReversaoControlador.selecionado.horarioContratoFP, hora, provimentoReversaoControlador.horarios)}"/>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>

                <p:tab title="Sindicato">
                    <p:outputPanel id="panel-sindicato">
                        <p:commandButton value="Novo Sindicato"
                                         icon="ui-icon-circle-plus"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         rendered="#{!provimentoReversaoControlador.isVisualizar()}"
                                         actionListener="#{provimentoReversaoControlador.novoSindicato()}"
                                         process="@this"
                                         update=":Formulario:tab-view-geral:panel-sindicato"/>
                        <p:panel id="panel-novo-sindicato"
                                 header="Nova/Editar Horário de Trabalho do Servidor"
                                 rendered="#{provimentoReversaoControlador.sindicatoVinculoFP ne null}"
                                 styleClass="mtop05 mbot05">

                            <h:panelGrid columns="2">
                                <fc:outputLabelObrigatorio value="Início da Vigência: "/>
                                <p:calendar pattern="dd/MM/yyyy"
                                            navigator="true"
                                            locale="pt_BR"
                                            size="10"
                                            disabled="true"
                                            onkeypress="mascara(this, Data)"
                                            maxlength="10"
                                            id="dtInicioSind"
                                            value="#{provimentoReversaoControlador.sindicatoVinculoFP.inicioVigencia}"/>

                                <h:outputText value="Final da Vigência: "/>
                                <p:calendar pattern="dd/MM/yyyy"
                                            navigator="true"
                                            locale="pt_BR"
                                            size="10"
                                            onkeypress="mascara(this, Data)"
                                            maxlength="10"
                                            id="dtFinalSind"
                                            value="#{provimentoReversaoControlador.sindicatoVinculoFP.finalVigencia}"/>

                                <fc:outputLabelObrigatorio value="Sindicato: "/>
                                <h:selectOneMenu title="Selecione um sindicato"
                                                 value="#{provimentoReversaoControlador.sindicatoVinculoFP.sindicato}"
                                                 converter="#{sindicatoControlador.converterGenerico}">
                                    <f:selectItems value="#{contratoFPControlador.sindicato}"/>
                                </h:selectOneMenu>
                            </h:panelGrid>

                            <p:commandButton value="Confirmar"
                                             styleClass="mrig05 mtop05"
                                             onclick="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             title="Clique para confirmar este sindicato."
                                             update=":Formulario:tab-view-geral:panel-sindicato"
                                             process="panel-novo-sindicato"
                                             actionListener="#{provimentoReversaoControlador.confirmarSindicatoVinculoFP()}"
                                             icon="ui-icon-check"/>

                            <p:commandButton value="Cancelar"
                                             styleClass="mtop05"
                                             process="@this"
                                             onclick="aguarde.show();"
                                             oncomplete="aguarde.hide()"
                                             title="Clique para cancelar este sindicato."
                                             actionListener="#{provimentoReversaoControlador.cancelarSindicatoVinculoFP()}"
                                             update=":Formulario:tab-view-geral:panel-sindicato"
                                             icon="ui-icon-cancel"/>
                        </p:panel>
                        <p:dataTable paginator="true"
                                     id="tabela-sindicato"
                                     rowStyleClass="#{sindicato eq provimentoReversaoControlador.selecionado.sindicatoVinculoFP ? 'fundo-verde trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{provimentoReversaoControlador.sindicatos}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>Sindicatos&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="sindicato">
                            <p:column headerText="Ações"
                                      rendered="#{provimentoReversaoControlador.operacao ne 'VER'}"
                                      style="text-align: center; width: 90px;">
                                <p:commandButton icon="ui-icon-trash"
                                                 process="@this"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 oncomplete="aguarde.hide()"
                                                 disabled="#{sindicato ne provimentoReversaoControlador.selecionado.sindicatoVinculoFP}"
                                                 rendered="#{!provimentoReversaoControlador.isVisualizar()}"
                                                 actionListener="#{provimentoReversaoControlador.removerSindicatoVinculoFP(sindicato)}"
                                                 title="Clique para remover este registro."
                                                 update="tabela-sindicato"/>
                            </p:column>
                            <p:column headerText="Inicio da Vigência" >
                                <h:outputText value="#{sindicato.inicioVigencia}" title="cod. #{sindicato.id}">
                                    <f:convertDateTime pattern="dd/MM/yyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Final da Vigência">
                                <h:outputText value="#{sindicato.finalVigencia}">
                                    <f:convertDateTime pattern="dd/MM/yyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Sindicato">
                                <h:outputText value="#{sindicato.sindicato}"/>
                            </p:column>
                            <p:column headerText="Obs."
                                      styleClass="alinhamentoEsquerda">
                                <h:outputText
                                    value="#{provimentoReversaoControlador.getMensagemObservacaoDoRegistro(provimentoReversaoControlador.selecionado.sindicatoVinculoFP, sindicato, provimentoReversaoControlador.sindicatos)}"/>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>

                <p:tab title="Associação">
                    <p:outputPanel id="panel-associacao-vinculofp">
                        <p:commandButton value="Nova Associação"
                                         icon="ui-icon-circle-plus"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         rendered="#{!provimentoReversaoControlador.isVisualizar()}"
                                         actionListener="#{provimentoReversaoControlador.novaAssociacaoVinculoFP()}"
                                         process="@this"
                                         update=":Formulario:tab-view-geral:panel-associacao-vinculofp"/>

                        <p:panel id="panel-novo-associacao-vinculofp"
                                 header="Nova/Editar Associação VinculoFP"
                                 rendered="#{provimentoReversaoControlador.associacaoVinculoFP ne null}"
                                 styleClass="mtop05 mbot05">

                            <h:panelGrid columns="2">
                                <fc:outputLabelObrigatorio value="Início da Vigência: "/>
                                <p:calendar pattern="dd/MM/yyyy"
                                            navigator="true"
                                            locale="pt_BR"
                                            size="10"
                                            disabled="true"
                                            onkeypress="mascara(this, Data)"
                                            maxlength="10"
                                            id="dtInicioAssV"
                                            value="#{provimentoReversaoControlador.associacaoVinculoFP.inicioVigencia}"/>

                                <h:outputText value="Final da Vigência: "/>
                                <p:calendar pattern="dd/MM/yyyy"
                                            navigator="true"
                                            locale="pt_BR"
                                            size="10"
                                            onkeypress="mascara(this, Data)"
                                            maxlength="10"
                                            id="dtFinalAssV"
                                            value="#{provimentoReversaoControlador.associacaoVinculoFP.finalVigencia}"/>

                                <fc:outputLabelObrigatorio value="Associação: "/>
                                <h:selectOneMenu title="Selecione uma associação"
                                                 value="#{provimentoReversaoControlador.associacaoVinculoFP.associacao}"
                                                 id="associacao"
                                                 converter="#{associacaoControlador.converterGenerico}">
                                    <f:selectItems value="#{contratoFPControlador.associacao}"/>
                                </h:selectOneMenu>

                                <fc:outputLabelObrigatorio value="Evento FP:"/>
                                <h:selectOneMenu id="select-recurso-fp"
                                                 title="Informe o evento fp"
                                                 value="#{provimentoReversaoControlador.associacaoVinculoFP.eventoFP}"
                                                 converter="#{eventoFPControlador.converterGenerico}">
                                    <f:selectItems value="#{contratoFPControlador.eventosFP}"/>
                                </h:selectOneMenu>
                            </h:panelGrid>
                            <p:commandButton value="Confirmar"
                                             styleClass="mrig05 mtop05"
                                             onclick="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             title="Clique para confirmar esta associação."
                                             update=":Formulario:tab-view-geral:panel-associacao-vinculofp"
                                             process="panel-novo-associacao-vinculofp"
                                             actionListener="#{provimentoReversaoControlador.confirmarAssociacaoVinculoFP()}"
                                             icon="ui-icon-check"/>

                            <p:commandButton value="Cancelar"
                                             styleClass="mtop05"
                                             process="@this"
                                             onclick="aguarde.show();"
                                             oncomplete="aguarde.hide()"
                                             title="Clique para cancelar esta associacao."
                                             actionListener="#{provimentoReversaoControlador.cancelarAssociacaoVinculoFP()}"
                                             update=":Formulario:tab-view-geral:panel-associacao-vinculofp"
                                             icon="ui-icon-cancel"/>
                        </p:panel>
                        <p:dataTable paginator="true"
                                     id="tabela-associacao-vinculofp"
                                     rowStyleClass="#{associacao eq provimentoReversaoControlador.selecionado.associacaoVinculoFP ? 'fundo-verde trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{provimentoReversaoControlador.associacoes}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>Associações&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="associacao">
                            <p:column headerText="Ações"
                                      rendered="#{provimentoReversaoControlador.operacao ne 'VER'}"
                                      style="text-align: center; width: 90px;">
                                <p:commandButton icon="ui-icon-trash"
                                                 process="@this"
                                                 disabled="#{associacao ne provimentoReversaoControlador.selecionado.associacaoVinculoFP}"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 oncomplete="aguarde.hide()"
                                                 rendered="#{!provimentoReversaoControlador.isVisualizar()}"
                                                 actionListener="#{provimentoReversaoControlador.removerAssociacaoVinculoFP(associacao)}"
                                                 title="Clique para remover este registro."
                                                 update="tabela-associacao-vinculofp"/>
                            </p:column>
                            <p:column headerText="Início da Vigência" styleClass="alinhamentoCentralizado" >
                                <h:outputText value="#{associacao.inicioVigencia}" >
                                    <f:convertDateTime pattern="dd/MM/yyyy" />
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Final da Vigência" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{associacao.finalVigencia}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Associação" styleClass="alinhamentoCentralizado">
                                <h:outputText value="#{associacao.associacao}" />
                            </p:column>
                            <p:column headerText="Obs."
                                      styleClass="alinhamentoEsquerda">
                                <h:outputText
                                    value="#{provimentoReversaoControlador.getMensagemObservacaoDoRegistro(provimentoReversaoControlador.selecionado.associacaoVinculoFP, associacao, provimentoReversaoControlador.associacoes)}"/>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>

                <p:tab title="Vínculo (E-Consig)">
                    <p:outputPanel id="panel-vinculo-econsig">
                        <p:commandButton value="Novo Vínculo (E-Consig)"
                                     icon="ui-icon-circle-plus"
                                     onclick="aguarde.show()"
                                     oncomplete="aguarde.hide()"
                                     rendered="#{!provimentoReversaoControlador.isVisualizar()}"
                                     actionListener="#{provimentoReversaoControlador.novoVinculoEConsig()}"
                                     process="@this"
                                     update=":Formulario:tab-view-geral:panel-vinculo-econsig"/>
                        <p:panel id="panel-novo-VinculoDeContrato"
                                 header="Nova/Editar Horário de Trabalho do Servidor"
                                 rendered="#{provimentoReversaoControlador.contratoVinculoDeContrato ne null}"
                                 styleClass="mtop05 mbot05">
                        <h:panelGrid columns="2">
                            <fc:outputLabelObrigatorio value="Vinculo de Contrato:"/>
                            <h:selectOneMenu title="Selecione um Vínculo"
                                             value="#{provimentoReversaoControlador.contratoVinculoDeContrato.vinculoDeContratoFP}"
                                             id="ContratoVinculo"
                                             converter="#{contratoFPControlador.converterVinculoDeContratoFP}"
                                             style="width: 80%">
                                <f:selectItems value="#{contratoFPControlador.contratoVinculos}"/>
                            </h:selectOneMenu>
                            <fc:outputLabelObrigatorio value="Início da Vigência:"/>
                            <p:calendar onkeypress="mascara(this, Data)" maxlength="10"
                                        title="Digite o início da Vigência"
                                        disabled="true"
                                        value="#{provimentoReversaoControlador.contratoVinculoDeContrato.inicioVigencia}"
                                        id="inicioVigenciaContratoVinculo" pattern="dd/MM/yyyy" navigator="true"/>

                            <h:outputText value="Final da Vigência:"/>
                            <p:calendar onkeypress="mascara(this, Data)" maxlength="10"
                                        id="finalVigenciaContratoVinculo"
                                        title="Digite o final da Vigência"
                                        value="#{provimentoReversaoControlador.contratoVinculoDeContrato.finalVigencia}"
                                        pattern="dd/MM/yyyy" navigator="true"/>
                        </h:panelGrid>
                        <p:commandButton value="Confirmar"
                                         styleClass="mrig05 mtop05"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         title="Clique para confirmar este Vínculo (E-Consig)."
                                         update=":Formulario:tab-view-geral:panel-vinculo-econsig"
                                         process="panel-vinculo-econsig"
                                         actionListener="#{provimentoReversaoControlador.confirmarVinculoEConsig()}"
                                         icon="ui-icon-check"/>

                        <p:commandButton value="Cancelar"
                                         styleClass="mtop05"
                                         onclick="aguarde.show();"
                                         oncomplete="aguarde.hide()"
                                         title="Clique para cancelar este Vínculo (E-Consig)."
                                         actionListener="#{provimentoReversaoControlador.cancelarVinculoEConsig()}"
                                         process="@this"
                                         update=":Formulario:tab-view-geral:panel-vinculo-econsig"
                                         icon="ui-icon-cancel"/>
                        </p:panel>
                        <p:dataTable paginator="true"
                                     id="tabelaVinculoDeContrato"
                                     rowStyleClass="#{vinculoeconsig.id eq provimentoReversaoControlador.selecionado.contratoVinculoDeContrato.id ? 'fundo-verde trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{provimentoReversaoControlador.vinculoDeContratos}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>VÍNCULO (E-Consig)&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="vinculoeconsig">
                            <p:column headerText="Ações"
                                      rendered="#{provimentoReversaoControlador.operacao ne 'VER'}"
                                      style="text-align: center; width: 90px;">
                                <p:commandButton icon="ui-icon-trash"
                                                 process="@this"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 oncomplete="aguarde.hide()"
                                                 disabled="#{vinculoeconsig.id ne provimentoReversaoControlador.selecionado.contratoVinculoDeContrato.id}"
                                                 rendered="#{!provimentoReversaoControlador.isVisualizar()}"
                                                 actionListener="#{provimentoReversaoControlador.removerVinculoEConsig(vinculoeconsig)}"
                                                 title="Clique para remover este registro."
                                                 update="tabelaVinculoDeContrato"/>
                            </p:column>
                            <p:column headerText="Vínculo">
                                <h:outputText value="#{vinculoeconsig.vinculoDeContratoFP}"/>
                            </p:column>
                            <p:column headerText="Início da Vigência" style="text-align: center">
                                <h:outputText value="#{vinculoeconsig.inicioVigencia}">
                                    <f:convertDateTime pattern="dd/MM/yyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Final da Vigência" style="text-align: center">
                                <h:outputText value="#{vinculoeconsig.finalVigencia}">
                                    <f:convertDateTime pattern="dd/MM/yyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Obs."
                                      styleClass="alinhamentoEsquerda">
                                <h:outputText
                                    value="#{provimentoReversaoControlador.getMensagemObservacaoDoVinculoEConsig(provimentoReversaoControlador.selecionado.contratoVinculoDeContrato, vinculoeconsig, provimentoReversaoControlador.vinculoDeContratos)}"/>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>

                <p:tab title="Recursos de Folha de Pagamento">
                    <p:outputPanel id="panel-recursos">
                    <p:commandButton value="Novo Recurso"
                                     icon="ui-icon-circle-plus"
                                     onclick="aguarde.show()"
                                     oncomplete="aguarde.hide()"
                                     rendered="#{!provimentoReversaoControlador.isVisualizar()}"
                                     actionListener="#{provimentoReversaoControlador.novoRecurso()}"
                                     process="@this"
                                     update=":Formulario:tab-view-geral:panel-recursos"/>
                    <p:panel id="panel-novo-RecursoDoVinculoFP"
                             header="Nova/Editar Recurso do Vínculo Folha de Pagamento"
                             rendered="#{provimentoReversaoControlador.recursoDoVinculoFP ne null}"
                             styleClass="mtop05 mbot05">
                        <h:panelGrid columns="2">
                            <fc:outputLabelObrigatorio value="Início da Vigência:"/>
                            <p:calendar onkeypress="mascara(this, Data)" maxlength="10"
                                        title="Digite o início da Vigência"
                                        disabled="true"
                                        value="#{provimentoReversaoControlador.recursoDoVinculoFP.inicioVigencia}"
                                        id="inicioVigenciaRecursoDoVinculoFP" pattern="dd/MM/yyyy" navigator="true"/>

                            <h:outputText value="Final da Vigência:"/>
                            <p:calendar onkeypress="mascara(this, Data)" maxlength="10"
                                        id="finalVigenciaRecursoDoVinculoFP"
                                        title="Digite o final da Vigência"
                                        value="#{provimentoReversaoControlador.recursoDoVinculoFP.finalVigencia}"
                                        pattern="dd/MM/yyyy" navigator="true"/>

                            <fc:outputLabelObrigatorio value="Recurso FP:"/>
                            <p:autoComplete queryDelay="1000" id="recursoFP"
                                            title="Informe o recurso folha de pagamento"
                                            value="#{provimentoReversaoControlador.recursoDoVinculoFP.recursoFP}"
                                            completeMethod="#{alterarLocalTrabalhoControlador.completaRecursoFP}"
                                            converter="#{alterarLocalTrabalhoControlador.converterRecursoFP}"
                                            forceSelection="true"
                                            dropdown="true"
                                            var="recurso"
                                            itemLabel="#{recurso}"
                                            itemValue="#{recurso.id}"
                                            maxResults="10"
                                            size="70"/>
                        </h:panelGrid>
                        <p:commandButton value="Confirmar"
                                         styleClass="mrig05 mtop05"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         title="Clique para confirmar este Recurso."
                                         update=":Formulario:tab-view-geral:panel-recursos"
                                         process="panel-recursos"
                                         actionListener="#{provimentoReversaoControlador.confirmarRecurso()}"
                                         icon="ui-icon-check"/>

                        <p:commandButton value="Cancelar"
                                         styleClass="mtop05"
                                         onclick="aguarde.show();"
                                         oncomplete="aguarde.hide()"
                                         title="Clique para cancelar este Recurso."
                                         actionListener="#{provimentoReversaoControlador.cancelarRecurso()}"
                                         process="@this"
                                         update=":Formulario:tab-view-geral:panel-recursos"
                                         icon="ui-icon-cancel"/>
                    </p:panel>
                     <p:dataTable paginator="true"
                                 id="tabela-recursos"
                                 rowStyleClass="#{recursoVinculo eq provimentoReversaoControlador.selecionado.recursoDoVinculoFP ? 'fundo-verde trintaAltura' : 'trintaAltura'}"
                                 rowIndexVar="rowIx"
                                 styleClass="mtop05"
                                 emptyMessage="Não foram localizados registros para serem apresentados"
                                 value="#{provimentoReversaoControlador.recursoDoVinculoFPs}"
                                 rows="10"
                                 paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>RECURSOS DO VÍNCULO FP&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                 rowsPerPageTemplate="10,25,50,100"
                                 var="recursoVinculo">
                        <p:column headerText="Ações"
                                  rendered="#{provimentoReversaoControlador.operacao ne 'VER'}"
                                  style="text-align: center; width: 90px;">
                            <p:commandButton icon="ui-icon-trash"
                                             process="tabela-recursos"
                                             onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                             oncomplete="aguarde.hide()"
                                             disabled="#{recursoVinculo ne provimentoReversaoControlador.selecionado.recursoDoVinculoFP}"
                                             rendered="#{!provimentoReversaoControlador.isVisualizar()}"
                                             actionListener="#{provimentoReversaoControlador.removerRecurso(recursoVinculo)}"
                                             title="Clique para remover este registro."
                                             update="tabela-recursos"/>
                        </p:column>
                        <p:column headerText="Início da Vigência">
                            <h:outputText value="#{recursoVinculo.inicioVigencia}">
                                <f:convertDateTime pattern="dd/MM/yyy"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Final da Vigência">
                            <h:outputText value="#{recursoVinculo.finalVigencia}">
                                <f:convertDateTime pattern="dd/MM/yyy"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Lotação Folha(Recurso de Folha de Pagamento)">
                            <h:outputText value="#{recursoVinculo.recursoFP}"/>
                        </p:column>
                        <p:column headerText="Obs."
                                  styleClass="alinhamentoEsquerda">
                            <h:outputText
                                value="#{provimentoReversaoControlador.getMensagemObservacaoDoRegistro(provimentoReversaoControlador.selecionado.recursoDoVinculoFP, recursoVinculo, provimentoReversaoControlador.recursoDoVinculoFPs)}"/>
                        </p:column>

                     </p:dataTable>
                    </p:outputPanel>
                </p:tab>

                <p:tab title="Cargos" id="tab-cargos">
                    <p:outputPanel id="panel-cargos">
                        <p:commandButton value="Novo Cargo"
                                         icon="ui-icon-circle-plus"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         rendered="#{!provimentoReversaoControlador.isVisualizar()}"
                                         actionListener="#{provimentoReversaoControlador.novoContratoFPCargo()}"
                                         process="@this"
                                         update=":Formulario:tab-view-geral:panel-cargos"/>

                        <p:panel header="Novo/Editar Cargos do Contrato"
                                 id="panel-novo-cargo"
                                 rendered="#{provimentoReversaoControlador.contratoFPCargo ne null}"
                                 styleClass="mtop05 mbot05">
                            <h:panelGrid columns="2"
                                         styleClass="mbot05">

                                <fc:outputLabelObrigatorio value="Cargo:"/>
                                <p:autoComplete queryDelay="1000" title="Digite o cargo que deseja pesquisar."
                                                value="#{provimentoReversaoControlador.contratoFPCargo.cargo}"
                                                completeMethod="#{provimentoReversaoControlador.completaCargosContrato}"
                                                converter="#{contratoFPControlador.converterCargo}"
                                                var="cargo"
                                                forceSelection="true"
                                                dropdown="true"
                                                itemValue="#{cargo.id}"
                                                itemLabel="#{cargo}"
                                                maxResults="10"
                                                size="70"
                                                disabled="#{provimentoReversaoControlador.existeFolhadePagamentoParaOCargo()}">
                                    <p:ajax event="itemSelect"
                                            process="@this"
                                            update=":Formulario:tab-view-geral:cbo"
                                            listener="#{provimentoReversaoControlador.limparCbo()}"/>
                                </p:autoComplete>

                                <h:outputText value="Base Período Aquisitivo:"/>
                                <h:selectOneMenu
                                    value="#{provimentoReversaoControlador.contratoFPCargo.basePeriodoAquisitivo}"
                                    converter="#{basePeriodoAquisitivoControlador.converterGenerico}">
                                    <f:selectItems
                                        value="#{contratoFPControlador.listarTodasBasesPeriodoAquisitivo}"/>
                                </h:selectOneMenu>

                                <fc:outputLabelObrigatorio value="CBO:"/>
                                <h:panelGroup>
                                    <p:autoComplete queryDelay="1000" size="70"
                                                    id="cbo" title="Digite um CBO"
                                                    value="#{provimentoReversaoControlador.contratoFPCargo.cbo}"
                                                    completeMethod="#{provimentoReversaoControlador.completaCbo}"
                                                    var="cbo"
                                                    maxResults="10"
                                                    itemLabel="#{cbo.descricao} #{cbo.codigo}"
                                                    itemValue="#{cbo.id}"
                                                    forceSelection="true"
                                                    dropdown="true"
                                                    styleClass="mrig05"
                                                    converter="#{contratoFPControlador.converterCbo}"
                                                    disabled="#{provimentoReversaoControlador.existeFolhadePagamentoParaOCargo()}"/>

                                    <p:commandButton icon="ui-icon-info"
                                                     id="info-cbo"
                                                     styleClass="mrig05"
                                                     process="@none"
                                                     update="@none"
                                                     style="width: 20px; height: 20px; "/>

                                    <p:overlayPanel at="right"
                                                    for="info-cbo"
                                                    showEvent="mouseover"
                                                    dynamic="false"
                                                    style="width: 250px;">
                                        <h:outputText
                                            value="Apresentando somente os CBO's vinculados ao cargo informado."
                                            escape="false"/>
                                    </p:overlayPanel>
                                </h:panelGroup>

                                <fc:outputLabelObrigatorio value="Inicio de Vigência:"/>
                                <h:panelGroup>
                                    <p:calendar title="Data de Início"
                                                value="#{provimentoReversaoControlador.contratoFPCargo.inicioVigencia}"
                                                id="inicioVigenciaCargo"
                                                locale="pt_BR" pattern="dd/MM/yyyy"
                                                navigator="true" immediate="true"
                                                onkeyup="mascara(this, mdata)"
                                                styleClass="mrig05"
                                                size="10"
                                                disabled="true"/>
                                </h:panelGroup>
                            </h:panelGrid>

                            <p:commandButton value="Confirmar"
                                             styleClass="mrig05 mtop05"
                                             onclick="aguarde.show()"
                                             oncomplete="aguarde.hide()"
                                             title="Clique para confirmar este cargo."
                                             update=":Formulario:tab-view-geral:panel-cargos"
                                             process="panel-cargos"
                                             actionListener="#{provimentoReversaoControlador.confirmarContratoFPCargo()}"
                                             icon="ui-icon-check"/>

                            <p:commandButton value="Cancelar"
                                             styleClass="mtop05"
                                             process="@this"
                                             onclick="aguarde.show();"
                                             oncomplete="aguarde.hide()"
                                             title="Clique para cancelar este cargo."
                                             actionListener="#{provimentoReversaoControlador.cancelarContratoFPCargo()}"
                                             update=":Formulario:tab-view-geral:panel-cargos"
                                             icon="ui-icon-cancel"/>
                        </p:panel>

                        <p:dataTable paginator="true"
                                     id="tabela-cargos"
                                     rowStyleClass="#{cargo.id eq provimentoReversaoControlador.selecionado.contratoFPCargo.id ? 'fundo-verde trintaAltura' : 'trintaAltura'}"
                                     rowIndexVar="rowIx"
                                     styleClass="mtop05"
                                     emptyMessage="Não foram localizados registros para serem apresentados"
                                     value="#{provimentoReversaoControlador.contratoFPCargos}"
                                     rows="10"
                                     paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>CARGOS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                     rowsPerPageTemplate="10,25,50,100"
                                     var="cargo">
                            <p:column headerText="Ações"
                                      rendered="#{provimentoReversaoControlador.operacao ne 'VER'}"
                                      style="text-align: center; width: 90px;">
                                <p:commandButton icon="ui-icon-trash"
                                                 process="@this"
                                                 onclick="if (!confirm('Tem certeza que deseja remover este registro?')) {return false; } else {aguarde.show();}"
                                                 oncomplete="aguarde.hide()"
                                                 disabled="#{cargo.id ne provimentoReversaoControlador.selecionado.contratoFPCargo.id}"
                                                 rendered="#{!provimentoReversaoControlador.isVisualizar()}"
                                                 actionListener="#{provimentoReversaoControlador.removerContratoFPCargo(cargo)}"
                                                 title="Clique para remover este registro."
                                                 update="tabela-cargos"/>
                            </p:column>

                            <p:column headerText="Cargo" style="text-align: left;" >
                                <h:outputText value="#{cargo.cargo}" title="cod. #{cargo.id}" />
                            </p:column>
                            <p:column headerText="Base Período Aquisitivo" style="text-align: left;">
                                <h:outputText value="#{cargo.basePeriodoAquisitivo}"/>
                            </p:column>
                            <p:column headerText="CBO" style="text-align: left;">
                                <h:outputText value="#{cargo.cbo}"/>
                            </p:column>
                            <p:column headerText="Início Vigência" style="text-align: center;">
                                <h:outputText value="#{cargo.inicioVigencia}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Fim Vigência" style="text-align: center;">
                                <h:outputText value="#{cargo.fimVigencia}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </h:outputText>
                                <h:outputText value="(Vigente Atualmente)" styleClass="negrito"
                                              style="font-size: 12px;"
                                              rendered="#{cargo.fimVigencia eq null}"/>
                            </p:column>
                            <p:column headerText="Obs."
                                      styleClass="alinhamentoEsquerda">
                                <h:outputText
                                    value="#{provimentoReversaoControlador.getMensagemObservacaoDoRegistro(provimentoReversaoControlador.selecionado.contratoFPCargo, cargo, provimentoReversaoControlador.contratoFPCargos)}"/>
                            </p:column>
                        </p:dataTable>
                    </p:outputPanel>
                </p:tab>

            </p:tabView>
            <fc:rodapePretty
                rendered="#{provimentoReversaoControlador.operacao eq 'NOVO' or provimentoReversaoControlador.operacao eq 'EDITAR'}"
                controlador="#{provimentoReversaoControlador}"/>
            <fc:rodapeVisualizarPretty controlador="#{provimentoReversaoControlador}"
                                       rendered="#{provimentoReversaoControlador.operacao eq 'VER'}"/>
        </h:form>

        <p:dialog header="Novo Local de Trabalho do Servidor"
                  widgetVar="dialogLocalTrabalho"
                  modal="true"
                  dynamic="true"
                  position="center"
                  style="position: fixed !important;"
                  draggable="false"
                  resizable="false"
                  closable="false">

            <h:form id="form-dialog-local-trabalho">
                <p:outputPanel id="panel-dialog-local-trabalho">
                    <h:outputText value=" Horário de trablaho selecionado.: "
                                  styleClass="negrito"/>
                    <h:outputText value="#{provimentoReversaoControlador.horarioContratoFP}"
                                  styleClass="negrito"
                                  style="font-size: 15px; color: #497692"/>

                    <p:separator styleClass="mtop05 mbot05"/>

                    <div class="mtop10" style="text-align: left">
                        <p:commandButton value="Novo Local de Trabalho"
                                         icon="ui-icon-circle-plus"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         rendered="#{!provimentoReversaoControlador.isVisualizar() and provimentoReversaoControlador.horarioContratoFP eq provimentoReversaoControlador.selecionado.horarioContratoFP}"
                                         actionListener="#{provimentoReversaoControlador.novoLotacaoFuncional()}"
                                         process="@this"
                                         update=":form-dialog-local-trabalho"/>
                    </div>
                    <p:panel id="panel-novo-local-trabalho-servidor"
                             header="Nova/Editar Local de Trabalho do Servidor"
                             rendered="#{provimentoReversaoControlador.lotacaoFuncional ne null}"
                             styleClass="mtop05 mbot05">
                        <h:panelGrid columns="2">
                            <fc:outputLabelObrigatorio value="Unidade Organizacional (Administrativa): "/>
                            <p:autoComplete queryDelay="1000" id="lotacaoExercicio"
                                            value="#{provimentoReversaoControlador.hierarquiaOrganizacionalLotacaoFuncional}"
                                            completeMethod="#{provimentoReversaoControlador.completaHierarquiaOrganizacional}"
                                            converter="#{hierarquiaOrganizacionalControlador.converterHierarquiaOrganizacional}"
                                            var="ho"
                                            forceSelection="true"
                                            dropdown="true"
                                            itemValue="#{ho.id}"
                                            itemLabel="#{ho}"
                                            maxResults="10"
                                            size="70">
                            </p:autoComplete>

                            <fc:outputLabelObrigatorio value="Início de Vigência:"/>
                            <p:calendar pattern="dd/MM/yyyy"
                                        navigator="true"
                                        locale="pt_BR"
                                        size="10"
                                        disabled="true"
                                        onkeypress="mascara(this, Data)"
                                        maxlength="10"
                                        id="vInicialSituacao"
                                        value="#{provimentoReversaoControlador.lotacaoFuncional.inicioVigencia}"/>

                            <h:outputText value="Final de Vigência: "/>
                            <p:calendar pattern="dd/MM/yyyy"
                                        navigator="true"
                                        locale="pt_BR"
                                        size="10"
                                        onkeypress="mascara(this, Data)"
                                        maxlength="10"
                                        id="vFinalSituacao"
                                        value="#{provimentoReversaoControlador.lotacaoFuncional.finalVigencia}"/>
                        </h:panelGrid>
                        <p:commandButton value="Confirmar"
                                         id="cbAdd"
                                         styleClass="mtop10 mrig05 prioritario"
                                         style="height: 30px;"
                                         icon="ui-icon-plus"
                                         title="Clique para salvar o registro"
                                         actionListener="#{provimentoReversaoControlador.confirmarLotacaoFuncional()}"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         process="panel-dialog-local-trabalho"
                                         update="form-dialog-local-trabalho :Formulario:tab-view-geral:tabela-horario-trabalho"/>

                        <p:commandButton value="Cancelar"
                                         id="cbCancelar"
                                         style="height: 30px;"
                                         styleClass="mtop10"
                                         icon="ui-icon-cancel"
                                         onclick="aguarde.show()"
                                         oncomplete="aguarde.hide()"
                                         title="Clique para cancelar e retornar a página anterior"
                                         actionListener="#{provimentoReversaoControlador.cancelarLotacaoFuncional}"
                                         immediate="true"
                                         update="panel-dialog-local-trabalho"/>
                    </p:panel>
                    <p:dataTable paginator="true"
                                 id="tabela-local-trabalho"
                                 rowStyleClass="#{local eq provimentoReversaoControlador.selecionado.lotacaoFuncional ? 'fundo-verde trintaAltura' : 'trintaAltura'}"
                                 rowIndexVar="rowIx"
                                 styleClass="mtop05"
                                 emptyMessage="Não foram localizados registros para serem apresentados"
                                 value="#{provimentoReversaoControlador.horarioContratoFP.localTrabalho}"
                                 rows="10"
                                 paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>LOTAÇÃO FUNCIONAL&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                 rowsPerPageTemplate="10,25,50,100"
                                 var="local">
                        <p:column headerText="Unidade Organizacional">
                            <h:outputText value="#{local.unidadeOrganizacional}"/>
                        </p:column>
                        <p:column headerText="Início de Vigência">
                            <h:outputText value="#{local.inicioVigencia}">
                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Final de Vigência">
                            <h:outputText value="#{local.finalVigencia}">
                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                            </h:outputText>
                        </p:column>
                    </p:dataTable>

                    <div class="mtop05 mbot05" style="text-align: center">
                        <p:commandButton value="Ok"
                                         id="cbVoltar"
                                         styleClass="prioritario"
                                         style="height: 30px;"
                                         icon="ui-icon-check"
                                         onclick="dialogLocalTrabalho.hide();"
                                         actionListener="#{provimentoReversaoControlador.cancelarHorarioContratoFP()}"
                                         update="@this"
                                         process="@this"
                                         title="Clique para voltar"/>
                    </div>
                </p:outputPanel>
            </h:form>
        </p:dialog>

        <p:dialog widgetVar="dialogo" modal="true" header="Atualizar Contrato FP"
                  closable="false" resizable="false" draggable="false">
            <h:form id="FormularioDialog" style="text-align: center">
                <h:outputText value="Cadastro de origem da aposentadoria reativado Contrato (Nomeação)."/>
                <br/><br/>

                <p:commandButton style="margin-left: 2px" value="Atualizar Contrato FP"
                                 update="@this"
                                 process="@this"
                                 actionListener="#{provimentoReversaoControlador.redireciona()}"
                                 onclick="window.open('#{request.contextPath}/contratofp/editar/#{provimentoReversaoControlador.selecionado.contratoFP.id}/?sessao=true', '_blank');
                                                 ativarOuvidor(ativouAba)"
                                 icon="ui-icon-pencil"/>
            </h:form>
        </p:dialog>

    </ui:define>
</ui:composition>
</html>
