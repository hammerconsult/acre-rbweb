<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PT"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
        >
<ui:composition template="/corpo.xhtml">
    <ui:define name="body">

        <h:form id="formDialog">
            <p:panel header="Detalhes do Calculo">
                <h:panelGrid columns="2" >
                    Mes: <h:outputText style="font-weight: bold"
                                       value="#{calculoFolhaDePagamentoSimulacaoControlador.selecionado.mes.descricao}"/>
                    Ano: <h:outputText style="font-weight: bold"
                                       value="#{calculoFolhaDePagamentoSimulacaoControlador.selecionado.ano}"/>
                    Versão: <h:outputText style="font-weight: bold"
                                          value="#{calculoFolhaDePagamentoSimulacaoControlador.selecionado.versao}"/>
                    Tipo de Folha: <h:outputText style="font-weight: bold"
                                                 value="#{calculoFolhaDePagamentoSimulacaoControlador.selecionado.tipoFolhaDePagamento.descricao}"/>
                    Calculado Em: <h:outputText style="font-weight: bold"
                                                value="#{calculoFolhaDePagamentoSimulacaoControlador.selecionado.calculadaEm}"><f:convertDateTime
                        pattern="dd/MM/yyyy"/> </h:outputText>
                </h:panelGrid>
                <hr size="10"/>
                <!--<div id="tabelaDetalhesFolhaPagamento" >-->
                <ui:repeat value="#{calculoFolhaDePagamentoSimulacaoControlador.selecionado.detalhesCalculoRHList}"
                           var="detalhe"
                           varStatus="status">
                    <h:panelGrid columns="2">
                        Data de Calculo: <h:outputText
                            value="#{detalhe.dataCalculo}"><f:convertDateTime
                            pattern="dd/MM/yyyy HH:mm:ss"/> </h:outputText>
                        Efetivada Em: <h:outputText
                        value="#{calculoFolhaDePagamentoSimulacaoControlador.selecionado.efetivadaEm}"><f:convertDateTime
                            pattern="dd/MM/yyyy"/> </h:outputText>
                        Total de Registros: <h:outputText
                            value="#{detalhe.totalServidores}"/>
                        Total não Calculados: <h:outputText
                            value="#{detalhe.totalNaoCalculados}"/>
                        Total com problemas em algum evento: <h:outputText
                            value="#{detalhe.totalComProblemasNoCalculo}"/>
                        Usuário que iniciou o calculo: <h:outputText style="color: firebrick"
                                                                     value="#{detalhe.usuarioSistema.nome}"/>
                    </h:panelGrid>
                    <center><h:outputText value="Erros coletados durante o calculo"
                                          style="color: #283744; font-weight: bolder"/></center>
                    <p:dataList var="itens"
                                value="#{detalhe.itensDetalhesErrosCalculos}">
                        <h:outputText style="font-weight: bold" value="#{itens.vinculoFP}"/> <p:spacer height="2"/>
                        <h:outputText value="#{itens.erros}"/> <br/>
                    </p:dataList>
                    <hr/>
                </ui:repeat>
                <!--</div>-->
            </p:panel>
        </h:form>

    </ui:define>
</ui:composition>
</html>
