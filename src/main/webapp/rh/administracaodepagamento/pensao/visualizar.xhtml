<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PT"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:fc="http://java.sun.com/jsf/composite/components"
      xmlns:rh="http://java.sun.com/jsf/composite/components/rh"
      xmlns:p="http://primefaces.org/ui"
>
<ui:composition template="/corpo.xhtml">
    <ui:define name="body">
        <h:form id="Formulario">
            <fc:cabecalhoPretty auditavel="#{true}" origem="#{pensaoControlador.caminhoPadrao}listar/"
                                controlador="#{pensaoControlador}"/>
            <p:tabView id="tab-view-geral">
                <p:tab id="tab-instituidor" title="Instituidor">
                    <p:panel id="painelDadosServidor"
                             style="float : right; width: 500px;"
                             header="Dados do Instituidor">

                        <h:panelGroup rendered="#{pensaoControlador.selecionado.contratoFP ne null}">
                            <h:panelGroup columns="2" columnClasses="width200, none"
                                          rendered="#{pensaoControlador.aposentadoria ne null}">
                                <h:outputText value="Tipo Aposentadoria:"/>
                                <h:outputText
                                    value="#{pensaoControlador.aposentadoria.tipoAposentadoria}"/>
                            </h:panelGroup>
                            <h:panelGroup columns="2" columnClasses="width200, none"
                                          rendered="#{pensaoControlador.selecionado.contratoFP ne null}">
                                <h:panelGrid columns="2">
                                    <h:outputText value="Matricula/Contrato:"/>
                                    <h:outputText
                                        value="#{pensaoControlador.selecionado.contratoFP.matriculaFP.matricula}/#{pensaoControlador.selecionado.contratoFP.numero}"/>
                                    <h:outputText value="Admissão:"/>
                                    <h:outputText
                                        value="#{pensaoControlador.selecionado.contratoFP.dataAdmissao}"><f:convertDateTime
                                        pattern="dd/MM/yyyy"/> </h:outputText>
                                    <h:outputText value="Cargo:"/>
                                    <h:outputText value="#{pensaoControlador.selecionado.contratoFP.cargo}"/>
                                    <h:outputText value="Modalidade:"/>
                                    <h:outputText
                                        value="#{pensaoControlador.selecionado.contratoFP.modalidadeContratoFP}"/>
                                    <h:outputText value="Regime:"/>
                                    <h:outputText value="#{pensaoControlador.selecionado.contratoFP.tipoRegime}"/>
                                    <h:outputText rendered="#{pensaoControlador.situacaoFuncional ne null}"
                                                  value="Situacao Funcional:"/>
                                    <h:outputText rendered="#{pensaoControlador.situacaoFuncional ne null}"
                                                  value="#{pensaoControlador.situacaoFuncional}"/>
                                    <h:outputText rendered="#{pensaoControlador.enquadramentoFuncional ne null}"
                                                  value="Enquadramento Funcional:"/>
                                    <h:outputText rendered="#{pensaoControlador.enquadramentoFuncional ne null}"
                                                  value="#{pensaoControlador.enquadramentoFuncional.descricaoCompletaValor}"/>

                                    <h:outputText value="Local de Trabalho:"/>
                                    <h:outputText value="#{pensaoControlador.lotacaoFuncional()}"/>
                                </h:panelGrid>
                            </h:panelGroup>
                        </h:panelGroup>
                    </p:panel>

                    <h:panelGrid columns="4">
                        <h:outputText value="Instituidor: " for="auto-complete-instituidor"/>

                        <rh:auto-complete-vinculofp id="auto-complete-instituidor"
                                                    validarPermissaoDeAcessoAoVinculo="false"
                                                    process=":Formulario:tab-view-geral:auto-complete-instituidor"
                                                    converter="#{pensaoControlador.converterContratoFP}"
                                                    completeMethod="#{pensaoControlador.completarContratoFP}"
                                                    onstart="aguarde.show()"
                                                    oncomplete="aguarde.hide()"
                                                    disabled="true"
                                                    classe="ContratoFP"
                                                    actionListener="#{pensaoControlador.carregarInstituidor}"
                                                    value="#{pensaoControlador.selecionado.contratoFP}"
                                                    size="60"/>

                        <p:spacer rendered="#{pensaoControlador.arquivoNull}"/>
                        <p:panel rendered="#{pensaoControlador.arquivoNull eq true}" id="panelDownloadCedido">
                            <a title="#{pensaoControlador.arquivoRegistroDeObito.descricao}"
                               href="${facesContext.externalContext.requestContextPath}/arquivos/#{pensaoControlador.arquivoRegistroDeObito.arquivo.nome}?id=#{pensaoControlador.arquivoRegistroDeObito.arquivo.id}">#{pensaoControlador.arquivoRegistroDeObito.arquivo.nome}</a>
                        </p:panel>
                    </h:panelGrid>

                    <h:panelGrid id="painel-grid-info-basico" columns="2">
                        <h:panelGroup>
                            <h:panelGrid columns="2" columnClasses="none, verticalAlignTop, verticalAlignTop">

                                <p:fieldset legend="Informações Básicas">
                                    <fc:botaoInformacao id="btInfo" resumo="Observações:"
                                                        detalhes="O cadastro de Pensão, recupera vários valores das tabelas de referênciaFP. Sem esses valores não é possivel realizar os calculos, por favor verifique se esse valores estão lançados corretamente."/>
                                    <table>
                                        <tr>
                                            <td><h:outputText value="Remuneração:"/></td>
                                            <td><h:outputText id="remuneracaoInstituicao"
                                                              value="#{pensaoControlador.selecionado.remuneracaoInstituidor}"
                                                              styleClass="negrito"
                                                              onkeypress="mascaraMonetaria(this)"
                                                              converter="moneyConverter"
                                                              size="15">
                                                <f:convertNumber type="currency"/>
                                            </h:outputText></td>
                                        </tr>
                                        <tr>
                                            <td><h:outputText value="Modo de Rateio:"/></td>
                                            <td><h:selectOneMenu value="#{pensaoControlador.selecionado.modoRateio}"
                                                                 readonly="#{pensaoControlador.bloqueiaCampos}"
                                                                 disabled="true"
                                                                 styleClass="negrito"
                                                                 style="width: 100px">
                                                <f:selectItems value="#{pensaoControlador.modoRateio()}" var="mr"
                                                               itemLabel="#{mr.descricao}"
                                                               itemValue="#{mr}"/>
                                            </h:selectOneMenu></td>
                                        </tr>
                                        <tr>
                                            <td><h:outputText value="Valor do Teto do RGPS:"/></td>
                                            <td><h:outputText id="tetoDataObito" size="15"
                                                              value="#{pensaoControlador.tetoRPPS().valor}"
                                                              styleClass="negrito">
                                                <f:convertNumber type="currency"/>
                                            </h:outputText>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><h:outputText value="Valor do Teto do RGPS na Data do Óbito:"/></td>
                                            <td><h:outputText size="15"
                                                              value="#{pensaoControlador.tetoRPPSHistorico().valor}"
                                                              styleClass="negrito">
                                                <f:convertNumber type="currency"/>
                                            </h:outputText>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><h:outputText value="Percentual Excedente:"/></td>
                                            <td><h:outputText size="15" value="#{pensaoControlador.percentualExcedente}"
                                                              styleClass="negrito">
                                                <f:convertNumber type="currency"/>
                                            </h:outputText>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><h:outputText value="Parcela Excedente ao Teto:"/></td>
                                            <td><h:outputText size="15" id="parcelaExcedenteTeto"
                                                              styleClass="negrito"
                                                              value="#{pensaoControlador.parcelaExcedenteTeto}">
                                                <f:convertNumber type="currency"/>
                                            </h:outputText>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><h:outputText value="RPPS Parcela Excedente ao Teto:"/></td>
                                            <td><h:outputText value="#{pensaoControlador.rppsParcelaExcedenteTeto}"
                                                              styleClass="negrito">
                                                <f:convertNumber type="currency"/>
                                            </h:outputText>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><h:outputText value="Valor Bruto da Pensão:"/></td>
                                            <td><h:outputText value="#{pensaoControlador.valorBrutoPensao}"
                                                              styleClass="negrito">
                                                <f:convertNumber type="currency"/>
                                            </h:outputText>
                                            </td>
                                        </tr>
                                    </table>
                                </p:fieldset>
                                <p:fieldset rendered="false" legend="Valores Calculados">
                                    <table>
                                        <tr>
                                            <td>
                                                <h:outputText value="Valor Bruto RPPS Normal:"/>
                                                <h:outputText id="valorRPPS" style="color: red"
                                                              styleClass="negrito"
                                                              value="#{pensaoControlador.valorRPPS}"
                                                              converter="moneyConverter"/>
                                                <br/>
                                                <h:outputText value="Valor Bruto RPPS Deficiente:"/>
                                                <h:outputText id="valorRPPSDeficiente" style="color: purple"
                                                              styleClass="negrito"
                                                              value="#{pensaoControlador.valorRPPSDeficiente}"
                                                              converter="moneyConverter"/>
                                            </td>
                                        </tr>
                                    </table>
                                </p:fieldset>

                            </h:panelGrid>
                        </h:panelGroup>

                    </h:panelGrid>

                    <h:panelGrid id="panelGridAtoLegal" columns="2">
                        <h:outputText value="Ato Legal "/>
                        <table class="table" style="width: 500px">
                            <ui:repeat
                                value="#{pensaoControlador.selecionado.pensaoAtoLegal}"
                                var="pensao">
                                <tr>
                                    <td><h:outputText value="#{pensao.atoLegal}"
                                                      styleClass="negrito"/></td>
                                </tr>
                            </ui:repeat>
                        </table>

                        <h:outputText value="Número de cota inicial:" for="numeroCotas"/>
                        <h:outputText value="#{pensaoControlador.selecionado.numeroCotas}" id="numeroCotas"
                                      styleClass="negrito"/>

                        <h:outputText value="Número de cotas vigêntes:"/>
                        <h:outputText value="#{pensaoControlador.numeroCotasVigentes}" id="idCotasVigentes"
                                      styleClass="negrito"/>

                        <h:outputText value="Valor por Pensão:"
                                      rendered="#{pensaoControlador.selecionado.modoRateio eq 'AUTOMATICO'}"/>
                        <h:outputText value="#{pensaoControlador.valorPorPensionista()}" styleClass="negrito">
                            <f:convertNumber type="currency"/>
                        </h:outputText>
                    </h:panelGrid>


                    <p:panel header="Dados do Instituidor" id="panelPrevidenciaRPPS"
                             rendered="#{pensaoControlador.mostraPainelDados}">
                        <h:panelGrid columns="2">
                            <h:outputText value="Regra de Aposentadoria:"/>
                            <h:outputText value="#{pensaoControlador.regraAposentadoria.descricao}"/>

                            <h:outputText value="Cargo:"/>
                            <h:outputText value="#{pensaoControlador.selecionado.contratoFP.cargo}"/>

                            <h:outputText value="Data do Óbito:"/>
                            <h:outputText value="#{pensaoControlador.dataDeObito}">
                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                            </h:outputText>

                        </h:panelGrid>
                        <br/>
                        <p:panel header="Itens da Ficha Financeira">
                            <p:dataTable id="itensFichaFinanceira"
                                         emptyMessage="Este instituidor não possui Fichas Financeiras"
                                         value="#{pensaoControlador.listaItemFichaFinanceiraFP}" var="item">
                                <p:column headerText="Verba">
                                    <h:outputText value="#{item.eventoFP.codigo} - #{item.eventoFP.descricao}"/>
                                </p:column>
                                <p:column headerText="Tipo Vant">
                                    <h:outputText value="#{item.eventoFP.tipoEventoFP}"/>
                                </p:column>
                                <p:column headerText="Ref." style="text-align: right!important;">
                                    <h:outputText value="#{item.valorReferencia}"/>
                                </p:column>
                                <p:column headerText="Valor Base" style="text-align: right!important;">
                                    <h:outputText value="#{item.valorBaseDeCalculo}" converter="moneyConverter"/>
                                </p:column>
                                <p:column headerText="Valor Verba" style="text-align: right!important;">
                                    <h:outputText value="#{item.valor}" converter="moneyConverter"/>
                                </p:column>
                            </p:dataTable>

                            <div align="right">
                                <h:panelGrid columns="2">
                                    <h:outputText value="Total Rendimentos:"/>
                                    <h:outputText style="font-weight: bold; color: #090"
                                                  value="#{pensaoControlador.totalVantagens}">
                                        <f:convertNumber pattern="#,##0.00"/>
                                    </h:outputText>
                                    <h:outputText value="Total Descontos:"/>
                                    <h:outputText style="font-weight: bold; color: #FF0000"
                                                  value="#{pensaoControlador.totalDescontos}"
                                                  converter="moneyConverter"/>
                                    <h:outputText value="Total Líquido:"/>
                                    <h:outputText style="font-weight: bold"
                                                  value="#{pensaoControlador.total}"
                                                  converter="moneyConverter"/>
                                </h:panelGrid>
                            </div>
                        </p:panel>

                    </p:panel>

                </p:tab>
                <p:tab id="tab-view-pensionista" title="Pensionista(s)">
                    <ui:repeat value="#{pensaoControlador.selecionado.listaDePensionistas}" var="pensionista"
                               varStatus="statusPensionista">
                        <h:panelGroup id="painel-grupo-pensionista">
                            <p:panel id="painel-pensionista" header="#{pensionista.matriculaFP}">
                                <h:panelGrid id="painel-grid-pensionista" columns="2">

                                    <h:outputText for="tipopensao" value="Tipo da Pensão:"/>
                                    <h:outputText id="tipopensao" value="#{pensionista.tipoPensao.descricao}"
                                                  styleClass="negrito"/>
                                    <h:outputText value="Tipo de Fundamentação:"/>
                                    <h:outputText value="#{pensionista.tipoFundamentacao.descricao}"
                                                  styleClass="negrito"/>
                                    <h:outputText value="Tipo de Reajuste:"/>
                                    <h:outputText id="tipoReajuste" styleClass="negrito"
                                                  value="#{pensionista.tipoReajusteAposentadoria.descricao}"/>

                                    <h:outputText value="Matrícula do Pensionista:"/>
                                    <h:outputText
                                        value="#{pensionista.matriculaFP} - #{pensionista.matriculaFP.unidadeMatriculado.descricao}"
                                        styleClass="negrito"/>
                                    <h:outputText value="Data de Nasc.:"/>
                                    <h:outputText id="dataNascimentoPensionista" styleClass="negrito"
                                                  value="#{pensionista.matriculaFP.pessoa.dataNascimento}">
                                        <f:convertDateTime pattern="dd/MM/yyyy"/>
                                    </h:outputText>

                                    <h:outputText value="Tipo:"/>
                                    <h:outputText value="#{pensaoControlador.selecionado.tipoPensionista}"
                                                  id="tipoPensionista"/>

                                    <h:outputText value="Número Cont.:"/>
                                    <h:outputText id="contrato" styleClass="negrito"
                                                  value="#{pensionista.numero}"/>

                                    <h:outputText value="Grau de Parentesco:"/>
                                    <h:outputText value="#{pensionista.grauParentescoPensionista}"
                                                  styleClass="negrito"/>

                                    <h:outputText value="Data de Óbito do Instituidor:"/>
                                    <h:outputText value="#{pensaoControlador.dataDeObito}" styleClass="negrito">
                                        <f:convertDateTime pattern="dd/MM/yyyy"/>
                                    </h:outputText>

                                    <h:outputText value="Início de Vigência:"/>
                                    <h:outputText value="#{pensionista.inicioVigencia}" styleClass="negrito">
                                        <f:convertDateTime pattern="dd/MM/yyyy"/>
                                    </h:outputText>

                                    <h:outputText value="Final de Vigência:"/>
                                    <h:outputText value="#{pensionista.finalVigencia}" styleClass="negrito">
                                        <f:convertDateTime pattern="dd/MM/yyyy"/>
                                    </h:outputText>
                                    <h:outputText value="IR sobre Múltiplos Vínculos:"/>
                                    <h:panelGroup>
                                        <h:selectBooleanCheckbox
                                            disabled="true"
                                            title="Se marcado esta opção, o sistema irá acumular o valor do imposto de renda de outros vínculos para o vínculo atual(este)."
                                            value="#{pensionista.descontarIrMultiploVinculo}"
                                            id="descontar-ir-multiplos-vinculos">
                                        </h:selectBooleanCheckbox>
                                        <p:commandButton icon="ui-icon-info"
                                                         id="info-ir"
                                                         styleClass="mrig05"
                                                         process="@none"
                                                         update="@none"
                                                         style="width: 20px; height: 20px; margin-left: 5px!important; "/>

                                        <p:overlayPanel at="right"
                                                        for="info-ir"
                                                        showEvent="mouseover"
                                                        dynamic="false"
                                                        style="width: 250px;">
                                            <h:outputText
                                                value="Se marcado esta opção, o sistema irá acumular o valor do imposto de renda de outros vínculos para o vínculo atual(este). Deve ser marcado somente um dos vínculos!"
                                                escape="false"/>
                                        </p:overlayPanel>
                                    </h:panelGroup>

                                    <h:outputText value="Não Acumular Multiplo Vínculo:"/>
                                    <h:panelGroup>
                                        <h:selectBooleanCheckbox
                                            disabled="true"
                                            title="Se marcado esta opção, o sistema não irá acumular o valor do IRRF de outros vínculos"
                                            value="#{pensionista.descontarIRRFMultiploVinculo}"
                                            id="descontar-irrf-multiplos-vinculos">
                                        </h:selectBooleanCheckbox>

                                        <p:commandButton icon="ui-icon-info"
                                                         id="info-irrf"
                                                         styleClass="mrig05"
                                                         process="@none"
                                                         update="@none"
                                                         style="width: 20px; height: 20px; margin-left: 5px!important; "/>

                                        <p:overlayPanel at="right"
                                                        for="info-irrf"
                                                        showEvent="mouseover"
                                                        dynamic="false"
                                                        style="width: 250px;">
                                            <h:outputText
                                                value="Se marcado esta opção, o sistema não irá acumular o valor do IRRF de outros vínculos."
                                                escape="false"/>
                                        </p:overlayPanel>
                                    </h:panelGroup>


                                </h:panelGrid>

                                <p:tabView activeIndex="#{pensionista.activeIndex}" id="tab">
                                    <p:tab title="Valores do Pensionista">
                                        <h:panelGroup id="painel-grupo-valor-pensionista">
                                            <p:dataTable id="itensValor"
                                                         paginator="true"
                                                         editable="true"
                                                         rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                                         rowIndexVar="rowIx"
                                                         styleClass="mtop05"
                                                         emptyMessage="Não foram localizados registros para serem apresentados"
                                                         value="#{pensionista.itensValorPensionista}"
                                                         rows="10"
                                                         paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>VALORES&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                         currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                                         rowsPerPageTemplate="10,25,50,100"
                                                         var="itemValor">

                                                <p:column headerText="Verba Pagamento">
                                                    <p:cellEditor>
                                                        <f:facet name="output">
                                                            <h:outputText value="#{itemValor.eventoFP}"/>
                                                        </f:facet>
                                                        <f:facet name="input">
                                                            <h:selectOneMenu value="#{itemValor.eventoFP}"
                                                                             converter="#{eventoFPControlador.converterGenerico}">
                                                                <f:selectItems value="#{eventoFPControlador.eventos}"/>
                                                            </h:selectOneMenu>
                                                        </f:facet>
                                                    </p:cellEditor>
                                                </p:column>
                                                <p:column style="text-align: center" headerText="Verba Principal">
                                                    <h:selectBooleanCheckbox disabled="true"
                                                                             title="Verba Principal. Atenção, o sistema irá somar todos os valores que estão marcados como verba principal a verba que tem a chamada do valor do pensionista."
                                                                             value="#{itemValor.verbaPrincipal}"
                                                                             id="verbaPrincipal"/>
                                                </p:column>
                                                <p:column headerText="Início de Vigência">
                                                    <h:outputText value="#{itemValor.inicioVigencia}">
                                                        <f:convertDateTime pattern="dd/MM/yyyy"/>
                                                    </h:outputText>
                                                </p:column>
                                                <p:column headerText="Final de Vigência">
                                                    <p:cellEditor>
                                                        <f:facet name="output">
                                                            <h:outputText value="#{itemValor.finalVigencia}">
                                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                                            </h:outputText>
                                                        </f:facet>
                                                        <f:facet name="input">
                                                            <p:calendar onkeypress="mascara(this, Data)" maxlength="10"
                                                                        id="finalVigenciaPrevEdit"
                                                                        pattern="dd/MM/yyyy"
                                                                        value="#{itemValor.finalVigencia}"/>
                                                        </f:facet>
                                                    </p:cellEditor>
                                                </p:column>
                                                <p:column headerText="Valor (R$)">
                                                    <h:outputText value="#{itemValor.valor}" style="float: right">
                                                        <f:convertNumber pattern="#,###,###,##0.00"/>
                                                    </h:outputText>
                                                </p:column>
                                            </p:dataTable>
                                        </h:panelGroup>
                                    </p:tab>

                                    <p:tab title="Lotação Administrativa">
                                        <h:panelGroup id="painel-grupo-lotacao-administrativa">
                                            <p:dataTable id="tabelaLotacaoFuncional"
                                                         paginator="true"
                                                         rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                                         rowIndexVar="rowIx"
                                                         styleClass="mtop05"
                                                         emptyMessage="Não foram localizados registros para serem apresentados"
                                                         value="#{pensionista.lotacaoFuncionals}"
                                                         rows="10"
                                                         paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>LOTAÇÕES ADMINISTRATIVA&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                         currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                                         rowsPerPageTemplate="10,25,50,100"
                                                         var="l">
                                                <p:column headerText="Unidade Organizacional">
                                                    <h:outputText
                                                        value="#{pensaoControlador.hierarquiaPai(l.unidadeOrganizacional).codigo} - #{l.unidadeOrganizacional}"/>
                                                </p:column>
                                                <p:column style="width:12%; text-align: center"
                                                          headerText="Início da Vigência">
                                                    <h:outputText value="#{l.inicioVigencia}">
                                                        <f:convertDateTime pattern="dd/MM/yyyy"/>
                                                    </h:outputText>
                                                </p:column>
                                                <p:column headerText="Final Vigência"
                                                          style="width:12%; text-align: center">
                                                    <h:outputText value="#{l.finalVigencia}">
                                                        <f:convertDateTime pattern="dd/MM/yyyy"/>
                                                    </h:outputText>
                                                </p:column>
                                            </p:dataTable>
                                        </h:panelGroup>
                                    </p:tab>

                                    <p:tab title="Lotação Orçamentária">
                                        <h:panelGroup id="painel-grupo-lotacao-orcamentaria">
                                            <p:dataTable id="tabelaRecursoDoVinculo"
                                                         paginator="true"
                                                         rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                                         rowIndexVar="rowIx"
                                                         styleClass="mtop05"
                                                         emptyMessage="Não foram localizados registros para serem apresentados"
                                                         value="#{pensionista.recursosDoVinculoFP}"
                                                         rows="10"
                                                         paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>LOTAÇÕES ORÇAMENTÁRIAS&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                         currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                                         rowsPerPageTemplate="10,25,50,100"
                                                         var="l">

                                                <p:column headerText="Recurso Folha de Pagamento">
                                                    <h:outputText value="#{l.recursoFP}"/>
                                                </p:column>
                                                <p:column style="width:12%; text-align: center"
                                                          headerText="Início da Vigência">
                                                    <h:outputText value="#{l.inicioVigencia}">
                                                        <f:convertDateTime pattern="dd/MM/yyyy"/>
                                                    </h:outputText>
                                                </p:column>
                                                <p:column headerText="Final Vigência"
                                                          style="width:12%; text-align: center">
                                                    <h:outputText value="#{l.finalVigencia}">
                                                        <f:convertDateTime pattern="dd/MM/yyyy"/>
                                                    </h:outputText>
                                                </p:column>
                                            </p:dataTable>

                                        </h:panelGroup>
                                    </p:tab>

                                    <p:tab id="tab-invalidez-pensionista" title="Invalidez Do Pensionista">
                                        <h:panelGroup id="painel-grupo-invalidez">
                                            <p:dataTable id="tabelaInvalidezPensao"
                                                         paginator="true"
                                                         editable="true"
                                                         rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'linha-selecionada trintaAltura' : 'trintaAltura'}"
                                                         rowIndexVar="rowIx"
                                                         styleClass="mtop05"
                                                         emptyMessage="Não foram localizados registros para serem apresentados"
                                                         value="#{pensionista.listaInvalidez}"
                                                         rows="10"
                                                         paginatorTemplate="{CurrentPageReport}  &lt;span class='titulo-tabela mrig10'>LISTA DE INVALIDEZ&lt;/span> {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                         currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})"
                                                         rowsPerPageTemplate="10,25,50,100"
                                                         var="obj">

                                                <p:column headerText="Início da Vigência" style="width: 12%">
                                                    <h:outputText value="#{obj.inicioVigencia}">
                                                        <f:convertDateTime pattern="dd/MM/yyyy"/>
                                                    </h:outputText>
                                                </p:column>
                                                <p:column headerText="Final da Vigência" style="width: 12%">
                                                    <h:outputText value="#{obj.finalVigencia}">
                                                        <f:convertDateTime pattern="dd/MM/yyyy"/>
                                                    </h:outputText>
                                                </p:column>

                                                <p:column headerText="CIDs">
                                                    <ui:repeat value="#{obj.cids}"
                                                               var="cid">
                                                        <h:outputText value="#{cid}"/>
                                                        <br/>
                                                    </ui:repeat>
                                                </p:column>
                                                <p:column headerText="Médico">
                                                    <h:outputText value="#{obj.invalidezMedicos}"/>
                                                </p:column>
                                                <p:column headerText="Isento IRRF" style="width: 8%">
                                                    <h:outputText value="#{obj.isentoIRRF ? 'Sim' : 'Não'}"/>
                                                </p:column>
                                                <p:column headerText="Isento Previdência" style="width: 10%">
                                                    <h:outputText value="#{obj.isentoPrevidencia ? 'Sim' : 'Não'}"/>
                                                </p:column>

                                            </p:dataTable>
                                        </h:panelGroup>
                                    </p:tab>
                                    <p:tab id="tab-tipo-relacao-instituidor"
                                           title="Tipo de Relação com Instituidor Estudo Atuarial">
                                        <h:outputText value="Tipo de Relação com Instituidor Estudo Atuarial: "/>
                                        <h:outputText value="#{pensionista.tipoDependEstudoAtuarial.toString()}"
                                                      styleClass="negrito"/>
                                    </p:tab>
                                </p:tabView>

                            </p:panel>
                        </h:panelGroup>
                    </ui:repeat>
                </p:tab>
            </p:tabView>
            <fc:rodapeVisualizarPretty controlador="#{pensaoControlador}"/>

        </h:form>
    </ui:define>
</ui:composition>
</html>
