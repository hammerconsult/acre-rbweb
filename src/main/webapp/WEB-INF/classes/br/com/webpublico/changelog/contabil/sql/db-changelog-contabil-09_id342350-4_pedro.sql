declare
texto clob := '{"consulta":"select cd.ID                                      as id,\r\n       cd.NUMCONVENIO                             as num_convenio,\r\n       cd.NUMERO                                  as numero,\r\n       to_char(cd.DATAASS, ''dd/MM/yyyy'')                                 as data_assinatura,\r\n       cd.OBJETO                                  as objeto,\r\n       vwc.DESCRICAO                              as convenente,\r\n       cd.VALORCONVENIO                           as valor,\r\n       cd.VALORCONTRAPARTIDA                      as valor_contrapartida,\r\n       cd.VALORREPASSE                            as valor_repasse,\r\n       cd.DATAVIGENCIAINICIAL                     as vigencia_inicial,\r\n       cd.DATAVIGENCIAFINAL                       as vigencia_final,\r\n       pj.RAZAOSOCIAL                             as unidade_executora,\r\n       (select pj.RAZAOSOCIAL\r\n        from ENTIDADEBENEFICIARIA eb\r\n                 left join pessoafisica pf on eb.PESSOAFISICA_ID = pf.ID\r\n                 left join PESSOAJURIDICA pj on eb.PESSOAJURIDICA_ID = pj.ID\r\n        WHERE eb.ID = cd.ENTIDADEBENEFICIARIA_ID) as concedente\r\n\r\n\r\nfrom CONVENIODESPESA cd\r\n         left join entidade ec on cd.ORGAOCONVENENTE_ID = ec.ID\r\n         left join PESSOAJURIDICA pj on ec.PESSOAJURIDICA_ID = pj.ID\r\n         left join VWHIERARQUIAORCAMENTARIA vwc on vwc.SUBORDINADA_ID = ec.UNIDADEORGANIZACIONALORC_ID and\r\n                                                   trunc(cd.DATAVIGENCIAINICIAL) BETWEEN vwc.iniciovigencia and coalesce(vwc.fimvigencia, trunc(cd.DATAVIGENCIAINICIAL))\r\n                                                   $WHERE","count":"select COUNT(1)\r\nfrom CONVENIODESPESA cd\r\n         left join entidade ec on cd.ORGAOCONVENENTE_ID = ec.ID\r\n         left join PESSOAJURIDICA pj on ec.PESSOAJURIDICA_ID = pj.ID\r\n         left join VWHIERARQUIAORCAMENTARIA vwc on vwc.SUBORDINADA_ID = ec.UNIDADEORGANIZACIONALORC_ID and\r\n                                                   trunc(cd.DATAVIGENCIAINICIAL) BETWEEN vwc.iniciovigencia and coalesce(vwc.fimvigencia, trunc(cd.DATAVIGENCIAINICIAL))\r\n                                                   $WHERE","totalRegistros":224,"fields":[{"posicao":1,"descricao":"ID","columnName":"ID","columnValue":"ID","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":true},{"posicao":2,"descricao":"Número do Convênio","columnName":"NUM_CONVENIO","columnValue":"NUM_CONVENIO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"Número","columnName":"NUMERO","columnValue":"NUMERO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":4,"descricao":"Data da Assinatura","columnName":"DATA_ASSINATURA","columnValue":"DATA_ASSINATURA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":5,"descricao":"Objeto","columnName":"OBJETO","columnValue":"OBJETO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":6,"descricao":"Convenente","columnName":"CONVENENTE","columnValue":"CONVENENTE","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":7,"descricao":"Valor","columnName":"VALOR","columnValue":"VALOR","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":8,"descricao":"Valor de Contrapartida","columnName":"VALOR_CONTRAPARTIDA","columnValue":"VALOR_CONTRAPARTIDA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":9,"descricao":"Valor de Repasse","columnName":"VALOR_REPASSE","columnValue":"VALOR_REPASSE","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":10,"descricao":"Vigência Inicial","columnName":"VIGENCIA_INICIAL","columnValue":"VIGENCIA_INICIAL","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":11,"descricao":"Vigência Final","columnName":"VIGENCIA_FINAL","columnValue":"VIGENCIA_FINAL","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":12,"descricao":"Unidade Executora","columnName":"UNIDADE_EXECUTORA","columnValue":"UNIDADE_EXECUTORA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":13,"descricao":"Unidade Concedente","columnName":"CONCEDENTE","columnValue":"CONCEDENTE","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false}],"pesquisaveis":[],"tabs":[{"titulo":"Situações","consulta":"       select trunc(pc.DATALANCAMENTO) as data, pc.TIPOPRESTACAOCONTAS as tipo\r\n        from PRESTACAOCONTAS pc\r\ninner join conveniodespesa cd on cd.id = pc.conveniodespesa_id\r\n        $WHERE\r\n        order by pc.DATALANCAMENTO","count":"       select count(1)\r\n        from PRESTACAOCONTAS pc\r\ninner join conveniodespesa cd on cd.id = pc.conveniodespesa_id\r\n        $WHERE\r\n        order by pc.DATALANCAMENTO","totalRegistros":null,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Data","columnName":"DATA","columnValue":"DATA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":2,"descricao":"Tipo","columnName":"TIPO","columnValue":"TIPO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false}]},{"titulo":"Aditivos","consulta":"select a.NUMERO             as numero,\r\n       a.DESCRICAO          as descricao,\r\n       a.DATAINIVIGENCIA    as inicio_vigencia,\r\n       a.DATAFIMVIGENCIA    as fim_vigencia,\r\n       a.VALORADITIVO       as valor_aditivo,\r\n       a.VALORCONTRAPARTIDA as valor_contrapartida\r\nfrom aditivosconveniodespesa acd\r\n         inner join aditivos a on acd.ADITIVOS_ID = a.ID\r\n         inner join conveniodespesa cd on acd.CONVENIODESPESA_ID = cd.ID\r\n$WHERE\r\norder by acd.ID desc","count":"select COUNT(*)\r\nfrom aditivosconveniodespesa acd\r\n         inner join aditivos a on acd.ADITIVOS_ID = a.ID\r\n         inner join conveniodespesa cd on acd.CONVENIODESPESA_ID = cd.ID\r\n$WHERE\r\norder by acd.ID desc","totalRegistros":null,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Número","columnName":"NUMERO","columnValue":"NUMERO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":2,"descricao":"Descrição","columnName":"DESCRICAO","columnValue":"DESCRICAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"Início de Vigência","columnName":"INICIO_VIGENCIA","columnValue":"INICIO_VIGENCIA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":4,"descricao":"Fim de Vigência","columnName":"FIM_VIGENCIA","columnValue":"FIM_VIGENCIA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":5,"descricao":"Valor do Aditivo","columnName":"VALOR_ADITIVO","columnValue":"VALOR_ADITIVO","tipoAlinhamento":"DIREITA","totalizar":false,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":6,"descricao":"Valor da Contrapartida","columnName":"VALOR_CONTRAPARTIDA","columnValue":"VALOR_CONTRAPARTIDA","tipoAlinhamento":"DIREITA","totalizar":false,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false}]},{"titulo":"Recursos Liberados","consulta":"select cdl.DATALIBERACAORECURSO as data, cdl.VALORLIBERADOCONCEDENTE as valor_liberado, cdl.VALORLIBERADOCONTRAPARTIDA as valor_liberado_contrapartida\r\nfrom CONVENIODESPESALIBERACAO cdl\r\n         inner join conveniodespesa cd on cdl.CONVENIODESPESA_ID = cd.ID\r\n$WHERE\r\norder by cdl.ID desc","count":"select count(1)\r\nfrom CONVENIODESPESALIBERACAO cdl\r\n         inner join conveniodespesa cd on cdl.CONVENIODESPESA_ID = cd.ID\r\n$WHERE\r\norder by cdl.ID desc","totalRegistros":null,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Data","columnName":"DATA","columnValue":"DATA","tipoAlinhamento":null,"totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":2,"descricao":"Valor Liberado","columnName":"VALOR_LIBERADO","columnValue":"VALOR_LIBERADO","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"Valor Liberado Contrapartida","columnName":"VALOR_LIBERADO_CONTRAPARTIDA","columnValue":"VALOR_LIBERADO_CONTRAPARTIDA","tipoAlinhamento":"DIREITA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false}]}]}';
begin
update paginaprefeituraportal set conteudo = texto where nome = 'Detalhes do Convênio';
end;
