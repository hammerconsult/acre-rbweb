DECLARE
texto CLOB := '{"consulta":"select dp.numero,\r\n       dp.nomedivida,\r\n       cdp.codigo || '' - '' || cdp.descricao as naturezaDaDivida,\r\n       dp.numeroprotocolo as numeroPrecatorio,\r\n       dp.numerodoccontproc as numeroProcesso,\r\n       ex.ano as exercicio,\r\n       dp.datahomologacao,\r\n       coalesce(pf.nome, pj.razaoSocial) as pessoa,\r\n       classe.codigo || '' - '' || classe.descricao as classe,\r\n       dp.DESCRICAODIVIDA as descricao,\r\n       dp.valorNominal as valorOriginalDoContrato,\r\n       dp.saldo\r\nfrom dividapublica dp\r\n    inner join exercicio ex on ex.id = dp.exercicio_id\r\n         inner join categoriadividapublica cdp on cdp.id = dp.categoriaDividaPublica_id\r\n         inner join pessoa p on dp.pessoa_id = p.id\r\n         left join pessoafisica pf on p.id = pf.id\r\n         left join pessoajuridica pj on p.id = pj.id\r\n         inner join classeCredor classe on dp.classeCredor_id = classe.id\r\nwhere cdp.naturezaDividaPublica = ''PRECATORIO''\r\n$WHERE\r\norder by dp.id desc","count":"select count(dp.id)\r\nfrom dividapublica dp\r\n    inner join exercicio ex on ex.id = dp.exercicio_id\r\n         inner join categoriadividapublica cdp on cdp.id = dp.categoriaDividaPublica_id\r\n         inner join pessoa p on dp.pessoa_id = p.id\r\n         left join pessoafisica pf on p.id = pf.id\r\n         left join pessoajuridica pj on p.id = pj.id\r\n         inner join classeCredor classe on dp.classeCredor_id = classe.id\r\nwhere cdp.naturezaDividaPublica = ''PRECATORIO''\r\n$WHERE","totalRegistros":148,"fields":[{"posicao":1,"descricao":"Número","columnName":"NUMERO","columnValue":"NUMERO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":2,"descricao":"Nome da Dívida","columnName":"NOMEDIVIDA","columnValue":"NOMEDIVIDA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":3,"descricao":"Natureza da Dívida","columnName":"NATUREZADADIVIDA","columnValue":"NATUREZADADIVIDA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":4,"descricao":"Número do Precatório","columnName":"NUMEROPRECATORIO","columnValue":"NUMEROPRECATORIO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":5,"descricao":"Número do Processo","columnName":"NUMEROPROCESSO","columnValue":"NUMEROPROCESSO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":6,"descricao":"Exercício","columnName":"EXERCICIO","columnValue":"EXERCICIO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":7,"descricao":"Data de Homologação","columnName":"DATAHOMOLOGACAO","columnValue":"DATAHOMOLOGACAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":8,"descricao":"Pessoa","columnName":"PESSOA","columnValue":"PESSOA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":9,"descricao":"Classe","columnName":"CLASSE","columnValue":"CLASSE","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":10,"descricao":"Descrição","columnName":"DESCRICAO","columnValue":"DESCRICAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":11,"descricao":"Valor Original do Contrato","columnName":"VALORORIGINALDOCONTRATO","columnValue":"VALORORIGINALDOCONTRATO","tipoAlinhamento":"ESQUERDA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":12,"descricao":"Saldo do Movimento","columnName":"SALDO","columnValue":"SALDO","tipoAlinhamento":"ESQUERDA","totalizar":true,"link":null,"tipo":"MONETARIO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false}],"pesquisaveis":[],"tabs":[{"titulo":"Unidades","subTitulo":"","consulta":"select ex.ano as exercicio,\r\n       vw.codigo || '' - '' || vw.descricao as unidade\r\nfrom dividapublica dp\r\n         inner join unidadedividapublica dpUnidade on dpUnidade.dividapublica_id = dp.id\r\n         inner join exercicio ex on ex.id = dpUnidade.exercicio_id\r\n         inner join vwhierarquiaorcamentaria vw on vw.subordinada_id = dpUnidade.unidadeorganizacional_id\r\nwhere trunc(dp.datahomologacao) between vw.iniciovigencia and coalesce(vw.fimvigencia, trunc(dp.datahomologacao))\r\n$WHERE\r\norder by ex.ano desc","count":"select count(dp.id)\r\nfrom dividapublica dp\r\n         inner join unidadedividapublica dpUnidade on dpUnidade.dividapublica_id = dp.id\r\n         inner join exercicio ex on ex.id = dpUnidade.exercicio_id\r\n         inner join vwhierarquiaorcamentaria vw on vw.subordinada_id = dpUnidade.unidadeorganizacional_id\r\nwhere trunc(dp.datahomologacao) between vw.iniciovigencia and coalesce(vw.fimvigencia, trunc(dp.datahomologacao))\r\n$WHERE","totalRegistros":null,"ordem":1,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Exercício","columnName":"EXERCICIO","columnValue":"EXERCICIO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"INTEGER","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":2,"descricao":"Unidade","columnName":"UNIDADE","columnValue":"UNIDADE","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false}]},{"titulo":"Contas Financeiras","subTitulo":"","consulta":"select ex.ano                             as exercicio,\r\n       sc.codigo || '' - '' || sc.descricao as subconta,\r\n       sc.TIPORECURSOSUBCONTA             as tipoDeRecurso,\r\n       c.codigo || '' - '' || c.DESCRICAO   as contaDeDestinacao,\r\n       scdp.TIPOVALIDACAO                 as tipoValidacao\r\nfrom dividapublica dp\r\n         inner join subcontadividapublica scdp on scdp.dividapublica_id = dp.id\r\n         inner join exercicio ex on ex.id = scdp.exercicio_id\r\n         inner join subconta sc on sc.id = scdp.subconta_id\r\n         inner join conta c on c.id = scdp.contadedestinacao_id\r\n         inner join categoriadividapublica cdp on cdp.id = dp.categoriaDividaPublica_id\r\nwhere cdp.naturezaDividaPublica = ''PRECATORIO''\r\n$WHERE\r\norder by ex.ano desc","count":"select count(dp.id)\r\nfrom dividapublica dp\r\n         inner join subcontadividapublica scdp on scdp.dividapublica_id = dp.id\r\n         inner join exercicio ex on ex.id = scdp.exercicio_id\r\n         inner join subconta sc on sc.id = scdp.subconta_id\r\n         inner join conta c on c.id = scdp.contadedestinacao_id\r\n         inner join categoriadividapublica cdp on cdp.id = dp.categoriaDividaPublica_id\r\nwhere cdp.naturezaDividaPublica = ''PRECATORIO''\r\n$WHERE","totalRegistros":null,"ordem":2,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Exercício","columnName":"EXERCICIO","columnValue":"EXERCICIO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"INTEGER","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":2,"descricao":"Conta Financeira","columnName":"SUBCONTA","columnValue":"SUBCONTA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":3,"descricao":"Tipo de Recurso","columnName":"TIPODERECURSO","columnValue":"TIPODERECURSO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"TipoRecursoSubConta","valorPadrao":[],"escondido":false,"agrupador":false},{"posicao":4,"descricao":"Conta de Destinação de Recursos","columnName":"CONTADEDESTINACAO","columnValue":"CONTADEDESTINACAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":5,"descricao":"Tipo de Validação","columnName":"TIPOVALIDACAO","columnValue":"TIPOVALIDACAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"ENUM","tipoEnum":"TipoValidacao","valorPadrao":[],"escondido":false,"agrupador":false}]},{"titulo":"Anexos","subTitulo":"","consulta":"select coalesce(arq.descricao, arq.nome) as nomeArquivo,\r\n       arq.id as idArquivo\r\nfrom dividapublica dp\r\n         inner join arquivodividapublica adp on adp.dividapublica_id = dp.id\r\n         inner join arquivo arq on arq.id = adp.arquivo_id\r\n         inner join categoriadividapublica cdp on cdp.id = dp.categoriaDividaPublica_id\r\nwhere cdp.naturezaDividaPublica = ''PRECATORIO''\r\n$WHERE\r\norder by adp.id desc","count":"select count(dp.id)\r\nfrom dividapublica dp\r\n         inner join arquivodividapublica adp on adp.dividapublica_id = dp.id\r\n         inner join arquivo arq on arq.id = adp.arquivo_id\r\n         inner join categoriadividapublica cdp on cdp.id = dp.categoriaDividaPublica_id\r\nwhere cdp.naturezaDividaPublica = ''PRECATORIO''\r\n$WHERE","totalRegistros":null,"ordem":3,"pesquisaveis":[],"fields":[{"posicao":1,"descricao":"Nome","columnName":"NOMEARQUIVO","columnValue":"NOMEARQUIVO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false},{"posicao":2,"descricao":"Anexo","columnName":"IDARQUIVO","columnValue":"IDARQUIVO","tipoAlinhamento":"DIREITA","totalizar":false,"link":null,"tipo":"ARQUIVO","tipoEnum":null,"valorPadrao":null,"escondido":false,"agrupador":false}]}],"paineis":[]}';
BEGIN
update paginaprefeituraportal set conteudo = texto where nome = 'Detalhes do Precatório' and chave = 'precatorio-ver';
END;
