DECLARE
texto CLOB := '{"consulta":"select count(lic.id) from licitacao lic where lic.id is null $WHERE","count":"select count(lic.id) from licitacao lic where lic.id is null $WHERE","totalRegistros":11,"fields":[],"pesquisaveis":[],"tabs":[{"titulo":"Próximas Licitações","consulta":"select distinct orgao.descricao as secretaria, l.modalidadelicitacao as modalidade, ata.numero || ''/'' || ex.ano as numero,\r\n        ata.datainicio as dataabertura, l.resumodoobjeto as objetivo, l.id as id\r\nfrom ataregistropreco ata\r\n    inner join licitacao l on ata.licitacao_id = l.id\r\n         inner join ProcessoDeCompra pc on  l.processodecompra_id = pc.id\r\n         inner join exercicio ex on ex.id = pc.exercicio_id\r\n    inner join vwhierarquiaadministrativa orgao on pc.unidadeorganizacional_id = orgao.subordinada_id\r\n         inner join unidadeorganizacional uni on pc.unidadeorganizacional_id = uni.id\r\n         inner join entidade ent on uni.entidade_id = ent.id\r\nwhere sysdate between (orgao.iniciovigencia) and coalesce(orgao.fimvigencia, sysdate)\r\nand (ata.datainicio > sysdate or ata.datainicio is  null)\r\nand ex.ano = $ANO $WHERE\r\n\r\nunion all\r\n\r\nselect distinct  ho.descricao as secretaria, ata.modalidadecarona as modalidade, ata.numeroatacarona || ''/'' || ex.ano as numero,\r\n                 ata.dataautorizacaocarona as dataabertura, ata.objeto as objetivo, ata.id as id\r\nfrom  REGISTROSOLMATEXT ata\r\n         inner join exercicio ex on ata.exercicioregistro_id = ex.id\r\n         inner join vwhierarquiaadministrativa ho on ata.unidadeorganizacional_id = ho.subordinada_id\r\nwhere  sysdate between (ho.iniciovigencia) and coalesce(ho.fimvigencia, sysdate)\r\n    and (ata.dataautorizacaocarona > sysdate or ata.dataautorizacaocarona is  null)\r\n  and ex.ano = $ANO $WHERE","count":"select count(1) from (\r\nselect distinct orgao.descricao as secretaria, l.modalidadelicitacao as modalidade, ata.numero || ''/'' || ex.ano as numero,\r\n        ata.datainicio as dataabertura, l.resumodoobjeto as objetivo, l.id as id\r\nfrom ataregistropreco ata\r\n    inner join licitacao l on ata.licitacao_id = l.id\r\n         inner join ProcessoDeCompra pc on  l.processodecompra_id = pc.id\r\n         inner join exercicio ex on ex.id = pc.exercicio_id\r\n    inner join vwhierarquiaadministrativa orgao on pc.unidadeorganizacional_id = orgao.subordinada_id\r\n         inner join unidadeorganizacional uni on pc.unidadeorganizacional_id = uni.id\r\n         inner join entidade ent on uni.entidade_id = ent.id\r\nwhere sysdate between (orgao.iniciovigencia) and coalesce(orgao.fimvigencia, sysdate)\r\nand (ata.datainicio > sysdate or ata.datainicio is  null)\r\nand ex.ano = $ANO $WHERE\r\n\r\nunion all\r\n\r\nselect distinct  ho.descricao as secretaria, ata.modalidadecarona as modalidade, ata.numeroatacarona || ''/'' || ex.ano as numero,\r\n                 ata.dataautorizacaocarona as dataabertura, ata.objeto as objetivo, ata.id as id\r\nfrom  REGISTROSOLMATEXT ata\r\n         inner join exercicio ex on ata.exercicioregistro_id = ex.id\r\n         inner join vwhierarquiaadministrativa ho on ata.unidadeorganizacional_id = ho.subordinada_id\r\nwhere  sysdate between (ho.iniciovigencia) and coalesce(ho.fimvigencia, sysdate)\r\n    and (ata.dataautorizacaocarona > sysdate or ata.dataautorizacaocarona is  null)\r\n  and ex.ano = $ANO $WHERE)","totalRegistros":null,"pesquisaveis":[{"descricao":"Modalidade","columnName":"ata.modalidadecarona","columnValue":null,"tipo":"ENUM","operacaoPadrao":"IGUAL","tipoEnum":"br.com.webpublico.enums.ModalidadeLicitacao","valorPadrao":[null,"CONVITE","TOMADA_PRECO","CONCORRENCIA_PUBLICA","CONCURSO","PREGAO","DISPENSA_LICITACAO","INEXIGIBILIDADE","RDC"],"tipoMultiSelect":null},{"descricao":"Objeto","columnName":"ata.objeto","columnValue":null,"tipo":"STRING","operacaoPadrao":"LIKE","tipoEnum":null,"valorPadrao":"","tipoMultiSelect":null}],"fields":[{"posicao":1,"descricao":"secretaria","columnName":"secretaria","columnValue":"secretaria","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":1,"descricao":"objetivo","columnName":"objetivo","columnValue":"objetivo","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":{"chaveDestino":"processo-licitatorio-ver","columnOrigem":"id","columnDestino":"dados.idProcessoLicitatorio"},"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":2,"descricao":"modalidade","columnName":"modalidade","columnValue":"modalidade","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"numero","columnName":"numero","columnValue":"numero","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"dataabertura","columnName":"dataabertura","columnValue":"dataabertura","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":6,"descricao":"id","columnName":"id","columnValue":"id","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":true}]},{"titulo":"Licitações Concluídas","consulta":"select distinct orgao.descricao as secretaria, l.modalidadelicitacao as modalidade, ata.numero || ''/'' || ex.ano as numero,\r\n        ata.datainicio as dataabertura, l.resumodoobjeto as objetivo, l.id as id\r\nfrom ataregistropreco ata\r\n    inner join licitacao l on ata.licitacao_id = l.id\r\n         inner join ProcessoDeCompra pc on  l.processodecompra_id = pc.id\r\n         inner join exercicio ex on ex.id = pc.exercicio_id\r\n    inner join vwhierarquiaadministrativa orgao on pc.unidadeorganizacional_id = orgao.subordinada_id\r\n         inner join unidadeorganizacional uni on pc.unidadeorganizacional_id = uni.id\r\n         inner join entidade ent on uni.entidade_id = ent.id\r\nwhere sysdate between (orgao.iniciovigencia) and coalesce(orgao.fimvigencia, sysdate)\r\nand (ata.datainicio < sysdate and ata.datainicio is not null)\r\nand ex.ano = $ANO $WHERE\r\n\r\nunion all\r\n\r\nselect distinct  ho.descricao as secretaria, ata.modalidadecarona as modalidade, ata.numeroatacarona || ''/'' || ex.ano as numero,\r\n                 ata.dataautorizacaocarona as dataabertura, ata.objeto as objetivo, ata.id as id\r\nfrom  REGISTROSOLMATEXT ata\r\n         inner join exercicio ex on ata.exercicioregistro_id = ex.id\r\n         inner join vwhierarquiaadministrativa ho on ata.unidadeorganizacional_id = ho.subordinada_id\r\nwhere  sysdate between (ho.iniciovigencia) and coalesce(ho.fimvigencia, sysdate)\r\n    and (ata.dataautorizacaocarona < sysdate and ata.dataautorizacaocarona is not  null)\r\n  and ex.ano = $ANO $WHERE","count":"select count(1) from (select distinct orgao.descricao as secretaria, l.modalidadelicitacao as modalidade, ata.numero || ''/'' || ex.ano as numero,\r\n        ata.datainicio as dataabertura, l.resumodoobjeto as objetivo, l.id as id\r\nfrom ataregistropreco ata\r\n    inner join licitacao l on ata.licitacao_id = l.id\r\n         inner join ProcessoDeCompra pc on  l.processodecompra_id = pc.id\r\n         inner join exercicio ex on ex.id = pc.exercicio_id\r\n    inner join vwhierarquiaadministrativa orgao on pc.unidadeorganizacional_id = orgao.subordinada_id\r\n         inner join unidadeorganizacional uni on pc.unidadeorganizacional_id = uni.id\r\n         inner join entidade ent on uni.entidade_id = ent.id\r\nwhere sysdate between (orgao.iniciovigencia) and coalesce(orgao.fimvigencia, sysdate)\r\nand (ata.datainicio < sysdate and ata.datainicio is not null)\r\nand ex.ano = $ANO $WHERE\r\n\r\nunion all\r\n\r\nselect distinct  ho.descricao as secretaria, ata.modalidadecarona as modalidade, ata.numeroatacarona || ''/'' || ex.ano as numero,\r\n                 ata.dataautorizacaocarona as dataabertura, ata.objeto as objetivo, ata.id as id\r\nfrom  REGISTROSOLMATEXT ata\r\n         inner join exercicio ex on ata.exercicioregistro_id = ex.id\r\n         inner join vwhierarquiaadministrativa ho on ata.unidadeorganizacional_id = ho.subordinada_id\r\nwhere  sysdate between (ho.iniciovigencia) and coalesce(ho.fimvigencia, sysdate)\r\n    and (ata.dataautorizacaocarona < sysdate and ata.dataautorizacaocarona is not  null)\r\n  and ex.ano = $ANO $WHERE )","totalRegistros":null,"pesquisaveis":[{"descricao":"Modalidade","columnName":"ata.modalidadecarona","columnValue":null,"tipo":"ENUM","operacaoPadrao":"IGUAL","tipoEnum":"br.com.webpublico.enums.ModalidadeLicitacao","valorPadrao":[null,"CONVITE","TOMADA_PRECO","CONCORRENCIA_PUBLICA","CONCURSO","PREGAO","DISPENSA_LICITACAO","INEXIGIBILIDADE","RDC"],"tipoMultiSelect":null},{"descricao":"Objetivo","columnName":"ata.objeto","columnValue":null,"tipo":"STRING","operacaoPadrao":"LIKE","tipoEnum":null,"valorPadrao":"","tipoMultiSelect":null}],"fields":[{"posicao":0,"descricao":"secretaria","columnName":"secretaria","columnValue":"secretaria","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":1,"descricao":"objetivo","columnName":"objetivo","columnValue":"objetivo","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":{"chaveDestino":"processo-licitatorio-ver","columnOrigem":"id","columnDestino":"dados.idProcessoLicitatorio"},"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":1,"descricao":"Modalidade","columnName":"modalidade","columnValue":"modalidade","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"numero","columnName":"numero","columnValue":"numero","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":4,"descricao":"dataabertura","columnName":"dataabertura","columnValue":"dataabertura","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"DATE","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":6,"descricao":"id","columnName":"id","columnValue":"id","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":true}]}]}';
BEGIN
update PAGINAPREFEITURAPORTAL set CONTEUDO = texto where NOME = 'Licitação Adesão Carona' and chave = 'licitacao-adesao-carona';
END;
