DECLARE
 texto CLOB := '{"consulta":"select distinct unidade.descricao                                     as unidade,\r\n                tipo.codigo || acao.codigo || '' - '' || acao.descricao as acao,\r\n                conta.codigo || '' - '' || conta.descricao              as naturezadedespesa,\r\n                fonte.codigo || '' - '' || fonte.descricao as fonteDeRecurso,\r\n                prov.id as id,\r\n                acao.id as ACAOID\r\nfrom subacaoppa sub\r\n         inner join provisaoppadespesa prov on sub.id = prov.subacaoppa_id\r\n         inner join acaoppa acao on sub.acaoppa_id = acao.id\r\n         inner join tipoacaoppa tipo on acao.tipoacaoppa_id = tipo.id\r\n         inner join conta on prov.contadedespesa_id = conta.id\r\n         inner join provisaoppafonte provisaoFonte on prov.id = provisaofonte.provisaoppadespesa_id\r\n         inner join contadedestinacao cd on cd.id = provisaofonte.destinacaoderecursos_id\r\n         inner join fontederecursos fonte on cd.fontederecursos_id = fonte.id\r\n         inner join exercicio e on sub.exercicio_id = e.id\r\n         inner join unidadeorganizacional unidade on prov.unidadeorganizacional_id = unidade.id\r\n         inner join hierarquiaorganizacional ho on unidade.id = ho.subordinada_id\r\nwhere e.ano = $ANO\r\n  and sysdate between ho.iniciovigencia and coalesce(ho.fimvigencia, sysdate)\r\n  and ho.tipohierarquiaorganizacional = ''ORCAMENTARIA'' \r\n  $WHERE","count":"select distinct count(1)\r\nfrom subacaoppa sub\r\n         inner join provisaoppadespesa prov on sub.id = prov.subacaoppa_id\r\n         inner join acaoppa acao on sub.acaoppa_id = acao.id\r\n         inner join tipoacaoppa tipo on acao.tipoacaoppa_id = tipo.id\r\n         inner join conta on prov.contadedespesa_id = conta.id\r\n         inner join provisaoppafonte provisaoFonte on prov.id = provisaofonte.provisaoppadespesa_id\r\n         inner join contadedestinacao cd on cd.id = provisaofonte.destinacaoderecursos_id\r\n         inner join fontederecursos fonte on cd.fontederecursos_id = fonte.id\r\n         inner join exercicio e on sub.exercicio_id = e.id\r\n         inner join unidadeorganizacional unidade on prov.unidadeorganizacional_id = unidade.id\r\n         inner join hierarquiaorganizacional ho on unidade.id = ho.subordinada_id\r\nwhere e.ano = $ANO\r\n  and sysdate between ho.iniciovigencia and coalesce(ho.fimvigencia, sysdate)\r\n  and ho.tipohierarquiaorganizacional = ''ORCAMENTARIA''\r\n  $WHERE","totalRegistros":1600,"fields":[{"posicao":1,"descricao":"UNIDADE","columnName":"UNIDADE","columnValue":"UNIDADE","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":2,"descricao":"AÇÃO","columnName":"ACAO","columnValue":"ACAO","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":3,"descricao":"NATUREZA DE DESPESA","columnName":"NATUREZADEDESPESA","columnValue":"NATUREZADEDESPESA","tipoAlinhamento":"ESQUERDA","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":4,"descricao":"FONTE DE RECURSO","columnName":"FONTEDERECURSO","columnValue":"FONTEDERECURSO","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":false},{"posicao":5,"descricao":"ID","columnName":"ID","columnValue":"ID","tipoAlinhamento":"CENTRO","totalizar":false,"link":null,"tipo":"STRING","tipoEnum":null,"valorPadrao":null,"escondido":true}],"pesquisaveis":[{"descricao":"Unidade","columnName":"ho.subordinada_id","columnValue":null,"tipo":"MULTI_SELECT","operacaoPadrao":null,"tipoEnum":null,"valorPadrao":"","tipoMultiSelect":"UNIDADE_ORCAMENTARIA"},{"descricao":"Projeto/Atividade","columnName":"acao.codigo","columnValue":null,"tipo":"MULTI_SELECT","operacaoPadrao":null,"tipoEnum":null,"valorPadrao":"","tipoMultiSelect":"ACAO_PPA"},{"descricao":"Natureza de Despesa","columnName":"conta.codigo","columnValue":null,"tipo":"MULTI_SELECT","operacaoPadrao":null,"tipoEnum":null,"valorPadrao":"","tipoMultiSelect":"NATUREZA_DA_DESPESA"},{"descricao":"Fonte de Recurso","columnName":"fonte.codigo","columnValue":null,"tipo":"MULTI_SELECT","operacaoPadrao":null,"tipoEnum":null,"valorPadrao":"","tipoMultiSelect":"FONTE_DE_RECURSO"}],"tabs":[]}';
BEGIN
update PAGINAPREFEITURAPORTAL set CONTEUDO = texto where NOME = 'Planejamento de Despesa' and CHAVE = 'planejamento-despesa';
END;
